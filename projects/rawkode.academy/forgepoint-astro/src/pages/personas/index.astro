---
import { getCollection } from "astro:content";
import Layout from "../../layouts/BaseLayout.astro";

const personas = await getCollection("personas");
---

<Layout title="Personas">
	<main class="container mx-auto px-4 py-8">
		<h1 class="text-4xl font-bold mb-8">Personas</h1>
		
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
			{personas.map((persona) => (
				<article class="border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow">
					<h2 class="text-2xl font-semibold mb-2">
						<a href={`/personas/${persona.slug}`} class="hover:text-blue-600 transition-colors">
							{persona.data.title}
						</a>
					</h2>
					
					<p class="text-gray-600 mb-4">{persona.data.description}</p>
					
					{persona.data.role && (
						<p class="text-sm text-gray-500 mb-2">
							<span class="font-medium">Role:</span> {persona.data.role}
						</p>
					)}
					
					{persona.data.experience && (
						<p class="text-sm text-gray-500 mb-4">
							<span class="font-medium">Experience:</span> {persona.data.experience}
						</p>
					)}
					
					<div class="mt-4">
						<h3 class="text-sm font-semibold text-gray-700 mb-2">Top Goals:</h3>
						<ul class="text-sm text-gray-600 list-disc list-inside">
							{persona.data.goals.slice(0, 3).map((goal) => (
								<li>{goal}</li>
							))}
						</ul>
					</div>
				</article>
			))}
		</div>
		
		{personas.length === 0 && (
			<p class="text-gray-500 text-center py-8">No personas have been created yet.</p>
		)}
	</main>
</Layout>