WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: a8b446a7-6fbb-43f6-aff5-7f634410ce78
Created: 2025-04-29T16:49:54.853Z
Duration: 5874.2373
Channels: 1

00:00:57.420 --> 00:00:59.020
<v Speaker 0>Hello. Hello. Hello.

00:00:59.340 --> 00:01:01.740
<v Speaker 0>Welcome back to the Rawkode Academy.

00:01:03.165 --> 00:01:04.045
<v Speaker 0>Today,

00:01:04.125 --> 00:01:06.284
<v Speaker 0>we have another workshop

00:01:07.244 --> 00:01:09.565
<v Speaker 0>as part of the complete guide to Teleport

00:01:09.565 --> 00:01:10.365
<v Speaker 0>course.

00:01:11.725 --> 00:01:14.525
<v Speaker 0>Today, we'll be diving deep into a role

00:01:14.525 --> 00:01:15.885
<v Speaker 0>based access control.

00:01:16.650 --> 00:01:18.890
<v Speaker 0>Taking a look at what Teleport provides for

00:01:18.890 --> 00:01:20.890
<v Speaker 0>us to secure our infrastructure,

00:01:21.690 --> 00:01:23.770
<v Speaker 0>using a paradigm that we're hopefully all familiar

00:01:23.770 --> 00:01:26.570
<v Speaker 0>with from other systems such as Kubernetes.

00:01:29.210 --> 00:01:30.090
<v Speaker 0>All right.

00:01:30.890 --> 00:01:31.290
<v Speaker 0>Hello,

00:01:32.534 --> 00:01:33.335
<v Speaker 0>Abdul.

00:01:33.655 --> 00:01:34.375
<v Speaker 0>Welcome.

00:01:37.494 --> 00:01:39.015
<v Speaker 0>Hello, Jeffrey.

00:01:39.015 --> 00:01:40.534
<v Speaker 0>Thank you for joining.

00:01:41.095 --> 00:01:43.494
<v Speaker 0>So I'm gonna dive straight in.

00:01:44.295 --> 00:01:46.134
<v Speaker 0>If you've been following along with this course,

00:01:46.134 --> 00:01:47.255
<v Speaker 0>then you'll know that

00:01:47.570 --> 00:01:50.049
<v Speaker 0>all the README files are on GitHub.

00:01:50.130 --> 00:01:55.890
<v Speaker 0>You can find them at github.com/rockwoodacademy/courses.

00:01:56.930 --> 00:01:58.450
<v Speaker 0>This is part 10,

00:01:59.090 --> 00:02:01.490
<v Speaker 0>the RBAG deep dive, and we've got

00:02:03.185 --> 00:02:03.985
<v Speaker 0>six,

00:02:06.065 --> 00:02:06.705
<v Speaker 0>six

00:02:06.945 --> 00:02:08.065
<v Speaker 0>exercises.

00:02:08.065 --> 00:02:10.625
<v Speaker 0>I can't even remember. Six exercises to work

00:02:10.625 --> 00:02:13.105
<v Speaker 0>through today to kind of introduce us

00:02:13.425 --> 00:02:14.865
<v Speaker 0>and show us all of the cool things

00:02:14.865 --> 00:02:15.905
<v Speaker 0>that Teleport brings

00:02:16.670 --> 00:02:18.430
<v Speaker 0>along with its RPAC model.

00:02:18.910 --> 00:02:21.150
<v Speaker 0>So we're gonna start off nice and simple.

00:02:21.150 --> 00:02:22.990
<v Speaker 0>Now, the setup required, if you want to

00:02:22.990 --> 00:02:24.670
<v Speaker 0>follow along on your own time,

00:02:25.150 --> 00:02:26.430
<v Speaker 0>or even just do this at your own

00:02:26.430 --> 00:02:29.150
<v Speaker 0>time, is that you will need a uninitialized

00:02:29.150 --> 00:02:30.270
<v Speaker 0>Teleport cluster.

00:02:32.325 --> 00:02:32.965
<v Speaker 0>So

00:02:34.645 --> 00:02:36.405
<v Speaker 0>what do I mean by uninitialized?

00:02:36.405 --> 00:02:39.765
<v Speaker 0>Well, just that you have installed Teleport.

00:02:40.245 --> 00:02:42.645
<v Speaker 0>You can have started Teleport, but we haven't

00:02:42.645 --> 00:02:44.645
<v Speaker 0>really created that first user yet. And that's

00:02:44.645 --> 00:02:46.325
<v Speaker 0>where I'm gonna start from today.

00:02:48.060 --> 00:02:49.980
<v Speaker 0>So let's make this a little bit bigger,

00:02:50.380 --> 00:02:50.940
<v Speaker 0>go.

00:02:52.300 --> 00:02:54.300
<v Speaker 0>And our first exercise is really just to

00:02:54.300 --> 00:02:55.260
<v Speaker 0>get familiar

00:02:55.420 --> 00:02:57.740
<v Speaker 0>with the base roles that Teleport

00:02:57.740 --> 00:02:58.540
<v Speaker 0>provides

00:02:58.540 --> 00:02:59.820
<v Speaker 0>out of the box.

00:03:01.100 --> 00:03:02.220
<v Speaker 0>So by default,

00:03:03.105 --> 00:03:04.705
<v Speaker 0>Teleport provides

00:03:04.865 --> 00:03:05.665
<v Speaker 0>editor,

00:03:06.225 --> 00:03:07.105
<v Speaker 0>auditor,

00:03:07.425 --> 00:03:08.865
<v Speaker 0>and access roles.

00:03:10.385 --> 00:03:13.825
<v Speaker 0>The editor role allows editing of cluster configuration

00:03:13.825 --> 00:03:14.465
<v Speaker 0>and settings.

00:03:15.520 --> 00:03:18.480
<v Speaker 0>Auditor will allow you to read cluster events,

00:03:18.480 --> 00:03:20.800
<v Speaker 0>audit logs and playback session records.

00:03:21.280 --> 00:03:23.920
<v Speaker 0>And access gives you access to the resources

00:03:24.160 --> 00:03:26.160
<v Speaker 0>that are secured with Teleport,

00:03:26.480 --> 00:03:27.440
<v Speaker 0>which could be

00:03:28.480 --> 00:03:30.320
<v Speaker 0>nodes with the

00:03:30.735 --> 00:03:33.615
<v Speaker 0>agent on it, applications that are heading behind

00:03:33.615 --> 00:03:34.415
<v Speaker 0>the proxy,

00:03:34.655 --> 00:03:36.095
<v Speaker 0>Kubernetes clusters,

00:03:36.895 --> 00:03:39.855
<v Speaker 0>and as of recently with Teleport eight, Windows

00:03:39.855 --> 00:03:41.135
<v Speaker 0>desktop access.

00:03:41.455 --> 00:03:43.695
<v Speaker 0>So all those things that Teleport secures

00:03:44.410 --> 00:03:47.370
<v Speaker 0>can be available via the access role,

00:03:47.690 --> 00:03:49.610
<v Speaker 0>which makes sense slightly intimidating,

00:03:49.850 --> 00:03:51.530
<v Speaker 0>but we're gonna show you today

00:03:51.770 --> 00:03:54.650
<v Speaker 0>how to get more fine grained permissions with

00:03:54.650 --> 00:03:55.130
<v Speaker 0>this model.

00:03:57.505 --> 00:03:58.225
<v Speaker 0>Okay.

00:03:58.305 --> 00:03:59.505
<v Speaker 0>So Abdul,

00:03:59.905 --> 00:04:01.185
<v Speaker 0>waiting for this. This is the first time

00:04:01.185 --> 00:04:02.065
<v Speaker 0>it was scheduled.

00:04:02.305 --> 00:04:04.625
<v Speaker 0>Yeah. I have had to delete this

00:04:04.945 --> 00:04:06.945
<v Speaker 0>this session a few times

00:04:07.265 --> 00:04:08.065
<v Speaker 0>because

00:04:08.065 --> 00:04:10.785
<v Speaker 0>of sickness and because of bad weather in

00:04:10.785 --> 00:04:12.670
<v Speaker 0>Scotland, which makes getting to my office a

00:04:12.670 --> 00:04:13.790
<v Speaker 0>little bit more difficult.

00:04:14.590 --> 00:04:15.950
<v Speaker 0>It's just been a bit tricky, but I'm

00:04:15.950 --> 00:04:17.070
<v Speaker 0>really glad that we get to do it

00:04:17.070 --> 00:04:17.709
<v Speaker 0>today.

00:04:19.789 --> 00:04:22.270
<v Speaker 0>Mozz is asking, does Teleport apply a rule

00:04:22.270 --> 00:04:23.550
<v Speaker 0>on an active connection?

00:04:24.735 --> 00:04:26.415
<v Speaker 0>I'm gonna have to interpret what I think

00:04:26.415 --> 00:04:27.535
<v Speaker 0>you're asking there.

00:04:28.015 --> 00:04:31.055
<v Speaker 0>So if we if you log in and

00:04:31.055 --> 00:04:32.975
<v Speaker 0>you have a role that is assigned to

00:04:32.975 --> 00:04:33.455
<v Speaker 0>you,

00:04:33.855 --> 00:04:36.015
<v Speaker 0>any changes to that role will apply to

00:04:36.015 --> 00:04:36.815
<v Speaker 0>your active session.

00:04:37.690 --> 00:04:40.170
<v Speaker 0>If your role is if you have a

00:04:40.170 --> 00:04:42.010
<v Speaker 0>role added to your account while you're logged

00:04:42.010 --> 00:04:43.850
<v Speaker 0>in, you'll have to log out and back

00:04:43.850 --> 00:04:45.770
<v Speaker 0>in to have access to that role.

00:04:46.570 --> 00:04:48.410
<v Speaker 0>If you're logged in and a role is

00:04:48.410 --> 00:04:51.050
<v Speaker 0>removed from you, Teleport gets quite angry and

00:04:51.050 --> 00:04:52.730
<v Speaker 0>will actually encourage you to log back out.

00:04:53.165 --> 00:04:55.645
<v Speaker 0>So hopefully that answers your question.

00:04:59.405 --> 00:05:00.205
<v Speaker 0>Excuse me.

00:05:03.325 --> 00:05:04.125
<v Speaker 0>Jeffrey.

00:05:04.205 --> 00:05:06.125
<v Speaker 0>Oh, another Jeffrey. Hello, Jeffrey. Welcome.

00:05:07.080 --> 00:05:09.480
<v Speaker 0>And Mozz, I've just answered that one. Cool.

00:05:09.480 --> 00:05:12.760
<v Speaker 0>So these workshops are 100% interactive.

00:05:12.760 --> 00:05:14.760
<v Speaker 0>Please get your questions and I will do

00:05:14.760 --> 00:05:16.440
<v Speaker 0>my best to answer anything that I can.

00:05:16.520 --> 00:05:19.160
<v Speaker 0>And anything that I can't answer is material

00:05:19.160 --> 00:05:20.680
<v Speaker 0>for me to go and research and make

00:05:20.680 --> 00:05:23.375
<v Speaker 0>more awesome videos sharing this awesome tool.

00:05:24.095 --> 00:05:26.335
<v Speaker 0>Okay, so we've got three base roles available

00:05:26.335 --> 00:05:28.335
<v Speaker 0>to us by default. I have included

00:05:28.735 --> 00:05:30.895
<v Speaker 0>the roles at the bottom and I figured

00:05:30.895 --> 00:05:31.615
<v Speaker 0>we could

00:05:32.335 --> 00:05:34.495
<v Speaker 0>maybe just take a look at what is

00:05:34.495 --> 00:05:37.290
<v Speaker 0>available inside of this specification,

00:05:37.690 --> 00:05:39.610
<v Speaker 0>so we understand how it works.

00:05:40.250 --> 00:05:42.169
<v Speaker 0>So this is the editor role and you

00:05:42.169 --> 00:05:44.250
<v Speaker 0>can see they've pretty much got access to

00:05:44.250 --> 00:05:46.970
<v Speaker 0>all resources and every command available to it.

00:05:46.970 --> 00:05:49.290
<v Speaker 0>So this is their everything role that allows

00:05:49.290 --> 00:05:50.010
<v Speaker 0>you to

00:05:50.605 --> 00:05:52.205
<v Speaker 0>pretty much do whatever you want.

00:05:52.685 --> 00:05:54.685
<v Speaker 0>And you can see that we can modify

00:05:54.685 --> 00:05:57.645
<v Speaker 0>the OpenID Connect integration. We can actually modify

00:05:57.645 --> 00:05:58.525
<v Speaker 0>roles,

00:05:58.765 --> 00:05:59.565
<v Speaker 0>users,

00:06:00.285 --> 00:06:02.125
<v Speaker 0>and we can change the SAML configuration, the

00:06:02.125 --> 00:06:03.725
<v Speaker 0>GitHub authentication integration,

00:06:04.365 --> 00:06:04.925
<v Speaker 0>everything.

00:06:05.740 --> 00:06:07.020
<v Speaker 0>All

00:06:07.020 --> 00:06:08.060
<v Speaker 0>the way down.

00:06:09.419 --> 00:06:12.539
<v Speaker 0>But there's no ability here to access

00:06:12.539 --> 00:06:13.819
<v Speaker 0>any applications,

00:06:13.819 --> 00:06:16.139
<v Speaker 0>nodes, Kubernetes clusters, etcetera.

00:06:16.860 --> 00:06:19.979
<v Speaker 0>And there is no session replay or other

00:06:19.979 --> 00:06:20.219
<v Speaker 0>things.

00:06:21.125 --> 00:06:22.325
<v Speaker 0>So you don't get

00:06:22.725 --> 00:06:24.645
<v Speaker 0>everything, but you get a lot

00:06:26.485 --> 00:06:28.805
<v Speaker 0>at least on an administrative or operational point

00:06:28.805 --> 00:06:29.445
<v Speaker 0>of view.

00:06:31.125 --> 00:06:33.125
<v Speaker 0>Then we have the auditor role.

00:06:33.880 --> 00:06:36.360
<v Speaker 0>So we can see here that they have

00:06:36.360 --> 00:06:38.840
<v Speaker 0>the ability to list and read sessions.

00:06:39.560 --> 00:06:41.880
<v Speaker 0>They can also list and read the events.

00:06:42.040 --> 00:06:43.880
<v Speaker 0>Now it doesn't matter if you're not familiar

00:06:43.880 --> 00:06:45.960
<v Speaker 0>with how these exposed via the CLI or

00:06:45.960 --> 00:06:47.320
<v Speaker 0>the UI, we'll be taking a look at

00:06:47.320 --> 00:06:48.360
<v Speaker 0>all of us again

00:06:48.855 --> 00:06:50.375
<v Speaker 0>in a few short moments.

00:06:53.255 --> 00:06:56.295
<v Speaker 0>I'm not actually sure what this login is.

00:06:56.295 --> 00:06:58.615
<v Speaker 0>I think it's just there to provide an

00:06:58.615 --> 00:07:01.015
<v Speaker 0>empty list so the default isn't included. I

00:07:01.015 --> 00:07:02.695
<v Speaker 0>should really check, but we're just gonna ignore

00:07:02.695 --> 00:07:03.735
<v Speaker 0>that one for now anyway.

00:07:04.630 --> 00:07:06.470
<v Speaker 0>And then we have the access role, which

00:07:06.470 --> 00:07:08.630
<v Speaker 0>pretty much ships with a bunch of stars.

00:07:08.630 --> 00:07:10.389
<v Speaker 0>And we'll talk about what that means and

00:07:10.389 --> 00:07:11.830
<v Speaker 0>we'll even modify

00:07:12.150 --> 00:07:14.150
<v Speaker 0>a role very much like this in today's

00:07:14.150 --> 00:07:14.710
<v Speaker 0>session.

00:07:15.110 --> 00:07:16.710
<v Speaker 0>So the access gives us access to the

00:07:16.710 --> 00:07:20.685
<v Speaker 0>applications behind Teleport. Star star means all applications.

00:07:21.485 --> 00:07:22.764
<v Speaker 0>If we want to be able to access

00:07:22.764 --> 00:07:23.645
<v Speaker 0>databases,

00:07:23.645 --> 00:07:24.365
<v Speaker 0>we've got.

00:07:25.805 --> 00:07:26.525
<v Speaker 0>Now

00:07:26.764 --> 00:07:29.405
<v Speaker 0>this is where we see this handlebar

00:07:29.405 --> 00:07:32.040
<v Speaker 0>syntax, much less syntax depending on what community

00:07:32.040 --> 00:07:33.480
<v Speaker 0>and ecosystem you come from.

00:07:33.960 --> 00:07:36.680
<v Speaker 0>This is interpolation inside of Teleport and this

00:07:36.680 --> 00:07:38.120
<v Speaker 0>means that the value is going to be

00:07:38.120 --> 00:07:38.840
<v Speaker 0>handled

00:07:39.160 --> 00:07:41.080
<v Speaker 0>just in time based on the user that

00:07:41.080 --> 00:07:42.040
<v Speaker 0>is logged in.

00:07:42.680 --> 00:07:44.360
<v Speaker 0>When we see internal dot, this is a

00:07:44.360 --> 00:07:46.440
<v Speaker 0>trait as an exercise where I will explain

00:07:46.440 --> 00:07:47.480
<v Speaker 0>that in more detail later.

00:07:48.255 --> 00:07:50.575
<v Speaker 0>But it just means that although the database

00:07:50.575 --> 00:07:53.135
<v Speaker 0>labels says that you have access to all

00:07:53.135 --> 00:07:54.015
<v Speaker 0>databases,

00:07:55.135 --> 00:07:57.455
<v Speaker 0>the names of the databases that you can

00:07:57.455 --> 00:07:59.135
<v Speaker 0>access and the users that you can access

00:07:59.135 --> 00:08:00.095
<v Speaker 0>the databases

00:08:00.575 --> 00:08:01.055
<v Speaker 0>as,

00:08:01.849 --> 00:08:04.410
<v Speaker 0>is not a star, and that's important.

00:08:05.449 --> 00:08:07.770
<v Speaker 0>I'm not gonna cover impersonation

00:08:07.849 --> 00:08:10.090
<v Speaker 0>in today's workshop, mostly

00:08:10.169 --> 00:08:12.889
<v Speaker 0>because of time constraints, but more importantly is

00:08:12.889 --> 00:08:15.965
<v Speaker 0>that I haven't really found a use case

00:08:15.965 --> 00:08:17.885
<v Speaker 0>for Teleport's impersonation

00:08:17.965 --> 00:08:19.005
<v Speaker 0>that I like.

00:08:19.965 --> 00:08:21.805
<v Speaker 0>The examples from the website, and maybe we'll

00:08:21.805 --> 00:08:23.405
<v Speaker 0>take a look at them towards the end,

00:08:23.645 --> 00:08:26.205
<v Speaker 0>I'm talking about having an account and a

00:08:26.205 --> 00:08:28.925
<v Speaker 0>CICD process that can take on an elevated

00:08:28.925 --> 00:08:30.525
<v Speaker 0>permissions for a short time.

00:08:31.780 --> 00:08:33.140
<v Speaker 0>But I haven't been able to find a

00:08:33.140 --> 00:08:35.059
<v Speaker 0>way to integrate that into my own workflows.

00:08:35.059 --> 00:08:36.900
<v Speaker 0>And I don't really wanna be disingenuous

00:08:36.900 --> 00:08:39.059
<v Speaker 0>and show it off. But if you have

00:08:39.059 --> 00:08:40.580
<v Speaker 0>a use case that makes sense for you,

00:08:40.580 --> 00:08:42.179
<v Speaker 0>share it with me. I'd love to know.

00:08:42.179 --> 00:08:45.214
<v Speaker 0>But I I personally haven't found a real

00:08:45.214 --> 00:08:47.214
<v Speaker 0>world use case for impersonation that I want

00:08:47.214 --> 00:08:48.255
<v Speaker 0>to share with anyone.

00:08:49.774 --> 00:08:51.935
<v Speaker 0>Okay. We then have access to the Kubernetes

00:08:51.935 --> 00:08:53.774
<v Speaker 0>scripts, labels and users.

00:08:54.815 --> 00:08:56.334
<v Speaker 0>We've got logins.

00:08:57.055 --> 00:08:58.654
<v Speaker 0>So, you know, when you have access to

00:08:58.654 --> 00:08:59.295
<v Speaker 0>Starstar

00:09:00.250 --> 00:09:00.970
<v Speaker 0>nodes,

00:09:01.610 --> 00:09:03.769
<v Speaker 0>well, what logins can I use to access

00:09:03.769 --> 00:09:06.329
<v Speaker 0>those nodes? By default, it is

00:09:06.649 --> 00:09:08.730
<v Speaker 0>the ones provided when we create the account.

00:09:08.970 --> 00:09:10.970
<v Speaker 0>Node labels, and then there's a little bit

00:09:10.970 --> 00:09:12.649
<v Speaker 0>of rules just meaning

00:09:13.915 --> 00:09:15.355
<v Speaker 0>you can access notes, then you can listen

00:09:15.355 --> 00:09:16.395
<v Speaker 0>with the events,

00:09:16.875 --> 00:09:18.715
<v Speaker 0>which makes a lot of sense. We then

00:09:18.715 --> 00:09:21.115
<v Speaker 0>got the Windows desktop integration and then some

00:09:21.115 --> 00:09:22.395
<v Speaker 0>boring stuff at the bottom.

00:09:22.795 --> 00:09:24.555
<v Speaker 0>So you can see these manifests

00:09:24.875 --> 00:09:27.035
<v Speaker 0>look like Kubernetes manifests.

00:09:27.035 --> 00:09:28.795
<v Speaker 0>So they feel instantly familiar.

00:09:29.270 --> 00:09:31.590
<v Speaker 0>They're using the same concept of resource and

00:09:31.590 --> 00:09:33.990
<v Speaker 0>verb again, instantly familiar if you're coming from

00:09:33.990 --> 00:09:35.350
<v Speaker 0>a Kubernetes background.

00:09:35.750 --> 00:09:37.750
<v Speaker 0>So after a little bit of trial and

00:09:37.750 --> 00:09:40.070
<v Speaker 0>error and playing and customizing roles with your

00:09:40.070 --> 00:09:43.590
<v Speaker 0>own Teleport clusters, this becomes really easy to

00:09:43.590 --> 00:09:43.990
<v Speaker 0>work with.

00:09:45.025 --> 00:09:46.385
<v Speaker 0>So I hope you have some fun with

00:09:46.385 --> 00:09:46.865
<v Speaker 0>it.

00:09:47.425 --> 00:09:48.865
<v Speaker 0>Okay. So let's go back up to this

00:09:48.865 --> 00:09:51.665
<v Speaker 0>first exercise and we've entered just the roles.

00:09:52.145 --> 00:09:53.905
<v Speaker 0>What we wanna do is now just get

00:09:53.905 --> 00:09:54.705
<v Speaker 0>access

00:09:55.185 --> 00:09:56.785
<v Speaker 0>to the cluster that we have that is

00:09:56.785 --> 00:09:59.120
<v Speaker 0>uninitialized, and we're gonna just kinda cover this

00:09:59.120 --> 00:10:02.080
<v Speaker 0>command. Like we've typed this many times throughout

00:10:02.080 --> 00:10:02.960
<v Speaker 0>this course,

00:10:03.200 --> 00:10:05.200
<v Speaker 0>but never really digged into what it meant

00:10:05.200 --> 00:10:07.600
<v Speaker 0>to be an editor, an auditor, and have

00:10:07.600 --> 00:10:09.600
<v Speaker 0>access to Teleport resources.

00:10:09.920 --> 00:10:10.880
<v Speaker 0>And now we do.

00:10:12.425 --> 00:10:12.985
<v Speaker 0>Okay.

00:10:13.305 --> 00:10:15.385
<v Speaker 0>Let's see. We got a couple more hellos

00:10:15.385 --> 00:10:17.065
<v Speaker 0>and then I'll start typing some stuff in

00:10:17.065 --> 00:10:19.545
<v Speaker 0>a terminal. Evan Ash, welcome back.

00:10:20.185 --> 00:10:23.144
<v Speaker 0>And Russell, welcome back to you too. Hello.

00:10:24.105 --> 00:10:26.505
<v Speaker 0>I have been tweaking and playing with my

00:10:26.505 --> 00:10:29.120
<v Speaker 0>audio like mad. So I hope that I

00:10:29.120 --> 00:10:31.040
<v Speaker 0>sound all right. And if there are any

00:10:31.040 --> 00:10:32.720
<v Speaker 0>problems, please do let me know.

00:10:34.480 --> 00:10:35.280
<v Speaker 0>Alrighty.

00:10:35.440 --> 00:10:36.720
<v Speaker 0>Let's

00:10:36.720 --> 00:10:39.600
<v Speaker 0>see. So here is my Teleport cluster,

00:10:40.480 --> 00:10:42.240
<v Speaker 0>teleport.rockode.live,

00:10:42.615 --> 00:10:45.815
<v Speaker 0>there's no user created yet, I cannot log

00:10:45.815 --> 00:10:47.895
<v Speaker 0>in, we have to do that first.

00:10:48.455 --> 00:10:50.935
<v Speaker 0>So I'm gonna jump over to here and

00:10:50.935 --> 00:10:54.455
<v Speaker 0>log in to teleport.rawcode.live.

00:10:56.550 --> 00:10:58.950
<v Speaker 0>I feel like my font has gotten smaller.

00:11:03.190 --> 00:11:05.190
<v Speaker 0>It has, hasn't it? If I've been changing

00:11:05.190 --> 00:11:06.310
<v Speaker 0>my font size,

00:11:07.670 --> 00:11:09.589
<v Speaker 0>let's just quickly bump that back up.

00:11:15.505 --> 00:11:16.545
<v Speaker 0>There we go.

00:11:21.024 --> 00:11:21.905
<v Speaker 0>Russell.

00:11:22.785 --> 00:11:25.024
<v Speaker 0>He still sounds Scottish, is that intentional?

00:11:25.629 --> 00:11:26.430
<v Speaker 0>Aye,

00:11:26.509 --> 00:11:27.310
<v Speaker 0>it is.

00:11:28.670 --> 00:11:30.430
<v Speaker 0>Just be glad you're getting my English voice

00:11:30.430 --> 00:11:32.509
<v Speaker 0>on these dreams and not my Scottish voice.

00:11:32.670 --> 00:11:33.230
<v Speaker 0>Anyway,

00:11:34.509 --> 00:11:35.149
<v Speaker 0>okay.

00:11:36.029 --> 00:11:36.670
<v Speaker 0>Focus.

00:11:37.550 --> 00:11:38.509
<v Speaker 0>We wanna run

00:11:41.185 --> 00:11:43.024
<v Speaker 0>back to my course. We wanna run this

00:11:43.024 --> 00:11:43.665
<v Speaker 0>command.

00:11:44.065 --> 00:11:46.625
<v Speaker 0>So Teleport Control, TCTL,

00:11:46.865 --> 00:11:48.945
<v Speaker 0>users add, I'm going to add a user

00:11:48.945 --> 00:11:50.305
<v Speaker 0>for me, Rawkode.

00:11:50.464 --> 00:11:53.904
<v Speaker 0>We're going to assign the roles, editor, auditor,

00:11:53.904 --> 00:11:54.785
<v Speaker 0>and access.

00:11:56.330 --> 00:11:59.050
<v Speaker 0>I hit return, we get the link that

00:11:59.050 --> 00:12:01.290
<v Speaker 0>will allow us to pop this open and

00:12:02.250 --> 00:12:04.970
<v Speaker 0>register our account. I will say use this

00:12:04.970 --> 00:12:05.770
<v Speaker 0>password,

00:12:06.089 --> 00:12:08.330
<v Speaker 0>we'll call this Rawkode live stream.

00:12:09.365 --> 00:12:11.365
<v Speaker 0>My username is Rawkode

00:12:11.524 --> 00:12:13.685
<v Speaker 0>and we'll hit save and I'll just need

00:12:13.685 --> 00:12:14.645
<v Speaker 0>to copy

00:12:14.885 --> 00:12:17.605
<v Speaker 0>Rawkode livestream.

00:12:18.245 --> 00:12:19.045
<v Speaker 0>Where is it?

00:12:35.985 --> 00:12:37.825
<v Speaker 0>That password just appeared.

00:12:41.185 --> 00:12:43.105
<v Speaker 0>Oh, but it's showing up there. That's okay.

00:12:43.665 --> 00:12:45.904
<v Speaker 0>I'm gonna have to open this here. So

00:12:45.904 --> 00:12:46.945
<v Speaker 0>that I can

00:12:47.425 --> 00:12:48.704
<v Speaker 0>scan

00:12:50.690 --> 00:12:53.330
<v Speaker 0>my QR code and

00:12:54.529 --> 00:12:55.649
<v Speaker 0>paste this in.

00:12:57.250 --> 00:12:59.889
<v Speaker 0>Sweet. We now have access to our Teleport

00:12:59.889 --> 00:13:00.610
<v Speaker 0>cluster

00:13:01.170 --> 00:13:02.610
<v Speaker 0>and let's see.

00:13:04.145 --> 00:13:05.665
<v Speaker 0>Okay. So Jeffrey,

00:13:07.825 --> 00:13:10.465
<v Speaker 0>what about impersonate a Kubernetes grouper user to

00:13:10.465 --> 00:13:11.985
<v Speaker 0>see what kind of access and permissions that

00:13:11.985 --> 00:13:13.025
<v Speaker 0>user would have?

00:13:13.505 --> 00:13:14.545
<v Speaker 0>Yeah. That's interesting.

00:13:19.990 --> 00:13:21.750
<v Speaker 0>Hey, I guess you could have it configured

00:13:21.750 --> 00:13:22.709
<v Speaker 0>in a way

00:13:23.750 --> 00:13:24.550
<v Speaker 0>where,

00:13:25.029 --> 00:13:27.190
<v Speaker 0>yeah, you could elevate your privileges inside of

00:13:27.190 --> 00:13:28.550
<v Speaker 0>a Kubernetes cluster

00:13:30.495 --> 00:13:31.295
<v Speaker 0>to

00:13:31.775 --> 00:13:34.655
<v Speaker 0>run some integration tests or something like that.

00:13:34.735 --> 00:13:36.655
<v Speaker 0>There could be something there, I'm gonna think

00:13:36.655 --> 00:13:37.935
<v Speaker 0>about that a little bit more.

00:13:38.495 --> 00:13:40.255
<v Speaker 0>And Khalid, hey man, welcome back.

00:13:42.350 --> 00:13:44.670
<v Speaker 0>Okay, so we have access to our cluster,

00:13:44.670 --> 00:13:46.670
<v Speaker 0>there's nothing in this, this is uninitialized

00:13:46.670 --> 00:13:48.350
<v Speaker 0>Teleport, at least it was until we got

00:13:48.350 --> 00:13:50.510
<v Speaker 0>started creating our account, but you can see

00:13:50.510 --> 00:13:52.510
<v Speaker 0>that we've got the ability to view activity

00:13:52.510 --> 00:13:55.390
<v Speaker 0>and recession records and auto logs. This is

00:13:56.110 --> 00:13:57.150
<v Speaker 0>the auditor role.

00:13:58.355 --> 00:13:59.795
<v Speaker 0>The editor role is the one where I

00:13:59.795 --> 00:14:02.755
<v Speaker 0>can modify users roles and off connections also

00:14:02.755 --> 00:14:05.635
<v Speaker 0>available here. Custers not doing anything with,

00:14:05.954 --> 00:14:08.035
<v Speaker 0>but what we do want to do is

00:14:08.035 --> 00:14:08.514
<v Speaker 0>just

00:14:09.875 --> 00:14:12.035
<v Speaker 0>I actually expected the server to be here.

00:14:12.830 --> 00:14:15.390
<v Speaker 0>We will just enable that then. We

00:14:15.870 --> 00:14:17.150
<v Speaker 0>wanna take a look at

00:14:17.710 --> 00:14:20.030
<v Speaker 0>something I omitted intentionally

00:14:20.270 --> 00:14:22.590
<v Speaker 0>from our TCTL command here.

00:14:22.990 --> 00:14:24.830
<v Speaker 0>And if you've already spotted that, feel free

00:14:24.830 --> 00:14:26.875
<v Speaker 0>to say in the comments, but I am

00:14:26.875 --> 00:14:29.915
<v Speaker 0>going to quickly modify our Teleport YAML here.

00:14:32.235 --> 00:14:34.315
<v Speaker 0>We do have an SSH service on.

00:14:38.235 --> 00:14:38.955
<v Speaker 0>Peculier.

00:14:51.430 --> 00:14:53.750
<v Speaker 0>I don't wanna debug on this show. Come

00:14:53.750 --> 00:14:53.990
<v Speaker 0>on.

00:15:14.350 --> 00:15:16.350
<v Speaker 0>I already have that running.

00:15:17.870 --> 00:15:18.590
<v Speaker 0>Alright.

00:15:18.910 --> 00:15:20.590
<v Speaker 0>Quickly, what have I missed? What have I

00:15:20.590 --> 00:15:21.470
<v Speaker 0>missed? What have I missed?

00:15:44.420 --> 00:15:46.180
<v Speaker 0>This is I'm gonna restart Teleport.

00:16:04.560 --> 00:16:08.240
<v Speaker 0>I can always start another SSSSSSSSSS

00:16:08.240 --> 00:16:08.800
<v Speaker 0>proxy.

00:16:14.320 --> 00:16:16.480
<v Speaker 0>Okay. So I'm a bit confused normally.

00:16:16.560 --> 00:16:18.560
<v Speaker 0>In fact, every other time that I have

00:16:19.235 --> 00:16:20.115
<v Speaker 0>done this,

00:16:20.995 --> 00:16:23.315
<v Speaker 0>the server where our Teleport process is running

00:16:23.315 --> 00:16:24.515
<v Speaker 0>would show up

00:16:24.915 --> 00:16:25.714
<v Speaker 0>here.

00:16:29.315 --> 00:16:30.995
<v Speaker 0>And that is not the case.

00:16:47.455 --> 00:16:49.295
<v Speaker 0>Alright. Well, you know what? We can fix

00:16:49.295 --> 00:16:51.935
<v Speaker 0>this. Let's go to the Teleport documentation.

00:16:52.735 --> 00:16:53.855
<v Speaker 0>Or docs.

00:16:57.535 --> 00:16:59.055
<v Speaker 0>Oh, what's that? There we go.

00:17:02.269 --> 00:17:04.989
<v Speaker 0>And server access, getting started.

00:17:05.549 --> 00:17:07.710
<v Speaker 0>I can always add a static node

00:17:07.950 --> 00:17:09.790
<v Speaker 0>and start this proxy on my own.

00:17:14.294 --> 00:17:15.974
<v Speaker 0>That is exactly how I set up my

00:17:15.974 --> 00:17:16.694
<v Speaker 0>cluster.

00:17:20.294 --> 00:17:21.254
<v Speaker 0>Okay.

00:17:21.655 --> 00:17:23.014
<v Speaker 0>Let's just make it work.

00:17:23.815 --> 00:17:27.494
<v Speaker 0>Not important. I'm not offended. Teleport is all

00:17:27.494 --> 00:17:27.895
<v Speaker 0>good.

00:17:28.650 --> 00:17:31.210
<v Speaker 0>This is a node token.

00:17:33.450 --> 00:17:34.970
<v Speaker 0>Probably shouldn't show you that.

00:17:35.450 --> 00:17:37.450
<v Speaker 0>And we'll start another teleport thing.

00:17:46.385 --> 00:17:48.385
<v Speaker 0>Change that token path. I really should just

00:17:48.385 --> 00:17:50.145
<v Speaker 0>do the static one, shouldn't I?

00:17:52.065 --> 00:17:53.505
<v Speaker 0>I was trying to be

00:17:54.545 --> 00:17:55.664
<v Speaker 0>better than that.

00:17:57.105 --> 00:18:00.385
<v Speaker 0>ML server is

00:17:59.320 --> 00:18:02.840
<v Speaker 0>Teleport.Rawkode.live44three.

00:18:04.760 --> 00:18:06.120
<v Speaker 0>E S c h.

00:18:06.520 --> 00:18:07.080
<v Speaker 0>Classy.

00:18:08.360 --> 00:18:09.000
<v Speaker 0>Cool.

00:18:18.605 --> 00:18:19.245
<v Speaker 0>Connected.

00:18:28.720 --> 00:18:29.599
<v Speaker 0>Teleport.

00:18:30.639 --> 00:18:33.119
<v Speaker 0>Is this a permission this year already?

00:18:34.080 --> 00:18:35.919
<v Speaker 0>I haven't done anything exciting yet.

00:18:51.970 --> 00:18:54.610
<v Speaker 0>Oh, and now my building is having Pericos.

00:18:54.610 --> 00:18:55.409
<v Speaker 0>Am I still alive?

00:19:05.895 --> 00:19:07.495
<v Speaker 0>This is the start of a horror movie,

00:19:07.495 --> 00:19:08.135
<v Speaker 0>isn't it?

00:19:15.095 --> 00:19:16.215
<v Speaker 0>I think I'm still alive.

00:19:20.409 --> 00:19:22.570
<v Speaker 0>Well, Moza has given me hints for my

00:19:22.570 --> 00:19:25.529
<v Speaker 0>Teleport cluster problem, so hopefully I'm still alive.

00:19:26.250 --> 00:19:27.210
<v Speaker 0>Okay.

00:19:28.650 --> 00:19:29.450
<v Speaker 0>I'm

00:19:29.690 --> 00:19:31.690
<v Speaker 0>confused, but I'm gonna assume

00:19:32.905 --> 00:19:34.664
<v Speaker 0>I have done something wrong,

00:19:34.825 --> 00:19:36.105
<v Speaker 0>but we can fix that.

00:19:36.665 --> 00:19:38.185
<v Speaker 0>And I've done this all this Teleport cluster

00:19:38.185 --> 00:19:40.265
<v Speaker 0>today. I'm not sure if I'm on the

00:19:40.345 --> 00:19:41.785
<v Speaker 0>well, I will be on the definitely on

00:19:41.785 --> 00:19:43.465
<v Speaker 0>a % on the latest version. I don't

00:19:43.465 --> 00:19:45.305
<v Speaker 0>know if something has changed. So we're gonna

00:19:45.305 --> 00:19:46.665
<v Speaker 0>try and fix it all. So we're gonna

00:19:46.665 --> 00:19:47.145
<v Speaker 0>do

00:19:47.705 --> 00:19:48.970
<v Speaker 0>I'm gonna close this thing because I don't

00:19:48.970 --> 00:19:50.330
<v Speaker 0>think I need to be running this.

00:19:50.809 --> 00:19:52.410
<v Speaker 0>And I don't see servers, so I think

00:19:52.410 --> 00:19:54.090
<v Speaker 0>it's permission issue. Now let's go back to

00:19:54.090 --> 00:19:56.090
<v Speaker 0>the workshop for a second and we'll cover

00:19:56.090 --> 00:19:57.289
<v Speaker 0>what I should have covered.

00:19:58.010 --> 00:19:58.330
<v Speaker 0>So

00:20:00.945 --> 00:20:02.544
<v Speaker 0>if we look So we're created a user

00:20:02.544 --> 00:20:05.505
<v Speaker 0>and exercise two is to introduce us. Thank

00:20:05.505 --> 00:20:07.424
<v Speaker 0>you, Miles. Thank you for confirming the install

00:20:07.424 --> 00:20:09.825
<v Speaker 0>online even though power did appear to go

00:20:09.825 --> 00:20:10.945
<v Speaker 0>out for a few seconds.

00:20:12.544 --> 00:20:14.960
<v Speaker 0>So I wanna introduce you to traits and

00:20:14.960 --> 00:20:17.200
<v Speaker 0>Teleport. And what I'm saying here is that

00:20:17.200 --> 00:20:18.640
<v Speaker 0>before we talk about that, I want you

00:20:18.640 --> 00:20:19.919
<v Speaker 0>to Teleport

00:20:20.000 --> 00:20:22.559
<v Speaker 0>using to SSH enter the node using Teleport

00:20:22.559 --> 00:20:23.840
<v Speaker 0>and run Whoami.

00:20:23.919 --> 00:20:27.039
<v Speaker 0>And you actually can't do that yet because

00:20:28.345 --> 00:20:29.705
<v Speaker 0>we didn't specify

00:20:29.705 --> 00:20:32.904
<v Speaker 0>which logins our user had access to on

00:20:32.904 --> 00:20:34.424
<v Speaker 0>our tctl

00:20:34.904 --> 00:20:36.344
<v Speaker 0>users add command.

00:20:36.505 --> 00:20:38.505
<v Speaker 0>Typically, when we've done this before in the

00:20:38.505 --> 00:20:40.759
<v Speaker 0>course, we see logins root,

00:20:41.000 --> 00:20:43.240
<v Speaker 0>which means I will have the ability to

00:20:43.240 --> 00:20:45.719
<v Speaker 0>log in to all of the machines

00:20:46.200 --> 00:20:47.879
<v Speaker 0>as the root user.

00:20:48.919 --> 00:20:50.760
<v Speaker 0>So we can't actually do that and the

00:20:50.760 --> 00:20:53.804
<v Speaker 0>reason why is because of Teleport's traits. Now

00:20:53.804 --> 00:20:56.044
<v Speaker 0>when we went through the role YAML at

00:20:56.044 --> 00:20:56.764
<v Speaker 0>the start,

00:20:57.164 --> 00:20:59.404
<v Speaker 0>we kind of, I introduced it a little

00:20:59.404 --> 00:21:01.565
<v Speaker 0>bit and said that anytime you see interpolation

00:21:01.565 --> 00:21:03.804
<v Speaker 0>syntax, mustache slash handlebars

00:21:03.804 --> 00:21:05.725
<v Speaker 0>with internal dot, that this is going to

00:21:05.725 --> 00:21:07.565
<v Speaker 0>be a trait that is applied or

00:21:08.059 --> 00:21:09.820
<v Speaker 0>inherited from the user

00:21:09.980 --> 00:21:12.299
<v Speaker 0>and to the role just in time.

00:21:13.260 --> 00:21:15.980
<v Speaker 0>So, well, the access role allows connecting to

00:21:15.980 --> 00:21:18.540
<v Speaker 0>Teleport node, it does use a it does

00:21:18.540 --> 00:21:19.340
<v Speaker 0>use a trait.

00:21:21.075 --> 00:21:21.715
<v Speaker 0>So,

00:21:24.595 --> 00:21:26.434
<v Speaker 0>what I suggest we do here

00:21:27.635 --> 00:21:29.794
<v Speaker 0>is to pull down our user.

00:21:30.274 --> 00:21:32.034
<v Speaker 0>Now you can edit some stuff from the

00:21:32.034 --> 00:21:34.130
<v Speaker 0>UI, but I'm gonna try and use the

00:21:34.130 --> 00:21:36.450
<v Speaker 0>CI as much as possible and the YAML

00:21:36.450 --> 00:21:38.610
<v Speaker 0>format, because this is what at the end

00:21:38.610 --> 00:21:40.049
<v Speaker 0>of the day is gonna be

00:21:40.690 --> 00:21:43.009
<v Speaker 0>automatable by you and your systems.

00:21:43.970 --> 00:21:45.490
<v Speaker 0>And while we're doing this, we're gonna try

00:21:45.490 --> 00:21:47.169
<v Speaker 0>and debug why I don't have access to

00:21:47.169 --> 00:21:47.889
<v Speaker 0>the node.

00:21:48.690 --> 00:21:50.275
<v Speaker 0>So the first thing I'm going to do

00:21:50.275 --> 00:21:51.715
<v Speaker 0>is pull down

00:21:51.955 --> 00:21:54.995
<v Speaker 0>my user, my user is actually Rawkode here,

00:21:54.995 --> 00:21:56.434
<v Speaker 0>not my email address,

00:21:56.915 --> 00:21:57.715
<v Speaker 0>like so.

00:21:58.195 --> 00:22:00.195
<v Speaker 0>And this will get me the YAML for

00:22:00.195 --> 00:22:00.835
<v Speaker 0>my user.

00:22:02.000 --> 00:22:04.000
<v Speaker 0>So we can ignore the metadata, we can

00:22:04.000 --> 00:22:05.440
<v Speaker 0>see that I do have the rules that

00:22:05.440 --> 00:22:06.639
<v Speaker 0>I expected to have.

00:22:08.880 --> 00:22:10.880
<v Speaker 0>We've got some Kubernetes traits that we don't

00:22:10.880 --> 00:22:12.320
<v Speaker 0>need to worry about at the moment and

00:22:12.320 --> 00:22:13.440
<v Speaker 0>logins is null.

00:22:14.945 --> 00:22:17.585
<v Speaker 0>What I'm gonna do is get myself access

00:22:18.225 --> 00:22:18.865
<v Speaker 0>to,

00:22:20.705 --> 00:22:21.505
<v Speaker 0>to

00:22:23.185 --> 00:22:24.304
<v Speaker 0>the root

00:22:24.465 --> 00:22:25.265
<v Speaker 0>user,

00:22:26.145 --> 00:22:27.185
<v Speaker 0>and we can save this.

00:22:28.130 --> 00:22:29.890
<v Speaker 0>I can then use TCTL

00:22:29.890 --> 00:22:31.890
<v Speaker 0>create dash F Rawkode

00:22:31.890 --> 00:22:33.649
<v Speaker 0>to apply this back

00:22:33.730 --> 00:22:34.929
<v Speaker 0>to the cluster.

00:22:35.730 --> 00:22:38.369
<v Speaker 0>Now, if we come to the server

00:22:39.809 --> 00:22:41.970
<v Speaker 0>and go to team and users,

00:22:43.415 --> 00:22:45.015
<v Speaker 0>If I click on edit, you'll see we

00:22:45.015 --> 00:22:47.655
<v Speaker 0>only have the ability to change the rules.

00:22:47.655 --> 00:22:49.495
<v Speaker 0>We can't actually do the traits through the

00:22:49.495 --> 00:22:51.654
<v Speaker 0>UI. Although when it comes to rule stuff,

00:22:51.815 --> 00:22:53.575
<v Speaker 0>you can change most,

00:22:53.655 --> 00:22:56.050
<v Speaker 0>if not everything for the UI.

00:22:57.090 --> 00:23:00.210
<v Speaker 0>So let's see how this access thing works

00:23:00.210 --> 00:23:01.970
<v Speaker 0>with that trait that we have.

00:23:04.530 --> 00:23:07.650
<v Speaker 0>So we've got the access rule

00:23:07.810 --> 00:23:09.250
<v Speaker 0>where app is star star,

00:23:10.185 --> 00:23:12.265
<v Speaker 0>Kubernetes is not star star,

00:23:12.585 --> 00:23:14.825
<v Speaker 0>node labels is star star.

00:23:15.225 --> 00:23:17.305
<v Speaker 0>There is no reason I shouldn't be able

00:23:17.305 --> 00:23:19.465
<v Speaker 0>to SSH onto this node right now.

00:23:20.505 --> 00:23:22.665
<v Speaker 0>But logins here, you can see that it's

00:23:22.665 --> 00:23:26.210
<v Speaker 0>using that logins value trait from my user

00:23:26.210 --> 00:23:27.010
<v Speaker 0>account.

00:23:27.170 --> 00:23:29.810
<v Speaker 0>I could also modify this rule and just

00:23:29.810 --> 00:23:32.050
<v Speaker 0>say that anyone with access has root access

00:23:32.050 --> 00:23:33.010
<v Speaker 0>to the box,

00:23:33.170 --> 00:23:35.730
<v Speaker 0>and that would also work just fine.

00:23:38.290 --> 00:23:39.490
<v Speaker 0>Let's jump back in.

00:23:43.155 --> 00:23:44.355
<v Speaker 0>This looks good.

00:23:46.835 --> 00:23:48.034
<v Speaker 0>Oh, there we go.

00:23:48.835 --> 00:23:49.635
<v Speaker 0>And now

00:23:49.875 --> 00:23:51.075
<v Speaker 0>it's showing up.

00:23:51.875 --> 00:23:53.794
<v Speaker 0>So let's work out why,

00:23:54.035 --> 00:23:55.235
<v Speaker 0>because I'm not happy with that.

00:23:57.590 --> 00:24:00.070
<v Speaker 0>I'm gonna change this back to the trait

00:24:00.070 --> 00:24:01.350
<v Speaker 0>for the logins,

00:24:01.350 --> 00:24:01.829
<v Speaker 0>right?

00:24:02.870 --> 00:24:05.190
<v Speaker 0>So, because I've added that to my user

00:24:05.190 --> 00:24:05.909
<v Speaker 0>account

00:24:07.830 --> 00:24:08.629
<v Speaker 0>login,

00:24:08.870 --> 00:24:10.710
<v Speaker 0>like so, and that's save.

00:24:12.455 --> 00:24:14.215
<v Speaker 0>And it's not there. Cool.

00:24:15.255 --> 00:24:17.495
<v Speaker 0>So this makes a little bit of sense.

00:24:17.495 --> 00:24:19.495
<v Speaker 0>This must be something new that the Teleport

00:24:19.495 --> 00:24:20.455
<v Speaker 0>has changed.

00:24:20.775 --> 00:24:23.015
<v Speaker 0>And I'll explain that in just a second.

00:24:23.990 --> 00:24:26.070
<v Speaker 0>In fact, we can test my hypothesis,

00:24:26.070 --> 00:24:27.910
<v Speaker 0>which is gonna be even more fun.

00:24:28.870 --> 00:24:30.790
<v Speaker 0>So when I changed

00:24:30.790 --> 00:24:31.830
<v Speaker 0>the role,

00:24:31.910 --> 00:24:33.990
<v Speaker 0>because I am logged in

00:24:34.630 --> 00:24:36.710
<v Speaker 0>with the role access right now,

00:24:38.345 --> 00:24:39.945
<v Speaker 0>I immediately seen

00:24:39.945 --> 00:24:40.985
<v Speaker 0>the server

00:24:41.385 --> 00:24:43.625
<v Speaker 0>when I changed the role and to not

00:24:43.625 --> 00:24:45.465
<v Speaker 0>use the trait and to be hardcoded with

00:24:45.465 --> 00:24:48.425
<v Speaker 0>Root. However, when I modified my user, I

00:24:48.425 --> 00:24:49.945
<v Speaker 0>did not re log in again and that

00:24:49.945 --> 00:24:52.745
<v Speaker 0>trait is not part of the certificate

00:24:52.770 --> 00:24:54.289
<v Speaker 0>that identifies me.

00:24:54.530 --> 00:24:57.330
<v Speaker 0>And my hypothesis is that Teleport Agent is

00:24:57.330 --> 00:24:58.770
<v Speaker 0>now user aware

00:24:58.930 --> 00:25:00.850
<v Speaker 0>on the host and knows that I have

00:25:00.850 --> 00:25:02.930
<v Speaker 0>no users available on that machine to connect

00:25:02.930 --> 00:25:03.409
<v Speaker 0>to.

00:25:03.810 --> 00:25:05.810
<v Speaker 0>What used to happen was you could click

00:25:05.810 --> 00:25:06.290
<v Speaker 0>connect,

00:25:06.825 --> 00:25:09.065
<v Speaker 0>use the trait value of your username, and

00:25:09.065 --> 00:25:10.504
<v Speaker 0>then it would crash

00:25:10.745 --> 00:25:12.825
<v Speaker 0>or at least you'd get the terminal, but

00:25:12.825 --> 00:25:14.264
<v Speaker 0>it would say there is no user.

00:25:15.225 --> 00:25:16.904
<v Speaker 0>And I really wanna test this.

00:25:17.465 --> 00:25:18.344
<v Speaker 0>Although I'm

00:25:18.585 --> 00:25:20.664
<v Speaker 0>I'm now curious if I create a user,

00:25:20.825 --> 00:25:23.749
<v Speaker 0>the add user, user add Rawkode,

00:25:24.309 --> 00:25:25.990
<v Speaker 0>whether the agent will detect that or I'll

00:25:25.990 --> 00:25:27.269
<v Speaker 0>have to restart Teleport.

00:25:27.590 --> 00:25:29.429
<v Speaker 0>But I'm still more than happy to find

00:25:29.429 --> 00:25:29.989
<v Speaker 0>out.

00:25:31.909 --> 00:25:33.190
<v Speaker 0>Now if I want to get myself a

00:25:33.190 --> 00:25:34.870
<v Speaker 0>home directory, I can't remember how to do

00:25:34.870 --> 00:25:35.110
<v Speaker 0>that.

00:25:41.765 --> 00:25:43.605
<v Speaker 0>Dash d for defaults.

00:25:46.325 --> 00:25:46.884
<v Speaker 0>So,

00:25:49.845 --> 00:25:52.804
<v Speaker 0>nope. Alright. User add Rawkode is. Okay. Home

00:25:52.804 --> 00:25:53.044
<v Speaker 0>there.

00:25:53.659 --> 00:25:55.019
<v Speaker 0>I don't know what's gonna happen.

00:25:55.980 --> 00:25:57.419
<v Speaker 0>But let's let's test.

00:25:58.220 --> 00:26:01.820
<v Speaker 0>Okay. So it's not allowing me. Restart Teleport.

00:26:06.425 --> 00:26:07.625
<v Speaker 0>I thought it was good to take the

00:26:07.625 --> 00:26:09.304
<v Speaker 0>user and let me do it. Anyway,

00:26:09.865 --> 00:26:10.904
<v Speaker 0>let's log out,

00:26:11.145 --> 00:26:13.624
<v Speaker 0>get our trait value into our certificate,

00:26:13.625 --> 00:26:15.624
<v Speaker 0>and then we'll have access to that machine.

00:26:17.145 --> 00:26:18.585
<v Speaker 0>There we go. Cool.

00:26:18.825 --> 00:26:19.624
<v Speaker 0>That's

00:26:19.625 --> 00:26:20.105
<v Speaker 0>interesting.

00:26:22.960 --> 00:26:23.600
<v Speaker 0>Yeah.

00:26:24.559 --> 00:26:26.880
<v Speaker 0>Let's see. Normally that's with less my trait

00:26:26.880 --> 00:26:28.960
<v Speaker 0>value of Rawkode two, but it's not.

00:26:29.600 --> 00:26:31.360
<v Speaker 0>So I'm gonna work that out, but I'm

00:26:31.360 --> 00:26:32.320
<v Speaker 0>not gonna do it on this stream because

00:26:32.320 --> 00:26:33.280
<v Speaker 0>we've got too much to cover.

00:26:34.645 --> 00:26:36.004
<v Speaker 0>Okay. Let's see.

00:26:36.725 --> 00:26:38.885
<v Speaker 0>Mozz says, can see me. Thank you. Mozz

00:26:38.885 --> 00:26:39.764
<v Speaker 0>has a question.

00:26:40.005 --> 00:26:41.605
<v Speaker 0>Is it possible to set the login to

00:26:41.605 --> 00:26:43.445
<v Speaker 0>star so the user can

00:26:43.684 --> 00:26:44.884
<v Speaker 0>I've never tried.

00:26:45.445 --> 00:26:47.445
<v Speaker 0>I have never

00:26:48.830 --> 00:26:49.549
<v Speaker 0>tried,

00:26:50.350 --> 00:26:52.429
<v Speaker 0>but we can try it. So let's

00:26:52.670 --> 00:26:53.789
<v Speaker 0>just do it. Right?

00:26:55.310 --> 00:26:57.630
<v Speaker 0>Does Teleport keep logs what users do within

00:26:57.630 --> 00:26:59.390
<v Speaker 0>their sessions? Oh yeah.

00:26:59.550 --> 00:27:00.510
<v Speaker 0>Everything

00:27:00.510 --> 00:27:01.549
<v Speaker 0>is logged.

00:27:03.070 --> 00:27:05.705
<v Speaker 0>Let's see. So let's click connect.

00:27:05.945 --> 00:27:07.465
<v Speaker 0>I don't know why my one password thing

00:27:07.465 --> 00:27:08.665
<v Speaker 0>keeps showing up there.

00:27:08.985 --> 00:27:10.425
<v Speaker 0>Type who am I?

00:27:10.745 --> 00:27:12.905
<v Speaker 0>It says root, close the session.

00:27:13.145 --> 00:27:14.745
<v Speaker 0>We'll come over to activity

00:27:15.225 --> 00:27:17.545
<v Speaker 0>from there. If we had an active session,

00:27:17.545 --> 00:27:18.505
<v Speaker 0>we could actually join it.

00:27:19.260 --> 00:27:21.420
<v Speaker 0>We have session recordings, which will actually allow

00:27:21.420 --> 00:27:23.500
<v Speaker 0>me to see my typing. And what I

00:27:23.500 --> 00:27:25.100
<v Speaker 0>love, that is my favorite feature in the

00:27:25.100 --> 00:27:25.820
<v Speaker 0>whole world,

00:27:26.220 --> 00:27:27.740
<v Speaker 0>that you could scroll back.

00:27:29.820 --> 00:27:31.900
<v Speaker 0>So you can watch the entire session, see

00:27:31.900 --> 00:27:33.980
<v Speaker 0>every command, every piece of output, you know

00:27:33.980 --> 00:27:35.020
<v Speaker 0>exactly what they did.

00:27:35.815 --> 00:27:37.335
<v Speaker 0>It's just an amazing feature.

00:27:38.055 --> 00:27:40.055
<v Speaker 0>And we also have the audit log, so

00:27:40.055 --> 00:27:42.215
<v Speaker 0>you'll see all the sessions that were opened,

00:27:42.215 --> 00:27:44.855
<v Speaker 0>when I logged in again, certificate session, users

00:27:44.855 --> 00:27:47.415
<v Speaker 0>created, everything is available here too.

00:27:49.750 --> 00:27:52.630
<v Speaker 0>Can pop in here. There's some cool things

00:27:52.630 --> 00:27:54.390
<v Speaker 0>you can do that we're gonna try and

00:27:54.390 --> 00:27:55.510
<v Speaker 0>do on Mondays.

00:27:55.590 --> 00:27:57.510
<v Speaker 0>So the last workshop is where we talk

00:27:57.510 --> 00:27:59.430
<v Speaker 0>about how to move Teleport into production,

00:27:59.925 --> 00:28:01.685
<v Speaker 0>And we'll be looking at turning on some

00:28:01.685 --> 00:28:04.645
<v Speaker 0>of the more sophisticated eBPF options that give

00:28:04.645 --> 00:28:07.445
<v Speaker 0>you much better visibility into the commands that

00:28:07.445 --> 00:28:08.165
<v Speaker 0>were used.

00:28:09.125 --> 00:28:10.805
<v Speaker 0>So, yeah, we'll cover more of that then,

00:28:10.805 --> 00:28:11.445
<v Speaker 0>Jeffrey.

00:28:12.485 --> 00:28:13.205
<v Speaker 0>Cool.

00:28:13.685 --> 00:28:14.885
<v Speaker 0>So let's test

00:28:15.260 --> 00:28:17.580
<v Speaker 0>because it's slightly off script, but I

00:28:17.980 --> 00:28:19.340
<v Speaker 0>think that'll be fine,

00:28:19.740 --> 00:28:21.340
<v Speaker 0>is just to add a star to the

00:28:21.340 --> 00:28:21.980
<v Speaker 0>login tree.

00:28:28.065 --> 00:28:29.985
<v Speaker 0>Yeah, I'll just do my trait and I'm

00:28:29.985 --> 00:28:30.945
<v Speaker 0>load back in.

00:28:31.424 --> 00:28:33.825
<v Speaker 0>So, we can modify my user

00:28:35.345 --> 00:28:36.384
<v Speaker 0>and here,

00:28:37.745 --> 00:28:39.745
<v Speaker 0>I have no idea what's going to happen.

00:28:42.929 --> 00:28:44.929
<v Speaker 0>Now we modified the trait and not the

00:28:44.929 --> 00:28:46.610
<v Speaker 0>rule, so we do need to log back

00:28:46.610 --> 00:28:47.169
<v Speaker 0>in.

00:28:50.610 --> 00:28:51.809
<v Speaker 0>You

00:28:53.490 --> 00:28:54.609
<v Speaker 0>get a star.

00:28:55.169 --> 00:28:57.570
<v Speaker 0>So normally that would say Rawkode by default.

00:28:58.685 --> 00:29:00.445
<v Speaker 0>And then you would get a thing saying

00:29:00.445 --> 00:29:01.725
<v Speaker 0>unknown user,

00:29:02.285 --> 00:29:04.365
<v Speaker 0>which is why I thought I couldn't see

00:29:04.365 --> 00:29:06.605
<v Speaker 0>the server, but I did see the server

00:29:07.645 --> 00:29:10.285
<v Speaker 0>when we added me the logins. Okay. Very

00:29:10.285 --> 00:29:11.725
<v Speaker 0>cool. That's what it is.

00:29:12.445 --> 00:29:13.245
<v Speaker 0>If

00:29:14.210 --> 00:29:17.250
<v Speaker 0>your user has an empty login tree, it

00:29:17.250 --> 00:29:18.850
<v Speaker 0>doesn't show you servers.

00:29:19.330 --> 00:29:21.250
<v Speaker 0>Whereas I guess I was expected to list

00:29:21.250 --> 00:29:22.210
<v Speaker 0>the servers,

00:29:24.450 --> 00:29:25.410
<v Speaker 0>but it didn't.

00:29:25.570 --> 00:29:27.170
<v Speaker 0>Normally I would get my username.

00:29:29.115 --> 00:29:29.915
<v Speaker 0>Interesting.

00:29:31.275 --> 00:29:32.795
<v Speaker 0>All right, moving on.

00:29:33.675 --> 00:29:35.515
<v Speaker 0>So the star doesn't work.

00:29:35.915 --> 00:29:37.515
<v Speaker 0>Would have been cool. Although I'm not sure

00:29:37.515 --> 00:29:39.115
<v Speaker 0>what I would want it to do, would

00:29:39.115 --> 00:29:41.120
<v Speaker 0>it like list? Would it give me access

00:29:41.120 --> 00:29:43.519
<v Speaker 0>to every user and the password file? Like,

00:29:43.519 --> 00:29:45.039
<v Speaker 0>would I be able to connect as message

00:29:45.039 --> 00:29:47.039
<v Speaker 0>bus or at least try to? Some of

00:29:47.039 --> 00:29:49.279
<v Speaker 0>these accounts are obviously no login, but

00:29:50.000 --> 00:29:51.360
<v Speaker 0>yeah, I'm not sure why I would expect

00:29:51.360 --> 00:29:52.799
<v Speaker 0>the behavior to be there. Maybe I should

00:29:52.799 --> 00:29:54.320
<v Speaker 0>only see ones with an actual shell.

00:29:54.995 --> 00:29:56.115
<v Speaker 0>Okay.

00:29:57.075 --> 00:29:58.995
<v Speaker 0>Oh, yeah. Workshop. We're busy.

00:29:59.635 --> 00:30:02.195
<v Speaker 0>So now that we have added the logins

00:30:02.195 --> 00:30:03.554
<v Speaker 0>trait to my user,

00:30:03.795 --> 00:30:04.674
<v Speaker 0>we can

00:30:05.075 --> 00:30:06.275
<v Speaker 0>well, we did

00:30:07.840 --> 00:30:09.840
<v Speaker 0>SSH in and run whoami.

00:30:11.040 --> 00:30:13.520
<v Speaker 0>We modified the trait include root and do

00:30:13.520 --> 00:30:16.480
<v Speaker 0>that. Done. Okay. Exercise

00:30:16.480 --> 00:30:18.880
<v Speaker 0>three has where we're going to edit some

00:30:18.880 --> 00:30:21.200
<v Speaker 0>rules. We've already kind of done this and

00:30:21.200 --> 00:30:23.054
<v Speaker 0>prompt you because I was debugging why I

00:30:23.054 --> 00:30:24.174
<v Speaker 0>couldn't see the servers,

00:30:25.135 --> 00:30:27.294
<v Speaker 0>but let's do this properly this time.

00:30:28.255 --> 00:30:28.815
<v Speaker 0>So

00:30:29.615 --> 00:30:31.615
<v Speaker 0>what I'm seeing here is, well, we can

00:30:31.615 --> 00:30:34.815
<v Speaker 0>use t control users username to pull down

00:30:34.815 --> 00:30:35.294
<v Speaker 0>the YAML.

00:30:35.790 --> 00:30:37.710
<v Speaker 0>There is a helper that will allow you

00:30:37.710 --> 00:30:38.990
<v Speaker 0>to modify the rules.

00:30:39.870 --> 00:30:41.710
<v Speaker 0>And this is quite interesting.

00:30:42.190 --> 00:30:44.030
<v Speaker 0>So let's cover some of the

00:30:44.590 --> 00:30:46.510
<v Speaker 0>things that happen here. So if I do

00:30:46.510 --> 00:30:47.950
<v Speaker 0>users update

00:30:48.750 --> 00:30:50.030
<v Speaker 0>Rawkode

00:30:51.645 --> 00:30:53.965
<v Speaker 0>and I set it to editor and access,

00:30:54.045 --> 00:30:57.005
<v Speaker 0>this will remove my auditor role,

00:30:58.045 --> 00:30:58.845
<v Speaker 0>like so.

00:31:00.205 --> 00:31:02.445
<v Speaker 0>And in fact, I think what's gonna happen

00:31:02.445 --> 00:31:02.925
<v Speaker 0>here,

00:31:04.490 --> 00:31:06.089
<v Speaker 0>if I refresh this,

00:31:07.370 --> 00:31:08.649
<v Speaker 0>it's still working.

00:31:11.210 --> 00:31:13.450
<v Speaker 0>Normally it would complain at me. Let's all

00:31:13.450 --> 00:31:14.489
<v Speaker 0>go back in.

00:31:14.889 --> 00:31:16.570
<v Speaker 0>Well, maybe my, maybe my,

00:31:17.325 --> 00:31:19.245
<v Speaker 0>oh, my access rule gives me ability to

00:31:19.245 --> 00:31:20.445
<v Speaker 0>audit as well. So

00:31:20.924 --> 00:31:22.445
<v Speaker 0>let's remove that too.

00:31:23.325 --> 00:31:24.764
<v Speaker 0>Let's just give me editor.

00:31:25.565 --> 00:31:25.965
<v Speaker 0>Cool.

00:31:32.429 --> 00:31:34.190
<v Speaker 0>Now we can come in here.

00:31:35.710 --> 00:31:37.470
<v Speaker 0>I still got some stuff.

00:31:38.429 --> 00:31:39.230
<v Speaker 0>Let's log out.

00:31:43.804 --> 00:31:44.524
<v Speaker 0>Okay.

00:31:45.725 --> 00:31:48.285
<v Speaker 0>So the roles were encoded into my certificate,

00:31:48.285 --> 00:31:48.924
<v Speaker 0>I guess.

00:31:49.405 --> 00:31:50.845
<v Speaker 0>So even though I was removed, I'd have

00:31:50.845 --> 00:31:52.445
<v Speaker 0>to wait for the certificate to expire before

00:31:52.445 --> 00:31:53.565
<v Speaker 0>I lost my access.

00:31:54.045 --> 00:31:56.060
<v Speaker 0>I guess what I did during my testing,

00:31:56.060 --> 00:31:57.100
<v Speaker 0>it made me think it was gonna yell

00:31:57.100 --> 00:31:58.700
<v Speaker 0>at me. It was I actually deleted the

00:31:58.700 --> 00:32:00.539
<v Speaker 0>rules that I had access to and

00:32:00.940 --> 00:32:03.340
<v Speaker 0>it really doesn't like that. Anyway, we we

00:32:03.340 --> 00:32:05.019
<v Speaker 0>no longer see our server.

00:32:06.060 --> 00:32:07.740
<v Speaker 0>There's no applications anyway.

00:32:07.820 --> 00:32:08.860
<v Speaker 0>If we come to activity,

00:32:09.825 --> 00:32:10.784
<v Speaker 0>there's no

00:32:11.585 --> 00:32:13.664
<v Speaker 0>audit log here, there's no events.

00:32:13.825 --> 00:32:15.424
<v Speaker 0>Though I still have the ability to modify

00:32:15.424 --> 00:32:17.345
<v Speaker 0>users and roles. So I've got editor, but

00:32:17.345 --> 00:32:18.784
<v Speaker 0>I've got nothing else.

00:32:19.585 --> 00:32:21.184
<v Speaker 0>So let's just add all of that back

00:32:21.184 --> 00:32:21.424
<v Speaker 0>in.

00:32:23.299 --> 00:32:24.900
<v Speaker 0>It's just good to know that if you

00:32:24.900 --> 00:32:26.980
<v Speaker 0>don't really want to do a T control,

00:32:26.980 --> 00:32:29.539
<v Speaker 0>get users, modify the YAML, there is the

00:32:29.539 --> 00:32:31.539
<v Speaker 0>ability just to quickly update the rules from

00:32:31.539 --> 00:32:32.100
<v Speaker 0>there.

00:32:33.140 --> 00:32:35.965
<v Speaker 0>Omar is asking, am I too late? Nope.

00:32:35.965 --> 00:32:37.565
<v Speaker 0>We're gonna be here for another thirty minutes

00:32:37.565 --> 00:32:40.364
<v Speaker 0>playing with the Rawk features of Teleport.

00:32:40.684 --> 00:32:42.605
<v Speaker 0>Assuming that's what you're asking if you're late

00:32:42.605 --> 00:32:43.084
<v Speaker 0>for.

00:32:43.965 --> 00:32:44.684
<v Speaker 0>Cool.

00:32:47.245 --> 00:32:50.140
<v Speaker 0>All right. So let's try and everything we've

00:32:50.140 --> 00:32:52.540
<v Speaker 0>seen for so far has been relatively

00:32:53.260 --> 00:32:54.060
<v Speaker 0>permissive,

00:32:54.060 --> 00:32:55.980
<v Speaker 0>right? We've got star stars and a lot

00:32:55.980 --> 00:32:57.820
<v Speaker 0>of our roles, and that's not where you

00:32:57.820 --> 00:33:00.140
<v Speaker 0>wanna be when you're shipping Teleport into production.

00:33:00.140 --> 00:33:03.020
<v Speaker 0>But we actually want to restrict this access

00:33:03.020 --> 00:33:03.980
<v Speaker 0>a little bit, right?

00:33:05.155 --> 00:33:05.794
<v Speaker 0>So

00:33:06.195 --> 00:33:07.875
<v Speaker 0>what we wanna take a look at is

00:33:07.875 --> 00:33:10.035
<v Speaker 0>how do we limit access to the control

00:33:10.035 --> 00:33:12.674
<v Speaker 0>plane node by using a node label

00:33:13.075 --> 00:33:15.635
<v Speaker 0>and an edit the rule to include the

00:33:15.635 --> 00:33:16.275
<v Speaker 0>node label.

00:33:17.140 --> 00:33:19.460
<v Speaker 0>This will be really straightforward. If you wanna

00:33:19.460 --> 00:33:21.860
<v Speaker 0>go read the docs and feel free,

00:33:22.260 --> 00:33:24.499
<v Speaker 0>but we're just gonna go straight in

00:33:24.900 --> 00:33:26.100
<v Speaker 0>and play with this.

00:33:26.500 --> 00:33:29.299
<v Speaker 0>Now, the way that you add roles, labels,

00:33:29.460 --> 00:33:30.820
<v Speaker 0>the way that you add labels

00:33:31.425 --> 00:33:34.385
<v Speaker 0>to your infrastructure is in the Teleport configuration.

00:33:34.945 --> 00:33:37.105
<v Speaker 0>And we've covered this in a previous episode

00:33:37.105 --> 00:33:38.945
<v Speaker 0>two of the course, but I'll give you

00:33:38.945 --> 00:33:41.185
<v Speaker 0>the very quick TLDR,

00:33:41.665 --> 00:33:43.425
<v Speaker 0>is that if we come into the SSH

00:33:43.425 --> 00:33:44.145
<v Speaker 0>service,

00:33:44.385 --> 00:33:46.065
<v Speaker 0>you'll see here that we have a static

00:33:46.065 --> 00:33:49.250
<v Speaker 0>label. Static label means that it's hard coded

00:33:49.250 --> 00:33:50.210
<v Speaker 0>in this file.

00:33:50.610 --> 00:33:52.210
<v Speaker 0>So I can see environment

00:33:52.210 --> 00:33:53.090
<v Speaker 0>equals

00:33:53.330 --> 00:33:54.130
<v Speaker 0>staging.

00:33:55.490 --> 00:33:56.850
<v Speaker 0>You can have dynamic

00:33:57.010 --> 00:33:57.890
<v Speaker 0>labels,

00:33:57.890 --> 00:34:00.690
<v Speaker 0>which run commands. So you'll see commands here,

00:34:00.690 --> 00:34:01.890
<v Speaker 0>and then we've got the name,

00:34:03.554 --> 00:34:06.114
<v Speaker 0>and this is the name of the label,

00:34:06.355 --> 00:34:07.874
<v Speaker 0>which is going to be host name.

00:34:08.114 --> 00:34:10.435
<v Speaker 0>The command to run and any arguments that

00:34:10.435 --> 00:34:12.514
<v Speaker 0>it requires to get that value back, but

00:34:12.514 --> 00:34:14.835
<v Speaker 0>here we're just in host name. And then

00:34:14.835 --> 00:34:17.395
<v Speaker 0>just in case these values change over time

00:34:17.395 --> 00:34:20.099
<v Speaker 0>for whatever reason, unlikely with the host name,

00:34:20.099 --> 00:34:21.140
<v Speaker 0>but you never know,

00:34:21.859 --> 00:34:23.780
<v Speaker 0>how often should we run this command to

00:34:23.780 --> 00:34:25.380
<v Speaker 0>get the value for that label?

00:34:27.619 --> 00:34:30.739
<v Speaker 0>So let's add one more just because we

00:34:30.739 --> 00:34:35.060
<v Speaker 0>can, we'll call this

00:34:34.475 --> 00:34:36.075
<v Speaker 0>sessions count

00:34:37.035 --> 00:34:39.275
<v Speaker 0>and the command we're going to run will

00:34:39.275 --> 00:34:39.915
<v Speaker 0>be

00:34:41.915 --> 00:34:42.795
<v Speaker 0>who

00:34:43.355 --> 00:34:45.035
<v Speaker 0>this is even gonna work with a pipe

00:34:45.035 --> 00:34:45.755
<v Speaker 0>in it.

00:34:46.875 --> 00:34:49.580
<v Speaker 0>Maybe I'm getting too too silly here.

00:34:49.660 --> 00:34:51.500
<v Speaker 0>Period thirty

00:34:52.380 --> 00:34:53.500
<v Speaker 0>seconds.

00:34:55.820 --> 00:34:58.140
<v Speaker 0>I have no idea. Like, so who gives

00:34:58.140 --> 00:34:58.940
<v Speaker 0>you this?

00:34:59.020 --> 00:35:00.780
<v Speaker 0>Obviously, it's actually also giving me the count

00:35:00.780 --> 00:35:01.420
<v Speaker 0>one user.

00:35:03.275 --> 00:35:05.835
<v Speaker 0>Now, whenever you change the Teleport configuration, you

00:35:05.835 --> 00:35:07.994
<v Speaker 0>do need to restart it.

00:35:09.035 --> 00:35:11.035
<v Speaker 0>And now if I can't access Teleport, it

00:35:11.035 --> 00:35:13.275
<v Speaker 0>did not like that dynamic pity

00:35:13.434 --> 00:35:14.315
<v Speaker 0>label thingy.

00:35:15.590 --> 00:35:17.350
<v Speaker 0>Alright. Not too bad.

00:35:19.670 --> 00:35:21.830
<v Speaker 0>Now, don't have any surfers and that's because

00:35:21.830 --> 00:35:23.110
<v Speaker 0>we changed my rules.

00:35:23.590 --> 00:35:24.710
<v Speaker 0>I'm gonna log back in.

00:35:30.945 --> 00:35:32.545
<v Speaker 0>Executable not found.

00:35:32.785 --> 00:35:35.105
<v Speaker 0>Alright. I am gonna make that work though.

00:35:35.984 --> 00:35:37.585
<v Speaker 0>So the challenge here

00:35:37.984 --> 00:35:39.425
<v Speaker 0>is

00:35:40.740 --> 00:35:41.780
<v Speaker 0>bash

00:35:42.660 --> 00:35:43.860
<v Speaker 0>dash c

00:35:48.420 --> 00:35:49.300
<v Speaker 0>restart.

00:36:01.765 --> 00:36:03.045
<v Speaker 0>I don't know why I'm so happy with

00:36:03.045 --> 00:36:05.205
<v Speaker 0>that. But I am going to open a

00:36:05.205 --> 00:36:06.565
<v Speaker 0>new session just so I can see that

00:36:06.565 --> 00:36:06.805
<v Speaker 0>too.

00:36:07.500 --> 00:36:08.540
<v Speaker 0>Teleport.

00:36:08.540 --> 00:36:09.420
<v Speaker 0>Rawkode.

00:36:09.500 --> 00:36:10.940
<v Speaker 0>Live. Cool.

00:36:12.620 --> 00:36:13.980
<v Speaker 0>So in thirty seconds time,

00:36:31.105 --> 00:36:34.865
<v Speaker 0>I'm again, I'm hoping I'm still here. Hoping

00:36:35.700 --> 00:36:36.820
<v Speaker 0>I'm still here.

00:36:37.300 --> 00:36:39.140
<v Speaker 0>Alright. The software seems to say I'm still

00:36:39.140 --> 00:36:39.860
<v Speaker 0>online.

00:36:40.020 --> 00:36:41.540
<v Speaker 0>Twice.

00:36:42.180 --> 00:36:44.740
<v Speaker 0>We are having I think not Justin's gone.

00:36:44.740 --> 00:36:45.220
<v Speaker 0>Most

00:36:45.859 --> 00:36:48.500
<v Speaker 0>lots of The UK. I think some of

00:36:48.500 --> 00:36:50.665
<v Speaker 0>Europe's on The US. There's the storms at

00:36:50.665 --> 00:36:51.305
<v Speaker 0>the moment,

00:36:51.704 --> 00:36:53.385
<v Speaker 0>which is why I think the power

00:36:53.625 --> 00:36:56.505
<v Speaker 0>is going out. Yeah. Russell's in dark mode.

00:36:57.224 --> 00:36:59.545
<v Speaker 0>But my my five g router seems to

00:36:59.545 --> 00:37:01.065
<v Speaker 0>be handling this

00:37:01.145 --> 00:37:03.224
<v Speaker 0>more blip, which is great because it means

00:37:03.224 --> 00:37:04.825
<v Speaker 0>that I'm not having to restart the stream.

00:37:05.619 --> 00:37:06.900
<v Speaker 0>So let's go back.

00:37:09.060 --> 00:37:10.580
<v Speaker 0>So in thirty seconds, in fact, if I

00:37:10.580 --> 00:37:12.340
<v Speaker 0>refresh this now, it's been thirty seconds, we

00:37:12.340 --> 00:37:13.940
<v Speaker 0>should see session counter two.

00:37:14.740 --> 00:37:16.660
<v Speaker 0>Not important for what we're doing right now.

00:37:16.660 --> 00:37:18.744
<v Speaker 0>I just thought that was fun. So, but

00:37:18.744 --> 00:37:21.305
<v Speaker 0>we do have a environment staging label on

00:37:21.305 --> 00:37:22.265
<v Speaker 0>this machine.

00:37:23.465 --> 00:37:24.985
<v Speaker 0>And if we come back to here, then

00:37:24.985 --> 00:37:27.625
<v Speaker 0>what we want to do is to restrict

00:37:27.625 --> 00:37:28.505
<v Speaker 0>access

00:37:28.505 --> 00:37:30.105
<v Speaker 0>to this role,

00:37:30.185 --> 00:37:30.985
<v Speaker 0>to these machines.

00:37:32.319 --> 00:37:34.000
<v Speaker 0>But I'm gonna do that for

00:37:34.160 --> 00:37:35.280
<v Speaker 0>the CLI.

00:37:35.920 --> 00:37:37.760
<v Speaker 0>So we'll do a TCTL

00:37:39.040 --> 00:37:39.920
<v Speaker 0>get

00:37:40.079 --> 00:37:40.960
<v Speaker 0>roles,

00:37:40.960 --> 00:37:41.760
<v Speaker 0>roles.

00:37:41.839 --> 00:37:42.800
<v Speaker 0>Yaml.

00:37:44.079 --> 00:37:46.000
<v Speaker 0>And does that say create a role or

00:37:46.000 --> 00:37:46.960
<v Speaker 0>modify a role?

00:37:52.215 --> 00:37:53.495
<v Speaker 0>Let's create a role.

00:37:54.455 --> 00:37:55.975
<v Speaker 0>Why not?

00:37:59.015 --> 00:38:00.695
<v Speaker 0>In fact, I do rules down here, don't

00:38:00.695 --> 00:38:00.855
<v Speaker 0>I?

00:38:02.410 --> 00:38:04.730
<v Speaker 0>Okay, cool. Let's just edit a rule for

00:38:04.730 --> 00:38:06.890
<v Speaker 0>now. So we're gonna modify our access rule,

00:38:07.050 --> 00:38:08.730
<v Speaker 0>which is our catch all rule

00:38:08.890 --> 00:38:10.810
<v Speaker 0>here for anyone who wants to be able

00:38:10.810 --> 00:38:12.250
<v Speaker 0>to SSH into machine.

00:38:12.570 --> 00:38:14.730
<v Speaker 0>And instead of node labels being star star,

00:38:16.875 --> 00:38:18.555
<v Speaker 0>I could set up the session count where

00:38:18.555 --> 00:38:20.635
<v Speaker 0>two, and I'd only be able to access

00:38:20.635 --> 00:38:22.795
<v Speaker 0>the machine when I have two local sessions.

00:38:22.795 --> 00:38:25.035
<v Speaker 0>How stupid would that be? And I'm totally

00:38:25.035 --> 00:38:25.915
<v Speaker 0>gonna do it.

00:38:27.995 --> 00:38:28.315
<v Speaker 0>Two.

00:38:29.760 --> 00:38:32.000
<v Speaker 0>Alright. I know sometimes I just

00:38:32.640 --> 00:38:34.800
<v Speaker 0>do silly things, but I think it's gonna

00:38:34.800 --> 00:38:37.040
<v Speaker 0>be funny. At least I'm laughing.

00:38:37.520 --> 00:38:38.160
<v Speaker 0>So

00:38:38.720 --> 00:38:39.360
<v Speaker 0>let

00:38:40.080 --> 00:38:41.945
<v Speaker 0>me recover what I'm doing here. I will

00:38:41.945 --> 00:38:44.345
<v Speaker 0>only be able to, as someone, as a

00:38:44.345 --> 00:38:45.785
<v Speaker 0>user with access,

00:38:45.945 --> 00:38:47.865
<v Speaker 0>with the role called access,

00:38:48.025 --> 00:38:50.025
<v Speaker 0>be able to connect to a machine when

00:38:50.025 --> 00:38:52.665
<v Speaker 0>it has two active sessions.

00:38:52.665 --> 00:38:52.985
<v Speaker 0>Why?

00:38:53.650 --> 00:38:54.450
<v Speaker 0>It

00:38:54.450 --> 00:38:56.210
<v Speaker 0>should have been environment staging.

00:38:56.369 --> 00:38:57.650
<v Speaker 0>And in fact, we can add

00:38:58.530 --> 00:39:00.450
<v Speaker 0>let's

00:39:00.450 --> 00:39:02.130
<v Speaker 0>do that in a minute. Let's just do

00:39:02.130 --> 00:39:03.250
<v Speaker 0>session count first.

00:39:03.570 --> 00:39:06.610
<v Speaker 0>So let's tctl create dash f roles.

00:39:08.724 --> 00:39:10.405
<v Speaker 0>Oh, what did I break?

00:39:17.605 --> 00:39:19.525
<v Speaker 0>Not a list of the map. There we

00:39:19.525 --> 00:39:19.685
<v Speaker 0>go.

00:39:23.600 --> 00:39:26.080
<v Speaker 0>And then we'll jump over to the UI,

00:39:28.640 --> 00:39:30.560
<v Speaker 0>and we no longer have access to the

00:39:30.560 --> 00:39:31.280
<v Speaker 0>server.

00:39:31.520 --> 00:39:32.240
<v Speaker 0>Cool.

00:39:32.880 --> 00:39:33.760
<v Speaker 0>Until

00:39:36.000 --> 00:39:37.280
<v Speaker 0>I have a second session.

00:39:38.035 --> 00:39:40.115
<v Speaker 0>And this may take thirty seconds,

00:39:40.435 --> 00:39:41.955
<v Speaker 0>but that's gonna come back and I'm gonna

00:39:41.955 --> 00:39:42.835
<v Speaker 0>be so happy.

00:39:43.795 --> 00:39:46.195
<v Speaker 0>So we can and let's talk about this

00:39:46.195 --> 00:39:47.155
<v Speaker 0>rule again. I can't

00:39:47.955 --> 00:39:49.395
<v Speaker 0>if we close it, I'll never get back

00:39:49.395 --> 00:39:49.635
<v Speaker 0>on.

00:39:51.960 --> 00:39:53.080
<v Speaker 0>No.

00:39:53.080 --> 00:39:54.200
<v Speaker 0>Good question.

00:39:56.600 --> 00:39:58.280
<v Speaker 0>Russell said, can you do it as less

00:39:58.280 --> 00:40:01.240
<v Speaker 0>than two single access only? No.

00:40:01.240 --> 00:40:02.680
<v Speaker 0>You can't because

00:40:02.760 --> 00:40:04.280
<v Speaker 0>it's just not what's intended.

00:40:04.974 --> 00:40:07.535
<v Speaker 0>There's no actual it's not like an expression

00:40:07.775 --> 00:40:09.375
<v Speaker 0>that can be parsed and

00:40:10.255 --> 00:40:10.975
<v Speaker 0>evaluated.

00:40:11.375 --> 00:40:13.935
<v Speaker 0>Especially it's just after label contains session count

00:40:13.935 --> 00:40:15.695
<v Speaker 0>of a value of two. It's just not

00:40:15.695 --> 00:40:17.375
<v Speaker 0>the right match. It's not supposed to be

00:40:17.375 --> 00:40:19.375
<v Speaker 0>used in a stupid way. It's just something

00:40:19.375 --> 00:40:20.335
<v Speaker 0>that I thought would be funny.

00:40:24.829 --> 00:40:26.510
<v Speaker 0>Well, it's not work, Jay, anyway.

00:40:29.390 --> 00:40:31.309
<v Speaker 0>We'll give out an hour, ten seconds before

00:40:31.309 --> 00:40:31.870
<v Speaker 0>I

00:40:32.910 --> 00:40:34.910
<v Speaker 0>revert it to something more sensible as environment

00:40:34.910 --> 00:40:35.309
<v Speaker 0>station.

00:40:36.444 --> 00:40:38.365
<v Speaker 0>Can I create a third session? I can

00:40:38.365 --> 00:40:40.445
<v Speaker 0>100% create a third session,

00:40:41.085 --> 00:40:42.605
<v Speaker 0>but then my matcher won't work and I

00:40:42.605 --> 00:40:44.204
<v Speaker 0>won't have access to my node. Not that

00:40:44.204 --> 00:40:45.805
<v Speaker 0>I have access to it yet anyway.

00:40:46.765 --> 00:40:48.204
<v Speaker 0>Now I wonder if that's just because of

00:40:48.204 --> 00:40:48.924
<v Speaker 0>the string.

00:40:54.270 --> 00:40:55.710
<v Speaker 0>Where did I create that file?

00:40:55.950 --> 00:40:57.230
<v Speaker 0>Do Teleport,

00:40:57.230 --> 00:40:58.590
<v Speaker 0>vp 10.

00:40:59.630 --> 00:41:00.990
<v Speaker 0>Nope, my rules aren't there.

00:41:06.445 --> 00:41:07.645
<v Speaker 0>TCTL,

00:41:07.645 --> 00:41:10.045
<v Speaker 0>get rules, rules dot yaml.

00:41:10.765 --> 00:41:12.205
<v Speaker 0>BIM edit.

00:41:13.165 --> 00:41:15.245
<v Speaker 0>Let's do a sensible, my silly idea.

00:41:17.510 --> 00:41:19.190
<v Speaker 0>Yeah. It isn't working. And I wonder if

00:41:19.190 --> 00:41:20.550
<v Speaker 0>it's the string number

00:41:21.349 --> 00:41:22.070
<v Speaker 0>thing.

00:41:24.869 --> 00:41:25.510
<v Speaker 0>Access.

00:41:38.155 --> 00:41:38.795
<v Speaker 0>Oh,

00:41:40.875 --> 00:41:42.315
<v Speaker 0>did that on the server.

00:41:42.475 --> 00:41:43.435
<v Speaker 0>Okay.

00:41:45.195 --> 00:41:46.475
<v Speaker 0>Well, why did the get rules?

00:41:49.140 --> 00:41:50.020
<v Speaker 0>Did I apply it?

00:41:59.395 --> 00:42:01.875
<v Speaker 0>Am I connected to a different cluster here?

00:42:06.675 --> 00:42:07.395
<v Speaker 0>Yes.

00:42:08.915 --> 00:42:11.555
<v Speaker 0>That's my Teleport Cloud account. Okay. Stop being

00:42:11.555 --> 00:42:12.195
<v Speaker 0>silly, David.

00:42:13.329 --> 00:42:16.690
<v Speaker 0>Alright. So let's set this to an appropriate

00:42:16.690 --> 00:42:18.530
<v Speaker 0>value of env

00:42:19.329 --> 00:42:21.090
<v Speaker 0>staging.

00:42:23.410 --> 00:42:25.410
<v Speaker 0>So now anyone with the access rule can

00:42:25.410 --> 00:42:26.930
<v Speaker 0>only access

00:42:30.545 --> 00:42:33.185
<v Speaker 0>staging machines, which for us is the only

00:42:33.185 --> 00:42:34.145
<v Speaker 0>machine we have.

00:42:34.545 --> 00:42:35.905
<v Speaker 0>So let's refresh.

00:42:37.825 --> 00:42:39.345
<v Speaker 0>We have it back. Cool.

00:42:40.145 --> 00:42:41.744
<v Speaker 0>Don't know why that session can't do doesn't

00:42:41.744 --> 00:42:42.705
<v Speaker 0>work. I really thought it would.

00:42:45.180 --> 00:42:45.980
<v Speaker 0>Okay.

00:42:48.620 --> 00:42:50.380
<v Speaker 0>Okay. So now we're gonna do something really

00:42:50.380 --> 00:42:50.940
<v Speaker 0>fun.

00:42:51.500 --> 00:42:54.460
<v Speaker 0>And we're gonna talk about elevated permissions for

00:42:54.460 --> 00:42:55.260
<v Speaker 0>Teleport,

00:42:55.260 --> 00:42:57.980
<v Speaker 0>requesting access and setting up a workflow

00:43:00.135 --> 00:43:01.015
<v Speaker 0>to

00:43:01.575 --> 00:43:03.735
<v Speaker 0>really provide an environment where

00:43:04.215 --> 00:43:06.455
<v Speaker 0>you don't want to tell people they can't

00:43:06.455 --> 00:43:07.975
<v Speaker 0>go onto a machine, but you want to

00:43:07.975 --> 00:43:09.575
<v Speaker 0>make it an exception.

00:43:10.055 --> 00:43:10.695
<v Speaker 0>Like

00:43:10.935 --> 00:43:14.615
<v Speaker 0>going onto production machines, production databases using SSH

00:43:14.615 --> 00:43:15.255
<v Speaker 0>is

00:43:15.789 --> 00:43:18.349
<v Speaker 0>Oh shit, something is happening. And I should

00:43:18.349 --> 00:43:20.269
<v Speaker 0>probably make other people aware that this is

00:43:20.269 --> 00:43:21.710
<v Speaker 0>going to happen or I'm going to do

00:43:21.710 --> 00:43:23.630
<v Speaker 0>this because of the thing, right? We don't

00:43:23.630 --> 00:43:25.390
<v Speaker 0>wanna normalize

00:43:25.549 --> 00:43:28.029
<v Speaker 0>people just jumping around on machines, making changes,

00:43:28.029 --> 00:43:29.309
<v Speaker 0>right? Bad, bad, bad, bad, bad.

00:43:30.335 --> 00:43:31.775
<v Speaker 0>So what we want to do is have

00:43:31.775 --> 00:43:33.214
<v Speaker 0>a workflow for that. And what we're gonna

00:43:33.214 --> 00:43:34.974
<v Speaker 0>do here is build a workflow,

00:43:35.615 --> 00:43:37.454
<v Speaker 0>where everybody that has Teleport,

00:43:37.694 --> 00:43:40.174
<v Speaker 0>everybody that we want to have access to

00:43:40.174 --> 00:43:41.055
<v Speaker 0>Teleport

00:43:41.295 --> 00:43:43.134
<v Speaker 0>has a role called SRE.

00:43:44.020 --> 00:43:45.700
<v Speaker 0>And we all have the same access, we're

00:43:45.700 --> 00:43:48.420
<v Speaker 0>all one big team, but that access doesn't

00:43:48.420 --> 00:43:50.980
<v Speaker 0>actually allow us to get onto production machines.

00:43:51.380 --> 00:43:53.220
<v Speaker 0>So then we're going to have another role

00:43:53.300 --> 00:43:54.580
<v Speaker 0>called production,

00:43:55.140 --> 00:43:57.060
<v Speaker 0>which is going to use the Teleport feature

00:43:57.060 --> 00:43:58.740
<v Speaker 0>for requesting access,

00:43:59.345 --> 00:44:01.665
<v Speaker 0>which could be approved by any other SRE.

00:44:02.065 --> 00:44:03.984
<v Speaker 0>So we set up a dynamic where it's

00:44:03.984 --> 00:44:06.065
<v Speaker 0>like, we all can get to production, but

00:44:06.065 --> 00:44:07.744
<v Speaker 0>we have to make someone else aware that

00:44:07.744 --> 00:44:09.425
<v Speaker 0>we want access to production

00:44:09.664 --> 00:44:11.345
<v Speaker 0>and we get it. And we get it

00:44:11.345 --> 00:44:12.305
<v Speaker 0>for a certain

00:44:12.865 --> 00:44:13.585
<v Speaker 0>period of time.

00:44:14.210 --> 00:44:16.849
<v Speaker 0>And then the access will be de escalated

00:44:16.849 --> 00:44:17.570
<v Speaker 0>and

00:44:17.809 --> 00:44:19.490
<v Speaker 0>nobody can get back onto production.

00:44:21.410 --> 00:44:23.329
<v Speaker 0>Hopefully that makes sense. So we're gonna work

00:44:23.329 --> 00:44:24.930
<v Speaker 0>through it. So what we need to do

00:44:24.930 --> 00:44:26.450
<v Speaker 0>is first I need a second user.

00:44:26.925 --> 00:44:28.765
<v Speaker 0>This will be my teammate.

00:44:29.165 --> 00:44:30.685
<v Speaker 0>So we will do users

00:44:30.845 --> 00:44:33.405
<v Speaker 0>at, and I will call this user,

00:44:34.365 --> 00:44:35.965
<v Speaker 0>Mozz has been in the chat, so I'm

00:44:35.965 --> 00:44:36.925
<v Speaker 0>going to create Mozz.

00:44:39.270 --> 00:44:40.390
<v Speaker 0>Roles,

00:44:41.510 --> 00:44:43.270
<v Speaker 0>access. I'm gonna give you

00:44:43.590 --> 00:44:44.550
<v Speaker 0>everything.

00:44:45.670 --> 00:44:46.550
<v Speaker 0>Auditor.

00:44:47.510 --> 00:44:49.750
<v Speaker 0>Cool. And we will

00:44:51.990 --> 00:44:53.270
<v Speaker 0>copy this.

00:44:55.235 --> 00:44:56.835
<v Speaker 0>I'm gonna have to log out.

00:44:59.155 --> 00:45:00.195
<v Speaker 0>But that's okay.

00:45:01.235 --> 00:45:02.275
<v Speaker 0>And register.

00:45:02.835 --> 00:45:03.715
<v Speaker 0>I hate it.

00:45:04.595 --> 00:45:06.755
<v Speaker 0>When that happens, this seems to be the

00:45:06.755 --> 00:45:07.075
<v Speaker 0>port.

00:45:08.330 --> 00:45:09.930
<v Speaker 0>So we're going to get started. I'm gonna

00:45:09.930 --> 00:45:12.010
<v Speaker 0>use the same password because why not?

00:45:17.450 --> 00:45:18.410
<v Speaker 0>Like so.

00:45:19.050 --> 00:45:21.130
<v Speaker 0>And then we need to scan a second

00:45:21.130 --> 00:45:23.370
<v Speaker 0>to FA because that is not going to

00:45:23.370 --> 00:45:24.395
<v Speaker 0>get confusing.

00:45:27.755 --> 00:45:29.755
<v Speaker 0>Code two and

00:45:29.755 --> 00:45:31.835
<v Speaker 0>that is my Moz account.

00:45:33.275 --> 00:45:33.595
<v Speaker 0>Nice.

00:45:37.050 --> 00:45:38.970
<v Speaker 0>I didn't give you any login traits, which

00:45:38.970 --> 00:45:40.730
<v Speaker 0>is why you can't see in the machine,

00:45:40.970 --> 00:45:42.810
<v Speaker 0>but we're not gonna worry about that.

00:45:43.930 --> 00:45:46.250
<v Speaker 0>Okay, next on the task list. So I

00:45:46.250 --> 00:45:47.290
<v Speaker 0>have created

00:45:48.285 --> 00:45:49.885
<v Speaker 0>a new user, but we don't have our

00:45:49.885 --> 00:45:52.365
<v Speaker 0>SRE role yet, so let's create that.

00:45:52.845 --> 00:45:54.204
<v Speaker 0>So that we can just do on the

00:45:54.204 --> 00:45:56.925
<v Speaker 0>command line, so we'll call this SRE role

00:45:56.925 --> 00:45:57.965
<v Speaker 0>dot YAML.

00:45:58.285 --> 00:45:59.805
<v Speaker 0>I am not going to remember all of

00:45:59.805 --> 00:46:01.244
<v Speaker 0>this, so I'm going to click show me

00:46:01.244 --> 00:46:01.885
<v Speaker 0>the YAML,

00:46:02.420 --> 00:46:04.580
<v Speaker 0>and here is my SRE role.

00:46:05.940 --> 00:46:08.900
<v Speaker 0>Let's go through this. So we have the

00:46:08.900 --> 00:46:10.340
<v Speaker 0>name, metadata,

00:46:10.420 --> 00:46:11.460
<v Speaker 0>all Kubernetes,

00:46:11.460 --> 00:46:12.500
<v Speaker 0>we have a spec,

00:46:12.740 --> 00:46:14.100
<v Speaker 0>feels like Kubernetes,

00:46:14.420 --> 00:46:15.780
<v Speaker 0>only this time

00:46:16.175 --> 00:46:18.575
<v Speaker 0>we're going to have an allow condition

00:46:19.375 --> 00:46:21.455
<v Speaker 0>where I can request

00:46:22.255 --> 00:46:24.095
<v Speaker 0>access to production

00:46:25.375 --> 00:46:27.295
<v Speaker 0>if I get two approvals. We don't want

00:46:27.295 --> 00:46:28.655
<v Speaker 0>two, we want one because there's no I'm

00:46:28.655 --> 00:46:30.335
<v Speaker 0>not gonna create a start account, not not

00:46:30.335 --> 00:46:30.815
<v Speaker 0>for today.

00:46:32.560 --> 00:46:34.480
<v Speaker 0>Where thresholds are set to one on one.

00:46:34.480 --> 00:46:36.400
<v Speaker 0>So if one person denies it, I do

00:46:36.400 --> 00:46:38.560
<v Speaker 0>not get the access. If this was three,

00:46:38.560 --> 00:46:40.480
<v Speaker 0>I would require three people to approve it

00:46:40.480 --> 00:46:42.320
<v Speaker 0>before I got the access. But for today,

00:46:42.320 --> 00:46:43.359
<v Speaker 0>we're doing one on

00:46:44.025 --> 00:46:44.745
<v Speaker 0>Also,

00:46:44.825 --> 00:46:46.505
<v Speaker 0>this is not something I've seen in the

00:46:46.505 --> 00:46:48.505
<v Speaker 0>Teleport docs, but it'll test us and this

00:46:48.505 --> 00:46:51.145
<v Speaker 0>works. And again, I'm using this approach because

00:46:51.145 --> 00:46:52.825
<v Speaker 0>it's one team commoditizing

00:46:52.825 --> 00:46:54.585
<v Speaker 0>access and setting new norms,

00:46:55.460 --> 00:46:57.299
<v Speaker 0>not hierarchical

00:46:57.299 --> 00:46:59.859
<v Speaker 0>you cannot get onto this machine thing.

00:47:00.099 --> 00:47:02.019
<v Speaker 0>So I'm actually making it so that anyone

00:47:02.019 --> 00:47:03.859
<v Speaker 0>with the SRE role can also

00:47:04.500 --> 00:47:05.140
<v Speaker 0>approve.

00:47:11.275 --> 00:47:13.355
<v Speaker 0>Russell's saying, yes, this was the two NSE's

00:47:13.355 --> 00:47:14.315
<v Speaker 0>now need to wake up in the middle

00:47:14.315 --> 00:47:15.515
<v Speaker 0>of night for problems.

00:47:17.115 --> 00:47:17.755
<v Speaker 0>Well,

00:47:19.035 --> 00:47:20.955
<v Speaker 0>this is just the example I am using.

00:47:21.915 --> 00:47:22.795
<v Speaker 0>If you have

00:47:23.550 --> 00:47:26.590
<v Speaker 0>very limited selection of SREs following the clock,

00:47:26.590 --> 00:47:27.950
<v Speaker 0>following the sun,

00:47:28.350 --> 00:47:29.870
<v Speaker 0>then you may wish to tweak it.

00:47:30.350 --> 00:47:31.070
<v Speaker 0>However,

00:47:31.230 --> 00:47:32.590
<v Speaker 0>stick with me for the demo.

00:47:32.990 --> 00:47:34.590
<v Speaker 0>So what I'm doing different from a Teleport

00:47:34.590 --> 00:47:37.230
<v Speaker 0>documentation here is allowing this same role to

00:47:37.230 --> 00:47:38.510
<v Speaker 0>be the approver.

00:47:39.165 --> 00:47:41.805
<v Speaker 0>Because again, it's not hierarchical thing. It's not

00:47:41.805 --> 00:47:43.885
<v Speaker 0>you are not on my level, you cannot

00:47:43.885 --> 00:47:46.445
<v Speaker 0>approve this. It is, hey, we're a team.

00:47:46.685 --> 00:47:47.325
<v Speaker 0>So

00:47:47.805 --> 00:47:49.645
<v Speaker 0>we're going to save this. And in fact,

00:47:49.645 --> 00:47:52.045
<v Speaker 0>I'm just gonna in the interest of time,

00:47:52.045 --> 00:47:53.485
<v Speaker 0>I know my

00:47:54.045 --> 00:47:54.765
<v Speaker 0>segues

00:47:55.220 --> 00:47:56.980
<v Speaker 0>have meant we're a little bit behind,

00:47:57.380 --> 00:47:59.700
<v Speaker 0>as I'm gonna copy the production rule.

00:48:00.260 --> 00:48:02.099
<v Speaker 0>So what we're going to do, let's say,

00:48:02.099 --> 00:48:02.660
<v Speaker 0>okay.

00:48:03.140 --> 00:48:06.660
<v Speaker 0>The production rule allows route access to machines

00:48:06.660 --> 00:48:07.940
<v Speaker 0>marked as production.

00:48:09.065 --> 00:48:10.665
<v Speaker 0>Not just to make this work, we're gonna

00:48:10.665 --> 00:48:12.265
<v Speaker 0>go to teleport.yaml.

00:48:13.145 --> 00:48:14.745
<v Speaker 0>We can remove my session count now as

00:48:14.745 --> 00:48:15.785
<v Speaker 0>fun as that was.

00:48:16.505 --> 00:48:18.745
<v Speaker 0>We're gonna call this machine production,

00:48:20.265 --> 00:48:20.505
<v Speaker 0>restart

00:48:22.790 --> 00:48:23.590
<v Speaker 0>teleport.

00:48:24.950 --> 00:48:26.470
<v Speaker 0>The Moz user

00:48:26.470 --> 00:48:30.310
<v Speaker 0>doesn't have logins, so that won't matter.

00:48:32.150 --> 00:48:34.230
<v Speaker 0>Will it? That won't matter.

00:48:35.430 --> 00:48:36.630
<v Speaker 0>So let's come here,

00:48:37.295 --> 00:48:38.415
<v Speaker 0>Teleport.

00:48:39.295 --> 00:48:41.135
<v Speaker 0>Now what I should really do is have

00:48:41.135 --> 00:48:42.415
<v Speaker 0>one in a browser and one in a

00:48:42.415 --> 00:48:43.935
<v Speaker 0>CLI. So I could build a little request,

00:48:43.935 --> 00:48:46.095
<v Speaker 0>just kinda look at it like a silly

00:48:46.655 --> 00:48:47.295
<v Speaker 0>person.

00:48:47.935 --> 00:48:48.575
<v Speaker 0>So,

00:48:48.815 --> 00:48:50.655
<v Speaker 0>and I wanna show both floors, so we

00:48:50.655 --> 00:48:51.855
<v Speaker 0>just need to send two requests.

00:48:52.380 --> 00:48:54.380
<v Speaker 0>Cool. So I have moz here. I'm gonna

00:48:54.380 --> 00:48:55.260
<v Speaker 0>log in.

00:48:56.619 --> 00:48:58.060
<v Speaker 0>Tctl

00:48:58.940 --> 00:49:00.060
<v Speaker 0>tsh

00:49:00.859 --> 00:49:01.660
<v Speaker 0>login.

00:49:02.220 --> 00:49:03.980
<v Speaker 0>That's the clustered link. We don't want that

00:49:03.980 --> 00:49:06.380
<v Speaker 0>one today. Teleport. Rokode.io.

00:49:08.655 --> 00:49:09.535
<v Speaker 0>Password.

00:49:10.095 --> 00:49:12.815
<v Speaker 0>Is that in here yet? Rawkode test

00:49:12.815 --> 00:49:13.935
<v Speaker 0>teleport.

00:49:15.295 --> 00:49:17.135
<v Speaker 0>That's not one with two codes.

00:49:19.375 --> 00:49:20.175
<v Speaker 0>I

00:49:20.175 --> 00:49:22.415
<v Speaker 0>don't know why it's not doing a proper

00:49:22.415 --> 00:49:22.815
<v Speaker 0>sync.

00:49:24.220 --> 00:49:25.580
<v Speaker 0>One pass through a day.

00:49:26.460 --> 00:49:28.060
<v Speaker 0>Rawkode livestream.

00:49:28.060 --> 00:49:29.740
<v Speaker 0>Maybe I just got the name wrong.

00:49:33.500 --> 00:49:34.540
<v Speaker 0>Rawkode

00:49:34.540 --> 00:49:35.500
<v Speaker 0>livestream.

00:49:35.500 --> 00:49:36.540
<v Speaker 0>No, it's not a sync.

00:49:39.875 --> 00:49:42.755
<v Speaker 0>To FA code for me, not for Moz.

00:49:45.075 --> 00:49:47.475
<v Speaker 0>Yeah. I'm not applied the role yet. Oh,

00:49:47.475 --> 00:49:48.195
<v Speaker 0>good point.

00:49:49.075 --> 00:49:50.195
<v Speaker 0>I need to log in again.

00:49:50.960 --> 00:49:53.200
<v Speaker 0>Good catch, Mozz. Tctl

00:49:53.200 --> 00:49:54.640
<v Speaker 0>create Azure F

00:49:55.599 --> 00:49:57.039
<v Speaker 0>SRE rule. There we go.

00:50:04.475 --> 00:50:07.115
<v Speaker 0>Funnily enough, was testing this against an enterprise,

00:50:07.115 --> 00:50:08.875
<v Speaker 0>and I didn't know that was a constraint.

00:50:09.275 --> 00:50:11.995
<v Speaker 0>Allow request threshold is only available in enterprise

00:50:11.995 --> 00:50:12.875
<v Speaker 0>subscriptions.

00:50:13.195 --> 00:50:14.155
<v Speaker 0>Alright. But

00:50:15.035 --> 00:50:18.155
<v Speaker 0>privilege elevation is available on open source. Maybe

00:50:18.155 --> 00:50:19.275
<v Speaker 0>I just can't set the threshold.

00:50:23.900 --> 00:50:25.100
<v Speaker 0>I'm gonna have to do this against my

00:50:25.100 --> 00:50:25.980
<v Speaker 0>Teleport Cloud account.

00:50:33.635 --> 00:50:35.474
<v Speaker 0>Looks like it's still set request. Maybe I

00:50:35.474 --> 00:50:36.915
<v Speaker 0>don't know about approval.

00:50:39.395 --> 00:50:40.915
<v Speaker 0>I don't know whether to test this or

00:50:40.915 --> 00:50:42.195
<v Speaker 0>just go through my other one.

00:50:50.010 --> 00:50:51.210
<v Speaker 0>Let's see what happens.

00:50:51.850 --> 00:50:53.690
<v Speaker 0>So I'm gonna re log in

00:50:54.090 --> 00:50:54.890
<v Speaker 0>here.

00:50:59.450 --> 00:51:01.690
<v Speaker 0>These computers are just mean to me.

00:51:03.105 --> 00:51:03.985
<v Speaker 0>A

00:51:03.985 --> 00:51:06.065
<v Speaker 0>lot of times I am mean to them.

00:51:06.065 --> 00:51:07.985
<v Speaker 0>So, one second

00:51:08.385 --> 00:51:09.185
<v Speaker 0>again.

00:51:10.625 --> 00:51:11.745
<v Speaker 0>Cool.

00:51:12.465 --> 00:51:14.785
<v Speaker 0>So we're gonna do tctl

00:51:14.785 --> 00:51:15.825
<v Speaker 0>request

00:51:16.690 --> 00:51:18.370
<v Speaker 0>ls. Now this will allow me to list

00:51:18.370 --> 00:51:21.170
<v Speaker 0>all the requests. Currently, there are none. If

00:51:21.170 --> 00:51:22.690
<v Speaker 0>we do dash dash help, they will see

00:51:22.690 --> 00:51:25.890
<v Speaker 0>that we can request access to another role.

00:51:26.130 --> 00:51:27.570
<v Speaker 0>So we'll do tctl

00:51:27.570 --> 00:51:28.610
<v Speaker 0>request

00:51:30.290 --> 00:51:30.850
<v Speaker 0>create,

00:51:32.705 --> 00:51:34.705
<v Speaker 0>and then we specify

00:51:36.545 --> 00:51:38.785
<v Speaker 0>the roles that we need access to and

00:51:38.785 --> 00:51:39.665
<v Speaker 0>a reason.

00:51:40.785 --> 00:51:42.705
<v Speaker 0>So here I can say, well,

00:51:43.745 --> 00:51:44.465
<v Speaker 0>I

00:51:44.865 --> 00:51:45.985
<v Speaker 0>Rawkode

00:51:47.330 --> 00:51:48.210
<v Speaker 0>roles.

00:51:48.210 --> 00:51:49.730
<v Speaker 0>I want production.

00:51:50.610 --> 00:51:53.410
<v Speaker 0>And the reason is live

00:51:53.490 --> 00:51:53.810
<v Speaker 0>stream.

00:52:06.625 --> 00:52:08.465
<v Speaker 0>I didn't modify my user.

00:52:11.745 --> 00:52:12.225
<v Speaker 0>User.

00:52:15.190 --> 00:52:15.830
<v Speaker 0>Yeah.

00:52:16.710 --> 00:52:18.230
<v Speaker 0>Users Rawkode.

00:52:21.110 --> 00:52:23.030
<v Speaker 0>Alright. We need to get myself.

00:52:25.350 --> 00:52:26.390
<v Speaker 0>S r e rule.

00:52:35.405 --> 00:52:39.085
<v Speaker 0>T c t l create dash f Rawkode.

00:52:40.285 --> 00:52:42.445
<v Speaker 0>And I'm 100% gonna have to log in

00:52:42.445 --> 00:52:44.365
<v Speaker 0>again, but I am just gonna try.

00:52:45.770 --> 00:52:46.810
<v Speaker 0>Oh, it worked.

00:52:49.210 --> 00:52:49.930
<v Speaker 0>Okay.

00:52:50.010 --> 00:52:50.730
<v Speaker 0>I

00:52:51.050 --> 00:52:52.490
<v Speaker 0>don't care. That means I don't have to

00:52:52.490 --> 00:52:54.730
<v Speaker 0>log in again and do that password then.

00:52:55.450 --> 00:52:57.609
<v Speaker 0>Now we can do request ls.

00:52:59.225 --> 00:53:01.465
<v Speaker 0>What we can see here is Rawkode has

00:53:01.465 --> 00:53:02.985
<v Speaker 0>requested the permission

00:53:03.065 --> 00:53:04.425
<v Speaker 0>role production

00:53:04.425 --> 00:53:06.105
<v Speaker 0>and the reason why is that it's a

00:53:06.105 --> 00:53:06.905
<v Speaker 0>live stream.

00:53:09.385 --> 00:53:10.025
<v Speaker 0>Yeah.

00:53:10.920 --> 00:53:13.319
<v Speaker 0>Teleport knows blah blah blah blah blah. Very

00:53:13.319 --> 00:53:13.880
<v Speaker 0>funny.

00:53:14.680 --> 00:53:16.599
<v Speaker 0>Okay. So let's go back to our Moz

00:53:16.599 --> 00:53:17.400
<v Speaker 0>user

00:53:18.760 --> 00:53:21.240
<v Speaker 0>and

00:53:27.714 --> 00:53:29.315
<v Speaker 0>Moz doesn't have anything.

00:53:32.835 --> 00:53:34.434
<v Speaker 0>Normally, I would see requests.

00:53:37.960 --> 00:53:38.920
<v Speaker 0>SRE,

00:53:40.920 --> 00:53:42.040
<v Speaker 0>refresh.

00:53:50.360 --> 00:53:52.280
<v Speaker 0>So I'm starting to think that

00:53:54.995 --> 00:53:58.515
<v Speaker 0>this isn't avail the UI component isn't available

00:53:59.875 --> 00:54:00.275
<v Speaker 0>there.

00:54:07.799 --> 00:54:09.720
<v Speaker 0>So I am gonna have to

00:54:10.119 --> 00:54:11.560
<v Speaker 0>pctl

00:54:12.599 --> 00:54:13.960
<v Speaker 0>tsh login

00:54:13.960 --> 00:54:14.760
<v Speaker 0>again

00:54:16.440 --> 00:54:19.559
<v Speaker 0>and juggle some accounts. Okay, Moz, your turn.

00:54:22.525 --> 00:54:24.925
<v Speaker 0>I'll show you the enterprise UI as well,

00:54:24.925 --> 00:54:26.605
<v Speaker 0>just so you can see where the differ.

00:54:26.605 --> 00:54:27.965
<v Speaker 0>I wasn't aware of this.

00:54:29.085 --> 00:54:30.125
<v Speaker 0>Second code.

00:54:37.319 --> 00:54:38.920
<v Speaker 0>Oh, m

00:54:39.240 --> 00:54:40.599
<v Speaker 0>user moz.

00:54:46.680 --> 00:54:47.480
<v Speaker 0>Log in.

00:54:53.635 --> 00:54:54.755
<v Speaker 0>Second code.

00:55:01.955 --> 00:55:02.515
<v Speaker 0>Okay.

00:55:03.770 --> 00:55:05.210
<v Speaker 0>Alright. So it's logged me out of my

00:55:05.210 --> 00:55:06.650
<v Speaker 0>other user, but that's okay.

00:55:07.770 --> 00:55:09.130
<v Speaker 0>So we should now be able to do

00:55:09.130 --> 00:55:12.410
<v Speaker 0>TCTL request ls. We'll see Rawkode require.

00:55:23.535 --> 00:55:25.695
<v Speaker 0>That is the because Rawkode logged out.

00:55:28.660 --> 00:55:31.380
<v Speaker 0>Is it because Rawkode logged out?

00:55:40.740 --> 00:55:42.145
<v Speaker 0>You You know, I'm just going to use

00:55:42.145 --> 00:55:43.825
<v Speaker 0>my enterprise one to show this.

00:55:48.145 --> 00:55:49.984
<v Speaker 0>Yeah. It's correct. Okay.

00:55:51.984 --> 00:55:53.505
<v Speaker 0>Because I can't have two people logged in

00:55:53.505 --> 00:55:55.184
<v Speaker 0>and through the CLI, so I can't show

00:55:55.184 --> 00:55:56.224
<v Speaker 0>you the CLI flow.

00:55:58.090 --> 00:55:59.690
<v Speaker 0>I'm just gonna have to use my other

00:55:59.690 --> 00:56:00.250
<v Speaker 0>one.

00:56:00.490 --> 00:56:03.369
<v Speaker 0>Okay. So I do have a Teleport cloud

00:56:03.369 --> 00:56:04.570
<v Speaker 0>account and

00:56:07.369 --> 00:56:09.450
<v Speaker 0>I can log in with me.

00:56:09.915 --> 00:56:12.235
<v Speaker 0>And for some reason, one password just seems

00:56:12.235 --> 00:56:14.955
<v Speaker 0>to mess this bit up every single time.

00:56:18.395 --> 00:56:19.115
<v Speaker 0>Okay.

00:56:19.595 --> 00:56:21.035
<v Speaker 0>I'll make that bigger.

00:56:22.555 --> 00:56:23.915
<v Speaker 0>And now

00:56:24.640 --> 00:56:26.880
<v Speaker 0>we have access requests and you'll see I

00:56:26.880 --> 00:56:28.320
<v Speaker 0>was playing with this earlier.

00:56:29.440 --> 00:56:30.400
<v Speaker 0>I don't know why that

00:56:33.200 --> 00:56:35.680
<v Speaker 0>okay. Doesn't matter. We have access requests here

00:56:35.680 --> 00:56:38.240
<v Speaker 0>and you'll see that we can view it.

00:56:38.240 --> 00:56:40.080
<v Speaker 0>And I said help me five hours ago.

00:56:40.935 --> 00:56:41.655
<v Speaker 0>And

00:56:42.055 --> 00:56:44.855
<v Speaker 0>my SRE user said, sure thing and approved

00:56:44.855 --> 00:56:45.495
<v Speaker 0>it.

00:56:46.615 --> 00:56:48.695
<v Speaker 0>So let's do that again then.

00:56:52.055 --> 00:56:54.855
<v Speaker 0>So let me update my

00:56:55.270 --> 00:56:56.630
<v Speaker 0>current profile

00:56:57.350 --> 00:56:58.230
<v Speaker 0>to be

00:56:59.270 --> 00:57:00.070
<v Speaker 0>Rawkode

00:57:00.070 --> 00:57:01.670
<v Speaker 0>Teleport. S h.

00:57:03.190 --> 00:57:03.990
<v Speaker 0>Bless requests.

00:57:08.545 --> 00:57:10.225
<v Speaker 0>There's my approved one,

00:57:10.945 --> 00:57:12.945
<v Speaker 0>and let's just remove it.

00:57:22.700 --> 00:57:24.060
<v Speaker 0>Okay.

00:57:27.020 --> 00:57:29.100
<v Speaker 0>I thought okay. We'll make a new one.

00:57:30.220 --> 00:57:31.180
<v Speaker 0>Quests,

00:57:32.619 --> 00:57:33.180
<v Speaker 0>create.

00:57:36.925 --> 00:57:39.485
<v Speaker 0>Okay. It's still there. Rally stream two.

00:57:45.085 --> 00:57:47.565
<v Speaker 0>Oh, my username here is david@rokode.com.

00:57:55.930 --> 00:57:57.530
<v Speaker 0>And I'm hoping it doesn't say you already

00:57:57.530 --> 00:57:57.850
<v Speaker 0>have.

00:58:01.895 --> 00:58:04.535
<v Speaker 0>Probably because I already have access to production.

00:58:07.015 --> 00:58:07.895
<v Speaker 0>Oh, well.

00:58:09.655 --> 00:58:11.255
<v Speaker 0>So once it's approved,

00:58:12.215 --> 00:58:14.375
<v Speaker 0>you can assume the rule.

00:58:15.190 --> 00:58:15.910
<v Speaker 0>What?

00:58:17.910 --> 00:58:19.510
<v Speaker 0>I've broken everything.

00:58:23.430 --> 00:58:25.270
<v Speaker 0>There isn't a production rule.

00:58:26.070 --> 00:58:27.430
<v Speaker 0>So this is the thing I was talking

00:58:27.430 --> 00:58:29.110
<v Speaker 0>about earlier when I deleted the rule and

00:58:29.110 --> 00:58:30.845
<v Speaker 0>it complained at me because I still had

00:58:30.845 --> 00:58:31.885
<v Speaker 0>their role.

00:58:32.845 --> 00:58:36.365
<v Speaker 0>I am having the best time. Alright.

00:58:37.405 --> 00:58:40.125
<v Speaker 0>We have the roles here. Let's do this

00:58:40.125 --> 00:58:41.405
<v Speaker 0>one more time and walk through.

00:58:42.620 --> 00:58:44.140
<v Speaker 0>And I don't mind that I'm gonna go

00:58:44.140 --> 00:58:46.380
<v Speaker 0>a bit over because this is fun.

00:58:47.260 --> 00:58:48.380
<v Speaker 0>I was having

00:58:50.140 --> 00:58:51.660
<v Speaker 0>a great time with this feature.

00:58:52.300 --> 00:58:53.980
<v Speaker 0>Okay. Rules

00:58:53.980 --> 00:58:54.940
<v Speaker 0>dot YAML,

00:58:56.075 --> 00:58:57.434
<v Speaker 0>apply TCTL

00:58:57.434 --> 00:58:58.795
<v Speaker 0>create dash f.

00:58:59.115 --> 00:59:00.875
<v Speaker 0>Oh, wrong one. Rules.

00:59:01.835 --> 00:59:03.435
<v Speaker 0>Hopefully that doesn't have the server.

00:59:05.994 --> 00:59:08.474
<v Speaker 0>Alright. SRE and production were created.

00:59:09.194 --> 00:59:10.234
<v Speaker 0>We can refresh

00:59:11.890 --> 00:59:13.090
<v Speaker 0>and there we go.

00:59:13.570 --> 00:59:14.290
<v Speaker 0>Alright.

00:59:14.530 --> 00:59:16.370
<v Speaker 0>So now I'm gonna create that new request

00:59:16.370 --> 00:59:17.090
<v Speaker 0>again.

00:59:20.450 --> 00:59:21.250
<v Speaker 0>Production.

00:59:23.170 --> 00:59:24.450
<v Speaker 0>Hopefully that works.

00:59:24.850 --> 00:59:26.290
<v Speaker 0>It doesn't tell me I already have.

00:59:27.474 --> 00:59:28.515
<v Speaker 0>Yeah.

00:59:28.915 --> 00:59:30.595
<v Speaker 0>I wonder if the RM would work now

00:59:30.595 --> 00:59:32.435
<v Speaker 0>with that. Maybe that was just because the

00:59:32.435 --> 00:59:33.635
<v Speaker 0>rule didn't exist.

00:59:35.635 --> 00:59:37.075
<v Speaker 0>I just don't have permission.

00:59:38.675 --> 00:59:39.395
<v Speaker 0>Okay.

00:59:39.955 --> 00:59:42.195
<v Speaker 0>Delete on access request.

00:59:43.210 --> 00:59:44.490
<v Speaker 0>Well, I am an editor.

01:00:01.585 --> 01:00:02.305
<v Speaker 0>Whatever.

01:00:02.625 --> 01:00:04.625
<v Speaker 0>Oh, we do have the moz user. Moz

01:00:04.625 --> 01:00:06.785
<v Speaker 0>hasn't requested that. Okay, let's do that.

01:00:07.345 --> 01:00:08.385
<v Speaker 0>So I'm gonna

01:00:09.630 --> 01:00:11.549
<v Speaker 0>We have the SRE user. Let's close it

01:00:11.549 --> 01:00:12.990
<v Speaker 0>or not. Not much.

01:00:19.309 --> 01:00:19.950
<v Speaker 0>SRE.

01:00:24.485 --> 01:00:26.245
<v Speaker 0>Got to get me on. My

01:00:28.565 --> 01:00:30.805
<v Speaker 0>one password says password you're telling me is

01:00:30.805 --> 01:00:31.125
<v Speaker 0>wrong.

01:00:42.140 --> 01:00:46.620
<v Speaker 0>Computers are tough. TCTL

01:00:46.620 --> 01:00:48.700
<v Speaker 0>users add moz

01:00:48.860 --> 01:00:49.340
<v Speaker 0>roles,

01:00:50.405 --> 01:00:52.085
<v Speaker 0>auditor access,

01:00:52.405 --> 01:00:53.365
<v Speaker 0>editor,

01:00:55.285 --> 01:00:56.085
<v Speaker 0>login,

01:00:56.645 --> 01:00:57.605
<v Speaker 0>go.

01:01:02.484 --> 01:01:03.925
<v Speaker 0>I should have given you.

01:01:13.060 --> 01:01:15.780
<v Speaker 0>Should have given users.

01:01:19.865 --> 01:01:22.105
<v Speaker 0>Users, Mozz. Let's see if I can modify

01:01:22.105 --> 01:01:23.705
<v Speaker 0>you before I've created you.

01:01:29.545 --> 01:01:30.744
<v Speaker 0>Awesome. Roles,

01:01:32.040 --> 01:01:33.880
<v Speaker 0>so I don't have to log in 14,000

01:01:33.880 --> 01:01:34.600
<v Speaker 0>times.

01:01:34.920 --> 01:01:35.960
<v Speaker 0>SRE.

01:01:36.120 --> 01:01:36.840
<v Speaker 0>Awesome.

01:01:37.240 --> 01:01:38.040
<v Speaker 0>Create

01:01:39.000 --> 01:01:40.600
<v Speaker 0>dash f moz.

01:01:40.600 --> 01:01:42.760
<v Speaker 0>Okay. Now we're gonna register your account moz.

01:01:49.045 --> 01:01:51.685
<v Speaker 0>Just open it in my browser. Okay. Cool.

01:01:51.924 --> 01:01:53.525
<v Speaker 0>And I am going to use the s

01:01:53.525 --> 01:01:54.724
<v Speaker 0>r e user's password.

01:01:58.540 --> 01:01:59.900
<v Speaker 0>And

01:02:00.940 --> 01:02:02.780
<v Speaker 0>scanny scanny scanny.

01:02:04.780 --> 01:02:06.540
<v Speaker 0>That's gonna be the second code because I

01:02:06.540 --> 01:02:08.380
<v Speaker 0>I I just like making this much more

01:02:08.380 --> 01:02:09.580
<v Speaker 0>difficult for myself.

01:02:11.020 --> 01:02:11.500
<v Speaker 0>Great.

01:02:14.115 --> 01:02:15.635
<v Speaker 0>Thank you. Okay.

01:02:17.235 --> 01:02:17.955
<v Speaker 0>So

01:02:22.275 --> 01:02:24.435
<v Speaker 0>now I am going to request access. So

01:02:24.435 --> 01:02:26.275
<v Speaker 0>this is the Moz user who is in

01:02:26.275 --> 01:02:28.870
<v Speaker 0>the SRE role, who can request access to

01:02:28.870 --> 01:02:29.670
<v Speaker 0>production

01:02:29.830 --> 01:02:32.150
<v Speaker 0>and say live stream

01:02:34.950 --> 01:02:36.150
<v Speaker 0>would really

01:02:36.230 --> 01:02:37.510
<v Speaker 0>like working

01:02:37.510 --> 01:02:38.630
<v Speaker 0>and demo,

01:02:39.030 --> 01:02:39.510
<v Speaker 0>please.

01:02:40.150 --> 01:02:40.630
<v Speaker 0>Thanks.

01:02:41.270 --> 01:02:43.715
<v Speaker 0>Can't leave the table in there. Okay.

01:02:43.955 --> 01:02:44.995
<v Speaker 0>Send request.

01:02:45.555 --> 01:02:46.355
<v Speaker 0>Awesome.

01:02:46.755 --> 01:02:48.275
<v Speaker 0>So now we can see this.

01:02:48.835 --> 01:02:50.115
<v Speaker 0>Now me

01:02:50.835 --> 01:02:52.515
<v Speaker 0>can do requests

01:02:52.915 --> 01:02:53.955
<v Speaker 0>l s

01:02:58.780 --> 01:02:59.980
<v Speaker 0>Approve

01:03:01.580 --> 01:03:02.380
<v Speaker 0>request ID.

01:03:17.645 --> 01:03:18.525
<v Speaker 0>Computer.

01:03:20.445 --> 01:03:22.045
<v Speaker 0>I did all of this this morning.

01:03:24.849 --> 01:03:25.730
<v Speaker 0>Prove

01:03:29.810 --> 01:03:30.930
<v Speaker 0>request ID.

01:03:33.970 --> 01:03:35.570
<v Speaker 0>What have I done to my user account?

01:03:42.765 --> 01:03:43.485
<v Speaker 0>I

01:03:48.285 --> 01:03:49.165
<v Speaker 0>am

01:03:51.325 --> 01:03:51.725
<v Speaker 0>confused.

01:04:03.589 --> 01:04:04.710
<v Speaker 0>Is that not Miles's request?

01:04:12.915 --> 01:04:14.115
<v Speaker 0>Oh, you're right.

01:04:16.275 --> 01:04:17.555
<v Speaker 0>Where is Maltese request?

01:04:28.730 --> 01:04:30.410
<v Speaker 0>If I had broken my user.

01:04:31.690 --> 01:04:34.010
<v Speaker 0>Yeah. Jeffrey's on there too. Yeah. I am

01:04:34.010 --> 01:04:35.530
<v Speaker 0>approving the wrong quest.

01:04:35.769 --> 01:04:36.569
<v Speaker 0>User Rawkode.

01:04:44.615 --> 01:04:46.615
<v Speaker 0>I don't have the the SRE role.

01:04:53.260 --> 01:04:55.500
<v Speaker 0>Okay. So we're gonna get my user.

01:04:56.540 --> 01:04:58.460
<v Speaker 0>I don't have the SRE rule. Why? I

01:04:58.460 --> 01:04:59.100
<v Speaker 0>did it.

01:04:59.579 --> 01:05:01.900
<v Speaker 0>That's because I've been jumping between clusters.

01:05:03.660 --> 01:05:04.460
<v Speaker 0>Alright.

01:05:05.180 --> 01:05:06.059
<v Speaker 0>Let's do that.

01:05:08.665 --> 01:05:11.224
<v Speaker 0>And I'm probably gonna have to re authenticate,

01:05:11.224 --> 01:05:11.705
<v Speaker 0>but

01:05:12.585 --> 01:05:13.545
<v Speaker 0>desperation,

01:05:13.545 --> 01:05:14.825
<v Speaker 0>I'm going to list request.

01:05:18.905 --> 01:05:22.265
<v Speaker 0>Awesome. I didn't. Now I can approve

01:05:35.595 --> 01:05:38.795
<v Speaker 0>Just want it to work. It worked earlier.

01:05:41.595 --> 01:05:42.635
<v Speaker 0>I am

01:05:44.075 --> 01:05:45.755
<v Speaker 0>I'm going to give myself the ability to

01:05:45.755 --> 01:05:48.315
<v Speaker 0>do everything on this machine and tell Teleport

01:05:48.315 --> 01:05:49.995
<v Speaker 0>to to just stop it.

01:05:50.850 --> 01:05:52.690
<v Speaker 0>It's late. I'm tired.

01:05:54.290 --> 01:05:56.370
<v Speaker 0>Editor. Edit. Alright.

01:05:57.490 --> 01:05:58.450
<v Speaker 0>Rules.

01:06:00.370 --> 01:06:01.090
<v Speaker 0>Resources.

01:06:04.530 --> 01:06:05.570
<v Speaker 0>Access request.

01:06:07.025 --> 01:06:08.065
<v Speaker 0>Verbs.

01:06:09.825 --> 01:06:12.145
<v Speaker 0>That's the list right? Yep. List,

01:06:13.185 --> 01:06:14.065
<v Speaker 0>create,

01:06:14.705 --> 01:06:15.505
<v Speaker 0>read,

01:06:16.145 --> 01:06:17.105
<v Speaker 0>delete,

01:06:18.065 --> 01:06:18.385
<v Speaker 0>update.

01:06:19.640 --> 01:06:22.040
<v Speaker 0>Anything else? No. Save.

01:06:23.000 --> 01:06:25.160
<v Speaker 0>Not a valid resource declaration. And why are

01:06:25.160 --> 01:06:26.520
<v Speaker 0>you yelling at me? I can't do it.

01:06:31.745 --> 01:06:32.625
<v Speaker 0>Star star.

01:06:41.985 --> 01:06:43.585
<v Speaker 0>You know, it let me list it, but

01:06:43.585 --> 01:06:44.865
<v Speaker 0>I did think I was gonna have to

01:06:44.865 --> 01:06:45.345
<v Speaker 0>log out.

01:06:46.880 --> 01:06:47.520
<v Speaker 0>So

01:06:48.480 --> 01:06:49.920
<v Speaker 0>for the last time,

01:06:54.480 --> 01:06:56.640
<v Speaker 0>that's the wrong cluster now because we switched.

01:07:02.385 --> 01:07:04.385
<v Speaker 0>I'm going to log in and just make

01:07:04.385 --> 01:07:06.145
<v Speaker 0>sure I have the right rules that I

01:07:06.145 --> 01:07:07.184
<v Speaker 0>need to do this job.

01:07:11.500 --> 01:07:14.380
<v Speaker 0>Thank you all for your extreme patience as

01:07:14.380 --> 01:07:16.300
<v Speaker 0>I confuse the fucker of myself.

01:07:29.214 --> 01:07:30.095
<v Speaker 0>Request

01:07:30.894 --> 01:07:31.695
<v Speaker 0>alias.

01:07:33.214 --> 01:07:35.055
<v Speaker 0>Gonna list it on my rules this time.

01:07:36.734 --> 01:07:37.454
<v Speaker 0>Prove.

01:07:59.685 --> 01:08:01.605
<v Speaker 0>Yeah. I just have to laugh, don't I?

01:08:08.780 --> 01:08:11.980
<v Speaker 0>I didn't change my SRE rule today.

01:08:12.460 --> 01:08:15.900
<v Speaker 0>Yeah. So I can request production threshold, but

01:08:15.900 --> 01:08:16.859
<v Speaker 0>we want one.

01:08:20.700 --> 01:08:22.700
<v Speaker 0>I think it's because I have that function

01:08:22.700 --> 01:08:23.180
<v Speaker 0>already.

01:08:26.045 --> 01:08:27.484
<v Speaker 0>I think that's the problem.

01:08:33.245 --> 01:08:35.885
<v Speaker 0>I think it's doing some checks and then

01:08:37.404 --> 01:08:38.125
<v Speaker 0>oh, no. Wait.

01:08:39.229 --> 01:08:40.189
<v Speaker 0>That's wrong.

01:08:45.790 --> 01:08:48.350
<v Speaker 0>Oh, no. That's right. I can review the

01:08:48.350 --> 01:08:50.189
<v Speaker 0>quests for the production role.

01:08:50.590 --> 01:08:52.830
<v Speaker 0>And if I go to production

01:08:54.805 --> 01:08:56.005
<v Speaker 0>yeah. Perfect.

01:08:59.205 --> 01:08:59.844
<v Speaker 0>I

01:09:00.725 --> 01:09:02.085
<v Speaker 0>mean, I can't confirm

01:09:02.885 --> 01:09:04.005
<v Speaker 0>because I can't

01:09:04.340 --> 01:09:07.379
<v Speaker 0>delete my old my rule assumption.

01:09:08.019 --> 01:09:09.779
<v Speaker 0>My only option right now is to create

01:09:09.779 --> 01:09:10.899
<v Speaker 0>a third user.

01:09:13.380 --> 01:09:14.339
<v Speaker 0>Russell

01:09:16.019 --> 01:09:16.659
<v Speaker 0>rules,

01:09:17.265 --> 01:09:18.304
<v Speaker 0>auditor,

01:09:18.545 --> 01:09:19.425
<v Speaker 0>access,

01:09:19.505 --> 01:09:20.385
<v Speaker 0>editor,

01:09:20.465 --> 01:09:21.425
<v Speaker 0>logins,

01:09:21.425 --> 01:09:22.144
<v Speaker 0>route,

01:09:22.465 --> 01:09:24.304
<v Speaker 0>h one Russell, says the day.

01:09:25.904 --> 01:09:28.145
<v Speaker 0>You know the only impartial user in this

01:09:28.145 --> 01:09:30.145
<v Speaker 0>current Teleport code set up.

01:09:33.330 --> 01:09:33.810
<v Speaker 0>And I

01:09:38.130 --> 01:09:39.250
<v Speaker 0>yeah. Open.

01:09:40.450 --> 01:09:41.410
<v Speaker 0>Okay.

01:09:42.130 --> 01:09:43.729
<v Speaker 0>I'm not adding a third.

01:09:48.535 --> 01:09:49.654
<v Speaker 0>Russell.

01:09:50.615 --> 01:09:51.415
<v Speaker 0>Russell.

01:09:53.814 --> 01:09:54.535
<v Speaker 0>Russell.

01:09:55.495 --> 01:09:56.535
<v Speaker 0>Scan, scan, scan.

01:09:58.810 --> 01:09:59.610
<v Speaker 0>Russell.

01:10:00.810 --> 01:10:02.890
<v Speaker 0>Alright. So let's try this. Right? And then

01:10:02.970 --> 01:10:05.450
<v Speaker 0>I'll I'll I'll talk about why I think

01:10:05.450 --> 01:10:06.730
<v Speaker 0>this is what's happening.

01:10:16.195 --> 01:10:17.635
<v Speaker 0>Rawkode can't see shit.

01:10:18.515 --> 01:10:21.715
<v Speaker 0>I then give him SRE rule. Oh, David.

01:10:24.595 --> 01:10:25.555
<v Speaker 0>What are you doing?

01:10:30.160 --> 01:10:30.880
<v Speaker 0>Cool.

01:10:33.120 --> 01:10:33.840
<v Speaker 0>Okay.

01:10:35.760 --> 01:10:36.480
<v Speaker 0>Now,

01:10:37.040 --> 01:10:38.640
<v Speaker 0>I can do this to the UI or

01:10:38.640 --> 01:10:40.720
<v Speaker 0>I can log myself out of the CLI

01:10:40.720 --> 01:10:42.935
<v Speaker 0>and do it from there. You give ten

01:10:42.935 --> 01:10:45.655
<v Speaker 0>seconds, say CLI or UI and I'll go,

01:10:45.655 --> 01:10:47.575
<v Speaker 0>I'll do it. But we have now what

01:10:47.575 --> 01:10:49.255
<v Speaker 0>appears to be a working approval process. And

01:10:49.255 --> 01:10:51.815
<v Speaker 0>then I will explain my hypothesis about why

01:10:51.815 --> 01:10:54.535
<v Speaker 0>I got in such a convoluted situation in

01:10:54.535 --> 01:10:55.494
<v Speaker 0>the first place.

01:10:56.215 --> 01:10:57.255
<v Speaker 0>Oh, ten seconds.

01:10:59.440 --> 01:11:01.360
<v Speaker 0>Do you wanna see the UI flow or

01:11:01.360 --> 01:11:02.640
<v Speaker 0>the CLI flow?

01:11:05.520 --> 01:11:06.960
<v Speaker 0>Maybe you just don't care.

01:11:08.400 --> 01:11:09.600
<v Speaker 0>CLI from Russell.

01:11:12.415 --> 01:11:13.135
<v Speaker 0>Okay.

01:11:16.655 --> 01:11:19.055
<v Speaker 0>So I am going to log out of

01:11:19.055 --> 01:11:20.335
<v Speaker 0>Russell on the UI.

01:11:20.495 --> 01:11:22.095
<v Speaker 0>We are going to become

01:11:24.180 --> 01:11:24.980
<v Speaker 0>Moz.

01:11:27.380 --> 01:11:30.340
<v Speaker 0>Jeffrey wants a CLI too. Good. Right.

01:11:33.300 --> 01:11:34.820
<v Speaker 0>Same. Good. So this is going to log

01:11:34.820 --> 01:11:35.219
<v Speaker 0>me in.

01:11:36.365 --> 01:11:37.645
<v Speaker 0>Hopefully as Moz,

01:11:38.045 --> 01:11:40.845
<v Speaker 0>who sent the approval process. He is waiting

01:11:40.845 --> 01:11:42.845
<v Speaker 0>for his access to this server.

01:11:43.645 --> 01:11:44.364
<v Speaker 0>Now,

01:11:44.925 --> 01:11:46.125
<v Speaker 0>on the CLI,

01:11:46.125 --> 01:11:48.685
<v Speaker 0>I am gonna have to TSH login

01:11:48.845 --> 01:11:49.885
<v Speaker 0>this time

01:11:51.000 --> 01:11:52.119
<v Speaker 0>as Russell

01:11:52.360 --> 01:11:53.639
<v Speaker 0>on the server.

01:11:57.720 --> 01:11:59.400
<v Speaker 0>Russell, Russell, Russell.

01:12:01.640 --> 01:12:03.160
<v Speaker 0>Russell, Russell, Russell.

01:12:07.955 --> 01:12:08.675
<v Speaker 0>Cool.

01:12:09.715 --> 01:12:12.435
<v Speaker 0>And now Russell should be able to see

01:12:12.995 --> 01:12:15.155
<v Speaker 0>that Mars put in a request

01:12:15.555 --> 01:12:17.074
<v Speaker 0>for production access.

01:12:19.315 --> 01:12:20.195
<v Speaker 0>Request

01:12:20.595 --> 01:12:21.235
<v Speaker 0>ls.

01:12:26.000 --> 01:12:27.120
<v Speaker 0>Approve.

01:12:29.840 --> 01:12:31.920
<v Speaker 0>I'm pretty sure you can add a reason.

01:12:32.400 --> 01:12:33.280
<v Speaker 0>Go for it.

01:12:47.335 --> 01:12:49.415
<v Speaker 0>I bet you it's broken on the CLI.

01:12:51.910 --> 01:12:53.510
<v Speaker 0>Is that what the problem is?

01:12:59.350 --> 01:13:01.190
<v Speaker 0>So it's not me being stupid.

01:13:01.750 --> 01:13:02.070
<v Speaker 0>Right?

01:13:04.675 --> 01:13:06.835
<v Speaker 0>My my weird hypothesis that I was making

01:13:06.835 --> 01:13:08.355
<v Speaker 0>up in my head to explain what the

01:13:08.355 --> 01:13:10.594
<v Speaker 0>fuck was going on. Oh, I really need

01:13:10.594 --> 01:13:11.955
<v Speaker 0>to change that recovery

01:13:11.955 --> 01:13:12.515
<v Speaker 0>code now.

01:13:22.150 --> 01:13:24.070
<v Speaker 0>No. So my hypothesis is kinda right. Like,

01:13:24.070 --> 01:13:25.510
<v Speaker 0>I can't approve Moz

01:13:26.070 --> 01:13:27.750
<v Speaker 0>because Moz approved me.

01:13:28.630 --> 01:13:28.950
<v Speaker 0>So

01:13:32.125 --> 01:13:34.445
<v Speaker 0>now I'm going to log in as Mars.

01:13:36.605 --> 01:13:38.364
<v Speaker 0>Wait, Mars opened the request.

01:13:39.085 --> 01:13:39.965
<v Speaker 0>Russell.

01:13:44.045 --> 01:13:44.445
<v Speaker 0>Russell.

01:13:45.840 --> 01:13:46.880
<v Speaker 0>Russell.

01:13:48.639 --> 01:13:50.159
<v Speaker 0>Just keep saying the name.

01:13:55.040 --> 01:13:57.040
<v Speaker 0>And Russell can approve Mozzie's request.

01:14:00.445 --> 01:14:01.405
<v Speaker 0>Prove.

01:14:06.685 --> 01:14:09.005
<v Speaker 0>These are all being so patient. Jeffrey, let's

01:14:09.005 --> 01:14:11.325
<v Speaker 0>see the UI. Russell, yeah, sure. Let's see

01:14:11.325 --> 01:14:12.364
<v Speaker 0>the UI. Awesome.

01:14:13.390 --> 01:14:15.630
<v Speaker 0>I have I have no idea anymore.

01:14:16.830 --> 01:14:17.949
<v Speaker 0>Approved.

01:14:20.030 --> 01:14:20.909
<v Speaker 0>Approved.

01:14:21.310 --> 01:14:22.429
<v Speaker 0>No, it didn't.

01:14:23.870 --> 01:14:24.830
<v Speaker 0>It did approve it.

01:14:28.085 --> 01:14:30.325
<v Speaker 0>That request was created

01:14:31.365 --> 01:14:33.925
<v Speaker 0>while the threshold was still set to two.

01:14:36.485 --> 01:14:37.285
<v Speaker 0>I'm a media.

01:14:39.880 --> 01:14:41.560
<v Speaker 0>Who am I on the CLI?

01:14:41.880 --> 01:14:44.040
<v Speaker 0>Who who I'm Russell.

01:14:46.040 --> 01:14:47.320
<v Speaker 0>And I bet you the CLI is not

01:14:47.320 --> 01:14:48.840
<v Speaker 0>gonna let me delete the request because the

01:14:48.840 --> 01:14:51.800
<v Speaker 0>CLI apparently cannot deal with request.

01:14:56.385 --> 01:14:57.505
<v Speaker 0>RM.

01:15:02.225 --> 01:15:03.105
<v Speaker 0>Yeah. Fuck it.

01:15:18.400 --> 01:15:19.600
<v Speaker 0>I'm so upset.

01:15:39.480 --> 01:15:41.239
<v Speaker 0>And it didn't work in that. Okay. That's

01:15:41.239 --> 01:15:41.800
<v Speaker 0>right.

01:15:42.679 --> 01:15:43.560
<v Speaker 0>Okay.

01:15:52.545 --> 01:15:53.665
<v Speaker 0>The CLI

01:15:53.825 --> 01:15:55.905
<v Speaker 0>does not work for approval processes. That is

01:15:55.905 --> 01:15:56.785
<v Speaker 0>100%

01:15:56.785 --> 01:15:57.665
<v Speaker 0>broken.

01:15:57.745 --> 01:16:00.305
<v Speaker 0>Unfortunately, the module request was created

01:16:01.025 --> 01:16:01.745
<v Speaker 0>while

01:16:01.985 --> 01:16:03.905
<v Speaker 0>the threshold was set to two.

01:16:05.025 --> 01:16:07.505
<v Speaker 0>So we're gonna adjust very quickly

01:16:08.700 --> 01:16:10.620
<v Speaker 0>because sure I'm gonna be able to get

01:16:10.620 --> 01:16:11.580
<v Speaker 0>it to work quickly.

01:16:12.220 --> 01:16:14.140
<v Speaker 0>I sent this to one, isn't actually gonna

01:16:14.140 --> 01:16:16.780
<v Speaker 0>fix it because at least for the existing

01:16:16.780 --> 01:16:18.780
<v Speaker 0>request, because if I come back in, there's

01:16:18.780 --> 01:16:21.225
<v Speaker 0>definitely one. Yep. It goes to access request,

01:16:21.225 --> 01:16:22.905
<v Speaker 0>it's still gonna be stuck

01:16:23.065 --> 01:16:24.425
<v Speaker 0>there. However,

01:16:24.745 --> 01:16:26.025
<v Speaker 0>what we can do

01:16:27.625 --> 01:16:29.625
<v Speaker 0>what we can do

01:16:32.659 --> 01:16:34.739
<v Speaker 0>is have Russell submit a request

01:16:35.219 --> 01:16:36.499
<v Speaker 0>from the CLI.

01:16:36.820 --> 01:16:38.579
<v Speaker 0>And I'm Russell here. Right?

01:16:40.020 --> 01:16:40.820
<v Speaker 0>Okay.

01:16:41.940 --> 01:16:42.900
<v Speaker 0>Request

01:16:43.060 --> 01:16:43.780
<v Speaker 0>create

01:16:44.820 --> 01:16:45.940
<v Speaker 0>Russell

01:16:46.815 --> 01:16:47.695
<v Speaker 0>rules

01:16:47.775 --> 01:16:48.815
<v Speaker 0>production

01:16:51.935 --> 01:16:52.895
<v Speaker 0>reason,

01:16:54.255 --> 01:16:55.135
<v Speaker 0>please,

01:16:55.135 --> 01:16:55.935
<v Speaker 0>please, please.

01:17:01.170 --> 01:17:02.689
<v Speaker 0>So you can create them.

01:17:03.090 --> 01:17:04.449
<v Speaker 0>Let me start something.

01:17:06.449 --> 01:17:07.809
<v Speaker 0>And now

01:17:11.889 --> 01:17:12.849
<v Speaker 0>I am Russell.

01:17:20.105 --> 01:17:21.864
<v Speaker 0>Let's see if David's gonna prove it. Fuck

01:17:21.864 --> 01:17:22.665
<v Speaker 0>it. Why not?

01:17:32.500 --> 01:17:33.219
<v Speaker 0>No.

01:17:34.180 --> 01:17:36.340
<v Speaker 0>Assuming because I've already assumed the role.

01:17:39.700 --> 01:17:42.180
<v Speaker 0>Moz hasn't had his request approved yet.

01:17:48.265 --> 01:17:49.945
<v Speaker 0>This is more complicated

01:17:51.065 --> 01:17:53.865
<v Speaker 0>than some very complicated films I'm thinking of.

01:17:55.865 --> 01:17:57.465
<v Speaker 0>Hey, come on, Moz. It's your turn to

01:17:57.465 --> 01:17:58.105
<v Speaker 0>save the day.

01:18:00.020 --> 01:18:00.980
<v Speaker 0>Prove.

01:18:01.140 --> 01:18:02.180
<v Speaker 0>Approve.

01:18:05.300 --> 01:18:05.700
<v Speaker 0>Wow.

01:18:14.545 --> 01:18:16.144
<v Speaker 0>Russell now has axe

01:18:18.065 --> 01:18:19.344
<v Speaker 0>to sumer rule.

01:18:25.905 --> 01:18:26.304
<v Speaker 0>Yes.

01:18:31.510 --> 01:18:33.030
<v Speaker 0>Okay. Which means

01:18:36.070 --> 01:18:37.670
<v Speaker 0>I can do TSH

01:18:37.670 --> 01:18:38.470
<v Speaker 0>login

01:18:38.470 --> 01:18:39.429
<v Speaker 0>proxy

01:18:39.910 --> 01:18:40.950
<v Speaker 0>request

01:18:40.950 --> 01:18:41.510
<v Speaker 0>ID.

01:18:45.355 --> 01:18:47.355
<v Speaker 0>I need the request ID first.

01:18:50.235 --> 01:18:51.435
<v Speaker 0>Well, in fact it was

01:18:53.035 --> 01:18:53.355
<v Speaker 0>here.

01:18:56.150 --> 01:18:57.829
<v Speaker 0>PSH login

01:18:58.070 --> 01:19:00.550
<v Speaker 0>request ID. This is how I assume the

01:19:00.550 --> 01:19:01.829
<v Speaker 0>role as Russell.

01:19:07.909 --> 01:19:09.270
<v Speaker 0>Update my certificate.

01:19:13.885 --> 01:19:15.165
<v Speaker 0>PSHLF.

01:19:26.990 --> 01:19:28.670
<v Speaker 0>It's just because

01:19:32.990 --> 01:19:34.270
<v Speaker 0>fuck it. I don't know.

01:19:35.310 --> 01:19:37.070
<v Speaker 0>Did I restart it after setting the node

01:19:37.070 --> 01:19:38.510
<v Speaker 0>to be production?

01:19:40.030 --> 01:19:40.910
<v Speaker 0>Who knows anymore?

01:19:43.715 --> 01:19:45.795
<v Speaker 0>So Russell should have the production role right

01:19:45.795 --> 01:19:46.354
<v Speaker 0>now.

01:19:47.074 --> 01:19:48.835
<v Speaker 0>In fact, I do have the production role

01:19:48.835 --> 01:19:49.635
<v Speaker 0>right now.

01:19:50.915 --> 01:19:52.594
<v Speaker 0>But it would appear I can't list the

01:19:52.594 --> 01:19:53.635
<v Speaker 0>machines

01:19:55.170 --> 01:19:57.250
<v Speaker 0>because I have no idea what day of

01:19:57.250 --> 01:19:58.370
<v Speaker 0>the week is anymore.

01:20:00.690 --> 01:20:01.730
<v Speaker 0>ENV

01:20:03.250 --> 01:20:03.730
<v Speaker 0>production.

01:20:15.655 --> 01:20:16.375
<v Speaker 0>Same. Right?

01:20:24.100 --> 01:20:26.500
<v Speaker 0>When

01:20:32.420 --> 01:20:34.980
<v Speaker 0>I created Russell, did I give him logins?

01:20:36.054 --> 01:20:38.375
<v Speaker 0>Who knows? I I'm I think I'm giving

01:20:38.375 --> 01:20:40.534
<v Speaker 0>up. I'm I'm just gonna record a video

01:20:40.534 --> 01:20:42.295
<v Speaker 0>on this later because I have no idea

01:20:42.295 --> 01:20:43.735
<v Speaker 0>what day of the week is anymore.

01:20:44.054 --> 01:20:46.215
<v Speaker 0>And you can't modify traits from the UI.

01:20:47.494 --> 01:20:48.295
<v Speaker 0>Users.

01:20:48.295 --> 01:20:49.094
<v Speaker 0>Russell.

01:20:49.415 --> 01:20:49.895
<v Speaker 0>Russell.

01:20:57.230 --> 01:21:00.270
<v Speaker 0>At least we're learning Teleport stuff. Right? Log

01:21:00.270 --> 01:21:01.469
<v Speaker 0>in through. Yeah.

01:21:09.395 --> 01:21:11.235
<v Speaker 0>Yes, it's status.

01:21:12.675 --> 01:21:16.514
<v Speaker 0>I am Russell web production role enabled.

01:21:17.554 --> 01:21:19.235
<v Speaker 0>Why the hell can I not see the

01:21:19.235 --> 01:21:19.474
<v Speaker 0>note?

01:21:36.955 --> 01:21:39.034
<v Speaker 0>Why can I not see the node?

01:21:41.275 --> 01:21:42.715
<v Speaker 0>I'm not faint anymore.

01:21:45.195 --> 01:21:49.995
<v Speaker 0>There is a forty minute version of

01:21:48.570 --> 01:21:50.810
<v Speaker 0>role escalation and teleport,

01:21:51.050 --> 01:21:53.370
<v Speaker 0>which worked first time on my testing this

01:21:53.370 --> 01:21:55.770
<v Speaker 0>afternoon, and I feel like everything that could

01:21:55.770 --> 01:21:56.570
<v Speaker 0>go wrong

01:21:57.610 --> 01:21:58.810
<v Speaker 0>did go wrong.

01:22:01.370 --> 01:22:02.570
<v Speaker 0>Russell may be right.

01:22:03.745 --> 01:22:06.465
<v Speaker 0>Actual Russell, not my fakers or Russell. And

01:22:06.465 --> 01:22:08.545
<v Speaker 0>that maybe the CLI just can't see the

01:22:08.545 --> 01:22:09.264
<v Speaker 0>notes.

01:22:10.065 --> 01:22:10.784
<v Speaker 0>So

01:22:11.265 --> 01:22:13.264
<v Speaker 0>I'm more than happy to test that.

01:22:15.265 --> 01:22:15.825
<v Speaker 0>Russell.

01:22:23.460 --> 01:22:25.060
<v Speaker 0>Why is that server not showing up?

01:22:36.695 --> 01:22:37.735
<v Speaker 0>Doesn't matter.

01:22:38.455 --> 01:22:39.175
<v Speaker 0>Alright.

01:22:40.455 --> 01:22:42.135
<v Speaker 0>Well, this is a really cool feature. I

01:22:42.135 --> 01:22:44.135
<v Speaker 0>don't know what crazy magic I have done

01:22:44.135 --> 01:22:45.575
<v Speaker 0>to be able to break that, but

01:22:47.679 --> 01:22:49.280
<v Speaker 0>the last task that we were gonna be

01:22:49.280 --> 01:22:51.599
<v Speaker 0>taking a look at is to enforce MFA.

01:22:53.280 --> 01:22:53.919
<v Speaker 0>So

01:22:54.560 --> 01:22:56.239
<v Speaker 0>this is another really cool feature and I

01:22:56.239 --> 01:22:57.840
<v Speaker 0>do want this to work and to show

01:22:57.840 --> 01:23:00.079
<v Speaker 0>you it. So let's

01:23:00.560 --> 01:23:02.000
<v Speaker 0>log in

01:23:03.625 --> 01:23:04.425
<v Speaker 0>as

01:23:04.665 --> 01:23:06.425
<v Speaker 0>me, actual real

01:23:06.425 --> 01:23:07.865
<v Speaker 0>me, my account.

01:23:19.060 --> 01:23:19.860
<v Speaker 0>Okay.

01:23:22.820 --> 01:23:25.380
<v Speaker 0>If I can't assume and see my server,

01:23:26.980 --> 01:23:28.980
<v Speaker 0>this didn't me assume the role. I've got

01:23:28.980 --> 01:23:31.460
<v Speaker 0>five hours left, but the server just isn't

01:23:31.460 --> 01:23:32.100
<v Speaker 0>showing up.

01:23:33.215 --> 01:23:35.054
<v Speaker 0>So to be honest, all I'm going to

01:23:35.054 --> 01:23:36.094
<v Speaker 0>do is,

01:23:37.135 --> 01:23:38.655
<v Speaker 0>I'm just gonna do it through the UI,

01:23:38.655 --> 01:23:41.534
<v Speaker 0>just so it's quick, is modify the access.

01:23:43.375 --> 01:23:44.574
<v Speaker 0>We'll table star star.

01:23:47.970 --> 01:23:49.409
<v Speaker 0>My trade login.

01:23:55.970 --> 01:23:57.489
<v Speaker 0>Teleport.

01:24:00.610 --> 01:24:01.890
<v Speaker 0>Just remove the labels.

01:24:11.505 --> 01:24:12.864
<v Speaker 0>See when it clicks.

01:24:13.825 --> 01:24:15.185
<v Speaker 0>See when it clicks.

01:24:18.040 --> 01:24:20.520
<v Speaker 0>Course this isn't working. I haven't added that

01:24:20.520 --> 01:24:22.519
<v Speaker 0>node to the cloud account.

01:24:23.159 --> 01:24:24.600
<v Speaker 0>How did nobody notice that?

01:24:33.335 --> 01:24:34.775
<v Speaker 0>Funny. Alright.

01:24:39.415 --> 01:24:40.935
<v Speaker 0>Funny. So so funny.

01:24:46.800 --> 01:24:48.800
<v Speaker 0>I'm not gonna add the label back.

01:24:49.199 --> 01:24:51.199
<v Speaker 0>I will fix this

01:24:51.520 --> 01:24:53.439
<v Speaker 0>and then we're gonna do something cool.

01:24:54.320 --> 01:24:56.159
<v Speaker 0>Teleport cloud password.

01:24:57.280 --> 01:25:00.000
<v Speaker 0>Because my node that I'm using and modifying

01:25:00.000 --> 01:25:02.560
<v Speaker 0>the config on is the node, which is

01:25:01.785 --> 01:25:03.865
<v Speaker 0>connected to the teleport I spun up on

01:25:03.865 --> 01:25:06.505
<v Speaker 0>a scale AVM and not my teleport cloud

01:25:06.505 --> 01:25:07.225
<v Speaker 0>instance.

01:25:08.665 --> 01:25:10.025
<v Speaker 0>Now I need to log in as me

01:25:10.025 --> 01:25:12.105
<v Speaker 0>on the CLI, I have to generate a

01:25:12.105 --> 01:25:14.825
<v Speaker 0>token for node access and register this node

01:25:14.825 --> 01:25:15.545
<v Speaker 0>with the cluster.

01:25:17.610 --> 01:25:18.730
<v Speaker 0>So we can use the

01:25:19.130 --> 01:25:20.650
<v Speaker 0>TSH tokens command.

01:25:30.784 --> 01:25:32.224
<v Speaker 0>Oh, yeah. Talking.

01:25:36.304 --> 01:25:37.664
<v Speaker 0>We had a role.

01:25:39.105 --> 01:25:40.304
<v Speaker 0>What's a role

01:25:40.864 --> 01:25:41.905
<v Speaker 0>type

01:25:43.185 --> 01:25:44.945
<v Speaker 0>node TTL.

01:25:45.185 --> 01:25:46.530
<v Speaker 0>You know what? I just I don't even

01:25:46.530 --> 01:25:48.290
<v Speaker 0>need I don't even need an ever. Just

01:25:48.290 --> 01:25:49.170
<v Speaker 0>giving the damn thing.

01:25:58.085 --> 01:25:59.045
<v Speaker 0>One each.

01:26:03.445 --> 01:26:05.445
<v Speaker 0>And then we'll grab this

01:26:06.005 --> 01:26:08.485
<v Speaker 0>and then here, I'm just going to stop

01:26:08.485 --> 01:26:09.764
<v Speaker 0>Teleport, go away.

01:26:10.510 --> 01:26:12.190
<v Speaker 0>Now it's gonna be registered as a node

01:26:12.190 --> 01:26:14.510
<v Speaker 0>on my Teleport Cloud account. And now I'll

01:26:14.510 --> 01:26:16.269
<v Speaker 0>be able to do TSHLS.

01:26:17.550 --> 01:26:19.070
<v Speaker 0>If I assume my thing again.

01:26:26.685 --> 01:26:27.885
<v Speaker 0>Not connected yet.

01:26:38.770 --> 01:26:39.809
<v Speaker 0>Oh, come on.

01:26:45.969 --> 01:26:47.729
<v Speaker 0>Off server is

01:26:48.130 --> 01:26:49.010
<v Speaker 0>Rawkode

01:26:49.090 --> 01:26:51.730
<v Speaker 0>Teleport SH 3025.

01:27:02.205 --> 01:27:03.085
<v Speaker 0>Why is that not working?

01:27:24.454 --> 01:27:26.215
<v Speaker 0>Well, the IP address is different for a

01:27:26.215 --> 01:27:26.534
<v Speaker 0>star.

01:27:34.350 --> 01:27:37.150
<v Speaker 0>I am Mimi. Right? Yeah. I'm Mimi.

01:27:38.030 --> 01:27:39.710
<v Speaker 0>I created a token.

01:27:41.950 --> 01:27:42.910
<v Speaker 0>My cloud account.

01:27:49.375 --> 01:27:50.175
<v Speaker 0>Awesome.

01:27:54.735 --> 01:27:57.135
<v Speaker 0>Alright. Let's just modify Teleport. Yaml.

01:28:00.990 --> 01:28:02.590
<v Speaker 0>That's gonna be a bit awkward.

01:28:06.590 --> 01:28:08.670
<v Speaker 0>Roles mode. That's my token.

01:28:08.830 --> 01:28:10.750
<v Speaker 0>You know, I'll even take this pen off.

01:28:10.750 --> 01:28:12.270
<v Speaker 0>I don't care. Just work.

01:28:13.115 --> 01:28:14.315
<v Speaker 0>Rawkode.

01:28:14.315 --> 01:28:16.395
<v Speaker 0>Teleport. Oh, yeah. Four four three.

01:28:30.450 --> 01:28:32.690
<v Speaker 0>I'm using the single proxy mode, which means

01:28:32.690 --> 01:28:34.450
<v Speaker 0>I probably obviously have to pay.

01:28:37.410 --> 01:28:38.690
<v Speaker 0>Why is it not working there?

01:28:54.525 --> 01:28:55.645
<v Speaker 0>Okay. I just did that.

01:28:59.460 --> 01:29:00.820
<v Speaker 0>I'm doing that too.

01:29:11.195 --> 01:29:14.715
<v Speaker 0>Teleport start rules. No. There's my token. Okay.

01:29:14.715 --> 01:29:16.395
<v Speaker 0>Four four three is what the UI says

01:29:16.395 --> 01:29:17.195
<v Speaker 0>I should do.

01:29:19.514 --> 01:29:21.034
<v Speaker 0>And then it complained.

01:29:37.250 --> 01:29:38.769
<v Speaker 0>No. Firewall's

01:29:39.010 --> 01:29:40.290
<v Speaker 0>not nice.

01:29:42.985 --> 01:29:44.025
<v Speaker 0>Nice gas.

01:29:48.905 --> 01:29:50.585
<v Speaker 0>What to be certain to me?

01:29:52.025 --> 01:29:53.225
<v Speaker 0>Can I just run it on my own

01:29:53.225 --> 01:29:53.465
<v Speaker 0>machine?

01:29:59.380 --> 01:30:00.900
<v Speaker 0>Cat e dot s h.

01:30:24.789 --> 01:30:27.030
<v Speaker 0>I just want a machine.

01:30:32.949 --> 01:30:33.349
<v Speaker 0>Alright.

01:30:44.255 --> 01:30:45.775
<v Speaker 0>I don't care about this and real stuff

01:30:45.775 --> 01:30:46.495
<v Speaker 0>anymore.

01:30:48.495 --> 01:30:49.455
<v Speaker 0>Teleport

01:30:49.455 --> 01:30:49.935
<v Speaker 0>here.

01:30:52.039 --> 01:30:53.159
<v Speaker 0>Livestream account.

01:31:13.864 --> 01:31:15.224
<v Speaker 0>There's more labels.

01:31:16.585 --> 01:31:18.105
<v Speaker 0>Could we delete them for a test?

01:31:23.000 --> 01:31:23.719
<v Speaker 0>Probably.

01:31:24.360 --> 01:31:26.040
<v Speaker 0>I don't remember anything anymore.

01:31:33.725 --> 01:31:36.445
<v Speaker 0>Why can I not see that machine?

01:31:39.245 --> 01:31:40.845
<v Speaker 0>Oh, there's a load labels here.

01:31:47.380 --> 01:31:50.260
<v Speaker 0>Wise man would have just left. Okay.

01:31:50.659 --> 01:31:52.099
<v Speaker 0>So now if I try and connect to

01:31:52.099 --> 01:31:52.899
<v Speaker 0>this machine

01:31:53.619 --> 01:31:54.419
<v Speaker 0>Azure,

01:31:54.900 --> 01:31:55.859
<v Speaker 0>it'll work.

01:31:56.659 --> 01:31:58.019
<v Speaker 0>What we want to enable

01:31:58.260 --> 01:31:59.379
<v Speaker 0>is MFA.

01:32:00.420 --> 01:32:02.019
<v Speaker 0>So

01:32:04.974 --> 01:32:06.094
<v Speaker 0>we can add

01:32:06.895 --> 01:32:07.695
<v Speaker 0>this

01:32:08.255 --> 01:32:09.454
<v Speaker 0>to a role.

01:32:10.655 --> 01:32:13.534
<v Speaker 0>This will require any session MFA to be

01:32:13.534 --> 01:32:14.974
<v Speaker 0>enabled when we try and connect to a

01:32:14.974 --> 01:32:16.869
<v Speaker 0>machine. I wanted to do this on the

01:32:16.869 --> 01:32:19.589
<v Speaker 0>production one to show a viable use case,

01:32:20.070 --> 01:32:23.110
<v Speaker 0>but we are ninety minutes into this and

01:32:23.110 --> 01:32:24.389
<v Speaker 0>I need something to work.

01:32:25.510 --> 01:32:27.829
<v Speaker 0>So I'm just going to modify the role

01:32:27.829 --> 01:32:28.710
<v Speaker 0>for the UI.

01:32:30.755 --> 01:32:32.354
<v Speaker 0>I'm gonna just say access

01:32:33.074 --> 01:32:33.874
<v Speaker 0>spec

01:32:34.514 --> 01:32:35.475
<v Speaker 0>require

01:32:35.475 --> 01:32:36.354
<v Speaker 0>MFA.

01:32:37.475 --> 01:32:38.594
<v Speaker 0>I don't know if I have to log

01:32:38.594 --> 01:32:40.034
<v Speaker 0>out and log back in.

01:32:40.275 --> 01:32:41.155
<v Speaker 0>I have no idea.

01:32:45.630 --> 01:32:46.270
<v Speaker 0>No.

01:32:46.750 --> 01:32:48.510
<v Speaker 0>Cool. Well, yep.

01:32:49.710 --> 01:32:50.989
<v Speaker 0>This doesn't work.

01:32:51.310 --> 01:32:52.910
<v Speaker 0>I may not even say bye. I may

01:32:52.910 --> 01:32:53.950
<v Speaker 0>just turn off my computer.

01:33:03.975 --> 01:33:05.255
<v Speaker 0>Did I enable you?

01:33:06.215 --> 01:33:07.015
<v Speaker 0>Did I?

01:33:10.215 --> 01:33:11.575
<v Speaker 0>It got merged.

01:33:12.535 --> 01:33:12.855
<v Speaker 0>Okay.

01:33:15.960 --> 01:33:18.200
<v Speaker 0>Yeah. That was silly. If I view this

01:33:18.200 --> 01:33:19.560
<v Speaker 0>again, now it should be there.

01:33:20.600 --> 01:33:22.120
<v Speaker 0>Yeah. Okay. Cool.

01:33:22.360 --> 01:33:24.280
<v Speaker 0>I'll take that one. That was that was

01:33:24.280 --> 01:33:24.680
<v Speaker 0>all me.

01:33:28.455 --> 01:33:29.494
<v Speaker 0>So finally.

01:33:34.135 --> 01:33:34.934
<v Speaker 0>Alright.

01:33:37.335 --> 01:33:38.215
<v Speaker 0>So now

01:33:38.375 --> 01:33:39.414
<v Speaker 0>from here,

01:33:40.375 --> 01:33:41.895
<v Speaker 0>we go t s h l s.

01:33:47.190 --> 01:33:48.310
<v Speaker 0>What account is that?

01:34:00.805 --> 01:34:02.565
<v Speaker 0>Teleport Rawkode.

01:34:02.645 --> 01:34:03.284
<v Speaker 0>Live.

01:34:08.485 --> 01:34:08.805
<v Speaker 0>Really?

01:34:19.739 --> 01:34:22.380
<v Speaker 0>Really, really, really, really. Okay. The mod is

01:34:22.380 --> 01:34:23.179
<v Speaker 0>on that cluster.

01:34:27.575 --> 01:34:28.455
<v Speaker 0>Rawkode.

01:34:33.175 --> 01:34:35.975
<v Speaker 0>Okay. And then I need this password again.

01:34:36.775 --> 01:34:38.295
<v Speaker 0>I need this TFA again.

01:34:47.470 --> 01:34:48.110
<v Speaker 0>And now,

01:34:53.045 --> 01:34:56.804
<v Speaker 0>Teleport.

01:34:57.205 --> 01:34:59.925
<v Speaker 0>They tell me that we need OTP,

01:35:00.405 --> 01:35:01.764
<v Speaker 0>which I can copy

01:35:02.885 --> 01:35:03.525
<v Speaker 0>from here.

01:35:09.830 --> 01:35:12.070
<v Speaker 0>Now that's complaining because I see I I

01:35:12.070 --> 01:35:14.150
<v Speaker 0>tried to log in twice or use the

01:35:14.150 --> 01:35:16.550
<v Speaker 0>same one time password within a thirty second

01:35:16.550 --> 01:35:17.270
<v Speaker 0>period.

01:35:19.110 --> 01:35:20.550
<v Speaker 0>So let's copy that.

01:35:22.474 --> 01:35:24.795
<v Speaker 0>And we're in. So Teleport.

01:35:24.795 --> 01:35:25.434
<v Speaker 0>Wow.

01:35:26.474 --> 01:35:28.395
<v Speaker 0>There's a really cool feature, which is available

01:35:28.395 --> 01:35:30.715
<v Speaker 0>in open source. You can use request elevation

01:35:30.715 --> 01:35:33.195
<v Speaker 0>in open source. I think some of it

01:35:33.195 --> 01:35:34.954
<v Speaker 0>is hidden from the UI. I'm gonna speak

01:35:34.954 --> 01:35:36.795
<v Speaker 0>to the team and work out exactly what

01:35:36.795 --> 01:35:39.340
<v Speaker 0>went wrong tonight cause I'm not entirely sure.

01:35:39.820 --> 01:35:41.420
<v Speaker 0>But you can elevate your permissions, you can

01:35:41.420 --> 01:35:44.220
<v Speaker 0>assume the role, access the infrastructure, really awesome

01:35:44.220 --> 01:35:46.940
<v Speaker 0>feature. And then there's the final piece of

01:35:46.940 --> 01:35:49.020
<v Speaker 0>our back end stuff is we can enable

01:35:49.020 --> 01:35:50.940
<v Speaker 0>that a one time password is required at

01:35:50.940 --> 01:35:53.465
<v Speaker 0>the session level. Now from a CLI, that's

01:35:53.465 --> 01:35:54.425
<v Speaker 0>my OTP,

01:35:54.585 --> 01:35:56.105
<v Speaker 0>from the web, it would be a hardware

01:35:56.105 --> 01:35:56.824
<v Speaker 0>token.

01:35:57.145 --> 01:35:58.905
<v Speaker 0>And there are plenty of ways to add

01:35:58.905 --> 01:36:00.744
<v Speaker 0>the hardware token to your account.

01:36:02.905 --> 01:36:04.425
<v Speaker 0>TSH MFA,

01:36:05.945 --> 01:36:08.730
<v Speaker 0>where you can add stuff from here. So

01:36:08.890 --> 01:36:10.490
<v Speaker 0>I am not even gonna attempt to do

01:36:10.490 --> 01:36:12.010
<v Speaker 0>anything else. There isn't anything else that was

01:36:12.010 --> 01:36:13.530
<v Speaker 0>everything in the tutorial,

01:36:14.570 --> 01:36:16.490
<v Speaker 0>but that was quite a slog. So thank

01:36:16.490 --> 01:36:17.770
<v Speaker 0>you for your patience.

01:36:20.250 --> 01:36:21.530
<v Speaker 0>I'm gonna pop back over here.

01:36:22.175 --> 01:36:24.175
<v Speaker 0>So Russell says that is a nice feature

01:36:24.175 --> 01:36:26.975
<v Speaker 0>only allowing an MFA code once. Yep. I

01:36:26.975 --> 01:36:28.015
<v Speaker 0>had no idea

01:36:28.415 --> 01:36:30.095
<v Speaker 0>until you had it and then you realize

01:36:30.095 --> 01:36:31.215
<v Speaker 0>and it's annoying.

01:36:32.815 --> 01:36:34.495
<v Speaker 0>But I hope that was useful. I know

01:36:34.495 --> 01:36:36.495
<v Speaker 0>that we spend a lot of time in

01:36:36.495 --> 01:36:37.375
<v Speaker 0>this session

01:36:38.710 --> 01:36:41.909
<v Speaker 0>debugging and fighting with the roles and juggling

01:36:41.909 --> 01:36:44.230
<v Speaker 0>users and juggling clusters and I got myself

01:36:44.230 --> 01:36:45.749
<v Speaker 0>a little bit in a fluster,

01:36:45.989 --> 01:36:48.070
<v Speaker 0>but you know, do go wrong.

01:36:48.469 --> 01:36:49.830
<v Speaker 0>I like to show things when they go

01:36:49.830 --> 01:36:52.135
<v Speaker 0>wrong And I hope that the process of

01:36:52.135 --> 01:36:54.855
<v Speaker 0>pulling out roles, editing roles, playing with users

01:36:55.175 --> 01:36:57.494
<v Speaker 0>was viable or useful to some of you.

01:36:57.495 --> 01:36:59.335
<v Speaker 0>So again, thank you for staying with me.

01:36:59.335 --> 01:37:01.094
<v Speaker 0>I hope it was I hope you enjoyed

01:37:01.094 --> 01:37:02.855
<v Speaker 0>this. What I would say now is enjoy

01:37:02.855 --> 01:37:04.535
<v Speaker 0>your weekend. Russell is telling me to go

01:37:04.535 --> 01:37:05.495
<v Speaker 0>get a drink and have a good one.

01:37:05.670 --> 01:37:07.429
<v Speaker 0>I'm gonna go have a few drinks now

01:37:07.429 --> 01:37:09.989
<v Speaker 0>for sure. I'll be going home and cracking

01:37:09.989 --> 01:37:11.590
<v Speaker 0>off a cold one pretty soon.

01:37:12.070 --> 01:37:13.830
<v Speaker 0>But we'll be back on Monday. I'm gonna

01:37:13.830 --> 01:37:16.150
<v Speaker 0>be talking about moving Teleport into production.

01:37:16.390 --> 01:37:18.790
<v Speaker 0>So join us then. Have a wonderful weekend,

01:37:18.790 --> 01:37:19.909
<v Speaker 0>and I'll see you all soon.

01:37:20.230 --> 01:37:20.630
<v Speaker 0>Thanks.
