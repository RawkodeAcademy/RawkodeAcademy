WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: 7ac456c5-68cb-47c6-9b70-f8d20fb0474e
Created: 2025-04-29T17:47:39.240Z
Duration: 5928.9087
Channels: 1

00:01:39.740 --> 00:01:40.620
<v Speaker 0>Hello,

00:01:40.620 --> 00:01:43.660
<v Speaker 0>and welcome to today's episode of Clustered at

00:01:43.660 --> 00:01:45.100
<v Speaker 0>the Rawkode Academy.

00:01:45.420 --> 00:01:48.620
<v Speaker 0>Today, we have teams from Carta and Fairwinds

00:01:48.620 --> 00:01:51.485
<v Speaker 0>who have broken some Kubernetes clusters for us,

00:01:51.485 --> 00:01:53.325
<v Speaker 0>and they will attempt to fix each other's

00:01:53.325 --> 00:01:55.485
<v Speaker 0>clusters live on today's session.

00:01:55.885 --> 00:01:57.725
<v Speaker 0>Before we kick that off, there's just a

00:01:57.725 --> 00:01:59.405
<v Speaker 0>little bit of housekeeping.

00:01:59.805 --> 00:02:02.525
<v Speaker 0>First, thank you to Teleport, the sponsor of

00:02:02.525 --> 00:02:03.965
<v Speaker 0>ClusterT. And

00:02:04.205 --> 00:02:05.885
<v Speaker 0>if you've not seen Cluster before, then,

00:02:06.790 --> 00:02:08.870
<v Speaker 0>well, you're wrong. You should.

00:02:09.190 --> 00:02:10.870
<v Speaker 0>Teleport is a tool that we've used since

00:02:10.870 --> 00:02:13.190
<v Speaker 0>the very first episode. It allows us to

00:02:13.190 --> 00:02:15.830
<v Speaker 0>have access in a pairing fashion through a

00:02:15.830 --> 00:02:17.910
<v Speaker 0>web browser or through the command line client

00:02:17.910 --> 00:02:20.069
<v Speaker 0>and actually type in the same terminal together

00:02:20.069 --> 00:02:22.584
<v Speaker 0>and pair on problems, an invaluable tool when

00:02:22.584 --> 00:02:24.504
<v Speaker 0>debugging Kubernetes, and we're gonna see our teams

00:02:24.504 --> 00:02:26.345
<v Speaker 0>using us today. So thank you to Teleport

00:02:26.345 --> 00:02:28.825
<v Speaker 0>for that. Also, you should really subscribe to

00:02:28.825 --> 00:02:31.224
<v Speaker 0>the Rawkode Academy. And there's a button right

00:02:31.224 --> 00:02:32.985
<v Speaker 0>below this video that will allow you to

00:02:32.985 --> 00:02:35.305
<v Speaker 0>get updates to all new episodes of

00:02:36.099 --> 00:02:38.500
<v Speaker 0>Prasut, and I do my best to try

00:02:38.500 --> 00:02:39.700
<v Speaker 0>and provide tutorials,

00:02:39.700 --> 00:02:41.940
<v Speaker 0>guides, and walkthroughs for all of the projects

00:02:41.940 --> 00:02:43.140
<v Speaker 0>and the cloud native

00:02:43.300 --> 00:02:46.260
<v Speaker 0>cloud native landscape. I can't talk today. So

00:02:46.260 --> 00:02:48.260
<v Speaker 0>please subscribe, follow along. And if you wanna

00:02:48.260 --> 00:02:49.700
<v Speaker 0>come and chat, there is a Discord server

00:02:49.700 --> 00:02:51.300
<v Speaker 0>as well available at Rawkode.chat.

00:02:51.405 --> 00:02:53.084
<v Speaker 0>Now I'm gonna stop talking before I make

00:02:53.084 --> 00:02:54.925
<v Speaker 0>any more mistakes and jump over to introduce

00:02:54.925 --> 00:02:56.845
<v Speaker 0>our wonderful first team.

00:02:57.805 --> 00:02:58.685
<v Speaker 0>Hello,

00:02:58.845 --> 00:03:01.085
<v Speaker 0>team Carter. How are you both today?

00:03:02.205 --> 00:03:03.565
<v Speaker 1>Hello. What's up, everybody?

00:03:05.540 --> 00:03:06.820
<v Speaker 2>How's everyone doing?

00:03:07.620 --> 00:03:08.500
<v Speaker 0>Better

00:03:08.500 --> 00:03:10.180
<v Speaker 0>now that the pressure's off me and now

00:03:10.180 --> 00:03:12.180
<v Speaker 0>on firmly on both of your shoulders.

00:03:12.340 --> 00:03:14.420
<v Speaker 0>So can you just do us a favor

00:03:14.420 --> 00:03:16.020
<v Speaker 0>and just say hello? Tell us who you

00:03:16.020 --> 00:03:17.540
<v Speaker 0>are and share whatever you wish to share,

00:03:17.540 --> 00:03:17.620
<v Speaker 0>please.

00:03:18.864 --> 00:03:20.145
<v Speaker 0>And start with you, Mario.

00:03:20.705 --> 00:03:23.665
<v Speaker 1>Sure. Awesome. Thanks. My name is Mario Loria.

00:03:23.665 --> 00:03:25.425
<v Speaker 1>You may have seen me tweeting

00:03:25.504 --> 00:03:26.785
<v Speaker 1>Meminetti's

00:03:27.665 --> 00:03:31.105
<v Speaker 1>randomness and funny things, not incredibly serious.

00:03:31.970 --> 00:03:34.930
<v Speaker 1>I am a CNCF ambassador, currently a senior

00:03:34.930 --> 00:03:38.450
<v Speaker 1>SRE at CartaX along with this guy next

00:03:38.450 --> 00:03:40.370
<v Speaker 1>to me. We're going to be showing you

00:03:40.370 --> 00:03:42.130
<v Speaker 1>about great our skill set is in fixing

00:03:42.130 --> 00:03:42.770
<v Speaker 1>things.

00:03:43.010 --> 00:03:45.330
<v Speaker 1>I also do cloud native consulting from time

00:03:45.330 --> 00:03:47.355
<v Speaker 1>to time, so I've seen a lot of

00:03:47.355 --> 00:03:48.875
<v Speaker 1>different various scenarios.

00:03:49.275 --> 00:03:50.075
<v Speaker 1>Really

00:03:50.075 --> 00:03:53.034
<v Speaker 1>invested in helping the CNCF with cloud native

00:03:53.034 --> 00:03:53.755
<v Speaker 1>TV,

00:03:54.394 --> 00:03:57.114
<v Speaker 1>KubeCon conference, which was just announced the schedule

00:03:57.114 --> 00:03:59.915
<v Speaker 1>as well, and really love the overarching community.

00:04:00.280 --> 00:04:01.959
<v Speaker 1>My specialties are kind of in the networking

00:04:01.959 --> 00:04:02.599
<v Speaker 1>realm,

00:04:02.760 --> 00:04:05.000
<v Speaker 1>and the nuances of of doing things in

00:04:05.000 --> 00:04:07.000
<v Speaker 1>auto scaling and just building resilient,

00:04:07.319 --> 00:04:08.519
<v Speaker 1>cloud infrastructure,

00:04:08.519 --> 00:04:10.360
<v Speaker 1>of course, on Kubernetes.

00:04:10.680 --> 00:04:13.000
<v Speaker 1>And I love all the the little projects

00:04:13.000 --> 00:04:15.605
<v Speaker 1>that come about and things like Cilium really

00:04:15.605 --> 00:04:17.365
<v Speaker 1>really get me excited

00:04:17.365 --> 00:04:18.885
<v Speaker 1>about the feature of of

00:04:19.125 --> 00:04:21.045
<v Speaker 1>containers and and orchestration.

00:04:21.045 --> 00:04:22.725
<v Speaker 1>So really happy to be here, and thank

00:04:22.725 --> 00:04:24.725
<v Speaker 1>you so much, David, for setting this up.

00:04:25.205 --> 00:04:26.485
<v Speaker 0>Awesome. Thank you, Mario.

00:04:26.885 --> 00:04:27.525
<v Speaker 0>And, Mudi.

00:04:29.000 --> 00:04:31.160
<v Speaker 2>Hey, everyone. My name is Mahmud. I also

00:04:31.160 --> 00:04:33.240
<v Speaker 2>go by Mudi. I'm based in New York

00:04:33.240 --> 00:04:36.120
<v Speaker 2>City. I've been a senior SRE at Carta

00:04:36.120 --> 00:04:38.120
<v Speaker 2>for a few months. But before that, my

00:04:38.120 --> 00:04:39.240
<v Speaker 2>background was more

00:04:40.920 --> 00:04:44.104
<v Speaker 2>working with financial companies to setting up platforms,

00:04:44.104 --> 00:04:45.545
<v Speaker 2>Kubernetes platforms,

00:04:45.865 --> 00:04:49.065
<v Speaker 2>as well as AI companies to do large

00:04:49.065 --> 00:04:49.705
<v Speaker 2>scale

00:04:50.104 --> 00:04:51.465
<v Speaker 2>data processing.

00:04:52.505 --> 00:04:56.104
<v Speaker 2>So I've I've been on mostly doing

00:04:57.759 --> 00:05:00.560
<v Speaker 2>mostly doing software engineering, but more recently, been

00:05:00.560 --> 00:05:02.400
<v Speaker 2>doing more SRE type of infrastructure

00:05:03.840 --> 00:05:06.080
<v Speaker 2>type of work. So it's been exciting. I'm

00:05:06.080 --> 00:05:09.120
<v Speaker 2>also very excited about the upcoming KubeCon. Hopefully,

00:05:09.120 --> 00:05:10.560
<v Speaker 2>we'll see a bunch of you guys

00:05:11.005 --> 00:05:12.605
<v Speaker 2>in the audience there.

00:05:13.325 --> 00:05:15.645
<v Speaker 2>And, yeah, super excited about today.

00:05:16.285 --> 00:05:18.845
<v Speaker 0>Awesome. And you've been on before and absolutely

00:05:18.845 --> 00:05:20.685
<v Speaker 0>smashed it. Right? So this is gonna be

00:05:20.685 --> 00:05:21.565
<v Speaker 0>a cakewalk.

00:05:22.125 --> 00:05:23.165
<v Speaker 2>Oh, I don't know. This

00:05:24.139 --> 00:05:26.380
<v Speaker 2>Teams Teams is a little intimidating because it

00:05:26.380 --> 00:05:27.100
<v Speaker 2>sounds like

00:05:27.500 --> 00:05:29.980
<v Speaker 2>we have we're we're we're working against four

00:05:29.980 --> 00:05:31.500
<v Speaker 2>four very talented

00:05:31.660 --> 00:05:34.220
<v Speaker 2>folks from Fairwinds, so we're very excited to

00:05:34.220 --> 00:05:35.740
<v Speaker 2>see what they have for us. Yeah.

00:05:36.715 --> 00:05:37.995
<v Speaker 0>Alright. Awesome.

00:05:38.795 --> 00:05:40.955
<v Speaker 0>Well, that's the nicest piece out of way.

00:05:40.955 --> 00:05:43.515
<v Speaker 0>We're gonna get into the fun of debugging

00:05:43.515 --> 00:05:44.395
<v Speaker 0>Kubernetes.

00:05:44.395 --> 00:05:46.475
<v Speaker 0>So I'm going to pull up my screen

00:05:46.475 --> 00:05:47.115
<v Speaker 0>share here,

00:05:48.410 --> 00:05:51.210
<v Speaker 0>and I'm going to attempt to use the

00:05:51.210 --> 00:05:54.090
<v Speaker 0>Teleport CLI application for today,

00:05:54.490 --> 00:05:56.090
<v Speaker 0>which allows me to list the nodes in

00:05:56.090 --> 00:05:57.290
<v Speaker 0>the Fairwind cluster.

00:05:57.610 --> 00:05:59.770
<v Speaker 0>I am going to connect to the control

00:05:59.770 --> 00:06:02.005
<v Speaker 0>plane like so. You both should be able

00:06:02.005 --> 00:06:04.325
<v Speaker 0>to join through your own session. And if

00:06:04.325 --> 00:06:06.085
<v Speaker 0>you could just give me an echo hello,

00:06:06.085 --> 00:06:08.085
<v Speaker 0>an echo Moody, echo Mario, whatever you'd like,

00:06:08.085 --> 00:06:09.525
<v Speaker 0>let me know that you're in the session,

00:06:09.525 --> 00:06:11.365
<v Speaker 0>and we'll kick things off for today.

00:06:11.845 --> 00:06:12.645
<v Speaker 0>Thank you, Moody.

00:06:14.389 --> 00:06:16.710
<v Speaker 1>So, Rawkode, I'd love to go off the

00:06:16.710 --> 00:06:18.710
<v Speaker 1>beaten path, and I would love it if

00:06:18.710 --> 00:06:21.590
<v Speaker 1>you made another session just for me

00:06:21.990 --> 00:06:23.909
<v Speaker 1>and shared it on the screen. We have

00:06:23.909 --> 00:06:24.949
<v Speaker 1>dual sessions,

00:06:25.574 --> 00:06:27.414
<v Speaker 1>and people can watch and see what we're

00:06:27.414 --> 00:06:29.735
<v Speaker 1>both doing at the same time distinctly. Now

00:06:29.735 --> 00:06:32.615
<v Speaker 1>I think maybe Moody I'll let Moody drive,

00:06:32.615 --> 00:06:34.775
<v Speaker 1>and maybe I'll do some research looking around,

00:06:34.935 --> 00:06:36.615
<v Speaker 1>and he can make some of the actual

00:06:36.615 --> 00:06:36.854
<v Speaker 1>changes.

00:06:38.000 --> 00:06:39.840
<v Speaker 1>But I'm gonna join this session right now.

00:06:39.840 --> 00:06:41.280
<v Speaker 1>Thank you so much. This is a great

00:06:41.280 --> 00:06:42.640
<v Speaker 1>idea. I just wanna make it more exciting

00:06:42.640 --> 00:06:44.800
<v Speaker 1>for the fans. Well, this is a a

00:06:44.800 --> 00:06:47.280
<v Speaker 0>clustered first. We have never had a split

00:06:47.280 --> 00:06:49.920
<v Speaker 0>screen action on the go. So nice idea,

00:06:49.920 --> 00:06:51.760
<v Speaker 0>and let's see what happens. Blades and trails.

00:06:51.875 --> 00:06:53.875
<v Speaker 0>And I see that the Carta team have

00:06:53.875 --> 00:06:55.715
<v Speaker 0>left you a nice little hello message as

00:06:55.715 --> 00:06:56.995
<v Speaker 0>well. Isn't that sweet?

00:06:58.035 --> 00:06:58.755
<v Speaker 2>Oh,

00:06:58.995 --> 00:07:01.555
<v Speaker 2>yeah. They're saying, hello there, Carta. We're excited

00:07:01.555 --> 00:07:04.355
<v Speaker 2>you're here. We left you fun treats and

00:07:04.595 --> 00:07:07.075
<v Speaker 2>three fun treats, and don't forget the hints.

00:07:07.140 --> 00:07:08.420
<v Speaker 2>Cool. Thank you.

00:07:09.300 --> 00:07:12.340
<v Speaker 2>So so, Mario, shall we just see if

00:07:12.340 --> 00:07:14.420
<v Speaker 2>we have access to this cluster?

00:07:14.820 --> 00:07:15.780
<v Speaker 2>Should I drive,

00:07:16.580 --> 00:07:18.420
<v Speaker 2>or would you Go ahead. Take it away.

00:07:19.060 --> 00:07:22.260
<v Speaker 2>Yeah. Yeah. So we'll see qcl get nodes,

00:07:22.260 --> 00:07:22.580
<v Speaker 2>I think.

00:07:23.715 --> 00:07:24.995
<v Speaker 2>Oh, okay.

00:07:26.354 --> 00:07:28.195
<v Speaker 0>So we've got Mario taking a look at

00:07:28.195 --> 00:07:30.835
<v Speaker 0>the hints, and we've got Moody checking the

00:07:30.835 --> 00:07:32.595
<v Speaker 0>nodes above. So at least you have a

00:07:32.595 --> 00:07:35.315
<v Speaker 0>working control plan. Right? Of course. Good old

00:07:35.315 --> 00:07:37.510
<v Speaker 1>fair ones with that RBAC lookup. That's their

00:07:37.510 --> 00:07:39.910
<v Speaker 1>own homegrown tool. Of course, they'd they played

00:07:39.910 --> 00:07:42.630
<v Speaker 1>it into the the process. I'd love it.

00:07:44.390 --> 00:07:45.750
<v Speaker 2>Well, I was gonna say

00:07:47.190 --> 00:07:48.470
<v Speaker 2>wait. Wait. I don't think we should read

00:07:48.470 --> 00:07:49.590
<v Speaker 2>the hints yet. Right?

00:07:50.245 --> 00:07:51.925
<v Speaker 1>Oh, you oh, okay. I was just gonna

00:07:51.925 --> 00:07:54.885
<v Speaker 3>ask. Okay. Alright. Yeah. Yeah. Can you can

00:07:54.885 --> 00:07:57.205
<v Speaker 0>do whatever you want. Right? It's it's it's

00:07:57.205 --> 00:07:58.885
<v Speaker 0>it's up to you. I I think I

00:07:58.885 --> 00:08:00.165
<v Speaker 2>think we should read the hints when we

00:08:00.165 --> 00:08:02.005
<v Speaker 2>get stuck. I think it's a little early

00:08:02.005 --> 00:08:05.139
<v Speaker 2>to read those. Alright. Alright. Okay.

00:08:05.539 --> 00:08:07.939
<v Speaker 0>If fair winds are selling you bad, don't

00:08:07.939 --> 00:08:09.060
<v Speaker 0>open the hint yet.

00:08:09.220 --> 00:08:11.300
<v Speaker 0>So Oh, man. Alright. I am gonna start

00:08:11.300 --> 00:08:13.219
<v Speaker 0>your four to five minute timer. Thank you,

00:08:13.219 --> 00:08:15.300
<v Speaker 0>Noel, for the reminder. You may almost have

00:08:15.300 --> 00:08:16.925
<v Speaker 0>infinite time there. We now have a little

00:08:16.925 --> 00:08:18.605
<v Speaker 0>timer in the corner. Take it away. Good

00:08:18.605 --> 00:08:21.245
<v Speaker 0>luck. So so I didn't see the hints,

00:08:21.245 --> 00:08:23.245
<v Speaker 2>so we'll see how this goes. But the

00:08:24.205 --> 00:08:26.525
<v Speaker 2>what I'm seeing is get nodes is returning

00:08:26.765 --> 00:08:28.765
<v Speaker 2>what looks like pods. So these are not

00:08:29.005 --> 00:08:31.370
<v Speaker 2>these don't look like nodes to me. So

00:08:31.370 --> 00:08:33.850
<v Speaker 2>that's the first very suspicious thing that's going

00:08:33.850 --> 00:08:34.330
<v Speaker 2>on.

00:08:35.370 --> 00:08:36.809
<v Speaker 2>Can I get pods?

00:08:37.690 --> 00:08:40.010
<v Speaker 2>Can I get anything other than

00:08:40.490 --> 00:08:41.370
<v Speaker 2>pods?

00:08:42.730 --> 00:08:43.610
<v Speaker 2>Namespaces.

00:08:43.610 --> 00:08:46.090
<v Speaker 2>It looks even like it's a saved

00:08:46.485 --> 00:08:48.565
<v Speaker 2>it's a saved output. Like, the seconds are

00:08:48.565 --> 00:08:49.524
<v Speaker 2>not changing.

00:08:49.925 --> 00:08:50.485
<v Speaker 2>So

00:08:51.045 --> 00:08:53.605
<v Speaker 2>it's probably like an an alias or something

00:08:54.084 --> 00:08:55.205
<v Speaker 2>or a

00:08:56.404 --> 00:08:58.325
<v Speaker 2>function. I'm gonna say which kubectl,

00:08:58.325 --> 00:08:58.964
<v Speaker 2>see what that

00:09:00.040 --> 00:09:02.280
<v Speaker 2>so, yeah, let's let's go there and use

00:09:02.280 --> 00:09:03.080
<v Speaker 2>our bin

00:09:03.640 --> 00:09:05.240
<v Speaker 2>and let's l s

00:09:06.440 --> 00:09:07.640
<v Speaker 2>kubectl.

00:09:07.960 --> 00:09:10.040
<v Speaker 0>We have the Fairwinds team in the chat

00:09:10.040 --> 00:09:12.360
<v Speaker 0>written you on, I'm sure. Let's see. Let's

00:09:12.360 --> 00:09:13.240
<v Speaker 1>see if I

00:09:14.315 --> 00:09:14.954
<v Speaker 1>oh.

00:09:15.915 --> 00:09:18.315
<v Speaker 2>Nope. It is a binary. Gonna say, just

00:09:18.315 --> 00:09:19.675
<v Speaker 2>to see what kind of

00:09:20.235 --> 00:09:21.435
<v Speaker 2>file this is,

00:09:22.875 --> 00:09:24.475
<v Speaker 2>statically, like, execute.

00:09:26.470 --> 00:09:28.310
<v Speaker 1>This is great. K nine s on my

00:09:28.310 --> 00:09:29.830
<v Speaker 1>screen is just showing up just really well

00:09:29.830 --> 00:09:31.590
<v Speaker 1>on the stream, isn't it? I'm sure everybody's

00:09:31.590 --> 00:09:33.270
<v Speaker 1>loving loving this scrolling.

00:09:33.590 --> 00:09:34.550
<v Speaker 1>That's wonderful.

00:09:35.350 --> 00:09:37.430
<v Speaker 1>So I do have access, Woody, to the

00:09:37.430 --> 00:09:39.750
<v Speaker 1>cluster. So it's it's definitely a QCTL,

00:09:39.910 --> 00:09:40.470
<v Speaker 1>specific

00:09:40.725 --> 00:09:43.045
<v Speaker 1>thing, it sounds like, or something static.

00:09:44.245 --> 00:09:44.885
<v Speaker 2>Yeah.

00:09:47.365 --> 00:09:49.285
<v Speaker 2>So yeah. So I don't know why KubeCTL

00:09:49.285 --> 00:09:50.404
<v Speaker 2>is acting this way.

00:09:51.125 --> 00:09:53.045
<v Speaker 0>You're assuming it's KubeCTL.

00:09:53.444 --> 00:09:54.325
<v Speaker 2>Right.

00:09:55.444 --> 00:09:55.845
<v Speaker 2>So,

00:09:56.860 --> 00:09:58.300
<v Speaker 2>Mario, what do you think we should do

00:09:58.300 --> 00:10:00.460
<v Speaker 2>here? Or should we just use canines since

00:10:00.460 --> 00:10:02.700
<v Speaker 2>that client seems to be working? I I

00:10:02.700 --> 00:10:05.260
<v Speaker 1>kinda wanna just use canines. I'm worried about

00:10:05.420 --> 00:10:07.740
<v Speaker 1>oh, it actually displays pretty well for you,

00:10:07.820 --> 00:10:09.980
<v Speaker 1>yours. Okay. Yeah. Let's just use canines.

00:10:10.060 --> 00:10:12.035
<v Speaker 1>Like, I think most of, like, the added

00:10:12.035 --> 00:10:14.115
<v Speaker 1>actions and research is gonna be in there

00:10:14.115 --> 00:10:15.795
<v Speaker 1>for the most part, I think. So

00:10:16.515 --> 00:10:18.675
<v Speaker 2>Okay. Yeah. Sounds good to me.

00:10:19.795 --> 00:10:20.355
<v Speaker 2>So

00:10:21.475 --> 00:10:23.635
<v Speaker 2>oh, I think the terminal is getting messed

00:10:23.635 --> 00:10:25.795
<v Speaker 2>up now. It was working, and now it's,

00:10:25.795 --> 00:10:28.510
<v Speaker 2>like, a little. Yeah. Uh-oh. Just give it

00:10:28.510 --> 00:10:30.190
<v Speaker 0>a little How about how about now? A

00:10:30.190 --> 00:10:31.070
<v Speaker 0>little drag.

00:10:31.790 --> 00:10:34.910
<v Speaker 2>A little drag. Okay. How about now? Yeah.

00:10:35.710 --> 00:10:36.510
<v Speaker 2>Nope.

00:10:37.550 --> 00:10:39.149
<v Speaker 2>Let me just start over. Yeah.

00:10:40.115 --> 00:10:41.235
<v Speaker 2>Nines.

00:10:41.875 --> 00:10:42.755
<v Speaker 2>Oh, man.

00:10:43.315 --> 00:10:45.235
<v Speaker 2>Having trouble getting it to fit on the

00:10:45.235 --> 00:10:45.954
<v Speaker 2>screen.

00:10:46.355 --> 00:10:48.675
<v Speaker 0>Yeah. That's because I resized my window. Sorry.

00:10:50.355 --> 00:10:51.954
<v Speaker 0>I'll drag it back. Oh, there we go.

00:10:52.589 --> 00:10:54.430
<v Speaker 2>Oh, there we go. Thanks.

00:10:54.670 --> 00:10:57.470
<v Speaker 2>Nice. So okay. So let's first find out

00:10:57.949 --> 00:11:00.829
<v Speaker 2>if the application's running, I guess. So

00:11:01.470 --> 00:11:03.949
<v Speaker 2>should we try to look at the services?

00:11:05.875 --> 00:11:06.675
<v Speaker 2>Oops.

00:11:06.915 --> 00:11:07.635
<v Speaker 2>Service.

00:11:08.515 --> 00:11:09.315
<v Speaker 2>And

00:11:09.555 --> 00:11:10.915
<v Speaker 2>so it's on

00:11:12.755 --> 00:11:14.355
<v Speaker 2>Port 30000.

00:11:14.435 --> 00:11:16.515
<v Speaker 2>Is is is there an ingress that we

00:11:16.515 --> 00:11:18.355
<v Speaker 2>can test with, David?

00:11:18.834 --> 00:11:19.395
<v Speaker 2>Or

00:11:20.480 --> 00:11:22.240
<v Speaker 1>Yeah. I know he can click the

00:11:22.720 --> 00:11:25.760
<v Speaker 1>entry and Yes. So if I pop over

00:11:25.760 --> 00:11:27.519
<v Speaker 0>to the web interface, we do have the

00:11:27.519 --> 00:11:31.200
<v Speaker 0>clustered application exposed securely via Teleport. I can

00:11:31.200 --> 00:11:33.040
<v Speaker 0>click the button, and we will wait.

00:11:35.975 --> 00:11:36.615
<v Speaker 2>Oh,

00:11:36.855 --> 00:11:38.695
<v Speaker 2>yeah. I'm testing it. It doesn't look like

00:11:38.695 --> 00:11:39.255
<v Speaker 2>it's gonna

00:11:40.215 --> 00:11:43.175
<v Speaker 2>it's not doing anything, it looks like. So

00:11:43.335 --> 00:11:44.135
<v Speaker 2>interesting.

00:11:47.975 --> 00:11:49.895
<v Speaker 2>Okay. So

00:11:51.550 --> 00:11:52.590
<v Speaker 2>let's see.

00:11:54.589 --> 00:11:56.190
<v Speaker 0>Let's find out why. It did load and

00:11:56.190 --> 00:11:58.350
<v Speaker 0>we got failed to connect to the database.

00:11:58.350 --> 00:12:00.750
<v Speaker 0>So for anyone who's not familiar,

00:12:01.390 --> 00:12:04.190
<v Speaker 0>the application cluster is a small Rust application

00:12:04.245 --> 00:12:06.645
<v Speaker 0>that speaks to a Postgres database

00:12:06.645 --> 00:12:09.285
<v Speaker 0>inside the same namespace to display a quote.

00:12:09.605 --> 00:12:11.845
<v Speaker 0>It cannot touch that database for now.

00:12:12.964 --> 00:12:15.285
<v Speaker 2>Gotcha. So so yeah. So let's take a

00:12:15.285 --> 00:12:17.685
<v Speaker 2>look at maybe the if there's any logs

00:12:18.140 --> 00:12:19.660
<v Speaker 2>No logs. Okay.

00:12:20.779 --> 00:12:23.180
<v Speaker 2>Maybe I'll describe the deployment and just take

00:12:23.180 --> 00:12:25.020
<v Speaker 2>a look at what's going on in the

00:12:25.020 --> 00:12:26.779
<v Speaker 2>image. So it looks like it's using the

00:12:26.779 --> 00:12:27.260
<v Speaker 2>right

00:12:27.740 --> 00:12:30.060
<v Speaker 2>image name here, so that's good.

00:12:33.615 --> 00:12:35.295
<v Speaker 2>I wonder if it's like a

00:12:37.055 --> 00:12:39.935
<v Speaker 2>like, it's like a network policy thing potentially.

00:12:40.175 --> 00:12:40.735
<v Speaker 2>Or

00:12:42.255 --> 00:12:44.895
<v Speaker 1>So I do see a network policy actually,

00:12:45.615 --> 00:12:47.935
<v Speaker 1>and it looks like it's got a

00:12:48.470 --> 00:12:49.830
<v Speaker 1>pod selector

00:12:49.830 --> 00:12:52.390
<v Speaker 1>for it is allowing, though. It's allowing egress

00:12:52.390 --> 00:12:53.830
<v Speaker 1>traffic to

00:12:55.350 --> 00:12:56.150
<v Speaker 1>the

00:12:56.870 --> 00:12:57.750
<v Speaker 1>Postgres

00:12:57.830 --> 00:12:58.870
<v Speaker 1>database.

00:12:59.990 --> 00:13:02.230
<v Speaker 1>However, I have a feeling, Moody, maybe we

00:13:02.230 --> 00:13:04.635
<v Speaker 1>just delete it, and you can view that

00:13:04.635 --> 00:13:06.715
<v Speaker 1>if you do in k nine. It's just

00:13:06.715 --> 00:13:08.235
<v Speaker 1>a colon network policy.

00:13:09.995 --> 00:13:11.435
<v Speaker 1>I have a feeling we should just we

00:13:11.435 --> 00:13:12.795
<v Speaker 1>should nuke that one, though.

00:13:13.435 --> 00:13:15.275
<v Speaker 2>The default one. Right?

00:13:15.835 --> 00:13:18.475
<v Speaker 3>Mhmm. Yep. Yeah. Yeah. It looks like it's

00:13:18.819 --> 00:13:20.420
<v Speaker 2>seems like it's denying

00:13:21.459 --> 00:13:22.339
<v Speaker 2>denying

00:13:22.339 --> 00:13:23.220
<v Speaker 2>egress,

00:13:23.220 --> 00:13:24.260
<v Speaker 2>it looks like.

00:13:25.139 --> 00:13:26.740
<v Speaker 1>Oh, you see a deny rule?

00:13:27.540 --> 00:13:29.060
<v Speaker 2>Or is that an oh, it's an allow

00:13:29.060 --> 00:13:31.540
<v Speaker 2>rule. I see allowing egress traffic. Yeah. But

00:13:31.540 --> 00:13:33.459
<v Speaker 1>I think for safe measure, maybe just removing

00:13:33.459 --> 00:13:34.500
<v Speaker 1>it would be

00:13:34.775 --> 00:13:36.455
<v Speaker 2>Okay. If it's not in the way.

00:13:36.935 --> 00:13:40.295
<v Speaker 2>Let me delete it. And now let's test

00:13:40.295 --> 00:13:41.655
<v Speaker 2>the application again.

00:13:42.135 --> 00:13:44.055
<v Speaker 2>Oh, there we go. So the application loads

00:13:44.055 --> 00:13:44.695
<v Speaker 2>now.

00:13:46.295 --> 00:13:47.335
<v Speaker 3>Yep. Excellent.

00:13:47.700 --> 00:13:49.700
<v Speaker 0>And you get the watch face video, which

00:13:49.700 --> 00:13:52.020
<v Speaker 0>means we have version one of the clustered

00:13:52.020 --> 00:13:52.820
<v Speaker 0>application.

00:13:54.100 --> 00:13:54.980
<v Speaker 2>Awesome.

00:13:54.980 --> 00:13:55.620
<v Speaker 2>So

00:13:56.580 --> 00:13:58.580
<v Speaker 2>let's see. Shall we try to upgrade it?

00:13:58.580 --> 00:13:59.220
<v Speaker 2>What do you think?

00:14:00.425 --> 00:14:01.945
<v Speaker 1>Yeah. I'd say let's just go for it,

00:14:01.945 --> 00:14:03.545
<v Speaker 1>and then we'll see what hapload breaks from

00:14:03.545 --> 00:14:04.025
<v Speaker 1>there.

00:14:05.065 --> 00:14:07.145
<v Speaker 1>And I'm actually reading the comments right now

00:14:07.145 --> 00:14:08.665
<v Speaker 1>too because this is fun,

00:14:08.985 --> 00:14:10.985
<v Speaker 1>and it's a nice dopamine hit. And,

00:14:11.865 --> 00:14:14.425
<v Speaker 1>Kelly wrote, so you don't wanna fix kubectl.

00:14:14.910 --> 00:14:17.630
<v Speaker 1>And, my answer to that is I do,

00:14:17.630 --> 00:14:20.269
<v Speaker 1>but, like, our main priority is upgrading from

00:14:20.269 --> 00:14:22.350
<v Speaker 1>version one to version two. And so I

00:14:22.350 --> 00:14:24.350
<v Speaker 1>kinda just wanna get that done.

00:14:24.829 --> 00:14:26.589
<v Speaker 1>I definitely do wanna figure out what they

00:14:26.589 --> 00:14:27.550
<v Speaker 1>did because I'm interested

00:14:28.315 --> 00:14:30.634
<v Speaker 1>in how they broke that and got some

00:14:30.634 --> 00:14:32.875
<v Speaker 1>static output, but it's a binary. It's kind

00:14:32.875 --> 00:14:34.394
<v Speaker 1>of it's kind of interesting to me. So

00:14:34.394 --> 00:14:35.995
<v Speaker 1>maybe we'll come back to that one.

00:14:36.315 --> 00:14:39.755
<v Speaker 1>But the big thing great question, Khalid, is,

00:14:40.089 --> 00:14:42.010
<v Speaker 1>like, I just wanna solve the the main

00:14:42.010 --> 00:14:44.089
<v Speaker 1>thing that we're trying to do first, and

00:14:44.089 --> 00:14:46.090
<v Speaker 1>we have API access. So,

00:14:46.570 --> 00:14:48.810
<v Speaker 1>k nines is, yeah, letting us do that.

00:14:49.130 --> 00:14:49.450
<v Speaker 1>So

00:14:50.410 --> 00:14:51.850
<v Speaker 2>So so here's,

00:14:52.170 --> 00:14:54.335
<v Speaker 2>what I just found out is that I

00:14:54.335 --> 00:14:57.055
<v Speaker 2>I can't update the image tag for whatever

00:14:57.055 --> 00:14:59.695
<v Speaker 2>reason. It keeps sticking back to v one

00:14:59.695 --> 00:15:01.615
<v Speaker 2>even though I changed it to v two.

00:15:02.015 --> 00:15:03.135
<v Speaker 2>So

00:15:03.375 --> 00:15:05.535
<v Speaker 2>there we go. Let me try it again

00:15:05.535 --> 00:15:06.735
<v Speaker 2>just to make sure I did it right.

00:15:10.560 --> 00:15:11.360
<v Speaker 2>Oops.

00:15:13.760 --> 00:15:14.480
<v Speaker 2>Yeah.

00:15:17.200 --> 00:15:17.839
<v Speaker 2>B two.

00:15:20.115 --> 00:15:22.435
<v Speaker 2>And if I describe it again,

00:15:23.795 --> 00:15:26.275
<v Speaker 2>yeah, it still says v one. So

00:15:26.915 --> 00:15:28.195
<v Speaker 2>admission controllers,

00:15:28.435 --> 00:15:29.315
<v Speaker 2>you think?

00:15:30.115 --> 00:15:32.915
<v Speaker 1>Yeah. I think that's probably the the logical

00:15:32.915 --> 00:15:34.115
<v Speaker 1>logical one.

00:15:34.675 --> 00:15:35.635
<v Speaker 1>Now I'm interested.

00:15:36.570 --> 00:15:39.690
<v Speaker 2>Yeah. Yeah. Indeed. There's a there's an admission

00:15:39.690 --> 00:15:42.410
<v Speaker 2>controller right here. It's saying Okay.

00:15:43.690 --> 00:15:44.330
<v Speaker 2>Well,

00:15:44.890 --> 00:15:46.890
<v Speaker 2>I I can't really see it because it's

00:15:46.970 --> 00:15:50.075
<v Speaker 2>the window's so small, but trying to

00:15:51.435 --> 00:15:52.555
<v Speaker 2>yeah. Create

00:15:52.875 --> 00:15:55.035
<v Speaker 2>the operations are create pods

00:15:55.995 --> 00:15:57.035
<v Speaker 2>down here

00:15:59.435 --> 00:16:02.235
<v Speaker 2>for a mutate. Yeah. So shall we just

00:16:02.235 --> 00:16:02.714
<v Speaker 2>delete it?

00:16:04.170 --> 00:16:06.410
<v Speaker 1>I think that's probably a safe bet.

00:16:08.010 --> 00:16:11.450
<v Speaker 2>Yeah. Let's do it. The sledgehammer approach. Let

00:16:13.690 --> 00:16:15.450
<v Speaker 2>me look at the deployment again

00:16:16.010 --> 00:16:17.210
<v Speaker 2>and

00:16:18.695 --> 00:16:20.775
<v Speaker 2>change to v two again.

00:16:24.535 --> 00:16:25.335
<v Speaker 2>Okay.

00:16:27.015 --> 00:16:29.175
<v Speaker 2>I don't think it worked this time either.

00:16:30.215 --> 00:16:30.615
<v Speaker 5>Uh-oh.

00:16:31.960 --> 00:16:34.120
<v Speaker 2>Interesting. So maybe that was like

00:16:35.240 --> 00:16:36.840
<v Speaker 2>a that was like a red herring. I'm

00:16:36.840 --> 00:16:38.360
<v Speaker 2>gonna look at the replica sets.

00:16:38.920 --> 00:16:40.760
<v Speaker 2>Oh, so there's a bunch of replica sets

00:16:40.760 --> 00:16:41.320
<v Speaker 2>here.

00:16:41.800 --> 00:16:44.040
<v Speaker 2>It looks like the one that's running right

00:16:44.040 --> 00:16:44.520
<v Speaker 2>now

00:16:44.840 --> 00:16:46.760
<v Speaker 1>was it's forty hours ago.

00:16:47.815 --> 00:16:48.535
<v Speaker 2>Right.

00:16:49.975 --> 00:16:50.775
<v Speaker 2>Interesting.

00:16:52.055 --> 00:16:54.215
<v Speaker 2>I wonder what happens with yeah.

00:16:54.535 --> 00:16:55.975
<v Speaker 2>Oh, go ahead. I was just gonna say,

00:16:55.975 --> 00:16:57.815
<v Speaker 1>I wonder if we just if we actually

00:16:57.815 --> 00:17:00.375
<v Speaker 1>clear those all out and just let the

00:17:00.780 --> 00:17:02.220
<v Speaker 1>deployment object

00:17:02.860 --> 00:17:04.460
<v Speaker 1>recreate them naturally,

00:17:04.780 --> 00:17:06.859
<v Speaker 1>so we we kill anything that's currently running

00:17:06.859 --> 00:17:09.179
<v Speaker 1>and just let just to get any

00:17:09.340 --> 00:17:12.140
<v Speaker 1>semblance of a modified replica set.

00:17:12.460 --> 00:17:15.660
<v Speaker 1>Just delete everything. Delete them. Delete the cluster.

00:17:16.165 --> 00:17:18.404
<v Speaker 2>Just delete all all all of these. Right?

00:17:18.724 --> 00:17:20.405
<v Speaker 1>No. Yeah. All I would say all of

00:17:20.405 --> 00:17:23.444
<v Speaker 1>those. But, again, just kind of a a

00:17:23.444 --> 00:17:26.325
<v Speaker 1>blanket strategy. Nothing too focused.

00:17:27.685 --> 00:17:28.885
<v Speaker 2>Yeah. Let's see what happens.

00:17:30.550 --> 00:17:32.230
<v Speaker 2>Do we okay. So we get a new

00:17:32.230 --> 00:17:32.790
<v Speaker 2>one.

00:17:33.510 --> 00:17:35.190
<v Speaker 2>We got a new pod.

00:17:35.510 --> 00:17:37.030
<v Speaker 2>If I describe this one,

00:17:38.230 --> 00:17:40.790
<v Speaker 2>we do it. Did it. Still v one.

00:17:40.790 --> 00:17:42.870
<v Speaker 2>Okay. Let's

00:17:42.870 --> 00:17:44.470
<v Speaker 2>look at the deployment again.

00:17:45.350 --> 00:17:45.590
<v Speaker 0>Edit.

00:17:46.625 --> 00:17:49.105
<v Speaker 0>It's a nice effect that changing the image,

00:17:49.105 --> 00:17:50.865
<v Speaker 0>there's no new state in admission controller and

00:17:50.865 --> 00:17:52.865
<v Speaker 0>it's still v one. I like that.

00:18:00.370 --> 00:18:02.530
<v Speaker 2>It's not doing anything. So it's not detecting

00:18:02.530 --> 00:18:04.610
<v Speaker 2>any changes to the deployment.

00:18:05.650 --> 00:18:07.650
<v Speaker 2>I'm thinking we should look at, like,

00:18:08.050 --> 00:18:09.809
<v Speaker 2>maybe the controller manager.

00:18:11.570 --> 00:18:12.610
<v Speaker 2>What do you think, Mario?

00:18:13.765 --> 00:18:14.725
<v Speaker 1>I

00:18:14.725 --> 00:18:16.325
<v Speaker 1>just look took a quick look, and I

00:18:16.325 --> 00:18:17.365
<v Speaker 1>didn't see anything.

00:18:18.005 --> 00:18:18.565
<v Speaker 1>But,

00:18:19.365 --> 00:18:21.765
<v Speaker 1>yeah, let's let's look through it once more.

00:18:21.765 --> 00:18:23.765
<v Speaker 1>Maybe you'll see something that I did not.

00:18:24.645 --> 00:18:25.284
<v Speaker 2>Yeah.

00:18:25.765 --> 00:18:26.725
<v Speaker 2>So

00:18:28.289 --> 00:18:31.969
<v Speaker 2>go to the manifests. Oops. Kubernetes manifests.

00:18:35.010 --> 00:18:35.809
<v Speaker 2>K.

00:18:38.690 --> 00:18:41.970
<v Speaker 2>I'm gonna I'm gonna do a v I

00:18:43.815 --> 00:18:45.335
<v Speaker 2>cube controller manager.

00:18:47.815 --> 00:18:49.174
<v Speaker 0>Swap file.

00:18:50.055 --> 00:18:52.055
<v Speaker 2>Oh, are we both editing the same file

00:18:52.055 --> 00:18:52.934
<v Speaker 2>or something?

00:18:53.415 --> 00:18:54.855
<v Speaker 1>It wasn't editing, but I'm out of it

00:18:54.855 --> 00:18:55.975
<v Speaker 1>now. So go ahead.

00:18:56.855 --> 00:18:57.495
<v Speaker 2>Oh, okay.

00:18:58.039 --> 00:18:59.960
<v Speaker 2>Oh, there we go. So,

00:19:01.000 --> 00:19:03.480
<v Speaker 2>yeah, I wonder if there's anything

00:19:03.480 --> 00:19:04.840
<v Speaker 2>in here that's

00:19:04.840 --> 00:19:05.799
<v Speaker 2>suspicious.

00:19:07.640 --> 00:19:08.440
<v Speaker 2>The image

00:19:08.919 --> 00:19:10.760
<v Speaker 2>what image are we using? So We may

00:19:10.760 --> 00:19:12.200
<v Speaker 0>as well upgrade to one twenty two while

00:19:12.200 --> 00:19:12.919
<v Speaker 0>we're at it. Right?

00:19:14.525 --> 00:19:15.965
<v Speaker 1>I don't know about that.

00:19:18.125 --> 00:19:21.085
<v Speaker 2>Wait. The control plane is running 121 now

00:19:21.085 --> 00:19:23.885
<v Speaker 2>or is it 1122121,

00:19:23.885 --> 00:19:24.845
<v Speaker 0>it should be running.

00:19:25.325 --> 00:19:28.044
<v Speaker 0>122 came out yesterday or today. So I

00:19:28.044 --> 00:19:29.740
<v Speaker 0>was just making a joke about upgrading at

00:19:29.740 --> 00:19:33.180
<v Speaker 0>the same time. Yo. YOLO. YOLO upgrade live.

00:19:33.180 --> 00:19:33.820
<v Speaker 2>Yeah.

00:19:34.860 --> 00:19:35.500
<v Speaker 2>So,

00:19:36.780 --> 00:19:39.260
<v Speaker 2>yeah, I'm not seeing anything that interesting.

00:19:39.580 --> 00:19:42.300
<v Speaker 2>We could look at maybe some of these

00:19:44.005 --> 00:19:45.044
<v Speaker 2>files.

00:19:45.605 --> 00:19:46.885
<v Speaker 2>Leader Electrue

00:19:46.885 --> 00:19:48.164
<v Speaker 2>port zero?

00:19:48.965 --> 00:19:51.044
<v Speaker 0>Port zero was What is update? Actually

00:19:51.365 --> 00:19:54.404
<v Speaker 1>that's actually normal. Yeah. That's normal. And then

00:19:54.965 --> 00:19:55.205
<v Speaker 2>yeah.

00:19:55.860 --> 00:19:58.180
<v Speaker 2>Nothing Something that's weird to me is the

00:19:58.420 --> 00:19:59.860
<v Speaker 1>something that's really weird to me, and I

00:19:59.860 --> 00:20:01.700
<v Speaker 1>don't know, maybe, David, you can verify this,

00:20:01.700 --> 00:20:02.259
<v Speaker 1>is,

00:20:02.500 --> 00:20:04.659
<v Speaker 1>if you go back in that file, Moody,

00:20:04.900 --> 00:20:06.659
<v Speaker 1>you'll see that there is a

00:20:07.460 --> 00:20:09.855
<v Speaker 1>go to the options, if you will. You'll

00:20:09.855 --> 00:20:11.135
<v Speaker 1>see that there's a

00:20:13.055 --> 00:20:16.095
<v Speaker 1>scroll down. There's a request header client CA

00:20:16.095 --> 00:20:16.735
<v Speaker 1>file,

00:20:17.215 --> 00:20:18.975
<v Speaker 1>and I don't remember seeing that on our

00:20:18.975 --> 00:20:21.135
<v Speaker 1>cluster, but that might be something that's normal.

00:20:21.649 --> 00:20:23.890
<v Speaker 1>I could be wrong, though. It's just kind

00:20:23.970 --> 00:20:26.289
<v Speaker 0>It is normal. That's okay. It is normal.

00:20:26.289 --> 00:20:27.409
<v Speaker 5>Okay. Okay.

00:20:27.570 --> 00:20:28.690
<v Speaker 5>Mhmm. Cool.

00:20:30.929 --> 00:20:33.490
<v Speaker 2>Yeah. So okay. So let's

00:20:33.490 --> 00:20:36.305
<v Speaker 2>think again. So what else is watching the

00:20:36.305 --> 00:20:37.825
<v Speaker 2>deployment? So there's the

00:20:38.945 --> 00:20:41.025
<v Speaker 2>so we checked the the webhooks. Should we

00:20:41.025 --> 00:20:43.745
<v Speaker 2>look at validating webhooks maybe? I didn't really

00:20:43.745 --> 00:20:44.465
<v Speaker 2>check that.

00:20:44.785 --> 00:20:47.185
<v Speaker 1>Yeah. That's that's true. I although I I

00:20:47.185 --> 00:20:48.465
<v Speaker 1>think we would get an error

00:20:49.200 --> 00:20:51.519
<v Speaker 1>Yeah. That would It wouldn't be something

00:20:51.520 --> 00:20:52.239
<v Speaker 1>wrong.

00:20:52.559 --> 00:20:54.720
<v Speaker 0>They're laughing at you in the chat. I'm

00:20:54.720 --> 00:20:56.880
<v Speaker 0>just just letting you know. That's all. I'm

00:20:56.880 --> 00:20:58.640
<v Speaker 0>just a messenger. That's fine. Just a messenger.

00:20:58.640 --> 00:20:59.759
<v Speaker 1>Yeah. Yeah.

00:21:00.880 --> 00:21:03.440
<v Speaker 2>There there is one right here. So

00:21:04.635 --> 00:21:06.554
<v Speaker 2>I'm trying to see what it does, but

00:21:07.035 --> 00:21:07.835
<v Speaker 2>should we

00:21:08.155 --> 00:21:09.755
<v Speaker 2>just delete that one as well?

00:21:11.195 --> 00:21:13.515
<v Speaker 1>Okay. Yeah. Oh, wait a second. I'm interested.

00:21:13.675 --> 00:21:15.355
<v Speaker 1>Does it have what was its config?

00:21:17.170 --> 00:21:17.970
<v Speaker 2>So,

00:21:17.970 --> 00:21:19.010
<v Speaker 2>yeah, I'm here.

00:21:21.090 --> 00:21:22.210
<v Speaker 2>So it says

00:21:23.410 --> 00:21:25.010
<v Speaker 1>Just to see a bundle.

00:21:26.290 --> 00:21:28.930
<v Speaker 2>Service is cube system admission.

00:21:28.930 --> 00:21:30.210
<v Speaker 1>It would mostly fail.

00:21:30.915 --> 00:21:32.995
<v Speaker 2>Apps v one create resources.

00:21:33.155 --> 00:21:34.435
<v Speaker 2>Deployments

00:21:34.435 --> 00:21:37.635
<v Speaker 2>are in there. Yeah. Side effects, none, and

00:21:37.635 --> 00:21:39.555
<v Speaker 1>I'm not seeing anything about notifications.

00:21:39.715 --> 00:21:41.715
<v Speaker 1>So I'm just very interested in how it's

00:21:41.715 --> 00:21:44.275
<v Speaker 1>not, like, notifying us. The failure policy was

00:21:44.275 --> 00:21:44.755
<v Speaker 0>fail.

00:21:45.210 --> 00:21:47.289
<v Speaker 0>So you should and, clearly, get a message

00:21:47.289 --> 00:21:49.210
<v Speaker 0>if you try and update the deployment.

00:21:49.770 --> 00:21:50.809
<v Speaker 1>Yeah. Yeah.

00:21:51.130 --> 00:21:53.529
<v Speaker 1>Okay. So Fairwinds is giving us a a

00:21:53.529 --> 00:21:55.210
<v Speaker 1>break here and telling us k nine doesn't

00:21:55.210 --> 00:21:57.130
<v Speaker 1>show the validating admission webhook messages.

00:21:57.544 --> 00:21:59.145
<v Speaker 1>We're gonna have to file an issue on

00:21:59.145 --> 00:22:01.145
<v Speaker 1>that because k nine is supposed to do

00:22:01.145 --> 00:22:01.784
<v Speaker 1>everything.

00:22:02.184 --> 00:22:02.664
<v Speaker 1>So

00:22:03.065 --> 00:22:05.304
<v Speaker 0>You could always fix cube control and, you

00:22:05.304 --> 00:22:07.065
<v Speaker 0>know, look at it that way. I I

00:22:07.065 --> 00:22:09.304
<v Speaker 2>really wanna fix cube cube control. Yeah. I'm

00:22:09.304 --> 00:22:11.225
<v Speaker 2>I'm looking forward to that. But let's first

00:22:11.480 --> 00:22:14.120
<v Speaker 2>check this out. I'm gonna delete this guy,

00:22:14.600 --> 00:22:15.320
<v Speaker 2>and then

00:22:15.560 --> 00:22:17.880
<v Speaker 2>let's let's edit the deployment.

00:22:19.160 --> 00:22:19.640
<v Speaker 2>I

00:22:19.960 --> 00:22:22.440
<v Speaker 0>will be so impressed if it doesn't update

00:22:22.440 --> 00:22:23.160
<v Speaker 0>the image, though.

00:22:25.065 --> 00:22:27.304
<v Speaker 2>Yeah. If there's even another

00:22:27.544 --> 00:22:29.624
<v Speaker 2>break here, that would be interesting.

00:22:32.904 --> 00:22:36.024
<v Speaker 2>Still? That's awesome. Well done, fair one. Fair

00:22:36.024 --> 00:22:37.144
<v Speaker 0>one. Mhmm.

00:22:38.105 --> 00:22:40.470
<v Speaker 2>Really? I have an idea, but I'm I'm

00:22:40.470 --> 00:22:41.910
<v Speaker 0>holding it. I'm keeping it.

00:22:43.590 --> 00:22:46.470
<v Speaker 2>Very interesting. Okay. Let's see. Yeah. It's still

00:22:46.470 --> 00:22:48.710
<v Speaker 2>v one. I'm gonna look at replica sets.

00:22:49.670 --> 00:22:52.465
<v Speaker 2>Just gonna kill this. Well, actually, no. Let

00:22:52.465 --> 00:22:54.384
<v Speaker 2>me look at deployment and just make sure

00:22:54.705 --> 00:22:57.265
<v Speaker 2>that it was edited or it was not

00:22:57.265 --> 00:23:00.545
<v Speaker 2>edited. Yeah. Set is right. People are enjoying

00:23:00.545 --> 00:23:01.985
<v Speaker 0>breaking cube control these days.

00:23:04.370 --> 00:23:06.369
<v Speaker 0>This is not the first time that's happened.

00:23:08.929 --> 00:23:09.649
<v Speaker 0>Yeah.

00:23:10.130 --> 00:23:12.049
<v Speaker 0>So Ivan telling you, you should you should

00:23:12.049 --> 00:23:14.529
<v Speaker 0>have cube control by now. And for everybody

00:23:14.529 --> 00:23:16.210
<v Speaker 0>wants to see you get cube control working.

00:23:16.210 --> 00:23:18.289
<v Speaker 0>That's that's all saying. Should we just do

00:23:18.289 --> 00:23:19.945
<v Speaker 2>that? Let's do that. Yeah.

00:23:20.825 --> 00:23:21.545
<v Speaker 2>So

00:23:23.705 --> 00:23:25.385
<v Speaker 2>I don't know where to start. So let's

00:23:25.385 --> 00:23:27.225
<v Speaker 2>look at maybe, like, is there anything weird

00:23:27.225 --> 00:23:28.425
<v Speaker 2>in the batch RC file?

00:23:32.470 --> 00:23:33.669
<v Speaker 2>Take a look here.

00:23:36.630 --> 00:23:37.749
<v Speaker 2>Wait.

00:23:38.470 --> 00:23:40.230
<v Speaker 2>What was that? Oh, there we go. Look

00:23:40.230 --> 00:23:41.589
<v Speaker 2>at that. It's right here.

00:23:42.070 --> 00:23:42.869
<v Speaker 0>Uh-oh.

00:23:43.029 --> 00:23:46.309
<v Speaker 0>Uh-oh. A function because it doesn't take over

00:23:46.309 --> 00:23:47.429
<v Speaker 0>a which thing.

00:23:48.125 --> 00:23:50.365
<v Speaker 0>I've used that break before in clustered.

00:23:51.085 --> 00:23:51.965
<v Speaker 1>Interesting.

00:23:52.365 --> 00:23:53.805
<v Speaker 2>Thanks a lot, guys.

00:23:54.285 --> 00:23:56.445
<v Speaker 1>We're just copying all stuff other people have

00:23:56.445 --> 00:23:57.885
<v Speaker 1>done. No originality

00:23:57.885 --> 00:23:58.605
<v Speaker 1>factor.

00:23:59.565 --> 00:24:00.045
<v Speaker 1>Come on.

00:24:00.910 --> 00:24:01.790
<v Speaker 2>KubeCL?

00:24:01.790 --> 00:24:02.830
<v Speaker 2>Oh, wait.

00:24:03.550 --> 00:24:06.509
<v Speaker 2>What? You'll need to resource your bash shell

00:24:06.670 --> 00:24:09.390
<v Speaker 0>or or maybe even just bash again until

00:24:09.390 --> 00:24:10.990
<v Speaker 0>you yeah. Bash.

00:24:11.390 --> 00:24:12.430
<v Speaker 2>KubeCTL.

00:24:13.085 --> 00:24:15.805
<v Speaker 2>Okay. It's back. It's back. We have kubectl,

00:24:15.805 --> 00:24:16.445
<v Speaker 2>guys.

00:24:17.405 --> 00:24:17.965
<v Speaker 2>Nice.

00:24:18.605 --> 00:24:20.685
<v Speaker 2>So now yeah. So now what I was

00:24:20.685 --> 00:24:22.925
<v Speaker 2>trying to do was edit. Yeah. Do an

00:24:22.925 --> 00:24:24.205
<v Speaker 1>edit from there. Yep.

00:24:25.050 --> 00:24:27.290
<v Speaker 2>And let's see what that tells us. Yeah.

00:24:28.090 --> 00:24:29.130
<v Speaker 2>Clustered.

00:24:31.050 --> 00:24:33.930
<v Speaker 0>So you're expecting the k nines was actually

00:24:33.930 --> 00:24:37.210
<v Speaker 0>tricking you here or leading you astray.

00:24:37.690 --> 00:24:38.570
<v Speaker 2>Potentially. Right?

00:24:39.365 --> 00:24:40.725
<v Speaker 0>It was. Look

00:24:41.765 --> 00:24:43.205
<v Speaker 2>at that. Okay. So

00:24:44.245 --> 00:24:46.804
<v Speaker 2>mustard could not be patched. Mission webhook

00:24:47.045 --> 00:24:48.005
<v Speaker 2>denied.

00:24:48.005 --> 00:24:50.165
<v Speaker 2>Sorry, Carta. Love fair waste.

00:24:52.005 --> 00:24:54.670
<v Speaker 1>No. I can't get that. Okay. Oh, there's

00:24:54.670 --> 00:24:56.510
<v Speaker 0>an eighth burn from George there. It's not

00:24:56.510 --> 00:24:58.510
<v Speaker 0>original, but you fell for it, Mario.

00:24:59.150 --> 00:25:01.630
<v Speaker 1>Yeah. That's true. That's true.

00:25:01.950 --> 00:25:04.590
<v Speaker 2>So so let's look at the API server

00:25:04.590 --> 00:25:05.230
<v Speaker 2>actually.

00:25:05.870 --> 00:25:10.110
<v Speaker 2>So I'm thinking maybe there's some admission webhooks

00:25:09.154 --> 00:25:10.514
<v Speaker 2>plugins enabled.

00:25:11.475 --> 00:25:13.394
<v Speaker 2>So maybe if we look at

00:25:14.115 --> 00:25:16.914
<v Speaker 2>manifest cube API server.

00:25:17.715 --> 00:25:20.034
<v Speaker 2>Oh, no. Someone else is editing

00:25:20.355 --> 00:25:22.115
<v Speaker 2>the file. I'm in it right now as

00:25:22.115 --> 00:25:23.875
<v Speaker 5>well, but I don't see anything

00:25:25.450 --> 00:25:26.730
<v Speaker 1>that would lead me to I don't see

00:25:26.730 --> 00:25:28.490
<v Speaker 1>any other admission plugins, though.

00:25:29.210 --> 00:25:31.210
<v Speaker 2>Node restriction only. Yeah.

00:25:35.370 --> 00:25:36.170
<v Speaker 3>Wait a second.

00:25:38.265 --> 00:25:41.625
<v Speaker 2>I'm trying to figure out how they're

00:25:42.185 --> 00:25:44.505
<v Speaker 2>I mean, they're running some webhook somewhere

00:25:45.545 --> 00:25:46.424
<v Speaker 2>for sure.

00:25:48.105 --> 00:25:49.625
<v Speaker 2>I mean, the fact that they had a

00:25:49.625 --> 00:25:51.625
<v Speaker 2>custom response saying

00:25:51.625 --> 00:25:52.585
<v Speaker 2>love fair winds.

00:25:54.310 --> 00:25:55.030
<v Speaker 1>I mean,

00:25:55.430 --> 00:25:57.430
<v Speaker 2>there must be a web server somewhere. So

00:25:57.430 --> 00:25:59.030
<v Speaker 2>I'm gonna just look at just all the

00:25:59.030 --> 00:26:00.230
<v Speaker 2>pods that are running.

00:26:01.750 --> 00:26:03.350
<v Speaker 2>Just get a overview

00:26:04.150 --> 00:26:05.590
<v Speaker 2>here of what we have.

00:26:05.910 --> 00:26:07.670
<v Speaker 1>Okay. I'm gonna do some research.

00:26:09.255 --> 00:26:11.095
<v Speaker 2>Oh, there's okay.

00:26:11.495 --> 00:26:12.934
<v Speaker 2>API server.

00:26:13.095 --> 00:26:14.135
<v Speaker 2>API server.

00:26:19.495 --> 00:26:19.815
<v Speaker 2>Interesting.

00:26:22.090 --> 00:26:23.850
<v Speaker 0>I love it when people say interesting because

00:26:23.850 --> 00:26:25.930
<v Speaker 0>it means I have no idea what's going

00:26:25.930 --> 00:26:28.250
<v Speaker 3>I have no clue what's going on. Services.

00:26:36.835 --> 00:26:38.675
<v Speaker 0>So I can share I

00:26:38.675 --> 00:26:40.195
<v Speaker 0>can share a thread I think is worth

00:26:40.195 --> 00:26:42.435
<v Speaker 0>investigating if you want, or I can give

00:26:42.435 --> 00:26:43.955
<v Speaker 0>you some other you can have some more

00:26:43.955 --> 00:26:44.915
<v Speaker 0>time to kinda

00:26:45.395 --> 00:26:47.315
<v Speaker 2>How are we on on time, I guess?

00:26:47.315 --> 00:26:48.995
<v Speaker 0>You've twenty six minutes left.

00:26:49.715 --> 00:26:52.870
<v Speaker 2>Okay. How about in in, like, if in

00:26:52.870 --> 00:26:55.510
<v Speaker 2>five minutes we don't know, we we we

00:26:55.830 --> 00:26:56.630
<v Speaker 0>Alright.

00:26:56.630 --> 00:26:57.429
<v Speaker 0>Go for it.

00:26:59.270 --> 00:26:59.909
<v Speaker 2>Oh,

00:27:00.230 --> 00:27:02.550
<v Speaker 2>Mario, are you are you seeing Yeah. So

00:27:02.630 --> 00:27:04.710
<v Speaker 2>the webhook? Had we looked at the validating

00:27:04.710 --> 00:27:06.470
<v Speaker 1>webhook configurations yet

00:27:06.865 --> 00:27:09.105
<v Speaker 1>or no? I don't I thought we deleted

00:27:09.105 --> 00:27:11.345
<v Speaker 2>it. Maybe they did. I thought so too,

00:27:11.345 --> 00:27:12.624
<v Speaker 1>but it's it's back.

00:27:14.225 --> 00:27:14.784
<v Speaker 1>Yeah.

00:27:16.225 --> 00:27:16.864
<v Speaker 1>Great.

00:27:17.904 --> 00:27:19.184
<v Speaker 2>Kubectl dot

00:27:20.080 --> 00:27:21.600
<v Speaker 2>yeah. Yeah. Go ahead and do it from

00:27:21.600 --> 00:27:22.640
<v Speaker 1>just kubectl.

00:27:22.640 --> 00:27:24.640
<v Speaker 1>And so we had deleted the validating webhook

00:27:24.640 --> 00:27:26.800
<v Speaker 1>and the admission webhook.

00:27:26.800 --> 00:27:27.440
<v Speaker 1>Right?

00:27:28.080 --> 00:27:30.320
<v Speaker 2>The the the mutating and the validating, and

00:27:30.320 --> 00:27:32.880
<v Speaker 2>they're both back, it looks like. Okay. Right.

00:27:33.995 --> 00:27:37.675
<v Speaker 2>Something is something insists on having those around.

00:27:39.275 --> 00:27:41.195
<v Speaker 2>So let's try to delete them from here,

00:27:41.195 --> 00:27:42.875
<v Speaker 2>actually. Yeah. So I'm gonna say

00:27:43.835 --> 00:27:45.195
<v Speaker 2>delete mutating webhook

00:27:46.809 --> 00:27:47.609
<v Speaker 2>defaults.

00:27:49.450 --> 00:27:50.089
<v Speaker 2>Oh,

00:27:51.049 --> 00:27:52.729
<v Speaker 2>sorry. Is it called one?

00:27:53.850 --> 00:27:56.090
<v Speaker 2>Oh, there. Yeah. So it says deleted. Now

00:27:56.090 --> 00:27:57.449
<v Speaker 2>if I get it again,

00:27:57.929 --> 00:27:58.409
<v Speaker 2>done,

00:28:01.095 --> 00:28:02.934
<v Speaker 2>Does it come back in a few minutes?

00:28:03.575 --> 00:28:05.735
<v Speaker 0>It does. There it is. Back almost instantly.

00:28:05.735 --> 00:28:08.615
<v Speaker 0>Yeah. A nice comment there from Fairwinds. Kubernetes

00:28:08.615 --> 00:28:09.895
<v Speaker 0>is the self healing system.

00:28:13.870 --> 00:28:16.429
<v Speaker 0>And another comment from Ivan, customer

00:28:16.669 --> 00:28:17.070
<v Speaker 0>custom

00:28:17.470 --> 00:28:19.630
<v Speaker 0>admission controller response is all part of the

00:28:19.630 --> 00:28:21.950
<v Speaker 0>Fairwinds customer service. There you go.

00:28:22.750 --> 00:28:23.390
<v Speaker 4>So

00:28:27.565 --> 00:28:29.485
<v Speaker 0>Rachel from the Fairwinds team has said if

00:28:29.485 --> 00:28:31.244
<v Speaker 0>you need hints, let them know.

00:28:31.485 --> 00:28:33.404
<v Speaker 2>What about We we also have those hint

00:28:33.404 --> 00:28:34.604
<v Speaker 1>files for sure.

00:28:35.164 --> 00:28:36.764
<v Speaker 2>Should we look at Cron?

00:28:37.485 --> 00:28:37.885
<v Speaker 2>Maybe?

00:28:41.970 --> 00:28:43.490
<v Speaker 1>Maybe. I don't

00:28:43.730 --> 00:28:44.610
<v Speaker 1>I don't really

00:28:45.410 --> 00:28:49.010
<v Speaker 0>Something is recreating those admission controllers. Right?

00:28:49.570 --> 00:28:49.970
<v Speaker 2>Yeah.

00:28:53.275 --> 00:28:54.955
<v Speaker 2>I'm trying to think what it could be

00:28:54.955 --> 00:28:57.115
<v Speaker 2>because I didn't see any pods that were,

00:28:57.115 --> 00:28:58.154
<v Speaker 2>like, suspicious

00:28:58.395 --> 00:29:00.875
<v Speaker 2>in the cluster. I mean, we could search

00:29:00.875 --> 00:29:02.715
<v Speaker 2>around and kinda Yeah. We could definitely look

00:29:02.715 --> 00:29:05.115
<v Speaker 1>around. I was thinking maybe doing a

00:29:06.090 --> 00:29:07.129
<v Speaker 1>let's see.

00:29:07.450 --> 00:29:08.970
<v Speaker 2>Like, image.

00:29:10.169 --> 00:29:11.369
<v Speaker 2>I'm gonna say

00:29:12.490 --> 00:29:13.370
<v Speaker 2>tripod

00:29:13.370 --> 00:29:14.249
<v Speaker 2>everywhere

00:29:14.570 --> 00:29:15.529
<v Speaker 2>and grip

00:29:16.090 --> 00:29:16.490
<v Speaker 2>image.

00:29:19.285 --> 00:29:22.005
<v Speaker 2>Oh, it's image and with a capital I,

00:29:22.005 --> 00:29:22.725
<v Speaker 2>I think.

00:29:23.685 --> 00:29:25.125
<v Speaker 2>Let's just do that.

00:29:26.405 --> 00:29:29.125
<v Speaker 2>Okay. So here are all the images that

00:29:29.125 --> 00:29:29.924
<v Speaker 2>are running.

00:29:30.885 --> 00:29:32.325
<v Speaker 2>Can we see anything weird?

00:29:34.429 --> 00:29:35.869
<v Speaker 0>I see something weird.

00:29:38.190 --> 00:29:40.910
<v Speaker 1>Oh, there is a wait. I see a

00:29:40.910 --> 00:29:42.990
<v Speaker 1>Cilium op wait. Hold on. That's on my

00:29:42.990 --> 00:29:43.789
<v Speaker 1>screen. And

00:29:44.190 --> 00:29:45.309
<v Speaker 2>your right

00:29:45.710 --> 00:29:46.269
<v Speaker 2>here.

00:29:46.510 --> 00:29:47.149
<v Speaker 2>Right?

00:29:47.710 --> 00:29:48.429
<v Speaker 1>VIP.

00:29:49.395 --> 00:29:50.434
<v Speaker 1>What's that, Luis?

00:29:50.915 --> 00:29:52.595
<v Speaker 0>Do you see this this image right here?

00:29:52.595 --> 00:29:55.235
<v Speaker 2>The the cluster Data. Dev cluster

00:29:55.795 --> 00:29:58.434
<v Speaker 2>dev, Sudar Sudar Manjur.

00:29:58.995 --> 00:30:01.155
<v Speaker 2>Interesting. I don't know how to read that

00:30:01.155 --> 00:30:01.715
<v Speaker 2>name. Sorry.

00:30:02.899 --> 00:30:05.460
<v Speaker 0>Yeah. You find that part. That seems suspicious.

00:30:06.260 --> 00:30:07.539
<v Speaker 2>Okay. So

00:30:07.700 --> 00:30:09.539
<v Speaker 2>let's maybe do a,

00:30:09.860 --> 00:30:12.419
<v Speaker 2>I don't know, before five or something.

00:30:13.059 --> 00:30:13.619
<v Speaker 2>And

00:30:16.515 --> 00:30:18.434
<v Speaker 2>well, actually, we can just say

00:30:19.555 --> 00:30:20.434
<v Speaker 2>dev.

00:30:22.995 --> 00:30:24.034
<v Speaker 2>Cilium. A

00:30:25.155 --> 00:30:26.115
<v Speaker 2>Cilium

00:30:26.275 --> 00:30:27.794
<v Speaker 2>pod is running

00:30:27.875 --> 00:30:30.515
<v Speaker 2>a clustered image. What's the name of that?

00:30:30.515 --> 00:30:30.995
<v Speaker 5>Hold on.

00:30:31.690 --> 00:30:34.570
<v Speaker 5>Hold on. Why? Oh, it's Okay.

00:30:34.890 --> 00:30:35.929
<v Speaker 1>What namespace

00:30:36.010 --> 00:30:36.890
<v Speaker 1>is that in?

00:30:37.690 --> 00:30:39.690
<v Speaker 2>I'm gonna go further back. What's what's the

00:30:39.690 --> 00:30:40.970
<v Speaker 1>name of that one?

00:30:41.770 --> 00:30:43.930
<v Speaker 1>C four

00:30:47.605 --> 00:30:48.965
<v Speaker 2>50, whatever.

00:30:49.285 --> 00:30:50.725
<v Speaker 1>I'm not seeing that.

00:30:51.285 --> 00:30:53.445
<v Speaker 2>Oh, it's it's on the okay. So the

00:30:53.445 --> 00:30:56.485
<v Speaker 2>pod name is CiliumJVKNR.

00:30:56.804 --> 00:30:58.085
<v Speaker 1>There we go. I was looking at the

00:30:58.085 --> 00:30:59.924
<v Speaker 1>container. Yep. Okay. I'm gonna mute that.

00:31:01.510 --> 00:31:03.270
<v Speaker 2>Yeah. So I'll switch to your screen to

00:31:03.270 --> 00:31:04.950
<v Speaker 2>see what you're you see. So

00:31:05.430 --> 00:31:07.110
<v Speaker 2>JV So this is the Did you tier

00:31:07.110 --> 00:31:09.350
<v Speaker 2>one. Did you kill it already? I killed

00:31:09.350 --> 00:31:10.070
<v Speaker 1>it already.

00:31:11.030 --> 00:31:12.149
<v Speaker 2>And it's back.

00:31:12.470 --> 00:31:13.910
<v Speaker 1>It's back. Same image.

00:31:15.195 --> 00:31:18.955
<v Speaker 0>What's managing it? What's under the metadata? Good.

00:31:19.355 --> 00:31:20.475
<v Speaker 1>That's a good

00:31:21.275 --> 00:31:22.155
<v Speaker 1>well, it can't be

00:31:23.835 --> 00:31:25.835
<v Speaker 1>is the VIP something that's there?

00:31:27.035 --> 00:31:29.835
<v Speaker 0>Is what I use for ingress. Okay. Yep.

00:31:29.940 --> 00:31:31.700
<v Speaker 1>Got it. Okay. That's what I was figuring.

00:31:31.700 --> 00:31:33.299
<v Speaker 1>Yep. So this is the the the main

00:31:33.299 --> 00:31:34.820
<v Speaker 1>data inside is fine.

00:31:36.500 --> 00:31:38.259
<v Speaker 2>So something is managing

00:31:38.500 --> 00:31:39.219
<v Speaker 2>that

00:31:41.940 --> 00:31:43.860
<v Speaker 2>That image. This is what it appears to

00:31:43.860 --> 00:31:45.220
<v Speaker 1>be because I have a feeling.

00:31:45.745 --> 00:31:47.264
<v Speaker 1>No. That is the actual

00:31:47.424 --> 00:31:48.544
<v Speaker 1>operator. Okay.

00:31:50.225 --> 00:31:52.705
<v Speaker 2>I'm gonna try to describe the

00:31:54.945 --> 00:31:57.184
<v Speaker 2>well, is so the pod got a new

00:31:57.184 --> 00:31:58.304
<v Speaker 2>name when you deleted it?

00:31:59.490 --> 00:32:00.610
<v Speaker 2>Is that what happened?

00:32:02.850 --> 00:32:04.850
<v Speaker 1>A new pod spawn, which means I'm guessing

00:32:04.850 --> 00:32:07.570
<v Speaker 1>there's can't do that. I'm guessing there's a

00:32:07.570 --> 00:32:08.850
<v Speaker 1>controller behind it.

00:32:09.730 --> 00:32:10.370
<v Speaker 0>Yeah.

00:32:10.530 --> 00:32:11.810
<v Speaker 0>So if you

00:32:12.385 --> 00:32:13.905
<v Speaker 0>describe it, right, you should be able to

00:32:13.905 --> 00:32:16.225
<v Speaker 0>see what's managing it and what created it.

00:32:16.785 --> 00:32:18.865
<v Speaker 1>Long night terminal is weird here.

00:32:20.705 --> 00:32:22.784
<v Speaker 2>So It was this one.

00:32:24.145 --> 00:32:26.545
<v Speaker 1>I'm assuming API tier control plane.

00:32:31.320 --> 00:32:33.080
<v Speaker 2>Firms worker two.

00:32:38.760 --> 00:32:41.720
<v Speaker 2>Alright. So so, yeah, are you describing it,

00:32:41.720 --> 00:32:42.200
<v Speaker 2>or should I?

00:32:43.005 --> 00:32:44.365
<v Speaker 5>I'm looking, yeah, I'm looking at the describe

00:32:44.365 --> 00:32:45.645
<v Speaker 1>output right now.

00:32:46.445 --> 00:32:48.765
<v Speaker 1>It's gonna be assigned, pulled image.

00:32:52.045 --> 00:32:54.285
<v Speaker 2>I'm gonna try with the Okay. O y

00:32:54.285 --> 00:32:55.565
<v Speaker 3>o y m o as well.

00:33:12.085 --> 00:33:12.965
<v Speaker 2>Alright.

00:33:13.685 --> 00:33:14.565
<v Speaker 0>Interesting.

00:33:15.045 --> 00:33:16.005
<v Speaker 1>Cool plane.

00:33:24.120 --> 00:33:26.040
<v Speaker 2>Do you see I'm trying to see if

00:33:26.040 --> 00:33:27.000
<v Speaker 2>there's anything.

00:33:28.360 --> 00:33:31.160
<v Speaker 2>So, David, you said somewhere

00:33:31.160 --> 00:33:33.320
<v Speaker 2>in the metadata, we should see something,

00:33:33.640 --> 00:33:35.400
<v Speaker 2>maybe? So I wanted to know where it

00:33:35.400 --> 00:33:36.905
<v Speaker 0>was getting his name from. But if you

00:33:36.905 --> 00:33:39.145
<v Speaker 0>look under the spec, it's using the generate

00:33:39.145 --> 00:33:39.864
<v Speaker 0>name.

00:33:40.184 --> 00:33:40.904
<v Speaker 2>Yeah.

00:33:41.304 --> 00:33:43.385
<v Speaker 0>So it's making it look like a pod

00:33:43.385 --> 00:33:45.065
<v Speaker 0>even though it's not a pod.

00:33:46.505 --> 00:33:47.065
<v Speaker 0>Yeah.

00:33:47.544 --> 00:33:49.544
<v Speaker 2>And I'm trying to see if if there's

00:33:49.544 --> 00:33:50.105
<v Speaker 2>any

00:33:50.400 --> 00:33:51.120
<v Speaker 2>thing

00:33:51.280 --> 00:33:52.640
<v Speaker 2>that says how

00:33:53.520 --> 00:33:56.559
<v Speaker 2>it was scheduled or who scheduled it.

00:33:57.120 --> 00:33:58.000
<v Speaker 2>I

00:33:58.000 --> 00:34:00.640
<v Speaker 2>wonder okay. So I wonder if we can

00:34:00.640 --> 00:34:01.919
<v Speaker 2>see anything in the

00:34:02.320 --> 00:34:03.280
<v Speaker 2>events

00:34:04.560 --> 00:34:05.120
<v Speaker 2>eventually.

00:34:06.485 --> 00:34:09.285
<v Speaker 2>No. This is sixteen minutes ago, so nothing

00:34:10.485 --> 00:34:14.005
<v Speaker 2>oh, perhaps in the namespace cube system. Right?

00:34:14.005 --> 00:34:15.605
<v Speaker 2>Because events are namespace.

00:34:15.605 --> 00:34:16.165
<v Speaker 2>So

00:34:16.645 --> 00:34:17.285
<v Speaker 2>here we go.

00:34:18.179 --> 00:34:20.020
<v Speaker 2>Oh, did you stop a container

00:34:21.859 --> 00:34:23.139
<v Speaker 2>three minutes ago?

00:34:23.780 --> 00:34:25.060
<v Speaker 2>I guess that's the one.

00:34:25.859 --> 00:34:27.859
<v Speaker 1>The the seven f is the new one.

00:34:27.859 --> 00:34:28.420
<v Speaker 1>Yeah.

00:34:29.139 --> 00:34:31.139
<v Speaker 0>So there's no owner ref. So

00:34:32.234 --> 00:34:34.474
<v Speaker 0>yeah. It it's hard to trace this.

00:34:35.434 --> 00:34:36.074
<v Speaker 2>Yeah.

00:34:39.434 --> 00:34:41.514
<v Speaker 2>So yeah. It doesn't look like it's a

00:34:41.514 --> 00:34:43.594
<v Speaker 2>cron thing. It doesn't look

00:34:44.049 --> 00:34:45.489
<v Speaker 0>You have eighteen minutes.

00:34:46.130 --> 00:34:49.010
<v Speaker 2>We check for cron jobs in the cluster.

00:34:50.769 --> 00:34:53.409
<v Speaker 1>Sure. I I wonder if that's that's what's

00:34:53.409 --> 00:34:54.050
<v Speaker 2>going on.

00:34:54.369 --> 00:34:55.889
<v Speaker 2>Get cron job.

00:34:56.369 --> 00:34:56.769
<v Speaker 2>Nope.

00:34:58.115 --> 00:34:59.955
<v Speaker 2>Any job in the cluster?

00:35:04.994 --> 00:35:06.595
<v Speaker 2>Oh, man. I think it can only be

00:35:06.595 --> 00:35:07.635
<v Speaker 0>one of two things. Right?

00:35:10.290 --> 00:35:10.930
<v Speaker 0>Either

00:35:11.170 --> 00:35:13.730
<v Speaker 0>there's a road process on the Linux host

00:35:14.050 --> 00:35:14.770
<v Speaker 0>or

00:35:15.010 --> 00:35:17.490
<v Speaker 0>Yeah. The API server image is not the

00:35:17.490 --> 00:35:18.850
<v Speaker 0>API server image.

00:35:19.810 --> 00:35:22.530
<v Speaker 2>Which I thought we checked. Did we? Let

00:35:22.530 --> 00:35:25.155
<v Speaker 2>me Well, you checked them. Manifest has the

00:35:25.155 --> 00:35:27.395
<v Speaker 0>correct image name, but not that the image

00:35:27.395 --> 00:35:29.795
<v Speaker 0>on the host is necessarily the correct image.

00:35:30.275 --> 00:35:31.315
<v Speaker 2>Oh,

00:35:33.555 --> 00:35:34.835
<v Speaker 2>okay. So

00:35:35.235 --> 00:35:37.875
<v Speaker 2>could we use, like, what, container d?

00:35:39.680 --> 00:35:41.920
<v Speaker 0>Yeah. Yeah. You can use cry control

00:35:42.079 --> 00:35:43.520
<v Speaker 0>images, I think.

00:35:44.480 --> 00:35:45.200
<v Speaker 3>Okay.

00:35:47.279 --> 00:35:48.320
<v Speaker 0>You'll need

00:35:48.720 --> 00:35:50.400
<v Speaker 0>a real run type endpoint. I can take

00:35:50.400 --> 00:35:51.200
<v Speaker 0>that for you.

00:35:51.680 --> 00:35:52.720
<v Speaker 2>Oh, thanks.

00:35:53.839 --> 00:35:54.240
<v Speaker 2>Yep.

00:35:55.175 --> 00:35:56.135
<v Speaker 0>Var

00:35:56.135 --> 00:35:57.415
<v Speaker 0>run container

00:35:57.415 --> 00:35:59.175
<v Speaker 0>d container d.

00:36:01.015 --> 00:36:02.375
<v Speaker 2>So

00:36:05.735 --> 00:36:07.255
<v Speaker 2>kubepi server

00:36:07.975 --> 00:36:08.935
<v Speaker 2>control manager.

00:36:12.109 --> 00:36:14.430
<v Speaker 2>I mean, we could potentially inspect it.

00:36:15.710 --> 00:36:17.470
<v Speaker 0>I mean, you could repill it and see

00:36:17.470 --> 00:36:19.869
<v Speaker 0>if the image ID changes. And if it

00:36:19.869 --> 00:36:22.349
<v Speaker 0>doesn't, there's well, I mean, I don't wanna

00:36:22.349 --> 00:36:22.829
<v Speaker 0>see too much.

00:36:23.755 --> 00:36:25.355
<v Speaker 0>Here if you wanna ask questions or there's

00:36:25.355 --> 00:36:28.715
<v Speaker 0>hints as well. Yeah. Thank you. So I'm

00:36:28.715 --> 00:36:29.995
<v Speaker 2>just gonna copy the

00:36:30.635 --> 00:36:32.955
<v Speaker 2>run time flag. There there's a favorite trick

00:36:32.955 --> 00:36:35.035
<v Speaker 0>on cluster that's been done multiple times with

00:36:35.035 --> 00:36:35.835
<v Speaker 0>images,

00:36:35.835 --> 00:36:37.195
<v Speaker 0>which I can talk about if you want.

00:36:38.349 --> 00:36:39.710
<v Speaker 0>But I'll I'll give you some give you

00:36:39.710 --> 00:36:40.670
<v Speaker 0>some better time.

00:36:41.630 --> 00:36:42.430
<v Speaker 2>Thank you.

00:36:43.310 --> 00:36:45.150
<v Speaker 2>Maybe is there a

00:36:45.790 --> 00:36:47.150
<v Speaker 2>is there an inspect?

00:36:47.150 --> 00:36:49.390
<v Speaker 2>Yeah. Inspect images.

00:36:49.845 --> 00:36:51.125
<v Speaker 2>We're gonna try that.

00:36:52.005 --> 00:36:54.885
<v Speaker 2>So if I say inspect image and then

00:36:54.885 --> 00:36:56.085
<v Speaker 2>copy the

00:36:57.285 --> 00:36:58.805
<v Speaker 2>kubectl server

00:37:00.805 --> 00:37:04.005
<v Speaker 2>and it was version one twenty one dot

00:37:05.200 --> 00:37:05.840
<v Speaker 2>two?

00:37:07.360 --> 00:37:09.360
<v Speaker 2>Okay. So let's see what we got.

00:37:10.960 --> 00:37:13.200
<v Speaker 0>A nice comment from Noel as well. Container

00:37:13.200 --> 00:37:14.640
<v Speaker 0>d is not distributed,

00:37:16.000 --> 00:37:17.440
<v Speaker 0>but I don't think that applies in this

00:37:17.440 --> 00:37:19.280
<v Speaker 0>case, Noel, because the API server is running

00:37:19.280 --> 00:37:21.835
<v Speaker 0>on this machine. There's yeah. There's only one

00:37:21.835 --> 00:37:23.995
<v Speaker 2>control plane node. Right? So Yep.

00:37:29.755 --> 00:37:30.635
<v Speaker 2>I mean, this is

00:37:31.595 --> 00:37:33.115
<v Speaker 2>this looks like the right

00:37:33.760 --> 00:37:34.800
<v Speaker 2>instructions

00:37:35.920 --> 00:37:38.080
<v Speaker 2>as far as I can tell. Doesn't look

00:37:38.080 --> 00:37:40.080
<v Speaker 2>like a random Docker file.

00:37:41.120 --> 00:37:42.640
<v Speaker 2>Kubernetes authors.

00:37:42.640 --> 00:37:43.440
<v Speaker 2>I mean

00:37:45.455 --> 00:37:47.455
<v Speaker 2>yeah. This I mean, it looks like the

00:37:47.455 --> 00:37:49.215
<v Speaker 2>right image as far as I can tell.

00:37:49.775 --> 00:37:52.175
<v Speaker 2>Mhmm. Should we look at controller manager,

00:37:52.175 --> 00:37:53.375
<v Speaker 2>maybe? I mean,

00:37:54.095 --> 00:37:55.375
<v Speaker 2>I I actually think we're

00:37:57.215 --> 00:37:59.375
<v Speaker 2>I don't feel like that's what's going on,

00:37:59.455 --> 00:38:00.015
<v Speaker 2>it could be.

00:38:01.040 --> 00:38:02.400
<v Speaker 2>Mario, what do you think?

00:38:02.880 --> 00:38:04.560
<v Speaker 1>Yeah. I kind of agree. I don't really

00:38:04.560 --> 00:38:06.720
<v Speaker 1>feel like that's what's going on, but

00:38:07.200 --> 00:38:09.120
<v Speaker 1>we also could be wrong. So

00:38:09.840 --> 00:38:11.360
<v Speaker 0>Yeah. Go ahead and take a commander.

00:38:14.105 --> 00:38:16.185
<v Speaker 2>Unless it's like Not really seeing any problems,

00:38:16.185 --> 00:38:18.025
<v Speaker 1>like, weirdness with the

00:38:18.905 --> 00:38:19.865
<v Speaker 1>API

00:38:20.505 --> 00:38:21.705
<v Speaker 1>pieces. So

00:38:22.025 --> 00:38:24.825
<v Speaker 1>or I'm sorry. The cube system pods for

00:38:24.825 --> 00:38:25.785
<v Speaker 1>the most part. So

00:38:26.630 --> 00:38:29.350
<v Speaker 2>Yeah. They all look pretty normal. Right?

00:38:29.830 --> 00:38:30.470
<v Speaker 2>Right.

00:38:31.190 --> 00:38:32.870
<v Speaker 2>So let's step back and see what what

00:38:32.870 --> 00:38:34.550
<v Speaker 2>was the ish the last issue we faced.

00:38:34.550 --> 00:38:35.350
<v Speaker 2>So we were

00:38:35.830 --> 00:38:38.710
<v Speaker 2>we're trying to delete the webhooks,

00:38:38.710 --> 00:38:40.150
<v Speaker 2>and somehow they still

00:38:40.725 --> 00:38:41.605
<v Speaker 2>come back.

00:38:42.165 --> 00:38:43.685
<v Speaker 2>Something's creating them,

00:38:43.925 --> 00:38:44.405
<v Speaker 2>and

00:38:45.925 --> 00:38:46.805
<v Speaker 2>we think

00:38:47.045 --> 00:38:49.125
<v Speaker 2>we we tried seeing if it was the

00:38:49.125 --> 00:38:49.765
<v Speaker 2>images,

00:38:50.005 --> 00:38:50.485
<v Speaker 2>and

00:38:50.805 --> 00:38:52.725
<v Speaker 2>the images look good, at least the API

00:38:52.725 --> 00:38:53.365
<v Speaker 2>server image.

00:38:53.859 --> 00:38:55.940
<v Speaker 2>We could probably check the others, like controller

00:38:55.940 --> 00:38:56.740
<v Speaker 2>manager.

00:38:57.859 --> 00:38:58.500
<v Speaker 2>But

00:39:00.099 --> 00:39:00.660
<v Speaker 2>yeah.

00:39:01.700 --> 00:39:03.220
<v Speaker 2>I guess we could look at the host

00:39:03.220 --> 00:39:06.020
<v Speaker 2>processes and see if there's, like, a something

00:39:06.020 --> 00:39:07.300
<v Speaker 2>in the background that's running.

00:39:08.535 --> 00:39:10.694
<v Speaker 2>Let me try that. Let's just Let me

00:39:10.694 --> 00:39:11.895
<v Speaker 0>fix that for you.

00:39:14.535 --> 00:39:15.255
<v Speaker 2>Oh.

00:39:21.815 --> 00:39:22.535
<v Speaker 2>So

00:39:23.980 --> 00:39:24.780
<v Speaker 2>Oh,

00:39:25.100 --> 00:39:26.700
<v Speaker 2>okay. Thank you.

00:39:31.340 --> 00:39:33.740
<v Speaker 0>Well, Fairwinds in the chat have suggested that

00:39:33.740 --> 00:39:35.260
<v Speaker 0>logs are often useful.

00:39:39.315 --> 00:39:41.395
<v Speaker 0>And Rachel from the Fairmans team says trust

00:39:41.395 --> 00:39:42.355
<v Speaker 0>your intuition.

00:39:47.635 --> 00:39:49.555
<v Speaker 2>Which one of them? Which intuition?

00:39:49.635 --> 00:39:51.955
<v Speaker 2>There there were so many of them, but

00:39:51.510 --> 00:39:53.350
<v Speaker 2>let's take a look at the yeah. I'm

00:39:53.350 --> 00:39:55.510
<v Speaker 2>looking if there was any processes that have

00:39:55.510 --> 00:39:55.990
<v Speaker 2>been

00:39:57.270 --> 00:39:59.830
<v Speaker 2>kind of running in the background doing Alright.

00:39:59.830 --> 00:40:00.870
<v Speaker 0>Thirteen minutes.

00:40:01.910 --> 00:40:02.710
<v Speaker 2>So

00:40:02.950 --> 00:40:04.950
<v Speaker 2>oh, the other thing we I just remembered

00:40:04.950 --> 00:40:06.550
<v Speaker 2>there's a pod that every time we kill

00:40:06.550 --> 00:40:09.165
<v Speaker 2>comes back as well. Right? The Cilium

00:40:09.245 --> 00:40:10.285
<v Speaker 2>dev one.

00:40:11.245 --> 00:40:11.805
<v Speaker 2>So

00:40:12.045 --> 00:40:13.805
<v Speaker 2>should we look at the logs of that

00:40:13.805 --> 00:40:14.685
<v Speaker 2>pod

00:40:15.005 --> 00:40:15.885
<v Speaker 2>eventually?

00:40:17.885 --> 00:40:18.285
<v Speaker 2>Shoot.

00:40:20.680 --> 00:40:21.880
<v Speaker 2>It's one of the Cilium

00:40:22.280 --> 00:40:24.120
<v Speaker 2>more recent Cilium ones.

00:40:24.840 --> 00:40:26.520
<v Speaker 2>This one. Yeah.

00:40:28.200 --> 00:40:29.720
<v Speaker 2>Oh, yeah. I see here

00:40:31.000 --> 00:40:32.200
<v Speaker 2>validating webhook.

00:40:33.174 --> 00:40:36.535
<v Speaker 2>This is definitely receiving the requests, it seems,

00:40:36.775 --> 00:40:37.655
<v Speaker 2>for the

00:40:39.174 --> 00:40:41.415
<v Speaker 2>for the validation webhooks.

00:40:41.895 --> 00:40:44.615
<v Speaker 2>So Yeah. So it's probably the the

00:40:45.815 --> 00:40:47.654
<v Speaker 1>yeah. It's probably what's creating

00:40:48.240 --> 00:40:49.680
<v Speaker 1>those back.

00:40:50.800 --> 00:40:53.040
<v Speaker 2>Is there a what's it called?

00:40:53.360 --> 00:40:55.360
<v Speaker 1>Can we edit it so it can't get

00:40:55.360 --> 00:40:56.800
<v Speaker 1>scheduled possibly?

00:40:57.840 --> 00:40:58.560
<v Speaker 2>Oh,

00:41:00.560 --> 00:41:01.360
<v Speaker 2>not sure.

00:41:04.235 --> 00:41:05.595
<v Speaker 2>What what am I trying to run here?

00:41:05.595 --> 00:41:07.675
<v Speaker 2>I'm trying to see there was a

00:41:08.635 --> 00:41:10.155
<v Speaker 2>API resource

00:41:10.635 --> 00:41:11.195
<v Speaker 2>for

00:41:11.515 --> 00:41:12.075
<v Speaker 2>Mhmm.

00:41:13.995 --> 00:41:16.010
<v Speaker 2>Was it called API resources? What was it

00:41:16.010 --> 00:41:16.490
<v Speaker 2>called?

00:41:16.810 --> 00:41:18.890
<v Speaker 1>Oh, you're wait a second. Your command is

00:41:18.890 --> 00:41:19.690
<v Speaker 1>not found,

00:41:19.930 --> 00:41:21.930
<v Speaker 1>which is weird. Oh, thank you. Did you

00:41:21.930 --> 00:41:23.370
<v Speaker 1>set up an alias? Yeah.

00:41:23.690 --> 00:41:24.810
<v Speaker 2>T l

00:41:26.170 --> 00:41:27.290
<v Speaker 2>API resources.

00:41:27.684 --> 00:41:29.444
<v Speaker 1>Yeah. You can I I get I get

00:41:29.444 --> 00:41:31.125
<v Speaker 1>it out of my session? I'll let Moody

00:41:31.125 --> 00:41:31.845
<v Speaker 1>drive.

00:41:33.204 --> 00:41:35.765
<v Speaker 2>Thank you. So so, yeah, I'm taking a

00:41:35.765 --> 00:41:37.045
<v Speaker 2>look here. So I'm trying to see if

00:41:37.045 --> 00:41:37.925
<v Speaker 2>there is any

00:41:39.444 --> 00:41:41.765
<v Speaker 2>API services. That's what they are. So get

00:41:41.765 --> 00:41:42.964
<v Speaker 2>API services.

00:41:44.910 --> 00:41:47.070
<v Speaker 2>I keep using the alias. Oops.

00:41:48.750 --> 00:41:49.630
<v Speaker 2>So

00:41:53.310 --> 00:41:55.950
<v Speaker 2>auto scaling. Is there any weird

00:41:57.915 --> 00:42:00.395
<v Speaker 2>API services here? No.

00:42:03.435 --> 00:42:04.635
<v Speaker 2>Looks normal.

00:42:07.755 --> 00:42:10.475
<v Speaker 2>Yeah. I can't figure out what

00:42:11.030 --> 00:42:12.870
<v Speaker 2>what schedules that pod.

00:42:14.630 --> 00:42:16.390
<v Speaker 2>Is there Damon's?

00:42:16.550 --> 00:42:18.470
<v Speaker 0>Did you check the process table? Did you

00:42:18.470 --> 00:42:20.790
<v Speaker 0>go through it looking for rogue non Kubernetes

00:42:20.790 --> 00:42:21.670
<v Speaker 0>processes

00:42:21.830 --> 00:42:24.390
<v Speaker 0>or even rogue non Kubernetes containers?

00:42:27.865 --> 00:42:28.665
<v Speaker 2>So

00:42:28.984 --> 00:42:30.985
<v Speaker 2>do you mean like this?

00:42:32.345 --> 00:42:32.665
<v Speaker 0>Like

00:42:33.224 --> 00:42:34.985
<v Speaker 0>yeah. Like, literally just running

00:42:36.345 --> 00:42:38.025
<v Speaker 0>that and going through it and seeing if

00:42:38.025 --> 00:42:39.704
<v Speaker 0>there's anything that doesn't look like a standard

00:42:39.704 --> 00:42:40.585
<v Speaker 0>Linux process.

00:42:42.210 --> 00:42:44.610
<v Speaker 0>Which is always the needle in a haystack.

00:42:44.610 --> 00:42:45.170
<v Speaker 0>But,

00:42:45.810 --> 00:42:48.290
<v Speaker 0>I mean, something something that's running on this

00:42:48.290 --> 00:42:48.930
<v Speaker 0>machine.

00:42:49.970 --> 00:42:50.530
<v Speaker 0>Yeah.

00:42:53.650 --> 00:42:54.450
<v Speaker 2>I try Bash.

00:42:56.484 --> 00:42:58.885
<v Speaker 2>I mean, this looks like our sessions,

00:42:58.885 --> 00:42:59.605
<v Speaker 2>and then

00:43:00.964 --> 00:43:02.485
<v Speaker 2>if we go up a bit

00:43:06.805 --> 00:43:08.165
<v Speaker 0>Oh, you want me to scroll? Sorry.

00:43:09.480 --> 00:43:11.640
<v Speaker 3>Or Oh, I I'm do you see me

00:43:11.640 --> 00:43:13.720
<v Speaker 2>the do you see me scrolling? Or No.

00:43:13.720 --> 00:43:15.800
<v Speaker 0>I I we won't see you scrolling, unfortunately.

00:43:16.600 --> 00:43:17.720
<v Speaker 0>You can just let us know what you

00:43:17.720 --> 00:43:18.360
<v Speaker 0>find.

00:43:18.520 --> 00:43:20.840
<v Speaker 2>Yeah. Yeah. Go ahead and, yeah, scroll up.

00:43:20.840 --> 00:43:22.760
<v Speaker 0>You you do have hints, remember. We can

00:43:22.760 --> 00:43:23.000
<v Speaker 0>always

00:43:23.715 --> 00:43:26.115
<v Speaker 0>read those things. You know what? Let's maybe

00:43:26.115 --> 00:43:27.315
<v Speaker 2>we should use that now.

00:43:31.315 --> 00:43:33.235
<v Speaker 0>The Venus suggesting the BPF

00:43:33.715 --> 00:43:36.680
<v Speaker 0>BP filter is a road process. No. I've

00:43:36.680 --> 00:43:38.920
<v Speaker 0>thought that before in previous episodes. It's always

00:43:38.920 --> 00:43:40.599
<v Speaker 0>there, so now I ignore it. I think

00:43:40.599 --> 00:43:41.640
<v Speaker 0>we're okay there.

00:43:42.519 --> 00:43:44.359
<v Speaker 0>Yeah. Let's let's check out those hints, I

00:43:44.359 --> 00:43:44.920
<v Speaker 0>think.

00:43:46.920 --> 00:43:47.640
<v Speaker 2>Yeah. So

00:43:49.065 --> 00:43:50.984
<v Speaker 2>what are we checking? Sorry. I got I

00:43:50.984 --> 00:43:52.345
<v Speaker 2>got lost. I think they're in the root

00:43:52.345 --> 00:43:53.145
<v Speaker 0>directory,

00:43:53.305 --> 00:43:55.065
<v Speaker 0>but you can check out whichever ones you

00:43:55.065 --> 00:43:55.545
<v Speaker 0>want.

00:43:56.665 --> 00:43:59.065
<v Speaker 2>Alright. Let's start from the top.

00:43:59.865 --> 00:44:00.665
<v Speaker 2>Hint one.

00:44:03.810 --> 00:44:06.530
<v Speaker 2>Having fun with functions yet? Yeah. We've already

00:44:06.530 --> 00:44:08.530
<v Speaker 2>figured that one out, I think. So

00:44:10.050 --> 00:44:10.930
<v Speaker 2>as slow as our

00:44:15.250 --> 00:44:16.530
<v Speaker 2>the RBAC

00:44:17.105 --> 00:44:19.345
<v Speaker 2>lookup will help you find RBAC permissions that

00:44:19.345 --> 00:44:20.705
<v Speaker 2>are difficult to discover.

00:44:21.825 --> 00:44:24.944
<v Speaker 1>I think we're past that one, or it's

00:44:24.944 --> 00:44:27.105
<v Speaker 1>probably it doesn't seem relevant right now,

00:44:27.984 --> 00:44:28.545
<v Speaker 1>which you agree.

00:44:29.650 --> 00:44:31.010
<v Speaker 2>I

00:44:31.650 --> 00:44:33.970
<v Speaker 2>I'm not sure what what it actually solved.

00:44:34.210 --> 00:44:35.970
<v Speaker 2>What was the issue for the RBAC lookup

00:44:35.970 --> 00:44:36.530
<v Speaker 2>one?

00:44:37.090 --> 00:44:39.090
<v Speaker 1>I don't really know. I'm wondering if it's

00:44:39.090 --> 00:44:41.410
<v Speaker 1>something with the webhook or something like that,

00:44:41.410 --> 00:44:44.345
<v Speaker 1>but I I would rather solve the issue

00:44:44.345 --> 00:44:45.385
<v Speaker 1>in front of us.

00:44:46.185 --> 00:44:48.185
<v Speaker 2>Wait a second. Okay. So this is a

00:44:48.185 --> 00:44:50.665
<v Speaker 1>command. I I just realized something.

00:44:51.145 --> 00:44:52.345
<v Speaker 2>Static pods.

00:44:53.065 --> 00:44:54.345
<v Speaker 2>Could it be a static pod?

00:44:55.670 --> 00:44:57.270
<v Speaker 1>Yeah. That's kinda what I'm thinking,

00:44:57.670 --> 00:44:59.190
<v Speaker 1>but I I'm not sure where, like, it's

00:44:59.190 --> 00:45:00.310
<v Speaker 1>defined at all.

00:45:00.950 --> 00:45:01.510
<v Speaker 1>And I think

00:45:02.150 --> 00:45:04.710
<v Speaker 2>It's it's in here. So It was I

00:45:04.710 --> 00:45:06.150
<v Speaker 1>I looked. I didn't see it in there

00:45:06.150 --> 00:45:06.790
<v Speaker 1>at all.

00:45:08.070 --> 00:45:10.310
<v Speaker 1>But There's no there's no static pod at

00:45:10.310 --> 00:45:10.470
<v Speaker 5>all.

00:45:11.305 --> 00:45:12.825
<v Speaker 0>And the manifest directory?

00:45:13.785 --> 00:45:15.705
<v Speaker 0>I mean, you could store multiple definitions in

00:45:15.705 --> 00:45:17.305
<v Speaker 0>a single file. I I and I didn't

00:45:17.305 --> 00:45:18.825
<v Speaker 1>I didn't see any in there, and I

00:45:18.825 --> 00:45:20.505
<v Speaker 1>looked through them as well. They all looked

00:45:20.505 --> 00:45:20.905
<v Speaker 1>valid.

00:45:24.190 --> 00:45:25.630
<v Speaker 0>Well, you know what to search for? Like,

00:45:25.630 --> 00:45:26.430
<v Speaker 0>custard.

00:45:26.510 --> 00:45:26.910
<v Speaker 0>So

00:45:28.110 --> 00:45:30.350
<v Speaker 2>Oh, right. True. Yeah. I didn't I

00:45:30.510 --> 00:45:32.510
<v Speaker 1>didn't grab. Yeah. You could definitely grab.

00:45:32.910 --> 00:45:33.710
<v Speaker 2>Yep.

00:45:34.830 --> 00:45:36.030
<v Speaker 2>ETC

00:45:36.190 --> 00:45:37.150
<v Speaker 2>Kubernetes

00:45:37.150 --> 00:45:38.750
<v Speaker 2>manifests.

00:45:40.375 --> 00:45:43.255
<v Speaker 0>Term first, I think. Right? Yeah. It might

00:45:43.255 --> 00:45:44.615
<v Speaker 1>be term first. Yeah.

00:45:45.894 --> 00:45:48.135
<v Speaker 2>I'm gonna just say dot dev.

00:45:48.295 --> 00:45:49.335
<v Speaker 2>Yeah. Nothing.

00:45:52.569 --> 00:45:53.370
<v Speaker 2>So

00:45:53.609 --> 00:45:54.970
<v Speaker 2>what about Cilium?

00:45:56.170 --> 00:45:56.890
<v Speaker 2>Nope.

00:45:57.210 --> 00:45:59.210
<v Speaker 0>Yes. It's not not a static pod.

00:45:59.530 --> 00:46:01.850
<v Speaker 2>Alright. At least we rolled something out.

00:46:02.730 --> 00:46:04.890
<v Speaker 2>So back to what we were trying.

00:46:13.585 --> 00:46:15.025
<v Speaker 0>You've got more hints?

00:46:15.825 --> 00:46:16.465
<v Speaker 2>Yeah.

00:46:17.425 --> 00:46:19.585
<v Speaker 2>Let's look at hint

00:46:20.369 --> 00:46:22.450
<v Speaker 2>three. Did we look at that one? Oh,

00:46:22.450 --> 00:46:24.210
<v Speaker 0>yeah. I think you've identified as the Rogue

00:46:24.210 --> 00:46:25.730
<v Speaker 0>pod, but you're not sure how it gets

00:46:25.730 --> 00:46:26.290
<v Speaker 0>there.

00:46:27.010 --> 00:46:30.289
<v Speaker 1>Right. Yeah. The best practice prevent attackers from

00:46:30.289 --> 00:46:33.010
<v Speaker 2>injecting malicious content and doing extra damage.

00:46:34.615 --> 00:46:36.055
<v Speaker 2>Go to this URL.

00:46:36.855 --> 00:46:37.335
<v Speaker 2>Okay.

00:46:49.690 --> 00:46:51.769
<v Speaker 1>I've I don't really know if this has

00:46:51.769 --> 00:46:53.849
<v Speaker 1>anything to do with what we're facing.

00:46:54.329 --> 00:46:55.930
<v Speaker 1>I don't know that I could be wrong.

00:46:57.369 --> 00:47:00.329
<v Speaker 2>It's it's definitely a it's it's definitely I

00:47:00.329 --> 00:47:02.250
<v Speaker 2>think this is this is it. Yeah. We

00:47:03.595 --> 00:47:05.915
<v Speaker 2>this is the last hint. So Fairwind's team

00:47:05.915 --> 00:47:07.675
<v Speaker 0>is saying that the call is coming from

00:47:07.675 --> 00:47:09.035
<v Speaker 0>inside the house.

00:47:12.155 --> 00:47:13.355
<v Speaker 0>And you have six minutes.

00:47:14.810 --> 00:47:15.770
<v Speaker 1>Fun.

00:47:16.090 --> 00:47:18.730
<v Speaker 2>The call is coming from inside the house.

00:47:28.235 --> 00:47:30.155
<v Speaker 0>Let's try. Sorry. I'm gonna

00:47:41.170 --> 00:47:42.610
<v Speaker 0>Yes. Should work. Right?

00:47:44.930 --> 00:47:45.810
<v Speaker 2>P s?

00:47:46.290 --> 00:47:48.050
<v Speaker 0>Oh, no. I just can't spell runtime endpoint

00:47:48.050 --> 00:47:48.850
<v Speaker 0>correctly.

00:47:49.570 --> 00:47:50.610
<v Speaker 0>Oh, p s is fine.

00:47:54.035 --> 00:47:55.795
<v Speaker 2>So yeah. So

00:48:00.914 --> 00:48:01.635
<v Speaker 0>So there's no

00:48:04.035 --> 00:48:06.275
<v Speaker 2>Two days ago, twenty six hours ago as

00:48:06.275 --> 00:48:07.234
<v Speaker 2>the Cilium agent.

00:48:07.960 --> 00:48:08.840
<v Speaker 2>So that's

00:48:11.320 --> 00:48:12.360
<v Speaker 2>suspicious.

00:48:12.920 --> 00:48:14.680
<v Speaker 1>I mean, what we checked that and that

00:48:14.680 --> 00:48:15.800
<v Speaker 1>was I mean, you could look at the

00:48:15.800 --> 00:48:17.480
<v Speaker 1>logs maybe too, but I'm pretty sure we

00:48:17.480 --> 00:48:18.680
<v Speaker 1>looked at that and that was an issue.

00:48:18.680 --> 00:48:19.880
<v Speaker 1>You could actually do a describe. I think

00:48:19.880 --> 00:48:21.880
<v Speaker 1>create CTL as a describe or something. I

00:48:21.880 --> 00:48:22.840
<v Speaker 1>know Docker did

00:48:23.694 --> 00:48:24.335
<v Speaker 1>Info.

00:48:25.615 --> 00:48:27.135
<v Speaker 1>I don't know. But

00:48:28.494 --> 00:48:29.135
<v Speaker 2>I wonder

00:48:30.175 --> 00:48:31.695
<v Speaker 2>yeah. I wonder

00:48:32.494 --> 00:48:34.575
<v Speaker 2>let's try that. You said this like, a

00:48:34.575 --> 00:48:35.855
<v Speaker 2>describe on

00:48:36.860 --> 00:48:38.780
<v Speaker 1>from The container ID.

00:48:40.300 --> 00:48:42.140
<v Speaker 2>Is there a describe command?

00:48:42.860 --> 00:48:44.300
<v Speaker 1>I don't know. You'd have to scroll up

00:48:44.300 --> 00:48:45.980
<v Speaker 1>on the help output maybe.

00:48:46.540 --> 00:48:48.060
<v Speaker 2>There's

00:48:49.115 --> 00:48:52.235
<v Speaker 2>attach create There's inspect and inspect p. Yep.

00:48:52.555 --> 00:48:54.795
<v Speaker 1>Yep. I was just gonna say inspect is

00:48:55.194 --> 00:48:56.635
<v Speaker 1>your go to probably.

00:48:57.994 --> 00:49:00.875
<v Speaker 2>P and then the You could add in

00:49:00.875 --> 00:49:01.915
<v Speaker 0>the pod ID.

00:49:03.760 --> 00:49:05.760
<v Speaker 2>Is this it? Oh, no.

00:49:06.960 --> 00:49:08.799
<v Speaker 2>Plot ID. The the other one on the

00:49:08.799 --> 00:49:09.359
<v Speaker 0>end.

00:49:11.039 --> 00:49:12.480
<v Speaker 3>Mhmm. There we go.

00:49:13.680 --> 00:49:14.720
<v Speaker 2>So

00:49:15.375 --> 00:49:16.975
<v Speaker 2>what do we look for now?

00:49:17.775 --> 00:49:19.775
<v Speaker 2>So the this one, we suspect, the one

00:49:19.775 --> 00:49:22.255
<v Speaker 2>that has the the the the bad image.

00:49:22.255 --> 00:49:23.775
<v Speaker 2>Right? The colon dev

00:49:24.495 --> 00:49:25.455
<v Speaker 2>image? Correct.

00:49:28.260 --> 00:49:29.620
<v Speaker 2>So let's find it.

00:49:35.860 --> 00:49:37.620
<v Speaker 1>Wow. We probably should have crept.

00:49:39.620 --> 00:49:41.300
<v Speaker 2>Yep. No. It's not in there.

00:49:42.835 --> 00:49:44.355
<v Speaker 3>Mhmm. Okay. I

00:49:44.755 --> 00:49:46.515
<v Speaker 2>actually grepped in the bottom, but you guys

00:49:46.515 --> 00:49:48.435
<v Speaker 2>can't see. But Oh, did you? Okay. Okay.

00:49:48.435 --> 00:49:49.235
<v Speaker 1>Got it.

00:49:52.195 --> 00:49:53.955
<v Speaker 2>The pod recreates itself.

00:49:54.035 --> 00:49:56.595
<v Speaker 2>So what about container d's configuration,

00:49:56.675 --> 00:49:57.315
<v Speaker 2>actually?

00:49:57.475 --> 00:49:57.795
<v Speaker 2>Maybe?

00:49:58.730 --> 00:49:59.850
<v Speaker 2>Should we try that?

00:50:02.410 --> 00:50:04.730
<v Speaker 2>Or is it My initial guess was that

00:50:04.730 --> 00:50:06.890
<v Speaker 0>they were using a container d feature to

00:50:06.890 --> 00:50:08.490
<v Speaker 0>pull in their own image instead of the

00:50:08.490 --> 00:50:10.809
<v Speaker 0>official one, and their API server was rogue.

00:50:11.305 --> 00:50:13.625
<v Speaker 0>But I'm not entirely convinced it feels like

00:50:13.625 --> 00:50:15.225
<v Speaker 0>that anymore. I don't think that's what's happening

00:50:15.225 --> 00:50:15.945
<v Speaker 1>at all.

00:50:17.385 --> 00:50:18.265
<v Speaker 3>Yeah.

00:50:22.505 --> 00:50:23.865
<v Speaker 2>Do you guys think it could be, like,

00:50:23.865 --> 00:50:25.625
<v Speaker 2>the container deconfiguration itself?

00:50:26.250 --> 00:50:28.810
<v Speaker 0>I mean, you can run container deconfig dump,

00:50:28.810 --> 00:50:30.490
<v Speaker 0>and it will allow you to take a

00:50:30.490 --> 00:50:31.530
<v Speaker 0>look and see.

00:50:32.730 --> 00:50:33.610
<v Speaker 2>So

00:50:33.610 --> 00:50:37.370
<v Speaker 2>same command. No. Container d, actual the daemon

00:50:37.370 --> 00:50:39.210
<v Speaker 0>process, the config space dump.

00:50:42.455 --> 00:50:44.535
<v Speaker 2>Failed to load TOML file.

00:50:44.695 --> 00:50:45.815
<v Speaker 2>No such file.

00:50:47.175 --> 00:50:49.175
<v Speaker 0>That normally works. Is there any

00:50:49.415 --> 00:50:50.055
<v Speaker 2>other

00:50:51.575 --> 00:50:52.215
<v Speaker 2>oh,

00:50:52.615 --> 00:50:54.855
<v Speaker 2>the directory is not there. Yeah. I mean,

00:50:54.855 --> 00:50:57.030
<v Speaker 0>you let me maybe I just forgot the

00:50:57.030 --> 00:50:59.910
<v Speaker 0>command, but I thought it was config.

00:51:02.550 --> 00:51:03.190
<v Speaker 2>Yeah.

00:51:03.670 --> 00:51:05.430
<v Speaker 2>So we just don't have

00:51:05.990 --> 00:51:07.190
<v Speaker 2>we don't have one.

00:51:10.744 --> 00:51:12.505
<v Speaker 0>It normally prints up a. I don't know

00:51:12.505 --> 00:51:13.385
<v Speaker 0>if that's

00:51:13.464 --> 00:51:14.345
<v Speaker 0>something

00:51:14.505 --> 00:51:16.345
<v Speaker 0>new, different, or not. But

00:51:16.744 --> 00:51:18.505
<v Speaker 0>yeah. If you don't have a config, then

00:51:18.505 --> 00:51:20.505
<v Speaker 0>it's unlikely they're using that

00:51:21.224 --> 00:51:23.305
<v Speaker 0>cheat to pull in the alternative image.

00:51:24.950 --> 00:51:27.270
<v Speaker 0>And you've got one minute and forty five

00:51:27.270 --> 00:51:28.230
<v Speaker 0>seconds.

00:51:30.950 --> 00:51:33.109
<v Speaker 0>This is a tough one. I gotta say,

00:51:33.109 --> 00:51:33.910
<v Speaker 0>really tough one.

00:51:38.075 --> 00:51:39.515
<v Speaker 2>Cilium operator.

00:51:40.875 --> 00:51:41.595
<v Speaker 2>Yeah.

00:51:46.315 --> 00:51:48.715
<v Speaker 0>He do Cilium namespace dash o wide.

00:51:50.474 --> 00:51:51.755
<v Speaker 2>Oh, can you repeat? Sorry.

00:51:52.660 --> 00:51:54.740
<v Speaker 0>Get pods in the Cilium namespace with a

00:51:54.740 --> 00:51:56.020
<v Speaker 0>dash o wide on it.

00:51:57.380 --> 00:51:58.180
<v Speaker 3>Yep.

00:52:00.020 --> 00:52:02.020
<v Speaker 2>Oh, it's in cube system. Right?

00:52:06.865 --> 00:52:07.585
<v Speaker 2>Right?

00:52:09.585 --> 00:52:10.945
<v Speaker 0>Oh, yeah. It's What?

00:52:13.985 --> 00:52:14.705
<v Speaker 0>So

00:52:15.585 --> 00:52:17.025
<v Speaker 0>So I was I was it's not like

00:52:17.025 --> 00:52:19.930
<v Speaker 0>it's a rogue Cilium process. Something is modifying

00:52:19.930 --> 00:52:22.730
<v Speaker 0>the Cilium pod only on the control plane

00:52:23.450 --> 00:52:25.050
<v Speaker 0>node with that image.

00:52:25.290 --> 00:52:27.370
<v Speaker 0>Like, you run a if you just get

00:52:27.370 --> 00:52:30.330
<v Speaker 0>all that output YAML and filter for custard,

00:52:30.730 --> 00:52:31.930
<v Speaker 0>we only see one. Right?

00:52:33.395 --> 00:52:34.435
<v Speaker 2>Yeah. Let's see.

00:52:35.555 --> 00:52:36.595
<v Speaker 2>Describe

00:52:36.835 --> 00:52:37.715
<v Speaker 2>pod

00:52:38.755 --> 00:52:41.155
<v Speaker 2>in cube system. Wait a second.

00:52:41.955 --> 00:52:43.395
<v Speaker 2>You you find something?

00:52:43.795 --> 00:52:45.315
<v Speaker 1>I don't know what we did, but I

00:52:45.315 --> 00:52:47.075
<v Speaker 1>was messing around on canines,

00:52:47.075 --> 00:52:47.635
<v Speaker 1>and

00:52:48.119 --> 00:52:50.440
<v Speaker 1>I was able to change the version to

00:52:50.440 --> 00:52:52.119
<v Speaker 1>two, and it's sticking.

00:52:54.200 --> 00:52:54.839
<v Speaker 2>Oh.

00:52:55.400 --> 00:52:56.119
<v Speaker 2>So

00:52:56.200 --> 00:52:57.559
<v Speaker 1>I don't know if we did something where

00:52:57.559 --> 00:52:59.480
<v Speaker 1>we disabled it. So all I did is

00:52:59.480 --> 00:53:02.440
<v Speaker 1>kill the pod that had come back again,

00:53:03.245 --> 00:53:05.965
<v Speaker 1>and nothing else came back. And then I

00:53:05.965 --> 00:53:07.565
<v Speaker 1>edited the deployment,

00:53:07.725 --> 00:53:08.285
<v Speaker 1>and

00:53:08.845 --> 00:53:11.885
<v Speaker 1>it looks like it has successfully stuck to

00:53:11.885 --> 00:53:12.845
<v Speaker 1>v two.

00:53:13.165 --> 00:53:14.525
<v Speaker 1>And you can go view that.

00:53:15.270 --> 00:53:17.910
<v Speaker 1>Is that the proper version, Rawkode?

00:53:18.230 --> 00:53:20.390
<v Speaker 0>Normally, it takes a couple of refreshes and

00:53:20.390 --> 00:53:23.030
<v Speaker 0>stuff before it finally Gotcha. Fills it.

00:53:23.430 --> 00:53:24.150
<v Speaker 0>Right

00:53:24.790 --> 00:53:26.310
<v Speaker 0>now, it looks like v one.

00:53:27.430 --> 00:53:33.495
<v Speaker 2>No. It still says v one. Yeah. I'm

00:53:33.495 --> 00:53:34.215
<v Speaker 2>not sure.

00:53:36.295 --> 00:53:38.455
<v Speaker 2>Yeah. I could be something else as well,

00:53:38.455 --> 00:53:38.935
<v Speaker 1>but

00:53:39.335 --> 00:53:42.375
<v Speaker 1>you do a describe on that

00:53:42.695 --> 00:53:43.575
<v Speaker 1>pod,

00:53:45.015 --> 00:53:45.335
<v Speaker 1>Moody.

00:53:46.509 --> 00:53:48.190
<v Speaker 2>Describe pod? Sure.

00:53:48.750 --> 00:53:50.270
<v Speaker 1>Yeah. Which pod? Yeah.

00:53:50.589 --> 00:53:52.670
<v Speaker 2>Which pod? Or just describe on the the

00:53:52.670 --> 00:53:55.390
<v Speaker 1>deployment, whatever you wanna do. Yeah. Clustered

00:53:55.470 --> 00:53:55.950
<v Speaker 0>pod.

00:54:02.145 --> 00:54:03.105
<v Speaker 0>Extra PO.

00:54:05.905 --> 00:54:07.905
<v Speaker 2>Oh, sorry? We've got an extra PO. You

00:54:07.905 --> 00:54:08.945
<v Speaker 0>can just delete that.

00:54:09.665 --> 00:54:11.185
<v Speaker 2>Oh. It's still v one.

00:54:12.145 --> 00:54:12.785
<v Speaker 2>Yeah.

00:54:12.945 --> 00:54:14.705
<v Speaker 2>Alright. We are out of time.

00:54:15.720 --> 00:54:16.600
<v Speaker 2>Yes.

00:54:16.600 --> 00:54:19.320
<v Speaker 2>Oh, man. That that was tough. That was

00:54:19.320 --> 00:54:19.880
<v Speaker 2>tough. Seen

00:54:20.520 --> 00:54:22.440
<v Speaker 2>Street was The hint did not did not

00:54:22.440 --> 00:54:24.840
<v Speaker 2>tell us much. I I I couldn't

00:54:25.080 --> 00:54:27.240
<v Speaker 2>couldn't tell from the hints what's going on,

00:54:27.240 --> 00:54:30.040
<v Speaker 2>but thank you, Fairwinds team. That was fun,

00:54:30.040 --> 00:54:32.984
<v Speaker 2>though. Yeah. Well, the Fairwinds team, I'm sure

00:54:32.984 --> 00:54:34.345
<v Speaker 0>they'll they'll tell us in just a moment

00:54:34.345 --> 00:54:36.984
<v Speaker 0>what happened, and there'll be a pull request

00:54:36.984 --> 00:54:37.705
<v Speaker 0>to

00:54:37.785 --> 00:54:40.585
<v Speaker 0>the depository with the breaker notes. And Rachel

00:54:40.585 --> 00:54:42.265
<v Speaker 0>from the team is saying you were so,

00:54:42.265 --> 00:54:44.025
<v Speaker 0>so close. So I'm gonna have to say

00:54:44.025 --> 00:54:46.000
<v Speaker 0>goodbye to you both, and we'll find out

00:54:46.000 --> 00:54:47.520
<v Speaker 0>what it was soon, and we're gonna tackle

00:54:47.520 --> 00:54:48.720
<v Speaker 0>cluster number two.

00:54:49.040 --> 00:54:51.440
<v Speaker 0>So thanks again. It was an absolute pleasure,

00:54:51.440 --> 00:54:52.800
<v Speaker 0>and I'll speak to you both soon.

00:54:53.520 --> 00:54:56.320
<v Speaker 1>Thanks. Awesome. Good luck, guys. Bye. Yep.

00:54:56.960 --> 00:54:59.360
<v Speaker 0>Alright. I will pop over here and encourage

00:54:59.355 --> 00:55:02.555
<v Speaker 0>the Fairwinds team to come and join us.

00:55:03.355 --> 00:55:05.035
<v Speaker 0>And I'll also take a moment just to

00:55:05.035 --> 00:55:08.234
<v Speaker 0>say thank you to Teleport for sponsoring Clustard.

00:55:08.234 --> 00:55:09.915
<v Speaker 0>If you want to support the show, you

00:55:09.915 --> 00:55:12.849
<v Speaker 0>can go check out Rawkode.live/teleport

00:55:12.849 --> 00:55:14.849
<v Speaker 0>and check out there is an awesome product.

00:55:14.849 --> 00:55:16.690
<v Speaker 0>You've seen it in action. I encourage you

00:55:16.690 --> 00:55:17.970
<v Speaker 0>all to check it out.

00:55:18.849 --> 00:55:20.850
<v Speaker 0>Alright. Let's pop over.

00:55:21.810 --> 00:55:23.730
<v Speaker 0>And we have our first member of the

00:55:23.730 --> 00:55:24.370
<v Speaker 0>team.

00:55:25.490 --> 00:55:26.770
<v Speaker 0>Hey, Rawkode. How are you?

00:55:29.995 --> 00:55:31.755
<v Speaker 0>You're I'm good. How are you? Oh, there

00:55:31.755 --> 00:55:32.315
<v Speaker 0>we go.

00:55:32.635 --> 00:55:35.355
<v Speaker 0>Alright. Your team is now filtering in.

00:55:36.555 --> 00:55:37.835
<v Speaker 0>Hello, Rachel.

00:55:39.755 --> 00:55:41.755
<v Speaker 4>Hello. How are you? You guys are a

00:55:41.755 --> 00:55:43.115
<v Speaker 0>mean team, I gotta say.

00:55:45.809 --> 00:55:48.289
<v Speaker 4>Carter, you guys are amazing. Y'all did such

00:55:48.289 --> 00:55:50.289
<v Speaker 4>a good job, and y'all were so, so,

00:55:50.289 --> 00:55:51.809
<v Speaker 4>so close. So thank you for being good

00:55:51.809 --> 00:55:54.290
<v Speaker 4>sports because, honestly, that was that was amazing.

00:55:55.650 --> 00:55:57.250
<v Speaker 0>How how just how close were they?

00:55:59.575 --> 00:56:02.295
<v Speaker 5>It's hard to tell. I didn't see

00:56:03.175 --> 00:56:05.575
<v Speaker 5>how the pod actually got deleted. So

00:56:06.535 --> 00:56:08.135
<v Speaker 5>I think they were close. But

00:56:08.775 --> 00:56:11.095
<v Speaker 6>They they have one more item to do.

00:56:11.815 --> 00:56:12.775
<v Speaker 6>And yet

00:56:12.935 --> 00:56:14.295
<v Speaker 6>hint number four four.

00:56:14.990 --> 00:56:16.750
<v Speaker 6>That was the last one for us to

00:56:16.750 --> 00:56:18.109
<v Speaker 6>fix. Ah,

00:56:18.990 --> 00:56:20.510
<v Speaker 0>unlucky. Alright. Well,

00:56:20.990 --> 00:56:23.869
<v Speaker 0>I'm pulling up our cluster

00:56:23.869 --> 00:56:26.270
<v Speaker 0>now. Oh, sorry. Luke is here too.

00:56:28.205 --> 00:56:29.405
<v Speaker 0>Hello, everyone.

00:56:29.645 --> 00:56:30.925
<v Speaker 0>Alright. Let's

00:56:31.005 --> 00:56:33.325
<v Speaker 0>start with a little bit of an introduction.

00:56:33.325 --> 00:56:35.005
<v Speaker 0>We'll just start with Rawkode and and kinda

00:56:35.005 --> 00:56:36.925
<v Speaker 0>look around to Luke, Andy, and Rachel. But

00:56:36.925 --> 00:56:38.765
<v Speaker 0>if you could just tell us your name,

00:56:38.765 --> 00:56:40.925
<v Speaker 0>who you are, and maybe something you like.

00:56:45.040 --> 00:56:46.560
<v Speaker 6>Well, I'm Rawkode.

00:56:46.720 --> 00:56:47.520
<v Speaker 6>I'm

00:56:47.520 --> 00:56:49.840
<v Speaker 6>just a, you know, engineer

00:56:50.000 --> 00:56:51.600
<v Speaker 6>manager. Just joined recently

00:56:52.560 --> 00:56:55.435
<v Speaker 6>to Fairwinds, and really excited to be here.

00:56:56.475 --> 00:56:57.275
<v Speaker 6>Rachel?

00:56:58.795 --> 00:57:01.755
<v Speaker 4>Hey, everyone. Rachel Sweeney. I've been at Fairwinds

00:57:01.755 --> 00:57:03.915
<v Speaker 4>about a month. Absolutely loving it. Worked with

00:57:03.915 --> 00:57:05.835
<v Speaker 4>customers, helped them with all their problems that

00:57:05.835 --> 00:57:06.234
<v Speaker 4>come up.

00:57:06.940 --> 00:57:08.860
<v Speaker 4>Yeah. Super excited to see what Card has

00:57:08.860 --> 00:57:11.420
<v Speaker 4>done for us and dive into this cluster.

00:57:12.460 --> 00:57:13.260
<v Speaker 4>Andy?

00:57:14.380 --> 00:57:15.500
<v Speaker 5>I'm Andy.

00:57:16.060 --> 00:57:18.060
<v Speaker 5>I've been with Firewinds for about three and

00:57:18.060 --> 00:57:20.535
<v Speaker 5>a half years, working Kubernetes for five, and

00:57:20.535 --> 00:57:22.695
<v Speaker 5>something I like is Kubernetes,

00:57:22.695 --> 00:57:24.375
<v Speaker 5>quite honestly. I know that sounds silly, but

00:57:24.375 --> 00:57:27.575
<v Speaker 5>I really enjoy it. So go ahead, Luke.

00:57:29.095 --> 00:57:31.255
<v Speaker 3>Hey, y'all. Luke. I've been here for a

00:57:31.255 --> 00:57:32.055
<v Speaker 3>couple years.

00:57:32.375 --> 00:57:35.280
<v Speaker 3>Mostly working on internal tooling and open source

00:57:35.280 --> 00:57:36.560
<v Speaker 3>stuff and

00:57:37.120 --> 00:57:39.040
<v Speaker 3>still doing some SRE stuff as well.

00:57:39.760 --> 00:57:42.160
<v Speaker 3>Excited to try out this cluster.

00:57:42.480 --> 00:57:43.280
<v Speaker 0>Awesome.

00:57:43.280 --> 00:57:44.000
<v Speaker 0>Perfect.

00:57:44.400 --> 00:57:46.800
<v Speaker 0>Alright. People are asking in the chat. How

00:57:46.800 --> 00:57:48.400
<v Speaker 0>was that pod getting there that was doing

00:57:48.400 --> 00:57:49.040
<v Speaker 0>the naughty thing?

00:57:50.295 --> 00:57:52.855
<v Speaker 5>I posted the code in the chat. There's

00:57:52.855 --> 00:57:53.974
<v Speaker 5>a link to the repo that I just

00:57:53.974 --> 00:57:56.775
<v Speaker 5>opened up for everybody, but it's just a

00:57:56.775 --> 00:57:58.855
<v Speaker 5>static pod or not a static pod. Sorry.

00:57:58.855 --> 00:57:59.815
<v Speaker 5>A naked pod,

00:57:59.974 --> 00:58:02.454
<v Speaker 5>but it catches a sig kill and recreates

00:58:02.454 --> 00:58:02.934
<v Speaker 5>itself

00:58:03.730 --> 00:58:05.730
<v Speaker 5>and catches the signals and then creates a

00:58:05.730 --> 00:58:07.250
<v Speaker 5>new version of itself every time you try

00:58:07.250 --> 00:58:08.050
<v Speaker 5>to delete it.

00:58:08.370 --> 00:58:10.530
<v Speaker 0>So you scheduled the first one manually, and

00:58:10.530 --> 00:58:12.530
<v Speaker 0>then it would schedule itself autonomously

00:58:12.530 --> 00:58:14.450
<v Speaker 0>after that. That is so sneaky. I like

00:58:14.450 --> 00:58:15.010
<v Speaker 0>that.

00:58:15.410 --> 00:58:16.530
<v Speaker 4>And then the one last

00:58:18.055 --> 00:58:19.015
<v Speaker 4>Sorry.

00:58:19.015 --> 00:58:20.775
<v Speaker 3>Go ahead. The last piece is that we

00:58:20.775 --> 00:58:23.415
<v Speaker 4>took the v one image that needed to

00:58:23.415 --> 00:58:25.015
<v Speaker 4>be updated and we tagged it as v

00:58:25.015 --> 00:58:27.255
<v Speaker 4>two and took the image pull policy and

00:58:27.255 --> 00:58:29.095
<v Speaker 4>set it to only if present or not

00:58:29.095 --> 00:58:29.895
<v Speaker 4>if present.

00:58:30.695 --> 00:58:33.160
<v Speaker 0>Nice. Alright. Very sneaky.

00:58:33.640 --> 00:58:36.680
<v Speaker 0>Okay. Let's pop over to our screen share.

00:58:36.760 --> 00:58:39.000
<v Speaker 0>Hopefully, you all have access to this.

00:58:39.320 --> 00:58:41.960
<v Speaker 0>I am going to run TSH LS and

00:58:41.960 --> 00:58:43.320
<v Speaker 0>I'm gonna SSH

00:58:43.685 --> 00:58:46.165
<v Speaker 0>onto the Carter control plane one. You should

00:58:46.165 --> 00:58:48.325
<v Speaker 0>all be able to connect to this session.

00:58:49.365 --> 00:58:50.805
<v Speaker 0>If you can give me an echo hello

00:58:50.805 --> 00:58:52.085
<v Speaker 0>or something to let me know that you

00:58:52.085 --> 00:58:53.845
<v Speaker 0>are there, and we will get started with

00:58:53.845 --> 00:58:54.165
<v Speaker 0>this.

00:58:58.319 --> 00:58:59.920
<v Speaker 0>And a lot of love and oh my

00:58:59.920 --> 00:59:03.119
<v Speaker 0>gods for that SIG kill capture reschedule thing.

00:59:03.119 --> 00:59:04.319
<v Speaker 0>That was super sneaky.

00:59:10.415 --> 00:59:12.015
<v Speaker 0>Alright. We've got

00:59:12.255 --> 00:59:13.935
<v Speaker 0>all of you there, I think.

00:59:14.735 --> 00:59:17.135
<v Speaker 0>So I would suggest you export your cube

00:59:17.135 --> 00:59:19.455
<v Speaker 0>config, check for our control plane, best of

00:59:19.455 --> 00:59:20.175
<v Speaker 0>luck,

00:59:20.255 --> 00:59:22.095
<v Speaker 0>and let's let's go for it.

00:59:25.450 --> 00:59:27.849
<v Speaker 3>Cool. Andy, are you driving? And I will

00:59:27.849 --> 00:59:29.050
<v Speaker 0>start your timer. Oh,

00:59:34.650 --> 00:59:36.330
<v Speaker 0>yeah. The

00:59:36.730 --> 00:59:37.849
<v Speaker 0>teleport

00:59:37.855 --> 00:59:39.375
<v Speaker 0>command lines is not like them, so I

00:59:39.375 --> 00:59:40.975
<v Speaker 0>am gonna join from here too.

00:59:44.095 --> 00:59:44.815
<v Speaker 0>One.

00:59:48.895 --> 00:59:49.455
<v Speaker 5>Alright.

00:59:51.140 --> 00:59:53.380
<v Speaker 5>Did leave us some hints. I'm gonna leave

00:59:53.380 --> 00:59:54.500
<v Speaker 5>those for now.

00:59:56.100 --> 00:59:56.980
<v Speaker 5>Let's

00:59:56.980 --> 00:59:57.460
<v Speaker 5>just

00:59:57.940 --> 01:00:00.180
<v Speaker 5>see what we've got here. Alright.

01:00:01.540 --> 01:00:03.620
<v Speaker 5>Can't access resource nodes.

01:00:05.075 --> 01:00:06.755
<v Speaker 5>So let's take a look

01:00:07.075 --> 01:00:08.035
<v Speaker 5>at our

01:00:08.355 --> 01:00:10.195
<v Speaker 5>oh, so it looks like they've

01:00:11.714 --> 01:00:14.595
<v Speaker 5>moved the original admin config.

01:00:15.954 --> 01:00:17.634
<v Speaker 5>Let's just take a look at the one

01:00:17.634 --> 01:00:18.914
<v Speaker 5>that's in the dot here.

01:00:23.930 --> 01:00:25.850
<v Speaker 5>I think I'll just list the one we

01:00:25.850 --> 01:00:26.330
<v Speaker 5>have.

01:00:50.410 --> 01:00:52.650
<v Speaker 5>Let's see. Let's try the

01:00:53.529 --> 01:00:56.010
<v Speaker 5>end the.admin.com.

01:00:57.049 --> 01:00:58.730
<v Speaker 5>Have the control panel? Access.

01:00:58.970 --> 01:01:00.890
<v Speaker 0>Hey, John. Well done. See, he's all there.

01:01:01.565 --> 01:01:04.445
<v Speaker 5>I don't know what's wrong with this one.

01:01:04.525 --> 01:01:05.165
<v Speaker 5>And

01:01:06.845 --> 01:01:09.325
<v Speaker 5>looks well, the user was changed from Kubernetes

01:01:09.325 --> 01:01:11.165
<v Speaker 5>admin to cluster admin. Nice.

01:01:11.885 --> 01:01:12.685
<v Speaker 5>Alright.

01:01:12.925 --> 01:01:13.485
<v Speaker 5>So

01:01:13.725 --> 01:01:14.685
<v Speaker 5>Are we trying to update it?

01:01:15.400 --> 01:01:17.880
<v Speaker 5>That's what I was gonna do. First, I

01:01:17.880 --> 01:01:19.000
<v Speaker 5>was gonna look for any

01:01:19.240 --> 01:01:22.120
<v Speaker 5>rogue pods, but that's probably just me thinking

01:01:22.680 --> 01:01:25.080
<v Speaker 5>along the lines of what we did.

01:01:27.000 --> 01:01:29.560
<v Speaker 5>There is nothing in the default namespace.

01:01:35.635 --> 01:01:38.275
<v Speaker 5>Is the app just isn't there? Is that

01:01:38.435 --> 01:01:40.275
<v Speaker 0>Seven hints. What have they done to this

01:01:40.275 --> 01:01:42.995
<v Speaker 0>cluster? I don't know. Can

01:01:44.115 --> 01:01:45.235
<v Speaker 5>we check and see if the app has

01:01:45.235 --> 01:01:45.715
<v Speaker 5>even loaded?

01:01:46.650 --> 01:01:48.970
<v Speaker 0>We can. Me pop it open.

01:01:49.450 --> 01:01:50.730
<v Speaker 4>Do have a deployment?

01:01:50.809 --> 01:01:52.730
<v Speaker 4>The deployment exists in the cluster.

01:01:53.210 --> 01:01:56.250
<v Speaker 5>Oh, but there's no pods. Got it. Okay.

01:01:56.569 --> 01:01:57.049
<v Speaker 5>Yep.

01:01:58.905 --> 01:02:01.465
<v Speaker 5>Alright. Let's do describe here.

01:02:09.625 --> 01:02:12.265
<v Speaker 5>That's interesting. It says one ready, one available,

01:02:12.265 --> 01:02:13.225
<v Speaker 5>one up to date.

01:02:14.760 --> 01:02:16.360
<v Speaker 5>That's a true none.

01:02:20.760 --> 01:02:22.120
<v Speaker 5>Yeah. That's interesting.

01:02:22.440 --> 01:02:24.440
<v Speaker 0>Yeah. That's that's a nice effect as well.

01:02:36.214 --> 01:02:37.895
<v Speaker 3>Can we check Rback?

01:02:38.375 --> 01:02:40.375
<v Speaker 3>Can we check Rback on the

01:02:41.790 --> 01:02:43.870
<v Speaker 3>user that we're authenticated as?

01:02:45.310 --> 01:02:47.150
<v Speaker 3>Yeah. See if we can view pods.

01:02:48.590 --> 01:02:50.670
<v Speaker 4>So the pod's running, but we can't see

01:02:50.670 --> 01:02:50.910
<v Speaker 4>it.

01:02:59.105 --> 01:03:01.265
<v Speaker 0>Yeah. I don't make the SDF available on

01:03:01.265 --> 01:03:03.105
<v Speaker 0>my Kubernetes clusters normally.

01:03:03.825 --> 01:03:04.945
<v Speaker 5>Oh, I thought I had it in my

01:03:04.945 --> 01:03:07.265
<v Speaker 5>batch. Wanna see. I but it must not

01:03:07.265 --> 01:03:09.105
<v Speaker 5>happen. Oh, I forgot to install it. That's

01:03:09.105 --> 01:03:09.345
<v Speaker 5>right.

01:03:12.250 --> 01:03:13.770
<v Speaker 5>I have it sourced,

01:03:13.770 --> 01:03:14.329
<v Speaker 5>but not

01:03:17.609 --> 01:03:19.369
<v Speaker 5>looks like we had a

01:03:20.970 --> 01:03:21.450
<v Speaker 5>cluster.

01:03:24.125 --> 01:03:26.685
<v Speaker 5>We were the Kubernetes admin users. So

01:03:39.190 --> 01:03:41.590
<v Speaker 3>So what are you looking at right now?

01:03:42.390 --> 01:03:45.270
<v Speaker 5>I was like looks just looking at our

01:03:45.270 --> 01:03:45.990
<v Speaker 5>back.

01:03:46.309 --> 01:03:49.430
<v Speaker 0>So your hypothesis is that kubectl get pods

01:03:49.430 --> 01:03:51.190
<v Speaker 0>isn't working because of permissions. Right?

01:03:52.335 --> 01:03:54.175
<v Speaker 5>I think so, but that doesn't make a

01:03:54.175 --> 01:03:55.375
<v Speaker 5>ton of sense because I'm not getting the

01:03:55.535 --> 01:03:57.055
<v Speaker 0>I mean, you could run getting any pods.

01:03:56.974 --> 01:04:00.095
<v Speaker 3>A different error. Off, can I? Right? That

01:04:00.095 --> 01:04:02.095
<v Speaker 0>that would show it. Yeah.

01:04:02.815 --> 01:04:04.335
<v Speaker 4>And I did dash a, and I can

01:04:04.335 --> 01:04:06.015
<v Speaker 4>see pods in other namespaces,

01:04:06.015 --> 01:04:08.430
<v Speaker 4>just not the one for the replica set.

01:04:10.670 --> 01:04:12.270
<v Speaker 3>That's what made me think it might be

01:04:12.270 --> 01:04:13.070
<v Speaker 3>scoped.

01:04:13.070 --> 01:04:15.390
<v Speaker 3>So it would be maybe a role binding,

01:04:15.390 --> 01:04:18.030
<v Speaker 3>not a cluster role binding for the namespace.

01:04:20.910 --> 01:04:22.270
<v Speaker 5>What would make

01:04:23.165 --> 01:04:25.405
<v Speaker 5>the API think the pod exists?

01:04:25.964 --> 01:04:29.165
<v Speaker 5>The pod doesn't exist from the perspective of

01:04:29.165 --> 01:04:31.565
<v Speaker 5>get pods, but not the perspective of the

01:04:31.565 --> 01:04:32.445
<v Speaker 5>deployment.

01:04:33.805 --> 01:04:36.045
<v Speaker 3>So we can see the deployment, you said?

01:04:36.045 --> 01:04:36.605
<v Speaker 3>Yeah?

01:04:37.165 --> 01:04:37.565
<v Speaker 5>Yeah.

01:04:38.490 --> 01:04:39.610
<v Speaker 3>Do we care if we can see the

01:04:39.610 --> 01:04:41.050
<v Speaker 3>pods? Can we just try and edit the

01:04:41.050 --> 01:04:41.690
<v Speaker 3>deployment?

01:04:45.130 --> 01:04:47.530
<v Speaker 5>Oh, we get a internal server error from

01:04:47.530 --> 01:04:49.130
<v Speaker 5>the app, potentially.

01:04:49.770 --> 01:04:51.690
<v Speaker 5>I didn't actually see We did get an

01:04:51.690 --> 01:04:52.650
<v Speaker 0>internal server error.

01:04:53.295 --> 01:04:55.295
<v Speaker 5>So it is not running.

01:04:55.535 --> 01:04:57.695
<v Speaker 0>It's definitely not running. That's correct.

01:04:57.935 --> 01:04:58.575
<v Speaker 3>Yeah.

01:04:59.775 --> 01:05:02.255
<v Speaker 3>Does it look like postcast maybe? Or it

01:05:02.255 --> 01:05:04.015
<v Speaker 3>could be on a worker node. As I

01:05:04.015 --> 01:05:06.335
<v Speaker 5>said, do y'all see the the the container

01:05:06.335 --> 01:05:07.855
<v Speaker 5>itself running on the worker nodes?

01:05:10.589 --> 01:05:12.109
<v Speaker 3>Take a look. There's a taint on the

01:05:12.109 --> 01:05:13.550
<v Speaker 6>worker nodes for

01:05:14.510 --> 01:05:15.790
<v Speaker 6>cluster t app.

01:05:19.550 --> 01:05:20.109
<v Speaker 5>There's what?

01:05:20.955 --> 01:05:23.995
<v Speaker 6>There's a for the cluster tab. No schedule

01:05:23.995 --> 01:05:25.435
<v Speaker 6>on the worker notes.

01:05:26.795 --> 01:05:28.475
<v Speaker 5>Okay. That's just so it doesn't get scheduled

01:05:28.475 --> 01:05:29.515
<v Speaker 5>on the master.

01:05:30.475 --> 01:05:31.995
<v Speaker 6>No. It's on the worker notes.

01:05:32.155 --> 01:05:33.755
<v Speaker 4>So it can't be scheduled on the worker

01:05:33.755 --> 01:05:34.155
<v Speaker 4>notes.

01:05:35.200 --> 01:05:36.160
<v Speaker 5>Oh,

01:05:37.120 --> 01:05:37.920
<v Speaker 5>but then

01:05:38.480 --> 01:05:40.640
<v Speaker 5>why would the deployment say it's ready?

01:05:40.960 --> 01:05:42.880
<v Speaker 4>Yeah. So there's one ready, but we can't

01:05:42.880 --> 01:05:43.200
<v Speaker 0>see Really

01:05:44.880 --> 01:05:45.760
<v Speaker 5>freaking me out.

01:05:55.585 --> 01:05:56.785
<v Speaker 5>Got it. Okay.

01:06:01.105 --> 01:06:02.865
<v Speaker 5>So let's see if I can

01:06:03.025 --> 01:06:04.785
<v Speaker 5>remove those tanks first.

01:06:32.085 --> 01:06:34.244
<v Speaker 5>I don't I need to resize my window

01:06:34.244 --> 01:06:35.525
<v Speaker 5>or something here. Hold on.

01:06:37.260 --> 01:06:39.100
<v Speaker 0>Yeah. Yeah. Let's see what's in the scroll

01:06:39.100 --> 01:06:41.740
<v Speaker 0>disappears, if you just kinda resize a millimeter,

01:06:41.740 --> 01:06:43.580
<v Speaker 0>it kicks it back into shape normally.

01:06:44.380 --> 01:06:45.180
<v Speaker 5>Got it.

01:06:46.140 --> 01:06:46.540
<v Speaker 5>Okay.

01:06:51.065 --> 01:06:52.424
<v Speaker 5>It definitely looks like I was doing some

01:06:52.424 --> 01:06:53.625
<v Speaker 5>weird stuff there.

01:06:54.585 --> 01:06:56.105
<v Speaker 5>Still no pods, though.

01:06:58.345 --> 01:07:00.585
<v Speaker 6>Yeah. And there is a selector

01:07:00.585 --> 01:07:01.545
<v Speaker 6>in the

01:07:02.105 --> 01:07:02.424
<v Speaker 6>deployment.

01:07:14.390 --> 01:07:16.950
<v Speaker 5>And that selector or just because that selector

01:07:16.950 --> 01:07:17.430
<v Speaker 5>is normal.

01:07:18.474 --> 01:07:20.795
<v Speaker 5>It's matching the pod to the

01:07:26.555 --> 01:07:28.075
<v Speaker 5>it's already v two.

01:07:30.474 --> 01:07:32.474
<v Speaker 0>It's doing your job for you. What's going

01:07:32.474 --> 01:07:34.850
<v Speaker 0>on? I I yeah. Could we do the

01:07:34.850 --> 01:07:35.890
<v Speaker 5>other jobs?

01:07:43.970 --> 01:07:45.170
<v Speaker 0>How nice of your character?

01:07:48.015 --> 01:07:51.455
<v Speaker 5>Did y'all find the the container running on

01:07:51.455 --> 01:07:53.375
<v Speaker 5>the other on the worker nodes by chance?

01:07:53.855 --> 01:07:56.975
<v Speaker 4>Nothing's obvious. I do control Nothing's running.

01:07:58.735 --> 01:08:00.335
<v Speaker 3>Nothing's staying running on

01:08:00.990 --> 01:08:03.310
<v Speaker 3>nothing's on worker two except for Cilium.

01:08:04.510 --> 01:08:07.070
<v Speaker 3>Unless it's hidden, it's something like Cilium.

01:08:10.830 --> 01:08:12.590
<v Speaker 6>The database is also not running.

01:08:20.984 --> 01:08:23.145
<v Speaker 5>Same deal. It says it's got one ready

01:08:23.145 --> 01:08:23.864
<v Speaker 5>pod.

01:08:24.665 --> 01:08:26.185
<v Speaker 3>Let's go look we should maybe look at

01:08:26.185 --> 01:08:26.824
<v Speaker 3>logs.

01:08:27.865 --> 01:08:28.185
<v Speaker 5>Yeah.

01:08:31.800 --> 01:08:32.999
<v Speaker 5>APIs

01:08:33.319 --> 01:08:34.439
<v Speaker 5>are on the logs.

01:08:36.279 --> 01:08:37.880
<v Speaker 3>Some of our own advice from the last

01:08:37.880 --> 01:08:38.120
<v Speaker 5>one.

01:08:53.904 --> 01:08:55.185
<v Speaker 5>Alright.

01:08:55.825 --> 01:08:57.425
<v Speaker 5>Somebody's gonna have to have me with control.

01:08:57.425 --> 01:08:58.385
<v Speaker 5>Is it just there we go.

01:08:59.890 --> 01:09:02.290
<v Speaker 5>Wait. There was no on our cluster, there

01:09:02.290 --> 01:09:04.130
<v Speaker 5>was actually a pod for the logs

01:09:05.410 --> 01:09:07.250
<v Speaker 5>or for the API server. Sorry.

01:09:09.410 --> 01:09:11.810
<v Speaker 5>Now the container's running,

01:09:11.890 --> 01:09:13.729
<v Speaker 5>but there's not

01:09:17.745 --> 01:09:19.904
<v Speaker 5>there's not a pod for it.

01:09:20.545 --> 01:09:21.904
<v Speaker 5>I'm not missing it.

01:09:23.665 --> 01:09:25.104
<v Speaker 3>Oh, you're not.

01:09:27.265 --> 01:09:27.745
<v Speaker 5>Alright.

01:09:48.734 --> 01:09:51.854
<v Speaker 5>Because node name Carter work Carter worker one

01:09:51.854 --> 01:09:52.895
<v Speaker 5>does not exist.

01:09:58.030 --> 01:10:00.270
<v Speaker 3>Is it specifying the node in the deployment

01:10:00.270 --> 01:10:00.590
<v Speaker 4>maybe?

01:10:15.335 --> 01:10:18.615
<v Speaker 4>Does have a node selector for app clustered.

01:10:24.780 --> 01:10:27.500
<v Speaker 5>That's not a node selected. That's the deployment

01:10:27.500 --> 01:10:28.860
<v Speaker 5>selected for the pod, isn't it?

01:10:39.075 --> 01:10:41.395
<v Speaker 0>People are always so mean to these clusters.

01:10:41.795 --> 01:10:43.235
<v Speaker 0>Very interesting. They really are.

01:10:44.275 --> 01:10:45.875
<v Speaker 5>Come on. Is it time to dive into

01:10:45.875 --> 01:10:47.155
<v Speaker 5>a hint? I'm pretty sure.

01:10:48.435 --> 01:10:51.155
<v Speaker 0>Yeah. That get pods not showing anything is

01:10:53.395 --> 01:10:53.795
<v Speaker 0>interesting.

01:10:58.020 --> 01:10:59.940
<v Speaker 6>Yeah. So there is a node selector into

01:10:59.940 --> 01:11:00.820
<v Speaker 6>the deployment,

01:11:00.980 --> 01:11:01.540
<v Speaker 6>Andy.

01:11:02.660 --> 01:11:04.180
<v Speaker 5>Yes? Okay.

01:11:07.140 --> 01:11:09.515
<v Speaker 5>The hint one was the first thing we

01:11:09.515 --> 01:11:10.155
<v Speaker 5>found.

01:11:10.795 --> 01:11:12.475
<v Speaker 0>The brokenadmin.com.

01:11:12.475 --> 01:11:13.035
<v Speaker 0>Right?

01:11:14.075 --> 01:11:16.074
<v Speaker 5>Yeah. Seems Oh, there it is.

01:11:16.875 --> 01:11:17.915
<v Speaker 5>There it is.

01:11:19.755 --> 01:11:21.594
<v Speaker 4>We just removed that.

01:11:21.915 --> 01:11:22.235
<v Speaker 5>Yeah.

01:11:22.990 --> 01:11:24.030
<v Speaker 5>Yeah. We don't need that.

01:11:38.045 --> 01:11:39.805
<v Speaker 5>Uncurrent, undesired,

01:11:40.845 --> 01:11:44.125
<v Speaker 5>zero running, zero waiting, zero succeeded.

01:11:44.605 --> 01:11:46.925
<v Speaker 5>What is

01:12:06.895 --> 01:12:08.894
<v Speaker 5>Alright. Let's

01:12:09.215 --> 01:12:11.215
<v Speaker 5>let's go for two. There's seven of them.

01:12:11.215 --> 01:12:11.775
<v Speaker 5>Right?

01:12:12.655 --> 01:12:14.255
<v Speaker 4>You got that one.

01:12:14.655 --> 01:12:15.054
<v Speaker 0>Yeah.

01:12:16.950 --> 01:12:17.829
<v Speaker 5>Alright.

01:12:20.469 --> 01:12:23.030
<v Speaker 4>Love the hours, by the way. Good job,

01:12:23.030 --> 01:12:23.670
<v Speaker 4>Carter.

01:12:27.590 --> 01:12:30.070
<v Speaker 5>Find the birthplace of the unborn pods. Do

01:12:30.070 --> 01:12:32.150
<v Speaker 5>pods have parents, and are the parents still

01:12:32.150 --> 01:12:32.630
<v Speaker 5>alive?

01:12:33.165 --> 01:12:33.965
<v Speaker 4>Interesting.

01:12:34.045 --> 01:12:34.364
<v Speaker 4>Pods.

01:12:35.085 --> 01:12:36.125
<v Speaker 4>You have parents?

01:12:45.500 --> 01:12:46.220
<v Speaker 5>Control.

01:12:46.460 --> 01:12:48.540
<v Speaker 5>Right. The scheduler's not there either.

01:12:50.540 --> 01:12:52.060
<v Speaker 5>Oh, no. It's it's right there. Oh, it's

01:12:52.060 --> 01:12:54.060
<v Speaker 0>back. Yeah. There's there's a scheduler.

01:12:54.220 --> 01:12:56.060
<v Speaker 3>Maybe we should check the config.

01:12:57.034 --> 01:12:59.594
<v Speaker 0>Moody in the chat says it's payback time.

01:13:01.835 --> 01:13:03.994
<v Speaker 5>That's fair. Fair. That's fair. Fair?

01:13:04.155 --> 01:13:05.275
<v Speaker 3>That's fair.

01:13:08.635 --> 01:13:12.880
<v Speaker 5>System cube scheduler cannot list resource config maps

01:13:12.880 --> 01:13:14.400
<v Speaker 5>in the API group

01:13:14.640 --> 01:13:16.719
<v Speaker 5>in the namespace cube system.

01:13:18.000 --> 01:13:19.760
<v Speaker 3>So maybe check logs of.

01:13:20.400 --> 01:13:24.640
<v Speaker 5>And we've got a bunch of failures to

01:13:24.640 --> 01:13:25.120
<v Speaker 5>watch,

01:13:26.224 --> 01:13:27.905
<v Speaker 5>failures to list,

01:13:27.985 --> 01:13:30.545
<v Speaker 5>so we should check the permissions on queue

01:13:30.704 --> 01:13:31.984
<v Speaker 5>on the scheduler.

01:13:33.824 --> 01:13:35.264
<v Speaker 3>What do you think? What what were you

01:13:35.264 --> 01:13:36.385
<v Speaker 5>saying, Luke? Sorry.

01:13:37.025 --> 01:13:39.184
<v Speaker 3>That we should look at the log of

01:13:39.184 --> 01:13:39.664
<v Speaker 3>Kubelet.

01:13:40.840 --> 01:13:43.000
<v Speaker 3>I'm looking at them now on one of

01:13:43.000 --> 01:13:44.760
<v Speaker 3>the work on worker two,

01:13:45.560 --> 01:13:46.200
<v Speaker 3>and it's

01:13:47.640 --> 01:13:49.400
<v Speaker 3>there's some errors. So I might need to

01:13:49.400 --> 01:13:50.599
<v Speaker 3>look at the configuration

01:13:51.800 --> 01:13:53.080
<v Speaker 3>if we wanna open up.

01:13:57.955 --> 01:14:00.355
<v Speaker 5>Failed creating a mirror pod?

01:14:01.315 --> 01:14:02.275
<v Speaker 3>What about

01:14:03.635 --> 01:14:04.755
<v Speaker 3>about the

01:14:06.275 --> 01:14:07.155
<v Speaker 3>RBAC

01:14:07.475 --> 01:14:08.755
<v Speaker 3>in the Kubelet config?

01:14:13.080 --> 01:14:14.920
<v Speaker 4>I think mirror pods are related to static

01:14:14.920 --> 01:14:15.640
<v Speaker 4>pods.

01:14:16.360 --> 01:14:17.240
<v Speaker 0>That is correct.

01:14:21.724 --> 01:14:24.605
<v Speaker 0>I've never known why it calls them matter

01:14:24.605 --> 01:14:26.284
<v Speaker 0>of pods, but they're static

01:14:26.525 --> 01:14:27.484
<v Speaker 0>pods everywhere.

01:14:28.364 --> 01:14:30.284
<v Speaker 3>No. I don't know if that's it.

01:14:39.960 --> 01:14:42.280
<v Speaker 5>I do need our backup lookup.

01:14:42.760 --> 01:14:44.840
<v Speaker 3>We've

01:14:44.840 --> 01:14:46.280
<v Speaker 3>relied too much on our own tools.

01:14:47.965 --> 01:14:49.325
<v Speaker 0>Feel free to show off. I don't think

01:14:49.325 --> 01:14:50.925
<v Speaker 0>I've seen our back lookup before.

01:14:51.485 --> 01:14:53.725
<v Speaker 0>Show me the coolness. Get it. I'm gonna

01:14:53.725 --> 01:14:54.125
<v Speaker 5>get it.

01:14:59.770 --> 01:15:00.330
<v Speaker 3>So they

01:15:08.969 --> 01:15:11.050
<v Speaker 4>You really don't see any cluster.

01:15:11.785 --> 01:15:14.745
<v Speaker 4>Carter's cluster does not seem to have Fairwinds

01:15:14.745 --> 01:15:17.304
<v Speaker 4>Insights installed. No longer is it.

01:15:18.345 --> 01:15:20.824
<v Speaker 5>Oh, boy. Sorry. Could not resist.

01:15:21.465 --> 01:15:22.425
<v Speaker 5>Shameless.

01:15:22.505 --> 01:15:23.145
<v Speaker 5>Shameless.

01:15:24.440 --> 01:15:25.800
<v Speaker 4>Know

01:15:25.800 --> 01:15:28.280
<v Speaker 4>is software we create for best practices,

01:15:28.280 --> 01:15:30.360
<v Speaker 4>cost analysis, stuff like that. So

01:15:34.040 --> 01:15:36.200
<v Speaker 4>I'm not seeing anything in static manifest that

01:15:36.200 --> 01:15:37.160
<v Speaker 4>look unusual.

01:15:37.400 --> 01:15:39.080
<v Speaker 0>So what does the r back lookup do?

01:15:39.895 --> 01:15:41.815
<v Speaker 5>So r back lookup is giving me I

01:15:41.815 --> 01:15:44.295
<v Speaker 5>just searched for cube scheduler or just for

01:15:44.295 --> 01:15:47.815
<v Speaker 5>scheduler. It's giving me the service account, cube

01:15:47.895 --> 01:15:51.335
<v Speaker 5>system, cube scheduler, has the role cube scheduler,

01:15:51.829 --> 01:15:53.349
<v Speaker 5>and the role binding

01:15:53.510 --> 01:15:54.229
<v Speaker 5>system

01:15:54.389 --> 01:15:56.709
<v Speaker 5>leader locking KubeScheduler.

01:15:57.349 --> 01:15:59.190
<v Speaker 5>So it's basically just finding all mentions of

01:15:59.190 --> 01:16:02.149
<v Speaker 5>scheduler across RBAC and then linking them together

01:16:02.389 --> 01:16:04.789
<v Speaker 5>so I can see all the permit like,

01:16:04.789 --> 01:16:07.775
<v Speaker 5>roughly the permissions that or where the permissions

01:16:07.775 --> 01:16:09.295
<v Speaker 5>for the scheduler come from.

01:16:11.055 --> 01:16:11.935
<v Speaker 5>So

01:16:14.015 --> 01:16:16.655
<v Speaker 5>has the role system leader locking

01:16:16.735 --> 01:16:18.015
<v Speaker 5>system cubes

01:16:18.095 --> 01:16:20.095
<v Speaker 5>scheduler for cluster role.

01:16:20.810 --> 01:16:22.969
<v Speaker 5>So maybe we marked with

01:16:24.489 --> 01:16:27.290
<v Speaker 5>cluster roll system.

01:16:28.570 --> 01:16:30.730
<v Speaker 5>Yes. Get get. Get get get. Classic.

01:16:47.715 --> 01:16:50.514
<v Speaker 5>This looks

01:16:50.520 --> 01:16:51.879
<v Speaker 5>vaguely correct.

01:16:59.800 --> 01:17:00.599
<v Speaker 5>What was the

01:17:02.520 --> 01:17:03.159
<v Speaker 5>alright.

01:17:03.960 --> 01:17:05.320
<v Speaker 5>So that's the wrong path.

01:17:08.305 --> 01:17:09.905
<v Speaker 3>We go to a worker node and look

01:17:09.905 --> 01:17:10.945
<v Speaker 3>at the logs of

01:17:12.145 --> 01:17:13.265
<v Speaker 3>kubect there.

01:17:13.665 --> 01:17:15.585
<v Speaker 3>I mean, they're able to join the cluster,

01:17:15.585 --> 01:17:17.745
<v Speaker 3>but I see some errors and some other

01:17:17.745 --> 01:17:18.465
<v Speaker 3>things.

01:17:19.265 --> 01:17:20.385
<v Speaker 3>This is

01:17:22.920 --> 01:17:25.480
<v Speaker 3>yeah, there's a queue API server error.

01:17:28.200 --> 01:17:29.800
<v Speaker 3>So I probably don't see that pod.

01:17:33.815 --> 01:17:36.455
<v Speaker 0>I've opened a session on worker one. Anyone

01:17:36.455 --> 01:17:38.135
<v Speaker 0>wants to drive on it. I can switch

01:17:38.135 --> 01:17:39.014
<v Speaker 0>between them.

01:17:39.495 --> 01:17:40.534
<v Speaker 3>Oh, great.

01:17:45.495 --> 01:17:49.255
<v Speaker 5>So it looks like the QLET was stopped

01:17:49.790 --> 01:17:52.350
<v Speaker 5>a couple days ago. And then when it

01:17:52.350 --> 01:17:54.429
<v Speaker 5>started up, it just started spewing these.

01:17:54.910 --> 01:17:55.630
<v Speaker 5>So

01:17:59.230 --> 01:17:59.869
<v Speaker 3>Yeah.

01:18:00.989 --> 01:18:03.470
<v Speaker 3>Let's look at the service itself, maybe,

01:18:04.965 --> 01:18:06.085
<v Speaker 3>the definition.

01:18:08.405 --> 01:18:10.005
<v Speaker 5>Let's

01:18:10.005 --> 01:18:10.725
<v Speaker 5>see.

01:18:13.445 --> 01:18:14.165
<v Speaker 5>In

01:18:15.685 --> 01:18:16.325
<v Speaker 5>a while.

01:18:31.450 --> 01:18:33.530
<v Speaker 4>Looks like the API server and the controller

01:18:33.530 --> 01:18:35.210
<v Speaker 4>manager were modified.

01:18:35.415 --> 01:18:37.335
<v Speaker 4>At least they have different time stamps than

01:18:37.335 --> 01:18:38.534
<v Speaker 4>some of the other pieces.

01:18:39.495 --> 01:18:40.215
<v Speaker 3>Okay.

01:18:41.495 --> 01:18:42.935
<v Speaker 3>There we go. Queue config.

01:18:52.290 --> 01:18:53.969
<v Speaker 0>So what lead are we chasing right now?

01:18:53.969 --> 01:18:56.130
<v Speaker 0>Is this the the scheduler complaining it can't

01:18:56.130 --> 01:18:58.130
<v Speaker 0>read config maps, or are we looking into

01:18:58.130 --> 01:18:59.249
<v Speaker 0>something else now?

01:18:59.489 --> 01:19:03.170
<v Speaker 5>I'm looking into the QLET configuration right now

01:19:06.449 --> 01:19:07.885
<v Speaker 5>to See if it's been

01:19:09.165 --> 01:19:10.204
<v Speaker 5>messed

01:19:10.364 --> 01:19:11.165
<v Speaker 5>with

01:19:14.925 --> 01:19:17.005
<v Speaker 4>Don't see any pod security policies.

01:19:23.620 --> 01:19:25.780
<v Speaker 5>Static path is as expected.

01:19:33.905 --> 01:19:35.665
<v Speaker 5>I do find it interesting that we don't

01:19:35.665 --> 01:19:37.584
<v Speaker 5>have the API server

01:19:38.304 --> 01:19:39.905
<v Speaker 5>in the pod list

01:19:41.905 --> 01:19:42.544
<v Speaker 3>Yeah.

01:19:44.304 --> 01:19:45.985
<v Speaker 5>That it's running.

01:19:51.060 --> 01:19:52.900
<v Speaker 5>Yes. It does not like me right now.

01:19:52.900 --> 01:19:53.380
<v Speaker 5>There we go.

01:20:10.055 --> 01:20:12.215
<v Speaker 5>Definitely a bit stuck. Anybody got any issues

01:20:12.215 --> 01:20:12.455
<v Speaker 5>here?

01:20:17.260 --> 01:20:19.260
<v Speaker 3>Something still tells me it's.

01:20:22.140 --> 01:20:22.860
<v Speaker 3>But

01:20:27.100 --> 01:20:27.420
<v Speaker 3>yeah.

01:20:28.875 --> 01:20:30.554
<v Speaker 3>Do you call that? So it's failing to

01:20:30.554 --> 01:20:31.354
<v Speaker 5>create

01:20:31.755 --> 01:20:33.754
<v Speaker 5>it's failing to create the

01:20:34.474 --> 01:20:37.034
<v Speaker 0>API server pod here over and over and

01:20:37.034 --> 01:20:38.794
<v Speaker 5>over again. So that's

01:20:39.195 --> 01:20:42.554
<v Speaker 5>quite likely our issue. Although, if I did

01:20:42.000 --> 01:20:44.000
<v Speaker 5>pause that the API server is responding to

01:20:44.000 --> 01:20:44.719
<v Speaker 5>me at all,

01:20:45.120 --> 01:20:46.320
<v Speaker 5>what were you saying, Luke?

01:20:49.360 --> 01:20:52.160
<v Speaker 3>It says I'm available to validate pod request

01:20:52.160 --> 01:20:52.960
<v Speaker 3>there.

01:20:54.000 --> 01:20:55.920
<v Speaker 5>So maybe there's something

01:20:55.920 --> 01:20:57.440
<v Speaker 5>wrong with

01:20:59.185 --> 01:20:59.825
<v Speaker 5>manifest.

01:21:15.090 --> 01:21:17.570
<v Speaker 5>Something else here that we missed, maybe.

01:21:18.290 --> 01:21:19.650
<v Speaker 5>Nope. That's just

01:21:22.130 --> 01:21:24.930
<v Speaker 5>responding to me over and over and over

01:21:24.930 --> 01:21:25.330
<v Speaker 5>again.

01:21:27.485 --> 01:21:29.565
<v Speaker 5>We just got a meeting in ten minutes.

01:21:30.605 --> 01:21:31.165
<v Speaker 5>Alright.

01:21:50.909 --> 01:21:52.750
<v Speaker 3>There's

01:21:52.750 --> 01:21:54.590
<v Speaker 3>no webhook configurations that I can see.

01:22:05.925 --> 01:22:07.124
<v Speaker 5>Just in case,

01:22:08.085 --> 01:22:10.965
<v Speaker 5>replace the API server with something.

01:22:13.960 --> 01:22:14.999
<v Speaker 5>I'm

01:22:15.719 --> 01:22:17.239
<v Speaker 5>not sure I would catch

01:22:19.400 --> 01:22:22.360
<v Speaker 5>the ML error live like this if there

01:22:22.360 --> 01:22:23.320
<v Speaker 5>was one.

01:22:24.440 --> 01:22:24.920
<v Speaker 3>Right.

01:22:26.565 --> 01:22:28.725
<v Speaker 0>So most of that, it's okay except for

01:22:28.725 --> 01:22:29.925
<v Speaker 0>one line.

01:22:33.605 --> 01:22:34.405
<v Speaker 3>For one line. Where

01:22:37.445 --> 01:22:39.445
<v Speaker 3>did your cursor start? I remember that from

01:22:39.445 --> 01:22:41.765
<v Speaker 3>watching the

01:22:40.760 --> 01:22:43.720
<v Speaker 3>digital. It was exactly where the cursor started.

01:22:43.960 --> 01:22:45.880
<v Speaker 3>Where did your cursor start? Oh, yeah. Admission

01:22:45.880 --> 01:22:47.000
<v Speaker 0>controller lane.

01:22:50.360 --> 01:22:51.480
<v Speaker 0>There's an extra one.

01:22:53.685 --> 01:22:56.485
<v Speaker 5>Enable admission plugins, no restriction,

01:22:56.885 --> 01:22:58.564
<v Speaker 5>pod security policy.

01:23:00.485 --> 01:23:03.605
<v Speaker 5>Anybody familiar with admission plugin, sir? Because I

01:23:03.605 --> 01:23:05.844
<v Speaker 3>don't remember what the default is now. The

01:23:05.844 --> 01:23:07.204
<v Speaker 0>default is node registration.

01:23:08.720 --> 01:23:09.600
<v Speaker 4>Registration?

01:23:09.600 --> 01:23:10.160
<v Speaker 4>Interesting.

01:23:10.480 --> 01:23:12.480
<v Speaker 4>There were no pod security policies that I

01:23:12.480 --> 01:23:13.360
<v Speaker 4>saw, but

01:23:15.120 --> 01:23:17.280
<v Speaker 4>no restriction over that registration.

01:23:18.080 --> 01:23:20.320
<v Speaker 3>Yeah. It should be known registration instead of

01:23:20.320 --> 01:23:22.480
<v Speaker 3>restriction. I think there was one more change.

01:23:25.765 --> 01:23:27.045
<v Speaker 5>Other registration?

01:23:28.245 --> 01:23:28.725
<v Speaker 3>Yeah.

01:23:43.220 --> 01:23:44.820
<v Speaker 4>Next one with you.

01:23:49.220 --> 01:23:49.940
<v Speaker 3>It's not rough.

01:23:50.675 --> 01:23:52.035
<v Speaker 0>The chat. Very

01:23:52.435 --> 01:23:54.035
<v Speaker 0>quiet for a change, which is unlike some

01:23:54.195 --> 01:23:56.915
<v Speaker 0>I think everybody is is pretty stumped.

01:23:57.315 --> 01:23:58.915
<v Speaker 4>Yeah. Good job, Carter.

01:23:59.875 --> 01:24:01.235
<v Speaker 0>You got twenty minutes left.

01:24:02.730 --> 01:24:04.809
<v Speaker 5>Time flies when you're on the sun.

01:24:06.330 --> 01:24:08.809
<v Speaker 4>When you're live on YouTube. Yeah. Bye. So

01:24:09.130 --> 01:24:10.810
<v Speaker 3>Cube API server

01:24:10.810 --> 01:24:11.530
<v Speaker 3>is

01:24:11.690 --> 01:24:14.170
<v Speaker 3>not ready when you do Cryo CTL pods

01:24:14.170 --> 01:24:14.570
<v Speaker 3>list.

01:24:19.455 --> 01:24:20.735
<v Speaker 3>We'll see

01:24:22.574 --> 01:24:25.135
<v Speaker 4>if we can get logs on that one.

01:24:26.415 --> 01:24:28.815
<v Speaker 3>So there's a second pod. Oh, there's already

01:24:28.815 --> 01:24:30.655
<v Speaker 3>one that started a few seconds ago. Can

01:24:30.655 --> 01:24:31.534
<v Speaker 3>we just kill the other one?

01:24:36.750 --> 01:24:38.510
<v Speaker 3>19 hours ago as well.

01:24:39.070 --> 01:24:39.710
<v Speaker 5>Four?

01:24:40.350 --> 01:24:42.350
<v Speaker 5>I I would change the node registration back

01:24:42.350 --> 01:24:44.030
<v Speaker 0>to restriction. I think that was a slip

01:24:44.030 --> 01:24:44.910
<v Speaker 0>of the tongue,

01:24:45.310 --> 01:24:46.830
<v Speaker 0>but it should be restriction.

01:24:47.150 --> 01:24:48.190
<v Speaker 0>That's the default value.

01:24:49.204 --> 01:24:50.085
<v Speaker 3>Okay. Got it.

01:25:08.480 --> 01:25:10.400
<v Speaker 5>Failed to start and and that's probably our

01:25:10.400 --> 01:25:11.679
<v Speaker 5>old message here.

01:25:14.320 --> 01:25:17.119
<v Speaker 5>Let's just Yeah. See what we got.

01:25:27.595 --> 01:25:30.155
<v Speaker 5>Okay. We have an API server. It's pending.

01:25:30.155 --> 01:25:32.475
<v Speaker 4>If you look at the cube controller manager

01:25:32.475 --> 01:25:34.875
<v Speaker 4>under controllers, there's a lot of minuses. Minus

01:25:34.875 --> 01:25:38.050
<v Speaker 4>replica set, minus deployment, minus staple sets.

01:25:38.210 --> 01:25:40.689
<v Speaker 4>You disable the video control things.

01:25:40.929 --> 01:25:43.650
<v Speaker 2>Uh-huh. And looking at if you do CryCTL

01:25:43.650 --> 01:25:46.210
<v Speaker 3>pod list, that one was modified nineteen hours

01:25:46.210 --> 01:25:47.409
<v Speaker 3>ago, seventy two days ago.

01:25:48.395 --> 01:25:50.555
<v Speaker 4>You're right on it, Andy. Up at the

01:25:50.555 --> 01:25:52.475
<v Speaker 4>top, one of the flags. Yeah. No replica

01:25:52.475 --> 01:25:54.555
<v Speaker 0>set controller, no deployment controller, no step for

01:25:54.555 --> 01:25:57.114
<v Speaker 0>set controller, push traps, talking cleaner. They went

01:25:57.114 --> 01:25:58.395
<v Speaker 0>to town on that. Yeah. A few lines

01:25:58.395 --> 01:25:59.435
<v Speaker 3>on that. I think we just I'll retrofit

01:25:59.435 --> 01:26:00.235
<v Speaker 0>it. Remove that.

01:26:01.120 --> 01:26:03.200
<v Speaker 3>Just remove that line. Right? Yeah. Just leave

01:26:03.200 --> 01:26:05.440
<v Speaker 4>the asterisk. Or do you yeah. Yeah. Yeah.

01:26:05.440 --> 01:26:07.599
<v Speaker 3>Yeah. Because asterisk should be everything.

01:26:08.400 --> 01:26:10.000
<v Speaker 3>That's right. Sneaky.

01:26:10.080 --> 01:26:11.200
<v Speaker 5>Sneaky. Sneaky.

01:26:14.265 --> 01:26:16.825
<v Speaker 3>So we have still one oh, yeah. Controller

01:26:16.825 --> 01:26:19.945
<v Speaker 0>manager. An API server. There you go. Yeah.

01:26:20.265 --> 01:26:22.105
<v Speaker 0>How are you getting responses from an API

01:26:22.105 --> 01:26:22.825
<v Speaker 0>server

01:26:23.385 --> 01:26:24.985
<v Speaker 0>anyway? Weird.

01:26:26.900 --> 01:26:28.900
<v Speaker 4>I don't know. It I think it was

01:26:28.900 --> 01:26:31.140
<v Speaker 5>just rejecting the pod registration,

01:26:31.140 --> 01:26:33.219
<v Speaker 5>but the controller the the

01:26:33.460 --> 01:26:34.020
<v Speaker 5>containers

01:26:34.260 --> 01:26:35.860
<v Speaker 5>I have no idea, actually.

01:26:36.980 --> 01:26:39.460
<v Speaker 3>We have the containers ready now for clustering.

01:26:40.205 --> 01:26:41.804
<v Speaker 0>Woo hoo. Hey. Hey.

01:26:42.525 --> 01:26:43.485
<v Speaker 5>Starting off.

01:26:44.205 --> 01:26:46.445
<v Speaker 0>You get that? A couple. Okay.

01:26:47.005 --> 01:26:48.364
<v Speaker 0>Two replicas set.

01:26:49.085 --> 01:26:50.525
<v Speaker 5>It'd be lying if I said I thought

01:26:50.525 --> 01:26:51.405
<v Speaker 5>we were out of the woods.

01:26:53.630 --> 01:26:54.349
<v Speaker 0>Yeah.

01:26:54.590 --> 01:26:55.789
<v Speaker 0>It's probably more.

01:26:58.670 --> 01:27:00.269
<v Speaker 5>Alright. Let's see.

01:27:01.949 --> 01:27:03.149
<v Speaker 4>That started.

01:27:05.389 --> 01:27:06.510
<v Speaker 4>It says it's running.

01:27:12.985 --> 01:27:14.665
<v Speaker 0>Postgres. Happy? Is

01:27:16.425 --> 01:27:17.145
<v Speaker 5>pending.

01:27:19.465 --> 01:27:21.705
<v Speaker 4>Can we try updating the deployment, or should

01:27:21.705 --> 01:27:22.745
<v Speaker 4>we try the front end first?

01:27:28.280 --> 01:27:29.320
<v Speaker 5>Oh, we can.

01:27:30.280 --> 01:27:31.640
<v Speaker 5>I feel like it's gonna say it can't

01:27:31.640 --> 01:27:32.360
<v Speaker 5>reach the database.

01:27:36.695 --> 01:27:39.094
<v Speaker 0>Yep. I think we're about to get a

01:27:39.094 --> 01:27:40.695
<v Speaker 0>angry man time out.

01:27:43.735 --> 01:27:44.534
<v Speaker 5>Alright.

01:27:44.614 --> 01:27:45.894
<v Speaker 5>So

01:27:50.320 --> 01:27:52.000
<v Speaker 5>not getting any

01:27:52.960 --> 01:27:53.840
<v Speaker 5>reason

01:27:53.840 --> 01:27:54.880
<v Speaker 5>why

01:27:56.480 --> 01:27:58.240
<v Speaker 5>Postgres won't start.

01:28:05.925 --> 01:28:08.005
<v Speaker 4>Let's go to specified in the deployment because

01:28:08.005 --> 01:28:10.005
<v Speaker 4>I don't think I see it in there.

01:28:10.405 --> 01:28:13.925
<v Speaker 5>It's a staple set. Staple set. Okay. Great.

01:28:29.195 --> 01:28:30.314
<v Speaker 4>Let's see.

01:28:32.155 --> 01:28:32.474
<v Speaker 5>What?

01:28:42.920 --> 01:28:45.320
<v Speaker 5>So it's got a config map mounted to

01:28:45.320 --> 01:28:46.920
<v Speaker 5>it. That could be missing.

01:28:48.840 --> 01:28:51.480
<v Speaker 5>I would have expected to see a message

01:28:51.480 --> 01:28:52.440
<v Speaker 5>about that, though.

01:28:56.555 --> 01:29:00.235
<v Speaker 5>Generation two, so it has likely been modified.

01:29:01.915 --> 01:29:04.475
<v Speaker 3>Yeah. Can we look at generate the replica

01:29:04.475 --> 01:29:06.875
<v Speaker 3>set and just go back to the other

01:29:06.875 --> 01:29:07.035
<v Speaker 3>one?

01:29:08.690 --> 01:29:11.729
<v Speaker 5>There's no Rawkode set for safe old sets.

01:29:12.050 --> 01:29:13.969
<v Speaker 4>Oh, right. Right. Right. Right. I was thinking

01:29:13.969 --> 01:29:14.530
<v Speaker 4>of

01:29:15.650 --> 01:29:17.889
<v Speaker 5>I wonder if scheduling

01:29:17.889 --> 01:29:19.409
<v Speaker 6>or alternate strategy.

01:29:20.530 --> 01:29:22.610
<v Speaker 0>Have you described, like, the project?

01:29:24.495 --> 01:29:26.655
<v Speaker 5>Yeah. I did. There was no events.

01:29:34.094 --> 01:29:36.415
<v Speaker 0>But what causes pending?

01:29:38.080 --> 01:29:39.760
<v Speaker 1>Yeah. It can't scheduled.

01:29:40.240 --> 01:29:42.560
<v Speaker 0>Yeah. Normally scheduling, I think. Right?

01:29:42.960 --> 01:29:44.400
<v Speaker 5>Oh, yeah. Or scheduling.

01:29:45.680 --> 01:29:46.560
<v Speaker 5>So

01:29:54.285 --> 01:29:56.045
<v Speaker 5>so I had selector on that one too,

01:29:56.045 --> 01:29:56.525
<v Speaker 5>maybe.

01:29:56.925 --> 01:29:58.285
<v Speaker 5>I had a nice look.

01:30:01.405 --> 01:30:04.525
<v Speaker 6>Or, like, the update strategy. Maybe that's

01:30:12.020 --> 01:30:13.780
<v Speaker 0>Yeah. I hate myself for that. Like, the

01:30:13.780 --> 01:30:15.700
<v Speaker 0>service is Postgres, and the stable set is

01:30:15.700 --> 01:30:16.820
<v Speaker 0>PostgresQL.

01:30:18.740 --> 01:30:19.860
<v Speaker 0>That's on my to do list.

01:30:26.995 --> 01:30:28.675
<v Speaker 5>To the strategy.

01:30:29.475 --> 01:30:29.875
<v Speaker 5>Yeah.

01:30:31.635 --> 01:30:33.635
<v Speaker 6>Not sure. Just checking things.

01:30:40.210 --> 01:30:41.889
<v Speaker 0>I just see just, you know, some something

01:30:41.889 --> 01:30:43.409
<v Speaker 6>from scheduling or, like,

01:30:44.289 --> 01:30:46.130
<v Speaker 6>for the other strategy. Right? Otherwise,

01:30:55.285 --> 01:30:57.685
<v Speaker 0>Does it have anything on the pod called

01:30:57.685 --> 01:30:59.365
<v Speaker 0>mode name? It says that it has been

01:30:59.365 --> 01:30:59.845
<v Speaker 0>scheduled.

01:31:04.800 --> 01:31:06.960
<v Speaker 4>That's what the scheduler puts into the pod

01:31:06.960 --> 01:31:09.120
<v Speaker 4>once it's running? Yeah. So if you edit

01:31:09.120 --> 01:31:11.679
<v Speaker 0>the pod, I would expect to see the

01:31:11.679 --> 01:31:13.840
<v Speaker 0>value node name somewhere. I mean, you could

01:31:13.840 --> 01:31:15.520
<v Speaker 0>always add it manually to see if they

01:31:15.520 --> 01:31:17.120
<v Speaker 0>confirm it as scheduling.

01:31:20.055 --> 01:31:21.895
<v Speaker 0>And I'm just saying my advice is often

01:31:21.895 --> 01:31:23.415
<v Speaker 0>wrong and leads you down the wrong path

01:31:23.415 --> 01:31:25.094
<v Speaker 0>for twenty minutes. So, you know,

01:31:25.975 --> 01:31:27.335
<v Speaker 0>use it at your

01:31:27.895 --> 01:31:28.615
<v Speaker 0>discretion.

01:31:35.970 --> 01:31:37.570
<v Speaker 5>Just take the scheduling logs.

01:31:51.175 --> 01:31:52.934
<v Speaker 3>Next thing I would do is.

01:31:57.895 --> 01:31:58.934
<v Speaker 5>Found the watch.

01:32:11.010 --> 01:32:12.850
<v Speaker 5>That's been going on

01:32:16.255 --> 01:32:18.014
<v Speaker 5>since it started.

01:32:20.335 --> 01:32:22.495
<v Speaker 5>Although, I did just restart because we didn't

01:32:22.495 --> 01:32:24.415
<v Speaker 5>have it before. I don't know.

01:32:24.895 --> 01:32:27.135
<v Speaker 4>It's been quiet since then, it looks like.

01:32:29.120 --> 01:32:30.719
<v Speaker 0>We got twelve minutes.

01:32:32.240 --> 01:32:34.080
<v Speaker 5>Alright. It's time to open here at five,

01:32:34.080 --> 01:32:34.719
<v Speaker 5>I think.

01:32:37.040 --> 01:32:39.280
<v Speaker 5>It's the final resting place for power

01:32:39.280 --> 01:32:40.560
<v Speaker 5>nodes.

01:32:41.600 --> 01:32:41.680
<v Speaker 3>So

01:32:45.175 --> 01:32:47.335
<v Speaker 5>why can't this one be scheduled?

01:32:48.455 --> 01:32:50.935
<v Speaker 0>You got a very interesting comment in the

01:32:50.935 --> 01:32:52.375
<v Speaker 0>chat from Don O'Neil.

01:32:53.895 --> 01:32:56.455
<v Speaker 0>Not all default schedulers are default schedulers.

01:32:57.829 --> 01:32:59.909
<v Speaker 5>Default schedulers misnamed.

01:33:00.550 --> 01:33:01.829
<v Speaker 4>Oh, interesting.

01:33:04.789 --> 01:33:06.550
<v Speaker 0>Maybe I noticed he was paying attention.

01:33:10.035 --> 01:33:11.315
<v Speaker 0>Tables are

01:33:13.315 --> 01:33:14.675
<v Speaker 5>Schedule in the end.

01:33:15.155 --> 01:33:16.995
<v Speaker 0>Yeah. Once you see it, I'll set you

01:33:16.995 --> 01:33:18.114
<v Speaker 0>can't unsee that.

01:33:21.155 --> 01:33:24.515
<v Speaker 3>Oh, it's too blurry. Oh, so sneaky.

01:33:25.690 --> 01:33:26.969
<v Speaker 5>That is good.

01:33:28.409 --> 01:33:29.929
<v Speaker 5>One letter off.

01:33:36.489 --> 01:33:37.369
<v Speaker 3>Yeah. It's crazy.

01:33:42.225 --> 01:33:42.864
<v Speaker 5>Yeah.

01:33:44.065 --> 01:33:46.465
<v Speaker 5>My wife's actually standing outside my window with

01:33:46.465 --> 01:33:48.945
<v Speaker 5>a sign that says scheduler typo right now.

01:33:52.465 --> 01:33:54.785
<v Speaker 5>Hey. We got a we got a database.

01:33:57.390 --> 01:33:58.670
<v Speaker 4>Will it blend?

01:34:02.590 --> 01:34:03.950
<v Speaker 5>Oh, alright.

01:34:05.390 --> 01:34:06.910
<v Speaker 0>Well, looks like we still don't have an

01:34:06.910 --> 01:34:07.550
<v Speaker 0>application.

01:34:10.415 --> 01:34:12.415
<v Speaker 0>So I would start looking at the clustered

01:34:12.415 --> 01:34:13.294
<v Speaker 0>service.

01:34:14.175 --> 01:34:14.894
<v Speaker 4>Yeah.

01:34:15.375 --> 01:34:17.054
<v Speaker 4>What's the connectivity look like?

01:34:17.454 --> 01:34:19.855
<v Speaker 0>So Teleport expects cluster to be running as

01:34:19.855 --> 01:34:22.735
<v Speaker 0>a node port service on port 30,000,

01:34:22.735 --> 01:34:23.135
<v Speaker 0>I believe.

01:34:31.890 --> 01:34:34.050
<v Speaker 5>We're not getting anything anymore? Because before, we

01:34:34.050 --> 01:34:35.650
<v Speaker 5>were getting a database failure.

01:34:36.690 --> 01:34:38.930
<v Speaker 0>I think we've had internal server error every

01:34:38.930 --> 01:34:41.585
<v Speaker 0>time. Yeah. We expected a database error, and

01:34:41.585 --> 01:34:43.905
<v Speaker 0>we never got one. Never got it. Okay.

01:34:48.305 --> 01:34:49.425
<v Speaker 3>Oh, there it is.

01:34:50.305 --> 01:34:52.385
<v Speaker 0>We can also try curling local host on

01:34:52.385 --> 01:34:55.820
<v Speaker 0>30,000 just in case they broke teleport, but

01:34:55.820 --> 01:34:57.579
<v Speaker 0>I don't know if that's okay.

01:35:01.260 --> 01:35:03.099
<v Speaker 5>Just in case some noise changes.

01:35:06.075 --> 01:35:07.435
<v Speaker 5>What was that last thing you said? I'm

01:35:07.435 --> 01:35:10.395
<v Speaker 1>sorry. You could call local host from 30,000

01:35:10.395 --> 01:35:12.315
<v Speaker 0>to confirm if the node port service is

01:35:12.315 --> 01:35:12.954
<v Speaker 0>working.

01:35:14.075 --> 01:35:14.875
<v Speaker 0>Thirty. Yeah.

01:35:22.480 --> 01:35:24.160
<v Speaker 5>I'm gonna guess it's not.

01:35:27.120 --> 01:35:29.040
<v Speaker 5>Death by a thousand cuts here.

01:35:29.600 --> 01:35:30.640
<v Speaker 3>Did

01:35:30.640 --> 01:35:31.040
<v Speaker 3>you just

01:35:32.245 --> 01:35:34.324
<v Speaker 3>oh, you deleted it. Okay. Never mind.

01:35:36.885 --> 01:35:37.605
<v Speaker 5>Yeah.

01:35:38.325 --> 01:35:39.684
<v Speaker 5>I restarted it.

01:35:40.965 --> 01:35:42.165
<v Speaker 5>But it seems like we're

01:35:43.285 --> 01:35:44.005
<v Speaker 5>would

01:35:44.330 --> 01:35:46.410
<v Speaker 5>Teleport give us an internal server if it

01:35:46.410 --> 01:35:47.690
<v Speaker 5>just couldn't connect at all?

01:35:48.330 --> 01:35:49.690
<v Speaker 0>I believe so. Yeah.

01:35:50.090 --> 01:35:50.730
<v Speaker 5>K.

01:35:51.450 --> 01:35:52.650
<v Speaker 5>How much time do we have?

01:35:53.690 --> 01:35:55.050
<v Speaker 0>Eight and a half minutes.

01:35:56.090 --> 01:35:58.490
<v Speaker 3>There's a there are a few replica set

01:35:58.490 --> 01:35:59.450
<v Speaker 3>versions for

01:36:02.015 --> 01:36:03.375
<v Speaker 3>for clustering.

01:36:04.975 --> 01:36:07.215
<v Speaker 5>I checked the image pull policies always,

01:36:07.855 --> 01:36:08.575
<v Speaker 5>and

01:36:12.650 --> 01:36:13.849
<v Speaker 5>the image

01:36:14.489 --> 01:36:15.369
<v Speaker 5>is

01:36:15.369 --> 01:36:16.090
<v Speaker 5>correct.

01:36:17.850 --> 01:36:20.729
<v Speaker 3>So I don't think it's a rogue image.

01:36:20.730 --> 01:36:22.250
<v Speaker 5>I I don't I don't like that we

01:36:22.250 --> 01:36:25.050
<v Speaker 5>can't curl localhost on 30,000.

01:36:26.514 --> 01:36:29.074
<v Speaker 0>Yeah. That that seems networking

01:36:29.315 --> 01:36:37.474
<v Speaker 0>ish. Yeah. I'm

01:36:37.795 --> 01:36:39.715
<v Speaker 0>I don't know if you caught Mario's introduction,

01:36:39.715 --> 01:36:41.635
<v Speaker 0>but he did talk about his networking skills.

01:36:42.650 --> 01:36:43.770
<v Speaker 5>Yeah. I

01:36:44.409 --> 01:36:45.209
<v Speaker 5>We

01:36:45.610 --> 01:36:46.809
<v Speaker 5>talked about this.

01:36:48.010 --> 01:36:50.889
<v Speaker 0>Silly in network. Silly in network policy. We

01:36:50.889 --> 01:36:52.650
<v Speaker 5>talked about doing this, and we didn't do

01:36:52.650 --> 01:36:53.130
<v Speaker 5>it.

01:36:53.850 --> 01:36:54.650
<v Speaker 3>Yeah. We did.

01:36:56.935 --> 01:36:57.735
<v Speaker 4>Yes.

01:36:58.455 --> 01:37:00.054
<v Speaker 4>That was lucky.

01:37:00.455 --> 01:37:02.054
<v Speaker 4>And Steven Augustus.

01:37:02.054 --> 01:37:04.855
<v Speaker 4>That's awesome. You got the dance. Nicely done.

01:37:04.855 --> 01:37:06.534
<v Speaker 0>Seven minutes to spare.

01:37:07.335 --> 01:37:09.495
<v Speaker 5>Left out some furthest. Harder. We left with

01:37:09.495 --> 01:37:10.455
<v Speaker 4>Steven Augustus.

01:37:11.040 --> 01:37:12.880
<v Speaker 0>You would have kicked yourself. It was a

01:37:12.880 --> 01:37:14.719
<v Speaker 0>silly of network policy that blocked you from

01:37:14.719 --> 01:37:15.280
<v Speaker 0>there

01:37:15.520 --> 01:37:17.440
<v Speaker 0>from finishing it. So I'm glad you cut.

01:37:17.440 --> 01:37:18.639
<v Speaker 0>Nice work.

01:37:19.119 --> 01:37:19.840
<v Speaker 0>Alright.

01:37:21.040 --> 01:37:21.519
<v Speaker 4>Carter,

01:37:22.239 --> 01:37:23.679
<v Speaker 4>that was amazing. That was a lot of

01:37:23.679 --> 01:37:26.205
<v Speaker 4>fun. Yeah. So much fun, Beverly.

01:37:26.525 --> 01:37:27.005
<v Speaker 5>Well,

01:37:27.565 --> 01:37:30.285
<v Speaker 0>thank you all for joining me, and congratulations.

01:37:30.365 --> 01:37:32.685
<v Speaker 0>You got through that with a whole seven

01:37:32.685 --> 01:37:34.445
<v Speaker 0>plus minutes left to spare.

01:37:34.685 --> 01:37:35.245
<v Speaker 0>And

01:37:35.645 --> 01:37:39.099
<v Speaker 0>your seg signal capturing to respond our process

01:37:39.099 --> 01:37:40.860
<v Speaker 0>was definitely ingenious.

01:37:40.860 --> 01:37:42.380
<v Speaker 0>I'm not gonna forget that one in a

01:37:42.380 --> 01:37:44.780
<v Speaker 0>hurry. Thank you. And so thanks again It

01:37:44.780 --> 01:37:47.420
<v Speaker 3>was wonderful. For joining us. Hopefully, we'll get

01:37:47.420 --> 01:37:49.099
<v Speaker 0>you back another time, but

01:37:49.735 --> 01:37:52.215
<v Speaker 0>I'll say goodbye for now, and have a

01:37:52.215 --> 01:37:52.855
<v Speaker 0>great day.

01:37:53.575 --> 01:37:54.215
<v Speaker 0>To

01:37:55.735 --> 01:37:58.215
<v Speaker 0>to everyone else, thank you for joining us.

01:37:58.215 --> 01:38:00.295
<v Speaker 0>Thank you for watching Clustered. Thank you for

01:38:00.295 --> 01:38:02.889
<v Speaker 0>engaging us in the chat and supporting both

01:38:02.889 --> 01:38:05.130
<v Speaker 0>the teams here. Thank you to Carter, to

01:38:05.130 --> 01:38:08.010
<v Speaker 0>Mario, and to Moody. This was a fantastic

01:38:08.010 --> 01:38:10.570
<v Speaker 0>episode. Thank you to Teleport as well. Please

01:38:10.570 --> 01:38:13.050
<v Speaker 0>check that out at Rawkode.liveteleport.

01:38:14.235 --> 01:38:16.315
<v Speaker 0>We'll be back next week. Have a wonderful

01:38:16.315 --> 01:38:17.915
<v Speaker 0>day. I'll see you all soon. Thanks.
