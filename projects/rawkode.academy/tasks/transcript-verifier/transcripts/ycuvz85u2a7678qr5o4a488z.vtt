WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: ebd06ccc-0c52-4877-b2e9-8272610ba169
Created: 2025-04-29T16:57:02.596Z
Duration: 2884.1106
Channels: 1

00:00:47.324 --> 00:00:47.804
<v Speaker 0>Hello.

00:00:50.270 --> 00:00:53.550
<v Speaker 0>Welcome to the next live workshop and the

00:00:53.550 --> 00:00:55.550
<v Speaker 0>complete guide to Teleport.

00:00:56.510 --> 00:00:58.989
<v Speaker 0>Today, we are taking a look at database

00:00:58.989 --> 00:01:00.190
<v Speaker 0>access once more.

00:01:01.615 --> 00:01:04.095
<v Speaker 0>Previously, we took a look at using Teleport

00:01:04.095 --> 00:01:06.815
<v Speaker 0>to provide access to Postgres clusters.

00:01:07.295 --> 00:01:09.055
<v Speaker 0>Today, we're taking a look at how to

00:01:09.055 --> 00:01:10.895
<v Speaker 0>do the same with MongoDB.

00:01:12.015 --> 00:01:14.495
<v Speaker 0>Today's workshop should be around thirty minutes long,

00:01:14.790 --> 00:01:15.830
<v Speaker 0>give or take,

00:01:16.310 --> 00:01:19.270
<v Speaker 0>where we are going to use Teleport

00:01:19.270 --> 00:01:20.630
<v Speaker 0>and MongoDB together,

00:01:21.110 --> 00:01:23.030
<v Speaker 0>and it's gonna be fun and good to

00:01:23.030 --> 00:01:23.510
<v Speaker 0>work.

00:01:24.070 --> 00:01:24.630
<v Speaker 0>Yes.

00:01:25.350 --> 00:01:27.270
<v Speaker 0>So if you're joining us live, thank you

00:01:27.270 --> 00:01:29.190
<v Speaker 0>very much. I see Kevin in the chat.

00:01:29.885 --> 00:01:31.485
<v Speaker 0>Hey, man. How's it going?

00:01:32.285 --> 00:01:33.485
<v Speaker 0>I have pushed

00:01:33.645 --> 00:01:36.125
<v Speaker 0>today's material to GitHub.

00:01:36.125 --> 00:01:37.565
<v Speaker 0>So if I pop over

00:01:39.005 --> 00:01:40.445
<v Speaker 0>to our screen share,

00:01:40.685 --> 00:01:42.445
<v Speaker 0>you will see that we are back with

00:01:42.445 --> 00:01:44.045
<v Speaker 0>the Rawkode Academy

00:01:44.380 --> 00:01:47.020
<v Speaker 0>slash courses repository on github.com,

00:01:47.740 --> 00:01:50.380
<v Speaker 0>where we have a directory called nine database

00:01:50.380 --> 00:01:51.500
<v Speaker 0>access MongoDB.

00:01:53.260 --> 00:01:55.500
<v Speaker 0>Here we have exercise

00:01:55.500 --> 00:01:57.900
<v Speaker 0>one through eight, where we are going to

00:01:57.900 --> 00:01:58.620
<v Speaker 0>take a look

00:01:59.075 --> 00:02:01.235
<v Speaker 0>at how to get secure access

00:02:01.315 --> 00:02:04.915
<v Speaker 0>as as the ethos of Teleport, right, security

00:02:04.915 --> 00:02:05.635
<v Speaker 0>everywhere

00:02:05.875 --> 00:02:06.755
<v Speaker 0>to

00:02:06.755 --> 00:02:07.795
<v Speaker 0>our MongoDB

00:02:07.795 --> 00:02:08.675
<v Speaker 0>server.

00:02:09.074 --> 00:02:11.555
<v Speaker 0>Now I actually really like MongoDB,

00:02:11.555 --> 00:02:13.635
<v Speaker 0>so I'm quite excited to play with this

00:02:13.715 --> 00:02:14.595
<v Speaker 0>and get this working.

00:02:15.710 --> 00:02:18.510
<v Speaker 0>We also have Russell on the chat. Hey.

00:02:18.510 --> 00:02:20.430
<v Speaker 0>Welcome back. Nice to see you again.

00:02:22.590 --> 00:02:25.870
<v Speaker 0>So there are a couple of prerequisite.

00:02:25.870 --> 00:02:28.030
<v Speaker 0>Oh, hey, Moz. The whole gang's here.

00:02:30.165 --> 00:02:32.245
<v Speaker 0>Oh, and thank you for noticing, Russell. That

00:02:32.245 --> 00:02:34.005
<v Speaker 0>audio sounds much better today.

00:02:34.165 --> 00:02:36.085
<v Speaker 0>I have I am I am spending too

00:02:36.085 --> 00:02:38.565
<v Speaker 0>much time, and I'm spending more time worrying

00:02:38.565 --> 00:02:40.165
<v Speaker 0>about my audio than I should be, but

00:02:40.165 --> 00:02:41.445
<v Speaker 0>I I'm just trying to get it right

00:02:41.445 --> 00:02:44.080
<v Speaker 0>for the acoustics in this new office. And

00:02:44.080 --> 00:02:46.160
<v Speaker 0>everything's been pulled back today, a lot less

00:02:46.160 --> 00:02:48.400
<v Speaker 0>processing, and hopefully that kinda makes it just

00:02:48.400 --> 00:02:49.440
<v Speaker 0>sound a bit better.

00:02:49.680 --> 00:02:51.680
<v Speaker 0>Previously, when I had my home office, I

00:02:51.680 --> 00:02:53.360
<v Speaker 0>was trying to process out

00:02:53.840 --> 00:02:54.800
<v Speaker 0>young children,

00:02:55.120 --> 00:02:55.920
<v Speaker 0>animals,

00:02:56.400 --> 00:02:57.280
<v Speaker 0>hardwood floating,

00:02:58.385 --> 00:03:00.465
<v Speaker 0>and just all those settings came with me

00:03:00.465 --> 00:03:02.065
<v Speaker 0>to my new space, and they were just

00:03:02.065 --> 00:03:04.065
<v Speaker 0>far too much overkill.

00:03:04.465 --> 00:03:06.305
<v Speaker 0>So I'm glad that's done some better.

00:03:07.825 --> 00:03:08.545
<v Speaker 0>Cool.

00:03:08.625 --> 00:03:10.785
<v Speaker 0>Okay. We have a few prerequisites for today's

00:03:10.785 --> 00:03:11.025
<v Speaker 0>session.

00:03:12.489 --> 00:03:14.090
<v Speaker 0>One, Teleport,

00:03:14.250 --> 00:03:17.209
<v Speaker 0>obviously. We've covered that plenty so far. You

00:03:17.209 --> 00:03:20.409
<v Speaker 0>should all be complete experts at installing Teleport

00:03:20.409 --> 00:03:21.850
<v Speaker 0>and getting that ready to go.

00:03:22.569 --> 00:03:24.330
<v Speaker 0>You're going to need a MongoDB server.

00:03:25.055 --> 00:03:27.055
<v Speaker 0>This is an app install away.

00:03:27.215 --> 00:03:27.695
<v Speaker 0>The

00:03:28.655 --> 00:03:30.495
<v Speaker 0>installation of MongoDB I have today is just

00:03:30.495 --> 00:03:32.335
<v Speaker 0>an app install. There's nothing special about it.

00:03:32.335 --> 00:03:33.935
<v Speaker 0>We haven't tweaked anything yet. We're gonna be

00:03:33.935 --> 00:03:35.375
<v Speaker 0>doing that right now.

00:03:36.095 --> 00:03:37.375
<v Speaker 0>And I have a local

00:03:38.250 --> 00:03:39.610
<v Speaker 0>session authenticated

00:03:39.610 --> 00:03:41.850
<v Speaker 0>against the Teleport cluster that I set up.

00:03:42.250 --> 00:03:44.490
<v Speaker 0>So all the prerequisites are ticked, we should

00:03:44.490 --> 00:03:45.450
<v Speaker 0>be good to go.

00:03:46.410 --> 00:03:48.010
<v Speaker 0>And the first thing we needed to do

00:03:48.010 --> 00:03:49.850
<v Speaker 0>is prepare our MongoDB.

00:03:51.115 --> 00:03:52.235
<v Speaker 0>So MongoDB

00:03:52.395 --> 00:03:54.235
<v Speaker 0>has authentication by default

00:03:54.795 --> 00:03:57.835
<v Speaker 0>and has a special system for configuring external

00:03:57.835 --> 00:03:58.795
<v Speaker 0>authorization,

00:03:58.795 --> 00:04:00.155
<v Speaker 0>which we can see here.

00:04:00.715 --> 00:04:03.035
<v Speaker 0>So really we need to connect to our

00:04:03.035 --> 00:04:04.235
<v Speaker 0>MongoDB server

00:04:05.049 --> 00:04:07.050
<v Speaker 0>using the mongocli.

00:04:07.849 --> 00:04:10.810
<v Speaker 0>We are going to end the external DB,

00:04:10.810 --> 00:04:11.850
<v Speaker 0>run a command,

00:04:12.489 --> 00:04:14.490
<v Speaker 0>and that command is to create a user.

00:04:15.370 --> 00:04:18.235
<v Speaker 0>MongoDB has always been really good at using

00:04:18.235 --> 00:04:20.635
<v Speaker 0>X509 for its authentication, for as long as

00:04:20.635 --> 00:04:22.395
<v Speaker 0>I can remember, even going back to like

00:04:22.395 --> 00:04:23.995
<v Speaker 0>2013,

00:04:23.995 --> 00:04:25.035
<v Speaker 0>maybe even earlier.

00:04:25.435 --> 00:04:26.955
<v Speaker 0>So you'll see that the create user has

00:04:26.955 --> 00:04:28.555
<v Speaker 0>a common name of Rawkode and this just

00:04:28.555 --> 00:04:30.235
<v Speaker 0>fits in with the way that they handle

00:04:30.235 --> 00:04:31.515
<v Speaker 0>their authentication.

00:04:33.000 --> 00:04:35.160
<v Speaker 0>We don't have roles here, we're saying that

00:04:35.160 --> 00:04:36.680
<v Speaker 0>we want to allow the read rate on

00:04:36.680 --> 00:04:39.880
<v Speaker 0>any database where that database is admin. So

00:04:39.880 --> 00:04:41.320
<v Speaker 0>we're given Rawkode

00:04:41.320 --> 00:04:42.120
<v Speaker 0>user

00:04:42.200 --> 00:04:43.320
<v Speaker 0>read rate

00:04:43.480 --> 00:04:44.920
<v Speaker 0>to the admin system.

00:04:48.165 --> 00:04:49.845
<v Speaker 0>First question from Avanesh.

00:04:49.845 --> 00:04:52.405
<v Speaker 0>Welcome to the workshop. Does this work with

00:04:52.405 --> 00:04:54.565
<v Speaker 0>managed MongoDB Atlas or does it have to

00:04:54.565 --> 00:04:55.525
<v Speaker 0>be self hosted?

00:04:56.324 --> 00:04:58.885
<v Speaker 0>I had to consider doing Atlas as well.

00:04:58.885 --> 00:05:00.324
<v Speaker 0>And in fact, you may we made Wing

00:05:00.324 --> 00:05:00.725
<v Speaker 0>Atlas.

00:05:01.310 --> 00:05:03.150
<v Speaker 0>I reckon we're gonna get through self hosted

00:05:03.150 --> 00:05:05.710
<v Speaker 0>really, really quickly. This was the easiest thing

00:05:05.710 --> 00:05:07.630
<v Speaker 0>I've ever had to set up. So maybe

00:05:07.630 --> 00:05:09.470
<v Speaker 0>we'll just take a pop at doing Atlas.

00:05:09.470 --> 00:05:11.630
<v Speaker 0>I did create an Atlas cluster and the

00:05:11.630 --> 00:05:13.470
<v Speaker 0>off chance that I felt like winging it,

00:05:13.470 --> 00:05:15.150
<v Speaker 0>but every time I wing stuff, it gets

00:05:15.150 --> 00:05:17.105
<v Speaker 0>me into trouble. So

00:05:17.824 --> 00:05:19.025
<v Speaker 0>and we'll see how we go. But it

00:05:19.025 --> 00:05:20.945
<v Speaker 0>does work with Atlas and we can maybe

00:05:20.945 --> 00:05:22.945
<v Speaker 0>work through the documentation and get that working

00:05:22.945 --> 00:05:23.665
<v Speaker 0>today.

00:05:24.065 --> 00:05:25.264
<v Speaker 0>So let's see how we get on with

00:05:25.264 --> 00:05:26.145
<v Speaker 0>self hosted,

00:05:26.305 --> 00:05:26.945
<v Speaker 0>and then

00:05:27.585 --> 00:05:29.264
<v Speaker 0>I'll let I'll let you all decide what

00:05:29.264 --> 00:05:29.824
<v Speaker 0>we do next.

00:05:30.800 --> 00:05:33.840
<v Speaker 0>Right. Where's my cursor? Okay. So what do

00:05:33.840 --> 00:05:35.120
<v Speaker 0>we need to do? First,

00:05:35.600 --> 00:05:36.880
<v Speaker 0>I'm gonna connect

00:05:37.360 --> 00:05:38.720
<v Speaker 0>to my

00:05:39.520 --> 00:05:40.160
<v Speaker 0>machine.

00:05:41.200 --> 00:05:43.520
<v Speaker 0>If I run a p it's probably a

00:05:43.520 --> 00:05:44.720
<v Speaker 0>bit small for you all.

00:05:46.055 --> 00:05:48.535
<v Speaker 0>Run a ps a ux grep

00:05:48.615 --> 00:05:49.255
<v Speaker 0>-i

00:05:49.495 --> 00:05:50.294
<v Speaker 0>mongo.

00:05:50.775 --> 00:05:52.455
<v Speaker 0>You will see that we have our MongoDB

00:05:52.455 --> 00:05:53.095
<v Speaker 0>running

00:05:53.335 --> 00:05:54.935
<v Speaker 0>and this has been running for the last

00:05:54.935 --> 00:05:56.055
<v Speaker 0>thirty five minutes.

00:05:56.775 --> 00:05:57.895
<v Speaker 0>If I run

00:05:58.360 --> 00:05:59.639
<v Speaker 0>Mongo command,

00:05:59.639 --> 00:06:01.800
<v Speaker 0>it draws me into the Mongo shell.

00:06:02.039 --> 00:06:04.360
<v Speaker 0>The Mongo shell is pretty much like a

00:06:04.520 --> 00:06:06.520
<v Speaker 0>console that accepts JavaScript or at least a

00:06:06.520 --> 00:06:08.840
<v Speaker 0>weird form of JavaScript for interacting with the

00:06:08.840 --> 00:06:10.040
<v Speaker 0>MongoDB

00:06:10.120 --> 00:06:10.680
<v Speaker 0>API.

00:06:12.294 --> 00:06:14.135
<v Speaker 0>So if we pop back over here,

00:06:14.615 --> 00:06:16.695
<v Speaker 0>we can just copy and paste this.

00:06:19.335 --> 00:06:20.935
<v Speaker 0>And we get an okay one.

00:06:21.574 --> 00:06:23.815
<v Speaker 0>Wing it. Wing it. Wing it. Wing it.

00:06:25.175 --> 00:06:26.534
<v Speaker 0>Thanks. Thanks, Russell.

00:06:27.150 --> 00:06:28.670
<v Speaker 0>We we we can wing it. I'm pretty

00:06:28.670 --> 00:06:30.750
<v Speaker 0>confident we could do it. Given how easy

00:06:30.750 --> 00:06:33.310
<v Speaker 0>self hosted it, hopefully, the Atlas one shouldn't

00:06:33.310 --> 00:06:34.190
<v Speaker 0>be too painful.

00:06:36.030 --> 00:06:39.710
<v Speaker 0>Okay. So we have created our external authentication,

00:06:40.095 --> 00:06:42.255
<v Speaker 0>a user call Rawkode with access to the

00:06:42.255 --> 00:06:43.295
<v Speaker 0>admin database.

00:06:48.255 --> 00:06:50.975
<v Speaker 0>Next task. And you, if you paid attention

00:06:50.975 --> 00:06:53.215
<v Speaker 0>or watched the Postgres one, this command is

00:06:53.215 --> 00:06:54.255
<v Speaker 0>almost the exact same.

00:06:55.170 --> 00:06:57.090
<v Speaker 0>So now that we can just drop out

00:06:57.090 --> 00:06:58.370
<v Speaker 0>of the Mongo shell, we just do a

00:06:58.370 --> 00:07:00.530
<v Speaker 0>control D or X set wherever your poison

00:07:00.530 --> 00:07:01.090
<v Speaker 0>is.

00:07:02.050 --> 00:07:05.010
<v Speaker 0>And from here, we can run AT controls

00:07:05.010 --> 00:07:06.450
<v Speaker 0>to Teleport Control

00:07:06.770 --> 00:07:07.490
<v Speaker 0>off sign,

00:07:08.295 --> 00:07:10.295
<v Speaker 0>and this time we're passing in a format

00:07:10.295 --> 00:07:11.335
<v Speaker 0>of MongoDB,

00:07:12.055 --> 00:07:14.215
<v Speaker 0>and we have to pass in the

00:07:14.535 --> 00:07:15.415
<v Speaker 0>MongoDB

00:07:15.415 --> 00:07:16.295
<v Speaker 0>host name.

00:07:16.535 --> 00:07:18.615
<v Speaker 0>And very much similar to the Postgres one,

00:07:18.615 --> 00:07:20.215
<v Speaker 0>the host name that we use here has

00:07:20.215 --> 00:07:22.460
<v Speaker 0>to be the host name that

00:07:22.540 --> 00:07:24.540
<v Speaker 0>Teleport proxy, the DB proxy,

00:07:24.700 --> 00:07:27.420
<v Speaker 0>will speak to and connect to your database.

00:07:28.380 --> 00:07:28.940
<v Speaker 0>So

00:07:29.980 --> 00:07:33.100
<v Speaker 0>I'm pretty confident I went with MongoDB and

00:07:33.100 --> 00:07:36.014
<v Speaker 0>not Mongo, but, you know, doesn't hurt to

00:07:36.014 --> 00:07:36.815
<v Speaker 0>confirm.

00:07:37.134 --> 00:07:37.695
<v Speaker 0>Yeah.

00:07:38.014 --> 00:07:38.575
<v Speaker 0>Cool.

00:07:38.895 --> 00:07:40.895
<v Speaker 0>So we're going to use a MongoDB dot

00:07:40.895 --> 00:07:43.455
<v Speaker 0>Rawkode dot SH, which is just pointing

00:07:43.775 --> 00:07:45.375
<v Speaker 0>to my VM.

00:07:46.655 --> 00:07:49.440
<v Speaker 0>Mozz, question from Mozz. Why are you putting

00:07:49.440 --> 00:07:51.680
<v Speaker 0>CN equals before the Rawkode user?

00:07:52.800 --> 00:07:54.720
<v Speaker 0>When you're working with x five zero nine

00:07:54.720 --> 00:07:55.600
<v Speaker 0>certificates,

00:07:56.080 --> 00:07:58.400
<v Speaker 0>there's no concept of the username.

00:07:58.400 --> 00:08:00.160
<v Speaker 0>Typically, we use the common name.

00:08:00.400 --> 00:08:02.160
<v Speaker 0>So the CN stands for common name and

00:08:02.160 --> 00:08:04.080
<v Speaker 0>the common name equals Rawkode. It's just how

00:08:04.080 --> 00:08:06.155
<v Speaker 0>I am identified by the system.

00:08:07.835 --> 00:08:09.035
<v Speaker 0>Great question.

00:08:10.315 --> 00:08:12.875
<v Speaker 0>Okay. The format out or the file name

00:08:12.875 --> 00:08:14.395
<v Speaker 0>is going to be Mongo, and I'm happy

00:08:14.395 --> 00:08:15.754
<v Speaker 0>for this token to live for the next

00:08:15.754 --> 00:08:18.410
<v Speaker 0>forty eight hours, which is far longer than

00:08:18.410 --> 00:08:20.570
<v Speaker 0>this virtual machine will be living for.

00:08:22.009 --> 00:08:23.770
<v Speaker 0>So we're gonna run this

00:08:24.330 --> 00:08:26.330
<v Speaker 0>and because, you know, I said this during

00:08:26.330 --> 00:08:28.570
<v Speaker 0>the postgres video, but the fact that the

00:08:28.570 --> 00:08:31.455
<v Speaker 0>t control, Teleport Control Command is is telling

00:08:31.455 --> 00:08:33.215
<v Speaker 0>us how to do this is really, really

00:08:33.215 --> 00:08:33.775
<v Speaker 0>cool.

00:08:34.575 --> 00:08:37.375
<v Speaker 0>So it's saying, hey, we have generated

00:08:37.375 --> 00:08:40.335
<v Speaker 0>the certificate and the certificate authority

00:08:41.375 --> 00:08:42.735
<v Speaker 0>and these two files.

00:08:44.300 --> 00:08:47.019
<v Speaker 0>If we want to enable mutual TLS on

00:08:47.019 --> 00:08:49.579
<v Speaker 0>your MongoDB server, we have to update it

00:08:49.579 --> 00:08:50.940
<v Speaker 0>with this configuration.

00:08:51.740 --> 00:08:53.259
<v Speaker 0>So the first thing we need to do

00:08:53.259 --> 00:08:56.139
<v Speaker 0>is get these files into a location that

00:08:56.139 --> 00:08:57.420
<v Speaker 0>makes a little bit more sense.

00:08:58.334 --> 00:09:00.254
<v Speaker 0>So I'm just going to do a move

00:09:00.254 --> 00:09:01.535
<v Speaker 0>mongostar

00:09:01.855 --> 00:09:02.654
<v Speaker 0>etc.

00:09:06.415 --> 00:09:07.695
<v Speaker 0>We pop into

00:09:08.175 --> 00:09:09.214
<v Speaker 0>if you see

00:09:10.654 --> 00:09:11.454
<v Speaker 0>and grep,

00:09:13.100 --> 00:09:15.260
<v Speaker 0>we'll see that we have these files.

00:09:15.579 --> 00:09:16.220
<v Speaker 0>So

00:09:16.540 --> 00:09:18.940
<v Speaker 0>the first stuff, the next thing I wanna

00:09:18.940 --> 00:09:20.860
<v Speaker 0>do is that I know

00:09:21.740 --> 00:09:24.620
<v Speaker 0>that if I run system control cat mongod,

00:09:25.695 --> 00:09:28.415
<v Speaker 0>that the user and group for the MongoDB

00:09:28.415 --> 00:09:30.095
<v Speaker 0>service as MongoDB.

00:09:30.975 --> 00:09:32.895
<v Speaker 0>So I just wanna make sure that

00:09:34.815 --> 00:09:37.775
<v Speaker 0>the MongoDB user can read these certificates and

00:09:37.775 --> 00:09:40.735
<v Speaker 0>probably nobody else. So with that in mind,

00:09:41.510 --> 00:09:42.870
<v Speaker 0>we'll do MongoDB,

00:09:43.750 --> 00:09:45.190
<v Speaker 0>Mongo star.

00:09:46.149 --> 00:09:48.070
<v Speaker 0>And if we do our GREP again,

00:09:50.630 --> 00:09:51.590
<v Speaker 0>here we go.

00:09:52.390 --> 00:09:54.464
<v Speaker 0>So that looks much better. I think that

00:09:54.464 --> 00:09:56.305
<v Speaker 0>is in a position where we can now

00:09:56.305 --> 00:09:58.865
<v Speaker 0>configure our MongoDB

00:09:58.865 --> 00:09:59.585
<v Speaker 0>process.

00:10:00.865 --> 00:10:02.545
<v Speaker 0>Now, if I scroll up, I can just

00:10:02.545 --> 00:10:03.665
<v Speaker 0>copy and paste

00:10:03.985 --> 00:10:06.865
<v Speaker 0>the configuration that was given to us by

00:10:06.865 --> 00:10:08.385
<v Speaker 0>Teleport Control Off-site.

00:10:09.110 --> 00:10:12.390
<v Speaker 0>We're gonna drop this into our mongod.conf

00:10:12.550 --> 00:10:14.790
<v Speaker 0>and we can just put this anywhere. I'm

00:10:14.790 --> 00:10:16.310
<v Speaker 0>just gonna go straight down the bottom

00:10:16.790 --> 00:10:18.550
<v Speaker 0>and then we have to tell it where

00:10:18.550 --> 00:10:20.149
<v Speaker 0>we put those certificates.

00:10:21.990 --> 00:10:22.310
<v Speaker 0>So

00:10:26.395 --> 00:10:27.675
<v Speaker 0>Like so.

00:10:28.955 --> 00:10:29.915
<v Speaker 0>And save.

00:10:31.675 --> 00:10:33.515
<v Speaker 0>So now we've modified

00:10:33.595 --> 00:10:35.755
<v Speaker 0>the MongoDB configuration.

00:10:35.755 --> 00:10:37.915
<v Speaker 0>We are gonna have to restart MongoDB.

00:10:39.270 --> 00:10:41.830
<v Speaker 0>This is a systemd service.

00:10:43.270 --> 00:10:44.070
<v Speaker 0>MongoDB.

00:10:45.750 --> 00:10:47.510
<v Speaker 0>It's always useful

00:10:48.950 --> 00:10:51.110
<v Speaker 0>to check the logs for any errors.

00:10:51.834 --> 00:10:53.195
<v Speaker 0>This appears

00:10:54.315 --> 00:10:56.714
<v Speaker 0>to be okay. It stopped it. It started

00:10:56.714 --> 00:10:59.355
<v Speaker 0>it. And I can just make sure by

00:10:59.355 --> 00:11:01.035
<v Speaker 0>checking the log folder where we have the

00:11:01.035 --> 00:11:02.154
<v Speaker 0>MongoDB log.

00:11:02.635 --> 00:11:03.995
<v Speaker 0>It's waiting for connections.

00:11:04.910 --> 00:11:07.790
<v Speaker 0>I'm pretty happy that MongoDB

00:11:07.870 --> 00:11:09.230
<v Speaker 0>is now configured

00:11:09.310 --> 00:11:12.510
<v Speaker 0>with the certificates that were provided by Teleport.

00:11:14.110 --> 00:11:14.830
<v Speaker 0>Cool.

00:11:15.310 --> 00:11:17.630
<v Speaker 0>So we got a question there.

00:11:18.345 --> 00:11:19.865
<v Speaker 0>Mozz asking,

00:11:20.504 --> 00:11:21.785
<v Speaker 0>so Teleport

00:11:21.785 --> 00:11:25.225
<v Speaker 0>will cert based authentication with MongoDB. Yeah. Teleport

00:11:25.225 --> 00:11:27.305
<v Speaker 0>issues x five zero nine certificates for almost

00:11:27.305 --> 00:11:28.824
<v Speaker 0>everything that it does,

00:11:30.264 --> 00:11:31.384
<v Speaker 0>but Mongo

00:11:31.545 --> 00:11:34.420
<v Speaker 0>already had awesome support for x five zero

00:11:34.420 --> 00:11:36.580
<v Speaker 0>nine and and mutual TLS. So,

00:11:37.540 --> 00:11:39.060
<v Speaker 0>match made in heaven as far as these

00:11:39.060 --> 00:11:40.260
<v Speaker 0>two projects are going.

00:11:41.780 --> 00:11:43.700
<v Speaker 0>And, Kevin, thanks for answering that in the

00:11:43.700 --> 00:11:44.100
<v Speaker 0>chat too.

00:11:45.154 --> 00:11:45.795
<v Speaker 0>Okay.

00:11:46.995 --> 00:11:49.875
<v Speaker 0>So we did our sign, we configured Mongo.

00:11:50.355 --> 00:11:51.074
<v Speaker 0>Now

00:11:51.394 --> 00:11:54.514
<v Speaker 0>what we've done so far is just prepare

00:11:54.514 --> 00:11:55.555
<v Speaker 0>MongoDB.

00:11:55.714 --> 00:11:57.875
<v Speaker 0>Much like the Postgres session, we now have

00:11:57.875 --> 00:11:59.875
<v Speaker 0>to run that DB proxy that is gonna

00:11:59.875 --> 00:12:02.170
<v Speaker 0>facilitate the connections to Mongo.

00:12:03.370 --> 00:12:05.610
<v Speaker 0>So we are going to generate a database

00:12:05.610 --> 00:12:06.490
<v Speaker 0>token.

00:12:09.450 --> 00:12:10.250
<v Speaker 0>Like so.

00:12:10.650 --> 00:12:12.890
<v Speaker 0>Again, we're getting all the commands given to

00:12:12.890 --> 00:12:14.570
<v Speaker 0>us. Okay. Maybe this is what you wanna

00:12:14.570 --> 00:12:14.810
<v Speaker 0>do.

00:12:15.915 --> 00:12:17.435
<v Speaker 0>I am just going to

00:12:17.835 --> 00:12:19.995
<v Speaker 0>I always call it a. Sh. I should

00:12:19.995 --> 00:12:22.395
<v Speaker 0>call it dbproxy.

00:12:22.395 --> 00:12:23.115
<v Speaker 0>Sh.

00:12:24.555 --> 00:12:26.875
<v Speaker 0>We're going to just copy the command from

00:12:26.875 --> 00:12:27.675
<v Speaker 0>here

00:12:28.290 --> 00:12:30.529
<v Speaker 0>and we'll run through this in just a

00:12:30.529 --> 00:12:31.329
<v Speaker 0>second.

00:12:32.209 --> 00:12:33.170
<v Speaker 0>Woah.

00:12:34.930 --> 00:12:36.050
<v Speaker 0>Set paste.

00:12:38.290 --> 00:12:40.290
<v Speaker 0>And now we just wanna copy

00:12:41.455 --> 00:12:42.495
<v Speaker 0>the token.

00:12:42.655 --> 00:12:43.855
<v Speaker 0>So if we go into our DB

00:12:45.775 --> 00:12:47.375
<v Speaker 0>I'm

00:12:47.375 --> 00:12:49.375
<v Speaker 0>in the Etsy folder, I didn't realize, which

00:12:49.375 --> 00:12:50.895
<v Speaker 0>means I had a conflict, which is why

00:12:50.895 --> 00:12:52.815
<v Speaker 0>my tab wasn't as instant as I expected

00:12:52.815 --> 00:12:53.535
<v Speaker 0>it to be.

00:12:54.175 --> 00:12:56.690
<v Speaker 0>So we've got TeleportDB start. We can pop

00:12:56.690 --> 00:12:58.690
<v Speaker 0>in our token, deleting that dot. We don't

00:12:58.690 --> 00:13:01.490
<v Speaker 0>need that. Our auth server is available at

00:13:01.490 --> 00:13:02.290
<v Speaker 0>Rawkode

00:13:02.370 --> 00:13:03.490
<v Speaker 0>no. Teleport.

00:13:03.490 --> 00:13:05.810
<v Speaker 0>Rawkode. Ssh on port 443.

00:13:06.645 --> 00:13:09.845
<v Speaker 0>I'm going to name this database proxy MongoDB.

00:13:11.125 --> 00:13:13.045
<v Speaker 0>The protocol is MongoDB.

00:13:13.125 --> 00:13:16.165
<v Speaker 0>There is a second protocol option for Atlas,

00:13:16.165 --> 00:13:18.485
<v Speaker 0>MongoDB Atlas, which I've seen as I was

00:13:18.485 --> 00:13:20.930
<v Speaker 0>skimming the documentation earlier. So if we do

00:13:20.930 --> 00:13:22.770
<v Speaker 0>attempt to do that, we will need another

00:13:22.770 --> 00:13:24.930
<v Speaker 0>DB proxy with a different protocol

00:13:25.090 --> 00:13:26.690
<v Speaker 0>and a different URL.

00:13:27.410 --> 00:13:29.650
<v Speaker 0>And here, we're just saying that the URI

00:13:29.650 --> 00:13:31.730
<v Speaker 0>to speak to MongoDB is MongoDB,

00:13:32.375 --> 00:13:33.415
<v Speaker 0>MongoDB,

00:13:33.575 --> 00:13:34.454
<v Speaker 0>Rawkode,

00:13:34.454 --> 00:13:37.415
<v Speaker 0>SH, and then the MongoDB port. The MongoDB

00:13:37.415 --> 00:13:39.575
<v Speaker 0>port is two seven zero one seven.

00:13:41.255 --> 00:13:41.815
<v Speaker 0>Cool.

00:13:44.740 --> 00:13:47.540
<v Speaker 0>Now we can run our DB proxy,

00:13:48.980 --> 00:13:51.460
<v Speaker 0>and let's see what do we have.

00:13:54.100 --> 00:13:55.140
<v Speaker 0>Started successfully.

00:13:57.255 --> 00:13:58.855
<v Speaker 0>I like it when things work.

00:14:01.415 --> 00:14:03.895
<v Speaker 0>So that means using the Teleport

00:14:03.895 --> 00:14:04.855
<v Speaker 0>CLI,

00:14:04.935 --> 00:14:07.095
<v Speaker 0>like we do

00:14:07.975 --> 00:14:09.735
<v Speaker 0>every week of these sessions, is I can

00:14:09.735 --> 00:14:11.575
<v Speaker 0>use Teleport Control DB LS. Now I'm not

00:14:11.575 --> 00:14:12.455
<v Speaker 0>gonna do this locally.

00:14:12.950 --> 00:14:14.710
<v Speaker 0>I should be

00:14:16.950 --> 00:14:17.590
<v Speaker 0>status.

00:14:18.550 --> 00:14:19.750
<v Speaker 0>I

00:14:19.750 --> 00:14:22.070
<v Speaker 0>am logged on to the same Teleport cluster,

00:14:22.310 --> 00:14:24.470
<v Speaker 0>so I can do a DB LS.

00:14:25.029 --> 00:14:26.790
<v Speaker 0>And now we can see our MongoDB.

00:14:29.105 --> 00:14:29.905
<v Speaker 0>Cool.

00:14:30.225 --> 00:14:33.025
<v Speaker 0>Next, we wanna do the DB login.

00:14:34.305 --> 00:14:36.705
<v Speaker 0>So for that, we just do DB

00:14:38.465 --> 00:14:38.945
<v Speaker 0>login,

00:14:39.750 --> 00:14:41.750
<v Speaker 0>and we're gonna pass in the DB user.

00:14:41.750 --> 00:14:43.190
<v Speaker 0>So this is the user that we created

00:14:43.190 --> 00:14:44.390
<v Speaker 0>in the first step.

00:14:44.870 --> 00:14:46.710
<v Speaker 0>If we scroll back up here, the common

00:14:46.710 --> 00:14:48.070
<v Speaker 0>name was Rawkode.

00:14:48.230 --> 00:14:49.910
<v Speaker 0>So that means that when I log in,

00:14:49.910 --> 00:14:51.830
<v Speaker 0>the DB user is going to be Rawkode.

00:14:52.395 --> 00:14:54.075
<v Speaker 0>That is arbitrary and could have been anything

00:14:54.075 --> 00:14:55.995
<v Speaker 0>I want. It's just coincidence that it also

00:14:55.995 --> 00:14:58.155
<v Speaker 0>happens to be my Teleport username.

00:15:01.515 --> 00:15:03.115
<v Speaker 0>And then we wanna connect

00:15:03.675 --> 00:15:04.475
<v Speaker 0>MongoDB.

00:15:06.400 --> 00:15:07.280
<v Speaker 0>Now

00:15:07.280 --> 00:15:09.200
<v Speaker 0>when we run DBLS,

00:15:10.160 --> 00:15:12.480
<v Speaker 0>we will see that we have some extra

00:15:12.480 --> 00:15:14.720
<v Speaker 0>information that wasn't available prior, and that's just

00:15:14.720 --> 00:15:16.000
<v Speaker 0>because we've configured

00:15:16.240 --> 00:15:18.320
<v Speaker 0>that little bit of extra information. We didn't

00:15:18.320 --> 00:15:20.615
<v Speaker 0>provide a DB name, and so we could

00:15:20.615 --> 00:15:22.615
<v Speaker 0>do that on the connect if we want.

00:15:22.935 --> 00:15:25.975
<v Speaker 0>But what we can do as a DB

00:15:26.375 --> 00:15:28.055
<v Speaker 0>connect MongoDB.

00:15:33.850 --> 00:15:34.649
<v Speaker 0>Hello.

00:15:35.529 --> 00:15:37.689
<v Speaker 0>We are now in the stage of a

00:15:37.689 --> 00:15:39.050
<v Speaker 0>MongoDB shell,

00:15:39.129 --> 00:15:41.610
<v Speaker 0>proxied through Teleport.

00:15:42.490 --> 00:15:44.810
<v Speaker 0>Wonderful. Now, I don't remember a lot of

00:15:44.810 --> 00:15:45.769
<v Speaker 0>DB commands,

00:15:46.884 --> 00:15:48.245
<v Speaker 0>but you can see here that if I

00:15:48.245 --> 00:15:49.445
<v Speaker 0>do tab completion,

00:15:51.045 --> 00:15:51.764
<v Speaker 0>we get

00:15:54.324 --> 00:15:56.324
<v Speaker 0>we get things. So there's no local users

00:15:56.324 --> 00:15:58.005
<v Speaker 0>on this. There's

00:15:58.005 --> 00:15:59.764
<v Speaker 0>no local users created

00:16:00.190 --> 00:16:01.310
<v Speaker 0>on this

00:16:01.630 --> 00:16:02.590
<v Speaker 0>MongoDB

00:16:02.590 --> 00:16:05.070
<v Speaker 0>server, so we're just getting back an empty

00:16:05.070 --> 00:16:05.630
<v Speaker 0>one.

00:16:06.910 --> 00:16:08.910
<v Speaker 0>I believe if I switch to the external

00:16:08.910 --> 00:16:10.110
<v Speaker 0>DB, it would work.

00:16:12.704 --> 00:16:14.545
<v Speaker 0>Alright. So we can drop out of this,

00:16:14.545 --> 00:16:15.745
<v Speaker 0>pop back over here,

00:16:17.745 --> 00:16:18.785
<v Speaker 0>scroll down,

00:16:19.985 --> 00:16:20.785
<v Speaker 0>and

00:16:23.745 --> 00:16:25.345
<v Speaker 0>oh, did I leave that in the machine?

00:16:27.629 --> 00:16:29.629
<v Speaker 0>So when I tested this earlier, I forgot

00:16:29.629 --> 00:16:31.389
<v Speaker 0>to clean up one little thing. I'm gonna

00:16:31.389 --> 00:16:32.910
<v Speaker 0>remove it now just oh, no. It's not

00:16:32.910 --> 00:16:33.149
<v Speaker 0>there.

00:16:40.265 --> 00:16:41.065
<v Speaker 0>Alright.

00:16:42.185 --> 00:16:43.705
<v Speaker 0>I'm not gonna worry about that.

00:16:46.904 --> 00:16:49.785
<v Speaker 0>So what happened during my earlier testing

00:16:49.945 --> 00:16:51.545
<v Speaker 0>was the proxy that was trying to speak

00:16:51.545 --> 00:16:52.265
<v Speaker 0>to MongoDB,

00:16:52.670 --> 00:16:54.750
<v Speaker 0>which wasn't resolving to one two seven. So,

00:16:54.750 --> 00:16:55.870
<v Speaker 0>you know, I was able to add that

00:16:55.870 --> 00:16:57.550
<v Speaker 0>to the host file. So if you find

00:16:57.550 --> 00:17:00.110
<v Speaker 0>that you do a TSH DB connect and

00:17:00.110 --> 00:17:02.590
<v Speaker 0>you get that timed out for whatever reason,

00:17:03.470 --> 00:17:05.869
<v Speaker 0>the reason will be that the proxy has

00:17:05.869 --> 00:17:07.895
<v Speaker 0>gone over the public interface. Why is it

00:17:07.895 --> 00:17:09.575
<v Speaker 0>not? Oh, wait. This is my

00:17:10.774 --> 00:17:13.094
<v Speaker 0>this is my host file.

00:17:14.135 --> 00:17:15.815
<v Speaker 0>I am being very silly.

00:17:16.214 --> 00:17:18.454
<v Speaker 0>I'm gonna open a second session. Let's make

00:17:18.454 --> 00:17:19.734
<v Speaker 0>this let's break it. Right?

00:17:21.760 --> 00:17:24.480
<v Speaker 0>So I'm gonna open my host file.

00:17:24.720 --> 00:17:26.800
<v Speaker 0>Yep. Here's the entry here. So we're gonna

00:17:26.800 --> 00:17:27.520
<v Speaker 0>take this out.

00:17:34.835 --> 00:17:36.995
<v Speaker 0>Yeah. That's going over the public Internet now.

00:17:37.315 --> 00:17:39.794
<v Speaker 0>So let's try that one more time, and

00:17:40.755 --> 00:17:42.515
<v Speaker 0>I don't know if it's gonna be cached

00:17:42.595 --> 00:17:43.955
<v Speaker 0>by the proxy server now.

00:17:48.070 --> 00:17:49.670
<v Speaker 0>Yes, it's failing. Good.

00:17:50.390 --> 00:17:52.150
<v Speaker 0>So this is what happens

00:17:52.310 --> 00:17:54.470
<v Speaker 0>when you don't set that up, is that

00:17:54.470 --> 00:17:55.670
<v Speaker 0>the proxy,

00:17:56.470 --> 00:17:58.230
<v Speaker 0>which is on the VM, the same VM

00:17:58.230 --> 00:17:59.270
<v Speaker 0>as MongoDB,

00:17:59.430 --> 00:18:00.710
<v Speaker 0>uses the

00:18:00.710 --> 00:18:02.630
<v Speaker 0>host name to speak to MongoDB.

00:18:03.510 --> 00:18:05.085
<v Speaker 0>The problem with that is that it's going

00:18:05.085 --> 00:18:07.804
<v Speaker 0>out over the public interface. In fact, like

00:18:07.885 --> 00:18:09.725
<v Speaker 0>we said, we can resolve. Like I just

00:18:09.725 --> 00:18:10.365
<v Speaker 0>showed,

00:18:10.685 --> 00:18:12.045
<v Speaker 0>when I ping mongodb.

00:18:12.045 --> 00:18:14.285
<v Speaker 0>Rokode. Sh, we get a public IPv4

00:18:14.285 --> 00:18:15.005
<v Speaker 0>address.

00:18:15.805 --> 00:18:18.445
<v Speaker 0>However, the default configuration for MongoDB

00:18:19.100 --> 00:18:20.700
<v Speaker 0>is to lessen

00:18:21.020 --> 00:18:23.340
<v Speaker 0>or bind as they've got it here, but

00:18:24.060 --> 00:18:25.179
<v Speaker 0>either works,

00:18:25.820 --> 00:18:28.220
<v Speaker 0>is to bind on the one two seven

00:18:28.220 --> 00:18:30.300
<v Speaker 0>dot zero dot zero dot one loopback interface.

00:18:31.355 --> 00:18:34.715
<v Speaker 0>So public Internet traffic can't actually connect or

00:18:34.715 --> 00:18:36.554
<v Speaker 0>speak to this MongoDB server.

00:18:38.155 --> 00:18:40.715
<v Speaker 0>So the effects there is just like I

00:18:40.715 --> 00:18:43.915
<v Speaker 0>had in is to make sure that wherever

00:18:43.915 --> 00:18:45.675
<v Speaker 0>your proxy server runs

00:18:46.020 --> 00:18:48.740
<v Speaker 0>can resolve and connect to that MongoDB on

00:18:48.740 --> 00:18:50.820
<v Speaker 0>the local interface if required,

00:18:50.980 --> 00:18:54.020
<v Speaker 0>or modify your MongoDB and make it available

00:18:54.020 --> 00:18:54.660
<v Speaker 0>on

00:18:54.980 --> 00:18:55.700
<v Speaker 0>a

00:18:55.860 --> 00:18:58.740
<v Speaker 0>private subnet or even publicly if you're feeling

00:18:58.740 --> 00:18:59.620
<v Speaker 0>particularly brief.

00:19:01.315 --> 00:19:03.475
<v Speaker 0>We can put that back in and then

00:19:03.475 --> 00:19:04.835
<v Speaker 0>just like magic,

00:19:04.915 --> 00:19:07.155
<v Speaker 0>if I reconnect, it should drop us straight

00:19:07.155 --> 00:19:07.795
<v Speaker 0>in

00:19:07.955 --> 00:19:09.075
<v Speaker 0>to our shell.

00:19:10.595 --> 00:19:11.315
<v Speaker 0>Sweet.

00:19:11.795 --> 00:19:14.195
<v Speaker 0>Alright. Now we've got a few comments here.

00:19:14.195 --> 00:19:15.635
<v Speaker 0>Let me see if there were any questions.

00:19:21.660 --> 00:19:24.220
<v Speaker 0>Okay. Evan Ash is asking, I'm curious why

00:19:24.220 --> 00:19:26.620
<v Speaker 0>I ran the DB proxy one as a

00:19:26.620 --> 00:19:27.020
<v Speaker 0>script.

00:19:29.035 --> 00:19:31.755
<v Speaker 0>And no real rhyme or reason.

00:19:31.915 --> 00:19:34.554
<v Speaker 0>The only reason I made this a script

00:19:34.795 --> 00:19:37.435
<v Speaker 0>is just because it was easier to edit

00:19:37.435 --> 00:19:40.075
<v Speaker 0>the multiple lines that I had. You know,

00:19:40.075 --> 00:19:41.435
<v Speaker 0>if I were to copy and paste that

00:19:41.435 --> 00:19:42.475
<v Speaker 0>onto the command line,

00:19:43.880 --> 00:19:46.440
<v Speaker 0>and then I wanna modify one bit of

00:19:46.440 --> 00:19:47.560
<v Speaker 0>it, like,

00:19:48.840 --> 00:19:50.280
<v Speaker 0>I have to push back

00:19:51.080 --> 00:19:52.200
<v Speaker 0>and back

00:19:53.480 --> 00:19:55.240
<v Speaker 0>and then I'm gonna push up.

00:19:55.800 --> 00:19:57.265
<v Speaker 0>That's a bit awkward.

00:19:58.385 --> 00:19:59.904
<v Speaker 0>So by running it I

00:20:00.305 --> 00:20:01.585
<v Speaker 0>should have really put it in an empty

00:20:01.585 --> 00:20:02.225
<v Speaker 0>directory.

00:20:02.385 --> 00:20:03.745
<v Speaker 0>By putting it into Vim and just run

00:20:03.745 --> 00:20:05.025
<v Speaker 0>it as a script, I can now just

00:20:05.025 --> 00:20:07.345
<v Speaker 0>use a standard text editor to modify that.

00:20:07.345 --> 00:20:09.185
<v Speaker 0>That was the only reason you don't have

00:20:09.185 --> 00:20:11.265
<v Speaker 0>to. Of course, if you want your DB

00:20:11.265 --> 00:20:11.825
<v Speaker 0>proxy

00:20:12.110 --> 00:20:14.670
<v Speaker 0>to work and work well, then you're probably

00:20:14.670 --> 00:20:16.190
<v Speaker 0>just gonna wanna actually run that as a

00:20:16.190 --> 00:20:18.430
<v Speaker 0>system to be serviced anyway and not as

00:20:18.430 --> 00:20:20.910
<v Speaker 0>a random hacky script inside of the Etsy

00:20:20.910 --> 00:20:21.710
<v Speaker 0>folder.

00:20:22.670 --> 00:20:23.070
<v Speaker 0>Okay.

00:20:26.095 --> 00:20:28.735
<v Speaker 0>Kevin says, normally, you would have to set

00:20:28.735 --> 00:20:30.174
<v Speaker 0>the config.

00:20:30.495 --> 00:20:31.775
<v Speaker 0>Me pop that up. Normally, you have to

00:20:31.775 --> 00:20:34.494
<v Speaker 0>set the config and the Teleport config. Yeah.

00:20:34.495 --> 00:20:37.054
<v Speaker 0>You can also do it that way. So

00:20:37.054 --> 00:20:37.775
<v Speaker 0>it's

00:20:39.420 --> 00:20:40.860
<v Speaker 0>if we pop open

00:20:41.260 --> 00:20:44.220
<v Speaker 0>our Teleport YAML here, you can run a

00:20:44.220 --> 00:20:46.700
<v Speaker 0>DB service in here and configure it and

00:20:46.700 --> 00:20:48.140
<v Speaker 0>have it run as part of the main

00:20:48.140 --> 00:20:48.779
<v Speaker 0>process.

00:20:49.100 --> 00:20:51.100
<v Speaker 0>I tend to run all my app and

00:20:51.100 --> 00:20:53.565
<v Speaker 0>DB proxies just separately,

00:20:53.565 --> 00:20:54.845
<v Speaker 0>but that's just personal

00:20:55.245 --> 00:20:56.045
<v Speaker 0>opinion.

00:20:56.045 --> 00:20:58.205
<v Speaker 0>I don't have any real reason to recommend

00:20:58.205 --> 00:20:59.325
<v Speaker 0>it that way. It just means I've got

00:20:59.325 --> 00:21:00.605
<v Speaker 0>a bit more flexibility,

00:21:00.605 --> 00:21:01.725
<v Speaker 0>a bit more control,

00:21:03.085 --> 00:21:04.525
<v Speaker 0>and if I kill one of those or

00:21:04.525 --> 00:21:06.125
<v Speaker 0>one of those dies, it doesn't take down

00:21:06.125 --> 00:21:08.499
<v Speaker 0>my entire Teleport subsystem. Personal

00:21:09.299 --> 00:21:11.620
<v Speaker 0>preference, but do whatever works best in your

00:21:11.620 --> 00:21:12.580
<v Speaker 0>own situation.

00:21:15.780 --> 00:21:17.539
<v Speaker 0>Does Teleport support

00:21:17.780 --> 00:21:20.260
<v Speaker 0>session recording for MongoDB

00:21:20.260 --> 00:21:20.900
<v Speaker 0>access?

00:21:21.915 --> 00:21:24.795
<v Speaker 0>You know what, Mozz? I haven't looked.

00:21:27.515 --> 00:21:28.555
<v Speaker 0>Let's see.

00:21:28.875 --> 00:21:30.555
<v Speaker 0>So if we come to databases,

00:21:32.235 --> 00:21:34.075
<v Speaker 0>we can connect and get the same commands

00:21:34.075 --> 00:21:35.755
<v Speaker 0>that I was using earlier just for the

00:21:35.755 --> 00:21:36.075
<v Speaker 0>record.

00:21:36.660 --> 00:21:38.580
<v Speaker 0>But if I go to activity,

00:21:39.060 --> 00:21:40.660
<v Speaker 0>is there an active session?

00:21:41.540 --> 00:21:43.860
<v Speaker 0>That's my two web ones. Right?

00:21:44.420 --> 00:21:45.780
<v Speaker 0>Let's pop open

00:21:46.420 --> 00:21:47.380
<v Speaker 0>my DB again.

00:21:48.985 --> 00:21:51.304
<v Speaker 0>I'm just gonna hate your comment just now

00:21:51.304 --> 00:21:52.744
<v Speaker 0>so we can see.

00:21:53.225 --> 00:21:55.384
<v Speaker 0>Oh, I killed the proxy.

00:21:59.784 --> 00:22:02.024
<v Speaker 0>Okay. So proxy back up and running.

00:22:03.250 --> 00:22:04.210
<v Speaker 0>Connect.

00:22:04.450 --> 00:22:05.729
<v Speaker 0>Give me a shell.

00:22:05.970 --> 00:22:07.889
<v Speaker 0>Db dot get users.

00:22:09.169 --> 00:22:09.970
<v Speaker 0>Alright.

00:22:11.409 --> 00:22:12.289
<v Speaker 0>Sessions,

00:22:12.690 --> 00:22:13.249
<v Speaker 0>fresh.

00:22:14.450 --> 00:22:16.610
<v Speaker 0>Okay. So I don't think the sessions show

00:22:16.610 --> 00:22:17.169
<v Speaker 0>up here.

00:22:19.934 --> 00:22:21.375
<v Speaker 0>Session recording.

00:22:22.655 --> 00:22:24.255
<v Speaker 0>No. So I think it's just the audit

00:22:24.255 --> 00:22:25.134
<v Speaker 0>log stuff.

00:22:25.775 --> 00:22:28.014
<v Speaker 0>We can check the documentation in a minute.

00:22:28.815 --> 00:22:31.615
<v Speaker 0>So it could be that potentially

00:22:31.290 --> 00:22:33.610
<v Speaker 0>you can enable session recording for DBS, but

00:22:33.610 --> 00:22:35.610
<v Speaker 0>I'm not sure. But the audit log here

00:22:35.610 --> 00:22:37.530
<v Speaker 0>does show us everything that we're doing.

00:22:38.810 --> 00:22:40.650
<v Speaker 0>So we can see here that I'm in

00:22:40.650 --> 00:22:42.010
<v Speaker 0>the test database.

00:22:43.210 --> 00:22:44.970
<v Speaker 0>It should show me the query.

00:22:51.345 --> 00:22:54.145
<v Speaker 0>That's maybe not the query I just executed.

00:23:02.010 --> 00:23:03.210
<v Speaker 0>Let's run it again.

00:23:17.815 --> 00:23:19.895
<v Speaker 0>These are the two that were added.

00:23:21.575 --> 00:23:24.055
<v Speaker 0>Executed QWERTY and executed to QWERTY.

00:23:26.870 --> 00:23:28.150
<v Speaker 0>User info.

00:23:31.030 --> 00:23:32.150
<v Speaker 0>Documents. Yeah.

00:23:33.830 --> 00:23:35.270
<v Speaker 0>So I think this is just doing some

00:23:35.270 --> 00:23:37.430
<v Speaker 0>sort of translation of my query.

00:23:37.830 --> 00:23:40.310
<v Speaker 0>So I guess get users actually translate to

00:23:40.310 --> 00:23:41.430
<v Speaker 0>users info

00:23:41.955 --> 00:23:44.995
<v Speaker 0>where the documents came back as as empty.

00:23:44.995 --> 00:23:46.355
<v Speaker 0>So this is what we expect. We do

00:23:46.355 --> 00:23:46.994
<v Speaker 0>have

00:23:48.034 --> 00:23:50.355
<v Speaker 0>a audit log showing us that I actually

00:23:50.355 --> 00:23:52.995
<v Speaker 0>could do that query, but definitely doesn't

00:23:52.995 --> 00:23:54.195
<v Speaker 0>look like they're recorded.

00:23:55.110 --> 00:23:57.909
<v Speaker 0>However, we can jump onto the GoTeleport docs.

00:23:59.110 --> 00:24:00.389
<v Speaker 0>We can type in

00:24:00.630 --> 00:24:01.750
<v Speaker 0>database access.

00:24:08.554 --> 00:24:10.634
<v Speaker 0>Where is the Mongo gate?

00:24:12.715 --> 00:24:14.234
<v Speaker 0>Let's just tape it.

00:24:18.315 --> 00:24:20.235
<v Speaker 0>Oh, that's Atlas. We we can we'll go

00:24:20.235 --> 00:24:20.955
<v Speaker 0>back there in a minute.

00:24:29.809 --> 00:24:31.490
<v Speaker 0>Yeah. I don't think

00:24:32.450 --> 00:24:33.809
<v Speaker 0>there's any session recorded.

00:24:40.654 --> 00:24:42.654
<v Speaker 0>Alright. Well, you do have the audit log.

00:24:42.654 --> 00:24:43.455
<v Speaker 0>It's there,

00:24:44.015 --> 00:24:45.455
<v Speaker 0>which is very useful.

00:24:46.255 --> 00:24:47.934
<v Speaker 0>Alright. Let's see what else. I think there

00:24:47.934 --> 00:24:49.455
<v Speaker 0>was there's a couple more tasks.

00:24:49.775 --> 00:24:51.695
<v Speaker 0>One of my other favorite features is that

00:24:51.695 --> 00:24:52.815
<v Speaker 0>the Teleport

00:24:53.560 --> 00:24:54.280
<v Speaker 0>command

00:24:55.080 --> 00:24:57.240
<v Speaker 0>can just tell you the command that you

00:24:57.240 --> 00:24:58.760
<v Speaker 0>need to run locally in order to get

00:24:58.760 --> 00:25:00.520
<v Speaker 0>this to work. So, you know, if you

00:25:00.520 --> 00:25:02.280
<v Speaker 0>already have the Mongo CLI and you'd rather

00:25:02.280 --> 00:25:04.120
<v Speaker 0>just connect to standard tooling,

00:25:04.680 --> 00:25:07.160
<v Speaker 0>then you can pass format equals command to

00:25:07.160 --> 00:25:09.125
<v Speaker 0>it, and it just tells you what you

00:25:09.125 --> 00:25:09.845
<v Speaker 0>need to run.

00:25:10.405 --> 00:25:12.644
<v Speaker 0>And as we've seen with the Postgres one,

00:25:12.885 --> 00:25:14.644
<v Speaker 0>which I absolutely love,

00:25:15.205 --> 00:25:17.284
<v Speaker 0>is that you can run a proxy

00:25:17.285 --> 00:25:18.725
<v Speaker 0>DB locally,

00:25:18.725 --> 00:25:20.405
<v Speaker 0>which creates a bunch of search on your

00:25:20.405 --> 00:25:23.090
<v Speaker 0>system, and then you can use your own

00:25:23.650 --> 00:25:26.769
<v Speaker 0>your GUI tool of choice to also connect

00:25:27.330 --> 00:25:28.289
<v Speaker 0>to the thing.

00:25:29.169 --> 00:25:32.609
<v Speaker 0>I have never used MongoDB Compass before, but

00:25:33.090 --> 00:25:35.375
<v Speaker 0>as you can tell by this thing telling

00:25:35.375 --> 00:25:36.654
<v Speaker 0>me, you did not do this from the

00:25:36.654 --> 00:25:37.614
<v Speaker 0>Internet today.

00:25:38.255 --> 00:25:40.334
<v Speaker 0>So let's see if we can get the

00:25:40.735 --> 00:25:43.774
<v Speaker 0>MongoDB Compass UI speaking

00:25:43.934 --> 00:25:46.894
<v Speaker 0>to our Teleport exposed secure

00:25:47.135 --> 00:25:48.335
<v Speaker 0>MongoDB cluster.

00:25:50.200 --> 00:25:51.560
<v Speaker 0>And I see we've got a few more

00:25:51.560 --> 00:25:54.200
<v Speaker 0>comments coming in. Oops. Some spam. Need to

00:25:54.200 --> 00:25:55.400
<v Speaker 0>get that dealt with.

00:25:56.120 --> 00:25:58.760
<v Speaker 0>Evan Ash got answers to his question. Awesome.

00:25:59.080 --> 00:26:01.640
<v Speaker 0>Oh, Canal is watching and saying, my streams

00:26:01.640 --> 00:26:04.034
<v Speaker 0>are fun. Thanks, man. Thank you very much.

00:26:07.635 --> 00:26:10.595
<v Speaker 0>Session recording for databases and applications currently not

00:26:10.595 --> 00:26:12.514
<v Speaker 0>implemented. There's an issue open.

00:26:13.075 --> 00:26:15.715
<v Speaker 0>Alright. Super useful. Thank you, Kevin. So there

00:26:15.715 --> 00:26:18.120
<v Speaker 0>is an issue to make that work, And

00:26:18.120 --> 00:26:20.120
<v Speaker 0>I'll be I'm sure if I'm playing with

00:26:20.120 --> 00:26:21.640
<v Speaker 0>that as soon as that launches. That's gonna

00:26:21.640 --> 00:26:22.440
<v Speaker 0>be awesome.

00:26:23.640 --> 00:26:24.760
<v Speaker 0>Okay.

00:26:26.280 --> 00:26:28.600
<v Speaker 0>So my compass opened over

00:26:29.000 --> 00:26:29.400
<v Speaker 0>here.

00:26:31.095 --> 00:26:33.335
<v Speaker 0>Let's see what this thing's capable of.

00:26:38.855 --> 00:26:41.095
<v Speaker 0>Yeah. Let me connect to the thing. Okay.

00:26:41.895 --> 00:26:45.895
<v Speaker 0>So I wanna connect to MongoDB

00:26:45.169 --> 00:26:46.609
<v Speaker 0>local host

00:26:48.770 --> 00:26:50.210
<v Speaker 0>this port here.

00:26:53.090 --> 00:26:55.250
<v Speaker 0>And it's telling me I need to use

00:26:55.250 --> 00:26:56.210
<v Speaker 0>these certificates,

00:27:00.335 --> 00:27:02.174
<v Speaker 0>which I don't know how to do.

00:27:04.895 --> 00:27:06.335
<v Speaker 0>Let's work out that.

00:27:07.615 --> 00:27:08.975
<v Speaker 0>Authentication,

00:27:09.775 --> 00:27:10.495
<v Speaker 0>509.

00:27:11.760 --> 00:27:12.880
<v Speaker 0>More options?

00:27:13.360 --> 00:27:14.240
<v Speaker 0>Nope.

00:27:15.920 --> 00:27:17.760
<v Speaker 0>I mean, I'm saying 509.

00:27:21.840 --> 00:27:23.360
<v Speaker 0>So I need to turn on.

00:27:26.375 --> 00:27:27.175
<v Speaker 0>Okay.

00:27:27.175 --> 00:27:29.255
<v Speaker 0>Here we go. So I want server and

00:27:29.255 --> 00:27:30.534
<v Speaker 0>client verification.

00:27:31.575 --> 00:27:33.495
<v Speaker 0>So I can pick my certificate authority.

00:27:39.590 --> 00:27:42.870
<v Speaker 0>What is the key to show hidden fails?

00:27:43.430 --> 00:27:43.990
<v Speaker 0>I

00:27:47.910 --> 00:27:48.550
<v Speaker 0>don't remember.

00:27:55.245 --> 00:27:57.884
<v Speaker 0>Oh, MacPhail. I don't know what I'm doing.

00:27:59.164 --> 00:28:00.445
<v Speaker 0>I'm gonna Google it.

00:28:01.884 --> 00:28:04.125
<v Speaker 0>Oh, Moz. Right in there. Thanks, Moz. It

00:28:04.125 --> 00:28:05.725
<v Speaker 0>is command shift and dot.

00:28:07.820 --> 00:28:09.580
<v Speaker 0>You are awesome.

00:28:10.460 --> 00:28:11.660
<v Speaker 0>Ah, there we go.

00:28:12.380 --> 00:28:15.100
<v Speaker 0>So we wanna use TSH

00:28:15.100 --> 00:28:16.060
<v Speaker 0>keys,

00:28:16.460 --> 00:28:17.420
<v Speaker 0>Teleport.

00:28:18.140 --> 00:28:20.620
<v Speaker 0>This is my Rawkode DB one.

00:28:23.155 --> 00:28:23.795
<v Speaker 0>Is this CA

00:28:24.675 --> 00:28:26.275
<v Speaker 0>I wouldn't have thought so.

00:28:26.755 --> 00:28:28.515
<v Speaker 0>I'm gonna select it just now so that

00:28:28.515 --> 00:28:30.755
<v Speaker 0>the packer doesn't lose my directory,

00:28:30.915 --> 00:28:33.315
<v Speaker 0>but the CA is certs. Pem. Okay. So

00:28:33.315 --> 00:28:34.115
<v Speaker 0>it's up a directory.

00:28:39.360 --> 00:28:41.600
<v Speaker 0>There. The client cert

00:28:42.240 --> 00:28:43.840
<v Speaker 0>as the MongoPem.

00:28:43.920 --> 00:28:44.320
<v Speaker 0>Nice.

00:28:48.595 --> 00:28:50.355
<v Speaker 0>And the per

00:28:50.515 --> 00:28:52.835
<v Speaker 0>I have a key as the Rawkode file.

00:28:54.515 --> 00:28:56.434
<v Speaker 0>So let's back up again.

00:28:59.235 --> 00:29:00.355
<v Speaker 0>And there.

00:29:08.700 --> 00:29:09.660
<v Speaker 0>Does it work?

00:29:11.740 --> 00:29:12.540
<v Speaker 0>Hey.

00:29:14.300 --> 00:29:15.980
<v Speaker 0>Hey, there we go. Nice.

00:29:16.795 --> 00:29:19.034
<v Speaker 0>We now have access to

00:29:20.555 --> 00:29:22.235
<v Speaker 0>our Mongo server

00:29:22.395 --> 00:29:24.715
<v Speaker 0>through Teleport through the UI.

00:29:24.955 --> 00:29:26.635
<v Speaker 0>I've never used Compass before. I'm just gonna

00:29:26.635 --> 00:29:28.395
<v Speaker 0>click on a few things

00:29:29.560 --> 00:29:30.680
<v Speaker 0>just to see.

00:29:30.920 --> 00:29:32.280
<v Speaker 0>Can we create a collection?

00:29:33.400 --> 00:29:34.920
<v Speaker 0>Let's call it Howdy.

00:29:37.000 --> 00:29:38.840
<v Speaker 0>There we go. Cool.

00:29:40.120 --> 00:29:43.000
<v Speaker 0>I will perhaps play with Compass

00:29:43.665 --> 00:29:44.785
<v Speaker 0>in other day.

00:29:45.825 --> 00:29:47.825
<v Speaker 0>So we can shut down our

00:29:47.985 --> 00:29:50.305
<v Speaker 0>local proxy. So that's a great command, t

00:29:50.305 --> 00:29:51.345
<v Speaker 0>s h proxy,

00:29:51.985 --> 00:29:54.065
<v Speaker 0>and then you can do applications and DBs

00:29:54.065 --> 00:29:55.985
<v Speaker 0>if you've got them all configured properly through

00:29:55.985 --> 00:29:58.785
<v Speaker 0>the Teleport system. You provide the name, and

00:29:58.190 --> 00:29:59.710
<v Speaker 0>it just makes it available for you to

00:29:59.710 --> 00:30:02.110
<v Speaker 0>work with locally. Absolutely great feature.

00:30:03.230 --> 00:30:05.230
<v Speaker 0>And that is our 10 exercises

00:30:05.230 --> 00:30:06.350
<v Speaker 0>for connecting

00:30:06.510 --> 00:30:08.270
<v Speaker 0>to a secured MongoDB

00:30:08.270 --> 00:30:10.030
<v Speaker 0>cluster via Teleport.

00:30:11.404 --> 00:30:13.325
<v Speaker 0>I guess now is the big question.

00:30:14.684 --> 00:30:17.644
<v Speaker 0>Do we wing it and try Atlas?

00:30:18.284 --> 00:30:20.605
<v Speaker 0>I will give you all ten seconds to

00:30:20.605 --> 00:30:22.044
<v Speaker 0>do a thumbs up or a thumbs down

00:30:22.044 --> 00:30:23.084
<v Speaker 0>in the chat.

00:30:23.404 --> 00:30:23.885
<v Speaker 0>Go.

00:30:30.260 --> 00:30:31.860
<v Speaker 0>Come on, where's my thumbs down?

00:30:33.380 --> 00:30:35.860
<v Speaker 0>Bear in mind that the option, the alternative

00:30:35.860 --> 00:30:37.780
<v Speaker 0>to me winging the Atlas stuff is to

00:30:37.780 --> 00:30:39.605
<v Speaker 0>go home and have a beer. So would

00:30:39.605 --> 00:30:41.285
<v Speaker 0>you really want to deprive me of that?

00:30:41.285 --> 00:30:42.245
<v Speaker 0>I'm just saying.

00:30:45.845 --> 00:30:47.045
<v Speaker 0>One thumb up.

00:30:47.925 --> 00:30:49.125
<v Speaker 0>Two thumbs up.

00:30:51.045 --> 00:30:52.645
<v Speaker 0>The beer is delayed, I guess.

00:30:55.600 --> 00:30:58.240
<v Speaker 0>Okay. Let's just go for it. So

00:30:58.960 --> 00:31:02.000
<v Speaker 0>thanks, Evan Ash. I appreciate that. But we'll

00:31:02.000 --> 00:31:03.280
<v Speaker 0>we'll do it anyway. You know what? It's

00:31:03.280 --> 00:31:04.159
<v Speaker 0>gonna be fun.

00:31:04.480 --> 00:31:06.559
<v Speaker 0>And I have no problem going off script.

00:31:06.559 --> 00:31:08.159
<v Speaker 0>Can I have a plus one too?

00:31:08.400 --> 00:31:08.800
<v Speaker 0>Alright.

00:31:09.975 --> 00:31:11.254
<v Speaker 0>So

00:31:11.255 --> 00:31:13.494
<v Speaker 0>you can have a beer after drink faster.

00:31:13.895 --> 00:31:14.855
<v Speaker 0>Okay.

00:31:15.415 --> 00:31:17.494
<v Speaker 0>So let's shut down

00:31:17.815 --> 00:31:20.615
<v Speaker 0>that. We don't need this anymore.

00:31:22.215 --> 00:31:23.895
<v Speaker 0>Don't need my DB proxy anymore.

00:31:26.130 --> 00:31:27.650
<v Speaker 0>And we're going off script, so we don't

00:31:27.650 --> 00:31:29.970
<v Speaker 0>even need GitHub anymore. So, let's log in

00:31:29.970 --> 00:31:32.370
<v Speaker 0>to MongoDB Atlas. So, I did create a

00:31:32.370 --> 00:31:34.530
<v Speaker 0>cluster just in case we decided to go

00:31:34.530 --> 00:31:35.330
<v Speaker 0>for this.

00:31:40.130 --> 00:31:41.410
<v Speaker 0>Go go

00:31:42.825 --> 00:31:43.465
<v Speaker 0>Me.

00:31:52.025 --> 00:31:55.145
<v Speaker 0>Cool. Cluster zero. I picked a very unique

00:31:55.145 --> 00:31:55.465
<v Speaker 0>name.

00:31:56.560 --> 00:31:57.520
<v Speaker 0>And

00:32:00.720 --> 00:32:03.360
<v Speaker 0>the only things I prepared earlier in case

00:32:03.360 --> 00:32:06.080
<v Speaker 0>we tried this was network access,

00:32:06.320 --> 00:32:08.240
<v Speaker 0>which I believe is now wrong because I

00:32:08.240 --> 00:32:08.640
<v Speaker 0>actually

00:32:09.975 --> 00:32:12.534
<v Speaker 0>destroyed this VM anyway, and this is

00:32:12.855 --> 00:32:15.015
<v Speaker 0>my local current IP address. There you go.

00:32:15.015 --> 00:32:16.294
<v Speaker 0>Have that. Have some fun.

00:32:18.215 --> 00:32:18.934
<v Speaker 0>So

00:32:19.815 --> 00:32:21.895
<v Speaker 0>let's just expose this. So what we want

00:32:21.895 --> 00:32:23.575
<v Speaker 0>to do is go through the MongoDB Atlas

00:32:23.575 --> 00:32:24.615
<v Speaker 0>documentation,

00:32:25.015 --> 00:32:26.590
<v Speaker 0>and we're just gonna work through this. I

00:32:26.590 --> 00:32:28.830
<v Speaker 0>suspect this is gonna be extremely similar to

00:32:28.830 --> 00:32:31.070
<v Speaker 0>what we've just done with one or two

00:32:31.070 --> 00:32:32.269
<v Speaker 0>little changes.

00:32:33.309 --> 00:32:35.230
<v Speaker 0>So we don't need to configure our Teleport.

00:32:35.230 --> 00:32:37.790
<v Speaker 0>We have a working Teleport. Technically, have a

00:32:37.790 --> 00:32:40.674
<v Speaker 0>token, so but I'm gonna reuse that token.

00:32:41.315 --> 00:32:43.635
<v Speaker 0>And we have a d b start command

00:32:43.635 --> 00:32:46.595
<v Speaker 0>here, and I know the protocol

00:32:46.755 --> 00:32:49.075
<v Speaker 0>or the protocol is just MongoDB. Okay. But

00:32:49.075 --> 00:32:51.395
<v Speaker 0>there's we use a server record for the

00:32:51.395 --> 00:32:52.195
<v Speaker 0>URL,

00:32:52.595 --> 00:32:53.715
<v Speaker 0>and there's this

00:32:54.080 --> 00:32:56.080
<v Speaker 0>CA thing, which we're gonna have to navigate

00:32:56.080 --> 00:32:56.720
<v Speaker 0>to.

00:32:57.360 --> 00:32:58.880
<v Speaker 0>So let's pop over

00:33:04.400 --> 00:33:05.440
<v Speaker 0>to here.

00:33:06.160 --> 00:33:07.520
<v Speaker 0>I'm going in fact, you know, I'm going

00:33:07.520 --> 00:33:09.424
<v Speaker 0>to move that DB proxy script cause that

00:33:09.424 --> 00:33:10.304
<v Speaker 0>was annoying

00:33:11.505 --> 00:33:12.384
<v Speaker 0>to here,

00:33:12.945 --> 00:33:15.745
<v Speaker 0>and we'll modify the command based on what

00:33:15.745 --> 00:33:17.345
<v Speaker 0>we can see here. So

00:33:17.825 --> 00:33:20.065
<v Speaker 0>our token should be alright.

00:33:20.304 --> 00:33:22.225
<v Speaker 0>Our auth server is definitely okay.

00:33:22.770 --> 00:33:25.169
<v Speaker 0>We will rename this just in case

00:33:27.090 --> 00:33:29.250
<v Speaker 0>something conflicts between what was the old DB

00:33:29.250 --> 00:33:31.970
<v Speaker 0>proxy and this new one. Let's remove

00:33:32.290 --> 00:33:34.290
<v Speaker 0>any chance of this feeling, hopefully.

00:33:35.195 --> 00:33:36.874
<v Speaker 0>Protocol is still MongoDB

00:33:37.515 --> 00:33:39.514
<v Speaker 0>and the URL is different.

00:33:40.155 --> 00:33:41.675
<v Speaker 0>So URI

00:33:41.675 --> 00:33:43.434
<v Speaker 0>equals MongoDB

00:33:44.315 --> 00:33:45.195
<v Speaker 0>plus

00:33:45.515 --> 00:33:46.634
<v Speaker 0>SRV,

00:33:47.755 --> 00:33:50.715
<v Speaker 0>and then we need to put

00:33:50.510 --> 00:33:52.750
<v Speaker 0>our atlas address.

00:33:53.950 --> 00:33:54.670
<v Speaker 0>Okay.

00:33:58.270 --> 00:34:00.190
<v Speaker 0>Let's see if we can find that.

00:34:05.725 --> 00:34:07.325
<v Speaker 0>Do we have

00:34:07.404 --> 00:34:08.925
<v Speaker 0>an endpoint somewhere?

00:34:21.880 --> 00:34:23.159
<v Speaker 0>If I click connect,

00:34:27.234 --> 00:34:27.955
<v Speaker 0>shell.

00:34:29.554 --> 00:34:30.755
<v Speaker 0>Okay. Here we go.

00:34:31.315 --> 00:34:32.034
<v Speaker 0>So

00:34:32.835 --> 00:34:33.955
<v Speaker 0>let's

00:34:36.915 --> 00:34:38.355
<v Speaker 0>copy this

00:34:39.410 --> 00:34:40.690
<v Speaker 0>and tweak

00:34:40.850 --> 00:34:42.530
<v Speaker 0>what we think we need to.

00:34:43.650 --> 00:34:44.370
<v Speaker 0>So

00:34:44.450 --> 00:34:46.610
<v Speaker 0>paste. Oh, that's probably a bit small for

00:34:46.610 --> 00:34:48.450
<v Speaker 0>y'all to read through it. There we go.

00:34:50.370 --> 00:34:51.170
<v Speaker 0>Okay.

00:34:52.930 --> 00:34:58.714
<v Speaker 0>So srvcluster0.gdnssMongoDB.net

00:34:58.714 --> 00:34:59.515
<v Speaker 0>my

00:34:59.675 --> 00:35:01.355
<v Speaker 0>do I need the first database? What does

00:35:01.355 --> 00:35:02.155
<v Speaker 0>this say?

00:35:02.875 --> 00:35:04.795
<v Speaker 0>No. It just wants the.net.

00:35:05.275 --> 00:35:07.275
<v Speaker 0>We're gonna leave that right there.

00:35:09.980 --> 00:35:10.940
<v Speaker 0>It does

00:35:11.500 --> 00:35:12.300
<v Speaker 0>have

00:35:14.220 --> 00:35:14.940
<v Speaker 0>oops.

00:35:17.580 --> 00:35:19.180
<v Speaker 0>I see a

00:35:19.420 --> 00:35:20.700
<v Speaker 0>cert equals

00:35:21.020 --> 00:35:21.580
<v Speaker 0>something.

00:35:23.775 --> 00:35:25.135
<v Speaker 0>So we're gonna have to work that one

00:35:25.135 --> 00:35:27.615
<v Speaker 0>out. Now, when I created the Atlas

00:35:30.655 --> 00:35:32.655
<v Speaker 0>when I created the Atlas cluster,

00:35:34.175 --> 00:35:35.215
<v Speaker 0>it did

00:35:35.535 --> 00:35:38.575
<v Speaker 0>create a user and gave me

00:35:39.720 --> 00:35:41.800
<v Speaker 0>in X five zero nine.

00:35:42.920 --> 00:35:44.520
<v Speaker 0>Let's grab that.

00:35:54.255 --> 00:35:54.895
<v Speaker 0>Here.

00:35:56.335 --> 00:35:58.335
<v Speaker 0>So that gave me some sort of pen

00:35:58.335 --> 00:36:00.015
<v Speaker 0>for me to handle the authentication.

00:36:00.095 --> 00:36:02.174
<v Speaker 0>I suspect this may be what we require.

00:36:02.174 --> 00:36:03.454
<v Speaker 0>However, we're gonna find out.

00:36:06.549 --> 00:36:09.109
<v Speaker 0>It doesn't appear like it's telling me

00:36:10.630 --> 00:36:11.990
<v Speaker 0>what that is.

00:36:15.190 --> 00:36:16.869
<v Speaker 0>So let's let's continue to go through the

00:36:16.869 --> 00:36:18.710
<v Speaker 0>docs and see if it's explained a little

00:36:18.710 --> 00:36:19.190
<v Speaker 0>bit later.

00:36:20.795 --> 00:36:22.475
<v Speaker 0>So, in fact, there's this not yeah. It's

00:36:22.475 --> 00:36:24.555
<v Speaker 0>now telling me how to get that URL.

00:36:24.555 --> 00:36:25.195
<v Speaker 0>Wonderful.

00:36:26.075 --> 00:36:28.715
<v Speaker 0>Always read the documentation first before wandering off

00:36:28.715 --> 00:36:30.875
<v Speaker 0>in your own path. That's usually a pretty

00:36:30.875 --> 00:36:31.835
<v Speaker 0>solid idea.

00:36:32.475 --> 00:36:34.635
<v Speaker 0>Okay. So we got we did get that.

00:36:36.819 --> 00:36:38.020
<v Speaker 0>We got this

00:36:38.339 --> 00:36:41.220
<v Speaker 0>and then the atlas cacert. So MongoDB Atlas

00:36:41.220 --> 00:36:43.460
<v Speaker 0>uses certificates sent by Let's Encrypt.

00:36:44.500 --> 00:36:46.339
<v Speaker 0>So we have to download the Let's Encrypt

00:36:46.339 --> 00:36:47.700
<v Speaker 0>root certificate.

00:36:47.700 --> 00:36:48.260
<v Speaker 0>There we go.

00:36:50.055 --> 00:36:52.055
<v Speaker 0>So let's copy

00:36:52.615 --> 00:36:53.895
<v Speaker 0>the address

00:36:58.375 --> 00:36:59.335
<v Speaker 0>curl

00:37:00.295 --> 00:37:01.335
<v Speaker 0>output

00:37:01.735 --> 00:37:02.215
<v Speaker 0>CA.

00:37:04.460 --> 00:37:06.060
<v Speaker 0>And that should be okay,

00:37:06.300 --> 00:37:08.540
<v Speaker 0>which means that our DB proxy

00:37:09.339 --> 00:37:10.780
<v Speaker 0>is going to use

00:37:12.380 --> 00:37:13.740
<v Speaker 0>root CA.

00:37:14.540 --> 00:37:15.020
<v Speaker 0>Yep.

00:37:16.385 --> 00:37:17.185
<v Speaker 0>And

00:37:17.665 --> 00:37:18.705
<v Speaker 0>what's next?

00:37:20.545 --> 00:37:22.945
<v Speaker 0>Oh, that's it. Alright. Let's try it.

00:37:23.345 --> 00:37:24.145
<v Speaker 0>Bash

00:37:24.145 --> 00:37:25.025
<v Speaker 0>DB proxy.

00:37:31.599 --> 00:37:32.480
<v Speaker 0>It's running.

00:37:36.160 --> 00:37:39.119
<v Speaker 0>Haven't authenticated myself in any way, but it's

00:37:39.119 --> 00:37:40.240
<v Speaker 0>definitely running.

00:37:42.320 --> 00:37:43.839
<v Speaker 0>Alright. What's next?

00:37:46.785 --> 00:37:49.905
<v Speaker 0>So now we have to configure Atlas. So

00:37:51.585 --> 00:37:52.625
<v Speaker 0>we can

00:37:54.065 --> 00:37:56.065
<v Speaker 0>we've we already created one of these.

00:37:59.289 --> 00:38:01.290
<v Speaker 0>Wonder if that host is important.

00:38:06.089 --> 00:38:06.810
<v Speaker 0>Okay.

00:38:07.849 --> 00:38:10.569
<v Speaker 0>It's not important. It tells me we can

00:38:10.569 --> 00:38:12.730
<v Speaker 0>probably reuse the one from earlier.

00:38:14.424 --> 00:38:16.665
<v Speaker 0>And then we go to advanced

00:38:18.825 --> 00:38:20.585
<v Speaker 0>and we add the content. Yeah. We add

00:38:20.585 --> 00:38:23.305
<v Speaker 0>our certificate. Okay. Got it. We're adding the

00:38:23.305 --> 00:38:25.545
<v Speaker 0>certificate authority generated by Teleport

00:38:25.545 --> 00:38:27.145
<v Speaker 0>as an accepted

00:38:27.224 --> 00:38:28.905
<v Speaker 0>means of authenticating

00:38:29.280 --> 00:38:30.880
<v Speaker 0>with MongoDB Atlas.

00:38:31.120 --> 00:38:32.960
<v Speaker 0>I guess this would work really well if

00:38:32.960 --> 00:38:34.000
<v Speaker 0>your organization

00:38:34.000 --> 00:38:36.000
<v Speaker 0>already has authentication

00:38:36.160 --> 00:38:37.600
<v Speaker 0>solved as a problem

00:38:38.000 --> 00:38:40.480
<v Speaker 0>via OAuth, SAML, other search,

00:38:41.515 --> 00:38:43.595
<v Speaker 0>active directory, whatever the hell they're doing,

00:38:43.994 --> 00:38:45.515
<v Speaker 0>that you can actually just bring this into

00:38:45.515 --> 00:38:46.235
<v Speaker 0>the system.

00:38:46.955 --> 00:38:48.635
<v Speaker 0>So what do we need to do?

00:38:48.955 --> 00:38:51.675
<v Speaker 0>Well, we need to pop back on

00:38:51.835 --> 00:38:52.795
<v Speaker 0>to my server.

00:38:53.970 --> 00:38:55.650
<v Speaker 0>And that one's a bit busy, so I'm

00:38:55.650 --> 00:38:57.010
<v Speaker 0>gonna leave that as is.

00:38:58.690 --> 00:39:00.050
<v Speaker 0>Pop this open

00:39:00.210 --> 00:39:01.810
<v Speaker 0>and do a cat

00:39:03.010 --> 00:39:06.130
<v Speaker 0>mongocas

00:39:06.130 --> 00:39:07.090
<v Speaker 0>and

00:39:08.369 --> 00:39:09.250
<v Speaker 0>copy paste.

00:39:10.345 --> 00:39:13.065
<v Speaker 0>So if we come to here

00:39:13.705 --> 00:39:15.305
<v Speaker 0>and go to advanced,

00:39:18.345 --> 00:39:19.145
<v Speaker 0>self managed.

00:39:23.640 --> 00:39:24.440
<v Speaker 0>The

00:39:28.520 --> 00:39:31.000
<v Speaker 0>next thing we need to do is create

00:39:31.000 --> 00:39:34.280
<v Speaker 0>a new database user using the MongoDB UI,

00:39:35.480 --> 00:39:37.080
<v Speaker 0>and that probably gonna

00:39:37.640 --> 00:39:38.280
<v Speaker 0>sped out.

00:39:47.215 --> 00:39:48.895
<v Speaker 0>I'm gonna spout out anything, it's just gonna

00:39:48.895 --> 00:39:49.455
<v Speaker 0>work.

00:39:50.655 --> 00:39:52.015
<v Speaker 0>Alright.

00:39:52.015 --> 00:39:52.895
<v Speaker 0>Let's go for it.

00:39:53.680 --> 00:39:56.480
<v Speaker 0>Add a new database user, certificate based, of

00:39:56.480 --> 00:39:58.800
<v Speaker 0>course, because we've added our new CA. So

00:39:58.800 --> 00:40:01.600
<v Speaker 0>Teleport can now issue its own certificates for

00:40:01.600 --> 00:40:02.960
<v Speaker 0>the users that it wants.

00:40:03.840 --> 00:40:06.640
<v Speaker 0>It's telling us that our common name could

00:40:06.640 --> 00:40:07.680
<v Speaker 0>be anything that we wish.

00:40:08.345 --> 00:40:09.224
<v Speaker 0>So

00:40:09.944 --> 00:40:12.345
<v Speaker 0>I will do Rawkode

00:40:13.145 --> 00:40:14.025
<v Speaker 0>Atlas,

00:40:15.145 --> 00:40:16.904
<v Speaker 0>and I'm gonna give it rewrite to any

00:40:16.904 --> 00:40:17.705
<v Speaker 0>database

00:40:18.105 --> 00:40:18.744
<v Speaker 0>and go.

00:40:23.839 --> 00:40:25.440
<v Speaker 0>It's deploying our changes.

00:40:26.799 --> 00:40:28.480
<v Speaker 0>I guess we should wait for that.

00:40:30.559 --> 00:40:31.839
<v Speaker 0>Configuring MongoDB.

00:40:34.494 --> 00:40:35.535
<v Speaker 0>So I

00:40:35.695 --> 00:40:37.375
<v Speaker 0>don't really think I mean, could go into

00:40:37.375 --> 00:40:38.975
<v Speaker 0>the documentation and find out for sure, but

00:40:38.975 --> 00:40:40.015
<v Speaker 0>I don't think we really need to do

00:40:40.015 --> 00:40:41.535
<v Speaker 0>anything else. And I feel like I just

00:40:41.535 --> 00:40:43.135
<v Speaker 0>wanna try it. So

00:40:43.695 --> 00:40:45.455
<v Speaker 0>if we do an LS list, we're gonna

00:40:45.455 --> 00:40:47.375
<v Speaker 0>have our MongoDB proxy that we configured.

00:40:48.540 --> 00:40:51.260
<v Speaker 0>I think we can do a DB login

00:40:52.940 --> 00:40:55.580
<v Speaker 0>where I specify the users, the common name

00:40:56.380 --> 00:40:57.740
<v Speaker 0>that I added,

00:40:58.140 --> 00:41:00.060
<v Speaker 0>and the name of the DB proxy is

00:41:00.060 --> 00:41:00.700
<v Speaker 0>no different.

00:41:01.635 --> 00:41:03.635
<v Speaker 0>I think this will work regardless. I think

00:41:03.635 --> 00:41:05.075
<v Speaker 0>that's just set some config.

00:41:06.195 --> 00:41:07.875
<v Speaker 0>We'll do TSLS

00:41:07.875 --> 00:41:08.595
<v Speaker 0>again.

00:41:09.475 --> 00:41:11.075
<v Speaker 0>We can see that's configured.

00:41:11.795 --> 00:41:12.595
<v Speaker 0>And then

00:41:13.315 --> 00:41:16.195
<v Speaker 0>wanna do a MongoDB connect

00:41:18.140 --> 00:41:19.820
<v Speaker 0>because I called it MongoDB.

00:41:21.420 --> 00:41:23.020
<v Speaker 0>Am I gonna get it? Oh,

00:41:23.660 --> 00:41:24.700
<v Speaker 0>dreads.

00:41:26.300 --> 00:41:27.980
<v Speaker 0>User not found.

00:41:29.515 --> 00:41:31.035
<v Speaker 0>I

00:41:31.835 --> 00:41:33.995
<v Speaker 0>was kinda confident that was gonna work.

00:41:37.835 --> 00:41:39.035
<v Speaker 0>Let's follow the docs.

00:41:47.080 --> 00:41:49.160
<v Speaker 0>No. Not fair. I took that.

00:41:57.885 --> 00:42:01.165
<v Speaker 0>Okay. They're just they're just connecting straight. Okay.

00:42:03.085 --> 00:42:04.525
<v Speaker 0>Let's see if we can work out what

00:42:04.525 --> 00:42:05.485
<v Speaker 0>went wrong.

00:42:06.205 --> 00:42:06.605
<v Speaker 0>Oh.

00:42:20.715 --> 00:42:21.595
<v Speaker 0>Alright.

00:42:21.835 --> 00:42:23.995
<v Speaker 0>Let's purge that proxy.

00:42:28.955 --> 00:42:30.635
<v Speaker 0>Oh, hold on a minute. That's connecting

00:42:31.995 --> 00:42:34.029
<v Speaker 0>hey. Come on, audience. You should have well

00:42:34.029 --> 00:42:35.789
<v Speaker 0>pointed this out. So first, I've got two

00:42:35.789 --> 00:42:39.070
<v Speaker 0>URIs, and there's no new line separator here.

00:42:40.670 --> 00:42:43.069
<v Speaker 0>Well, that was never gonna work in a

00:42:43.069 --> 00:42:44.030
<v Speaker 0>million years.

00:42:45.470 --> 00:42:46.670
<v Speaker 0>And if we run this now,

00:42:50.215 --> 00:42:51.495
<v Speaker 0>it seems happy.

00:42:52.375 --> 00:42:54.135
<v Speaker 0>And if we run this one, oh, I

00:42:54.135 --> 00:42:55.895
<v Speaker 0>wonder if Danny's logging in again because of

00:42:55.895 --> 00:42:57.175
<v Speaker 0>the proxy.

00:42:57.494 --> 00:42:58.215
<v Speaker 0>I'm not sure.

00:43:01.310 --> 00:43:04.430
<v Speaker 0>No. Okay. That's from local state, what it's

00:43:04.430 --> 00:43:04.990
<v Speaker 0>doing.

00:43:06.030 --> 00:43:07.230
<v Speaker 0>And I'm gonna get a shell.

00:43:07.950 --> 00:43:08.910
<v Speaker 0>So

00:43:10.750 --> 00:43:11.950
<v Speaker 0>that would have worked.

00:43:13.150 --> 00:43:14.350
<v Speaker 0>I believe I believe you.

00:43:15.744 --> 00:43:17.185
<v Speaker 0>Okay. I can run

00:43:17.744 --> 00:43:19.585
<v Speaker 0>the admin command, but that's okay.

00:43:20.945 --> 00:43:23.425
<v Speaker 0>That is awesome. We are now connected to

00:43:23.425 --> 00:43:26.465
<v Speaker 0>MongoDB Atlas. And again, it really wasn't a

00:43:26.465 --> 00:43:27.185
<v Speaker 0>lot of effort.

00:43:30.040 --> 00:43:32.119
<v Speaker 0>All we had to do was create a

00:43:32.119 --> 00:43:33.400
<v Speaker 0>user and add

00:43:33.800 --> 00:43:34.600
<v Speaker 0>the

00:43:35.960 --> 00:43:39.160
<v Speaker 0>certificate authority generated by Teleport as external authentication.

00:43:40.565 --> 00:43:42.325
<v Speaker 0>This is cool because this means

00:43:43.365 --> 00:43:44.885
<v Speaker 0>that I can come into the oh, that

00:43:44.885 --> 00:43:46.245
<v Speaker 0>IP address did work.

00:43:47.765 --> 00:43:49.285
<v Speaker 0>Let me check the IP address of this

00:43:49.285 --> 00:43:49.605
<v Speaker 0>machine.

00:43:55.840 --> 00:43:56.560
<v Speaker 0>IP.

00:44:03.200 --> 00:44:04.640
<v Speaker 0>Where's the public address?

00:44:09.755 --> 00:44:10.955
<v Speaker 0>That's interesting.

00:44:14.555 --> 00:44:15.755
<v Speaker 0>Well, in theory,

00:44:16.475 --> 00:44:18.395
<v Speaker 0>I should be able to remove my IP

00:44:18.395 --> 00:44:18.795
<v Speaker 0>address.

00:44:21.819 --> 00:44:22.780
<v Speaker 0>Redeploying.

00:44:22.780 --> 00:44:25.260
<v Speaker 0>And my Mongo command from here should still

00:44:25.260 --> 00:44:27.099
<v Speaker 0>work because we're going through the proxy on

00:44:27.099 --> 00:44:27.980
<v Speaker 0>the server,

00:44:29.180 --> 00:44:31.420
<v Speaker 0>which means that you only really need

00:44:32.380 --> 00:44:33.740
<v Speaker 0>to expose

00:44:35.595 --> 00:44:36.235
<v Speaker 0>your

00:44:36.475 --> 00:44:38.955
<v Speaker 0>you only need network access to your MongoDB

00:44:38.955 --> 00:44:41.515
<v Speaker 0>Atlas cluster from the Teleport server.

00:44:43.275 --> 00:44:46.635
<v Speaker 0>So we've got a boom from Russell.

00:44:46.635 --> 00:44:48.235
<v Speaker 0>Yeah. I'm pretty happy that worked as well.

00:44:49.530 --> 00:44:51.370
<v Speaker 0>And a question from was, the Bind IP

00:44:51.370 --> 00:44:53.930
<v Speaker 0>on Atlas should match the Teleport server port.

00:44:53.930 --> 00:44:54.410
<v Speaker 0>Correct?

00:44:54.970 --> 00:44:57.290
<v Speaker 0>No. I said in the documentation, it it

00:44:57.290 --> 00:44:58.090
<v Speaker 0>didn't matter

00:44:58.570 --> 00:45:01.690
<v Speaker 0>about the the Bind IP address here because

00:45:02.664 --> 00:45:03.945
<v Speaker 0>we are

00:45:06.424 --> 00:45:09.785
<v Speaker 0>because we are actually giving MongoDB Atlas the

00:45:09.785 --> 00:45:12.185
<v Speaker 0>certificate authority generated by Teleport.

00:45:12.744 --> 00:45:15.065
<v Speaker 0>So there's kinda carte blanche access from that

00:45:15.065 --> 00:45:16.904
<v Speaker 0>point, and Teleport is just gonna work with

00:45:16.904 --> 00:45:17.625
<v Speaker 0>its own service.

00:45:18.800 --> 00:45:21.040
<v Speaker 0>So it doesn't matter if the certificate generated

00:45:21.040 --> 00:45:22.480
<v Speaker 0>doesn't have the same IP address, or it

00:45:22.480 --> 00:45:23.840
<v Speaker 0>doesn't have the same domain name.

00:45:26.720 --> 00:45:28.880
<v Speaker 0>Alright. Let's just do that

00:45:29.280 --> 00:45:30.560
<v Speaker 0>now that that's deployed.

00:45:31.055 --> 00:45:33.215
<v Speaker 0>Yeah. Okay. That still works. That's good.

00:45:34.895 --> 00:45:36.575
<v Speaker 0>I guess the real question is, will it

00:45:36.575 --> 00:45:37.135
<v Speaker 0>break?

00:45:38.895 --> 00:45:40.895
<v Speaker 0>If there's no network access, then my mom

00:45:40.895 --> 00:45:43.215
<v Speaker 0>would be cluster. If this still works, then

00:45:43.215 --> 00:45:44.895
<v Speaker 0>the last two things I did were absolute

00:45:44.895 --> 00:45:47.180
<v Speaker 0>pointless. But I'm still happy that we got

00:45:47.180 --> 00:45:49.260
<v Speaker 0>that configured. And again, really easy.

00:45:49.660 --> 00:45:52.700
<v Speaker 0>Just good documentation from the Teleport project.

00:45:53.580 --> 00:45:55.580
<v Speaker 0>I'm not winging anything else though.

00:45:56.060 --> 00:45:57.820
<v Speaker 0>Once we've tested this one, I just wanna

00:45:57.820 --> 00:45:59.100
<v Speaker 0>see this field hopefully,

00:45:59.420 --> 00:46:01.020
<v Speaker 0>and then I'm calling it quits for today.

00:46:03.445 --> 00:46:04.885
<v Speaker 0>It's not this thing seems

00:46:05.685 --> 00:46:06.405
<v Speaker 0>quite cool.

00:46:07.365 --> 00:46:09.365
<v Speaker 0>Not something I've played with a lot, but

00:46:09.365 --> 00:46:11.045
<v Speaker 0>it does have a free tier, which I'm

00:46:11.045 --> 00:46:12.565
<v Speaker 0>using right now, where I can just spin

00:46:12.565 --> 00:46:14.965
<v Speaker 0>up a MongoDB, like on a shared cluster,

00:46:15.445 --> 00:46:16.565
<v Speaker 0>which is pretty

00:46:16.645 --> 00:46:16.885
<v Speaker 0>cool.

00:46:19.619 --> 00:46:22.180
<v Speaker 0>All right. Configure, configure, configure.

00:46:25.780 --> 00:46:26.420
<v Speaker 0>I'm done.

00:46:31.815 --> 00:46:33.175
<v Speaker 0>Yeah. That's failing.

00:46:33.335 --> 00:46:34.295
<v Speaker 0>That's cool.

00:46:38.295 --> 00:46:40.855
<v Speaker 0>Timed out. And that's just because the server

00:46:41.255 --> 00:46:43.335
<v Speaker 0>now hasn't accepted access from anywhere. So I

00:46:43.335 --> 00:46:45.175
<v Speaker 0>could go back and add the IP address

00:46:45.175 --> 00:46:48.020
<v Speaker 0>of my Teleport server and that would work.

00:46:48.020 --> 00:46:49.220
<v Speaker 0>So that's pretty sweet.

00:46:52.340 --> 00:46:55.220
<v Speaker 0>There's a great closing comment from Russell. Teleport

00:46:55.220 --> 00:46:57.700
<v Speaker 0>securing the world. Definitely feels like it these

00:46:57.700 --> 00:46:58.420
<v Speaker 0>days, doesn't it?

00:47:00.385 --> 00:47:03.105
<v Speaker 0>Sweet. All right. That's it for today. We've

00:47:03.105 --> 00:47:05.184
<v Speaker 0>now done database access for Postgres, we've done

00:47:05.184 --> 00:47:07.265
<v Speaker 0>database access for MongoDB.

00:47:07.825 --> 00:47:09.984
<v Speaker 0>We will be back next week.

00:47:10.865 --> 00:47:13.619
<v Speaker 0>There'll be more tutorials as we dive into

00:47:13.619 --> 00:47:16.180
<v Speaker 0>some smaller concepts like GitHub authentication

00:47:16.180 --> 00:47:17.859
<v Speaker 0>on Teleport OSS.

00:47:19.220 --> 00:47:21.540
<v Speaker 0>So I'll be showing you how you can

00:47:21.859 --> 00:47:24.020
<v Speaker 0>you know, every time I've created a user

00:47:24.020 --> 00:47:25.940
<v Speaker 0>in Teleport, we've used this Teleport control and

00:47:25.940 --> 00:47:28.819
<v Speaker 0>created local users. We're gonna be using GitHub

00:47:28.635 --> 00:47:29.755
<v Speaker 0>and GitHub

00:47:30.075 --> 00:47:31.995
<v Speaker 0>teams within organizations

00:47:32.075 --> 00:47:33.995
<v Speaker 0>as a means to give access to our

00:47:33.995 --> 00:47:35.835
<v Speaker 0>servers. So we'll be checking that out next

00:47:35.835 --> 00:47:36.315
<v Speaker 0>week.

00:47:37.035 --> 00:47:38.795
<v Speaker 0>All right, thank you for joining me. I'll

00:47:38.795 --> 00:47:40.235
<v Speaker 0>post a few comments up as I say

00:47:40.235 --> 00:47:42.315
<v Speaker 0>goodbye, but always a pleasure. I'll see you

00:47:42.315 --> 00:47:44.500
<v Speaker 0>next week. Have a great weekend. Thank you.
