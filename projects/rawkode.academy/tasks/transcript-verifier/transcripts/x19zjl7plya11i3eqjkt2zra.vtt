WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: d5ad725c-c072-48a8-97b5-648eb8a51445
Created: 2025-04-29T17:02:48.791Z
Duration: 4833.3794
Channels: 1

00:01:21.710 --> 00:01:25.310
<v Speaker 0>Hello, and welcome back to Rawkode Academy. This

00:01:25.310 --> 00:01:27.549
<v Speaker 0>is a new episode of Custard.

00:01:28.215 --> 00:01:30.454
<v Speaker 0>I have been away for three

00:01:31.255 --> 00:01:33.414
<v Speaker 0>months, almost three months now. And so I

00:01:33.414 --> 00:01:34.615
<v Speaker 0>don't remember how to do any of this

00:01:34.615 --> 00:01:35.814
<v Speaker 0>live stream and stuff. I don't even know

00:01:35.814 --> 00:01:37.174
<v Speaker 0>if my little video is gonna pop up

00:01:37.174 --> 00:01:38.295
<v Speaker 0>at the bottom and stuff.

00:01:38.774 --> 00:01:41.430
<v Speaker 0>It's just been far too long. But today's

00:01:41.430 --> 00:01:43.270
<v Speaker 0>episode of Clustered, we have two great teams,

00:01:43.270 --> 00:01:45.030
<v Speaker 0>two very broken clusters, and we're gonna do

00:01:45.030 --> 00:01:46.310
<v Speaker 0>our best to work through all of those

00:01:46.310 --> 00:01:48.390
<v Speaker 0>fixes and get things jamming today.

00:01:48.790 --> 00:01:50.870
<v Speaker 0>Now, before I bring on our first team,

00:01:50.870 --> 00:01:52.870
<v Speaker 0>I wanna thank our sponsors for today's episode

00:01:52.870 --> 00:01:55.545
<v Speaker 0>of Clustered. Teleport have been sponsoring Clustered from

00:01:55.545 --> 00:01:57.625
<v Speaker 0>the very beginning. We've been using Teleport from

00:01:57.625 --> 00:01:59.785
<v Speaker 0>the very beginning and they recently started sponsoring

00:01:59.785 --> 00:02:02.265
<v Speaker 0>us. So Mads Props Teleport has been great

00:02:02.265 --> 00:02:04.345
<v Speaker 0>working with you. If you like what you

00:02:04.345 --> 00:02:06.120
<v Speaker 0>see as we use Teleport to debug and

00:02:06.120 --> 00:02:08.039
<v Speaker 0>fix these clusters today, you should just check

00:02:08.039 --> 00:02:09.880
<v Speaker 0>out rockode.liveteleport

00:02:09.880 --> 00:02:12.200
<v Speaker 0>to show your support. It really helps and

00:02:12.200 --> 00:02:14.520
<v Speaker 0>I will thank you much later. Also the

00:02:14.520 --> 00:02:16.920
<v Speaker 0>hardware has been provided by my former employer,

00:02:16.920 --> 00:02:19.025
<v Speaker 0>Equinix Metal. If you want to try it

00:02:19.025 --> 00:02:20.625
<v Speaker 0>bare metal cloud, you go

00:02:21.665 --> 00:02:23.665
<v Speaker 0>to metal.equinix.com.

00:02:23.665 --> 00:02:25.025
<v Speaker 0>And when you have an account, use the

00:02:25.025 --> 00:02:27.265
<v Speaker 0>code Rawkode, this will get you $200 of

00:02:27.265 --> 00:02:29.585
<v Speaker 0>credits to start kicking the tires. These are

00:02:29.585 --> 00:02:32.305
<v Speaker 0>some pretty nice and beefy machines. So

00:02:32.760 --> 00:02:34.600
<v Speaker 0>have some fun with them, I do.

00:02:35.400 --> 00:02:37.160
<v Speaker 0>All right, now we're going to meet our

00:02:37.160 --> 00:02:38.920
<v Speaker 0>first team for today.

00:02:39.480 --> 00:02:40.040
<v Speaker 0>Here

00:02:40.440 --> 00:02:42.440
<v Speaker 0>we go. You are all now live on

00:02:42.440 --> 00:02:44.040
<v Speaker 0>air. So mind what you see,

00:02:44.360 --> 00:02:47.345
<v Speaker 0>be polite, all that jazz. Can we start

00:02:47.345 --> 00:02:49.265
<v Speaker 0>at the top right? We'll start with you,

00:02:49.265 --> 00:02:50.945
<v Speaker 0>Christian. Just say hello, tell us who you

00:02:50.945 --> 00:02:53.025
<v Speaker 0>are, and then we'll move round clockwise.

00:02:53.505 --> 00:02:55.905
<v Speaker 1>Alright. Hello. My name is Christian Laxina, and

00:02:55.905 --> 00:02:58.305
<v Speaker 1>I'm with RXM LLC. We are a cloud

00:02:58.305 --> 00:02:59.585
<v Speaker 1>native training

00:03:00.140 --> 00:03:00.940
<v Speaker 1>and

00:03:02.380 --> 00:03:03.980
<v Speaker 1>and engineering company.

00:03:04.700 --> 00:03:05.500
<v Speaker 1>That's me.

00:03:06.780 --> 00:03:09.100
<v Speaker 2>Hi. I'm Christopher Hansen. I'm, one of the

00:03:09.100 --> 00:03:12.380
<v Speaker 2>instructors for RXM. I also I'm a cloud

00:03:13.115 --> 00:03:15.435
<v Speaker 2>happy to be here. Thanks for having us.

00:03:18.555 --> 00:03:20.955
<v Speaker 3>Good good evening and good morning. My name

00:03:20.955 --> 00:03:23.035
<v Speaker 3>is Ron Petty. I am also

00:03:23.515 --> 00:03:25.355
<v Speaker 3>an employee of RXM. I'm a consultant.

00:03:26.620 --> 00:03:28.780
<v Speaker 3>We we work on books and trainings and

00:03:28.780 --> 00:03:30.860
<v Speaker 3>we love Kubernetes and we're we're glad to

00:03:30.860 --> 00:03:32.300
<v Speaker 3>be here. Thanks for the opportunity.

00:03:33.900 --> 00:03:35.340
<v Speaker 0>I think I made a mistake.

00:03:36.620 --> 00:03:38.300
<v Speaker 0>I just went to my YouTube page and

00:03:38.300 --> 00:03:40.140
<v Speaker 0>I'm streaming to the wrong video. So how

00:03:40.140 --> 00:03:41.820
<v Speaker 0>wonderful is that for a start. Right?

00:03:43.075 --> 00:03:44.195
<v Speaker 1>Mother shit.

00:03:44.515 --> 00:03:46.915
<v Speaker 3>The first thing's been hacked. Yeah.

00:03:47.235 --> 00:03:49.395
<v Speaker 0>But the comments are coming from the the

00:03:49.395 --> 00:03:50.435
<v Speaker 0>right video.

00:03:52.435 --> 00:03:54.194
<v Speaker 0>Is this a bug with my streaming software?

00:03:57.950 --> 00:04:00.430
<v Speaker 1>Good question. Because I'm seeing the comments

00:04:00.750 --> 00:04:03.470
<v Speaker 0>from my video, but I'm very clearly streaming

00:04:03.470 --> 00:04:06.350
<v Speaker 0>to part seven of a teleport course. Alright.

00:04:06.350 --> 00:04:08.430
<v Speaker 0>I'm gonna hit finish. Just change over and

00:04:08.430 --> 00:04:08.910
<v Speaker 0>see what happens.

00:04:09.775 --> 00:04:10.735
<v Speaker 1>Alrighty.

00:04:12.495 --> 00:04:14.175
<v Speaker 0>Should burn my streaming software.

00:04:15.455 --> 00:04:16.335
<v Speaker 0>Alright.

00:04:17.774 --> 00:04:18.975
<v Speaker 1>So we get to do our things all

00:04:18.975 --> 00:04:20.895
<v Speaker 1>over again? Well, I've just pushed the live

00:04:20.895 --> 00:04:22.495
<v Speaker 0>button again. I'm gonna keep us here, and

00:04:22.495 --> 00:04:23.855
<v Speaker 0>then we're gonna see what the hell is

00:04:23.855 --> 00:04:25.295
<v Speaker 0>happening. I don't know what.

00:04:26.230 --> 00:04:28.389
<v Speaker 3>Here we got some comment rolling in now.

00:04:28.389 --> 00:04:29.350
<v Speaker 3>Russell. Hello.

00:04:31.110 --> 00:04:33.110
<v Speaker 1>Russell. Yeah. I'm gonna wait till I confirm

00:04:33.110 --> 00:04:35.190
<v Speaker 0>that it's working and then I'll There we

00:04:35.190 --> 00:04:37.830
<v Speaker 0>go. But it's off to a fantastic start,

00:04:37.830 --> 00:04:39.750
<v Speaker 0>I've gotta say. I'm really, really happy with

00:04:39.750 --> 00:04:39.990
<v Speaker 0>that.

00:04:43.865 --> 00:04:44.505
<v Speaker 0>Yeah.

00:04:53.145 --> 00:04:53.625
<v Speaker 0>Thanks for that.

00:04:56.310 --> 00:04:57.910
<v Speaker 0>It's still not coming through.

00:05:04.789 --> 00:05:05.750
<v Speaker 1>Do it live.

00:05:06.710 --> 00:05:09.590
<v Speaker 0>Alright. I'm just gonna post a comment

00:05:10.815 --> 00:05:11.535
<v Speaker 0>with

00:05:12.575 --> 00:05:16.015
<v Speaker 0>the other video because my streaming software is

00:05:17.375 --> 00:05:17.855
<v Speaker 0>YouTube

00:05:19.295 --> 00:05:20.335
<v Speaker 0>being weird.

00:05:21.055 --> 00:05:22.495
<v Speaker 1>Now we got a couple of top chats

00:05:22.495 --> 00:05:22.895
<v Speaker 1>already.

00:05:24.139 --> 00:05:26.540
<v Speaker 0>Yeah. So, I mean, the people are just

00:05:26.540 --> 00:05:27.900
<v Speaker 0>tuning in there. I have no idea what's

00:05:27.900 --> 00:05:29.660
<v Speaker 0>going on. The chat from

00:05:30.620 --> 00:05:33.900
<v Speaker 0>the real video is coming to my software,

00:05:34.139 --> 00:05:35.980
<v Speaker 0>but the stream is going

00:05:36.700 --> 00:05:37.740
<v Speaker 0>to a different video.

00:05:38.625 --> 00:05:40.785
<v Speaker 0>So I'm going to assume this is a

00:05:40.785 --> 00:05:42.785
<v Speaker 0>YouTube bug. I have no idea.

00:05:43.665 --> 00:05:44.785
<v Speaker 0>But we're just gonna roll with it now

00:05:44.785 --> 00:05:47.265
<v Speaker 0>and get started. I posted the video link

00:05:47.505 --> 00:05:48.865
<v Speaker 0>and it's come through on the same chat,

00:05:48.865 --> 00:05:49.905
<v Speaker 0>which is even weird.

00:05:50.225 --> 00:05:52.510
<v Speaker 0>But we're just gonna get started. There's 21

00:05:52.510 --> 00:05:54.190
<v Speaker 0>people waiting in the other video and I

00:05:54.190 --> 00:05:55.790
<v Speaker 0>hope they'll find their way over here.

00:05:56.350 --> 00:05:57.070
<v Speaker 0>Alright.

00:05:58.110 --> 00:05:58.750
<v Speaker 0>So

00:05:59.470 --> 00:06:00.830
<v Speaker 0>I'm gonna I'm gonna I'm gonna be really

00:06:00.830 --> 00:06:02.750
<v Speaker 0>horrible. I'm sorry. Could you all introduce yourselves

00:06:02.750 --> 00:06:04.430
<v Speaker 0>again and then we'll get started on today's

00:06:04.430 --> 00:06:04.750
<v Speaker 0>cluster?

00:06:05.265 --> 00:06:06.305
<v Speaker 1>No worries.

00:06:07.185 --> 00:06:08.705
<v Speaker 1>I guess I'll go ahead and get started.

00:06:08.705 --> 00:06:11.425
<v Speaker 1>My name is Christian Laxina. I'm with RXM,

00:06:11.505 --> 00:06:13.025
<v Speaker 1>and we are a cloud native training and

00:06:13.025 --> 00:06:13.985
<v Speaker 1>consulting company.

00:06:14.225 --> 00:06:15.505
<v Speaker 1>Happy to be here.

00:06:16.785 --> 00:06:18.305
<v Speaker 2>Yeah. Thanks for having us. My name is

00:06:18.305 --> 00:06:21.310
<v Speaker 2>Christopher Hansen. I'm also a team member at,

00:06:21.550 --> 00:06:24.910
<v Speaker 2>RXM. I'm a cloud native engineer and instructor.

00:06:26.110 --> 00:06:27.230
<v Speaker 2>Super excited.

00:06:29.230 --> 00:06:32.350
<v Speaker 3>Right on. And and the the third wheel.

00:06:32.830 --> 00:06:35.425
<v Speaker 3>My my name is Ron Petty. I'm a

00:06:35.425 --> 00:06:37.025
<v Speaker 3>consultant at RXM,

00:06:37.505 --> 00:06:39.585
<v Speaker 3>and I am also very excited to be

00:06:39.585 --> 00:06:40.065
<v Speaker 3>here.

00:06:40.945 --> 00:06:42.705
<v Speaker 0>Alright. Thank you all.

00:06:42.945 --> 00:06:44.385
<v Speaker 0>Alright. Well, I think we just dive straight

00:06:44.385 --> 00:06:46.385
<v Speaker 0>into this cluster. Let's see if we can

00:06:46.385 --> 00:06:49.060
<v Speaker 0>get this thing working. So this first cluster

00:06:49.060 --> 00:06:51.940
<v Speaker 0>is from our second team who are at

00:06:51.940 --> 00:06:53.060
<v Speaker 0>Raft Tech.

00:06:53.380 --> 00:06:55.540
<v Speaker 0>I'm going to pop my screen up here

00:06:56.660 --> 00:06:58.660
<v Speaker 0>and we have our teleport session.

00:06:59.335 --> 00:07:00.854
<v Speaker 0>I'm going to click connect

00:07:00.935 --> 00:07:02.615
<v Speaker 0>and open a

00:07:03.335 --> 00:07:04.535
<v Speaker 0>root terminal

00:07:04.615 --> 00:07:06.935
<v Speaker 0>on our control plane node. Now, if you

00:07:06.935 --> 00:07:08.694
<v Speaker 0>can all go to activity

00:07:08.694 --> 00:07:10.935
<v Speaker 0>and active sessions and join this, and once

00:07:10.935 --> 00:07:13.414
<v Speaker 0>you're in, if you just type echo, hello,

00:07:13.414 --> 00:07:15.550
<v Speaker 0>whatever, let me know that you're there. Can

00:07:15.550 --> 00:07:17.550
<v Speaker 0>see we've got one more person connected,

00:07:18.270 --> 00:07:19.230
<v Speaker 0>two more,

00:07:21.150 --> 00:07:23.789
<v Speaker 0>you know, yep, four, there we go. Perfect.

00:07:23.789 --> 00:07:25.310
<v Speaker 0>So we're all in the same session.

00:07:25.949 --> 00:07:27.389
<v Speaker 0>This would be a good time for you

00:07:27.389 --> 00:07:30.635
<v Speaker 0>to configure your KubeConfig and test to see

00:07:30.635 --> 00:07:32.155
<v Speaker 0>if we have an API server.

00:07:32.315 --> 00:07:33.755
<v Speaker 0>I'll let you all take it from here,

00:07:33.755 --> 00:07:34.635
<v Speaker 0>but have

00:07:34.795 --> 00:07:36.235
<v Speaker 0>fun and best of luck.

00:07:37.035 --> 00:07:38.635
<v Speaker 1>Alrighty. Thanks. Thank you, David.

00:07:40.650 --> 00:07:43.690
<v Speaker 1>So Alright. Let's go ahead and, get ourselves

00:07:43.690 --> 00:07:44.490
<v Speaker 1>going.

00:07:44.490 --> 00:07:46.730
<v Speaker 1>I believe there should be an export statement.

00:07:46.730 --> 00:07:49.130
<v Speaker 1>Nope. Let's, we don't have an export statement.

00:07:49.130 --> 00:07:51.290
<v Speaker 1>So let's go ahead and

00:07:51.690 --> 00:07:53.130
<v Speaker 1>do config view.

00:07:54.065 --> 00:07:56.385
<v Speaker 1>So, basically, what's happening here right now is

00:07:56.385 --> 00:07:58.625
<v Speaker 1>it looks like my kubectl is being pointed

00:07:58.625 --> 00:07:59.905
<v Speaker 1>to the correct well,

00:08:00.465 --> 00:08:02.305
<v Speaker 1>yeah, it's being pointed to the correct file,

00:08:02.305 --> 00:08:04.705
<v Speaker 1>but I don't seem to actually have, well,

00:08:04.785 --> 00:08:06.625
<v Speaker 1>the ability to access it.

00:08:07.025 --> 00:08:07.265
<v Speaker 1>So

00:08:08.410 --> 00:08:09.690
<v Speaker 1>let's see here.

00:08:10.570 --> 00:08:11.370
<v Speaker 1>Okay.

00:08:14.090 --> 00:08:14.890
<v Speaker 3>Oh.

00:08:17.610 --> 00:08:19.690
<v Speaker 1>Looks like the config is belonging to root.

00:08:19.690 --> 00:08:21.130
<v Speaker 1>I just happen to be root as well.

00:08:21.130 --> 00:08:21.850
<v Speaker 1>It's read write.

00:08:23.485 --> 00:08:25.405
<v Speaker 3>It's not in the path. It's a little

00:08:25.405 --> 00:08:26.605
<v Speaker 3>weird. Which

00:08:27.085 --> 00:08:28.285
<v Speaker 3>keeps CTL.

00:08:29.645 --> 00:08:30.445
<v Speaker 3>Alright.

00:08:32.525 --> 00:08:34.924
<v Speaker 3>And it's not an alias

00:08:35.725 --> 00:08:37.165
<v Speaker 3>unless I'm missing it.

00:08:38.470 --> 00:08:39.190
<v Speaker 1>Nope.

00:08:39.990 --> 00:08:41.190
<v Speaker 1>Doesn't appear to be.

00:08:41.990 --> 00:08:43.750
<v Speaker 3>Well, what does that

00:08:44.870 --> 00:08:46.150
<v Speaker 3>that mean?

00:08:46.790 --> 00:08:47.670
<v Speaker 3>Alright.

00:08:48.070 --> 00:08:49.510
<v Speaker 3>So it's not an alias.

00:08:51.285 --> 00:08:52.885
<v Speaker 3>It's so it would normally be, like, user

00:08:52.885 --> 00:08:54.725
<v Speaker 3>bin kubectl.

00:08:54.885 --> 00:08:56.805
<v Speaker 3>Let's be pedantic here.

00:09:00.005 --> 00:09:02.964
<v Speaker 3>It is there, but no permission. No permissions.

00:09:02.964 --> 00:09:03.285
<v Speaker 1>Interesting.

00:09:07.149 --> 00:09:08.190
<v Speaker 3>User

00:09:08.269 --> 00:09:10.190
<v Speaker 3>and KubeCTL.

00:09:12.269 --> 00:09:15.390
<v Speaker 3>Which KubeCTL?

00:09:16.910 --> 00:09:18.430
<v Speaker 3>We're almost back to life.

00:09:19.725 --> 00:09:21.005
<v Speaker 3>Maybe. We'll see.

00:09:22.605 --> 00:09:23.725
<v Speaker 3>Alright. Alright.

00:09:24.685 --> 00:09:25.885
<v Speaker 3>Now now, Christian,

00:09:26.524 --> 00:09:27.725
<v Speaker 3>export. Go.

00:09:28.125 --> 00:09:29.485
<v Speaker 1>Alright. So

00:09:30.045 --> 00:09:31.964
<v Speaker 1>we'll do we'll then do the export or

00:09:31.964 --> 00:09:34.589
<v Speaker 1>cube config. So, usually, I believe these are

00:09:34.589 --> 00:09:37.550
<v Speaker 1>cube ADM clusters. Right? So let's see. If

00:09:37.550 --> 00:09:39.709
<v Speaker 1>I do l s minus l or well,

00:09:39.709 --> 00:09:41.790
<v Speaker 1>I am rude, actually. Etsy

00:09:42.190 --> 00:09:45.389
<v Speaker 1>let's see. Kubernetes. Okay. Etsy cube ADM. Is

00:09:45.389 --> 00:09:45.709
<v Speaker 1>that correct?

00:09:46.795 --> 00:09:49.595
<v Speaker 1>Ron and Chris, go ahead and yeah. Oh,

00:09:49.595 --> 00:09:50.315
<v Speaker 3>here. Let me

00:09:51.115 --> 00:09:53.995
<v Speaker 3>yeah. It should be a Etsy Kubernetes

00:09:54.395 --> 00:09:56.395
<v Speaker 3>admin. So there's that. So then if you

00:09:56.395 --> 00:09:59.835
<v Speaker 3>do export equals That's right. Let's see.

00:10:00.475 --> 00:10:01.275
<v Speaker 3>ADM.

00:10:02.790 --> 00:10:03.590
<v Speaker 3>Enter.

00:10:03.590 --> 00:10:04.870
<v Speaker 3>And then kubectl

00:10:04.870 --> 00:10:06.230
<v Speaker 3>get pods.

00:10:06.790 --> 00:10:09.670
<v Speaker 1>Oh, it's export cube config. There we go.

00:10:10.070 --> 00:10:11.030
<v Speaker 4>Oh, yep.

00:10:12.070 --> 00:10:13.670
<v Speaker 4>One one one would break.

00:10:14.230 --> 00:10:14.870
<v Speaker 4>Yeah. Yeah.

00:10:15.444 --> 00:10:17.524
<v Speaker 1>So for the audience, what we're doing is,

00:10:17.605 --> 00:10:19.925
<v Speaker 1>we're actually pointing our KubeConfig

00:10:20.084 --> 00:10:23.444
<v Speaker 1>our KubeCuddle to use the admin KubeConfig.

00:10:23.685 --> 00:10:25.125
<v Speaker 1>This is actually something you can only do

00:10:25.125 --> 00:10:25.925
<v Speaker 1>as root.

00:10:26.404 --> 00:10:28.800
<v Speaker 1>So let's see here. It doesn't look like

00:10:28.800 --> 00:10:31.520
<v Speaker 1>the admin conf is working at this point.

00:10:31.520 --> 00:10:32.400
<v Speaker 1>Interesting.

00:10:32.960 --> 00:10:33.600
<v Speaker 1>So

00:10:35.440 --> 00:10:36.640
<v Speaker 1>let's see here.

00:10:40.000 --> 00:10:40.400
<v Speaker 1>No.

00:10:41.225 --> 00:10:42.584
<v Speaker 1>Ron, let's see if we act

00:10:43.384 --> 00:10:45.545
<v Speaker 1>Let let's see if we actually got the

00:10:45.545 --> 00:10:46.265
<v Speaker 1>correct

00:10:46.904 --> 00:10:48.185
<v Speaker 1>oh, what is that?

00:10:48.824 --> 00:10:50.265
<v Speaker 1>Oh, okay.

00:10:51.065 --> 00:10:52.505
<v Speaker 1>So let's see if we actually have the

00:10:52.505 --> 00:10:54.904
<v Speaker 1>correct environment variable name. What do you think,

00:10:54.904 --> 00:10:55.785
<v Speaker 1>Ron or Chris?

00:10:58.620 --> 00:11:00.300
<v Speaker 3>Yeah. But I'm

00:11:00.300 --> 00:11:01.660
<v Speaker 3>pretty sure that was right.

00:11:02.220 --> 00:11:03.660
<v Speaker 1>Yeah. It seems that way.

00:11:04.300 --> 00:11:05.820
<v Speaker 3>I mean, we could be a little more

00:11:07.899 --> 00:11:08.860
<v Speaker 1>Yeah. Yeah. That's true.

00:11:11.305 --> 00:11:12.025
<v Speaker 3>Or

00:11:12.185 --> 00:11:13.945
<v Speaker 3>Etsy Kubernetes.

00:11:14.425 --> 00:11:15.465
<v Speaker 5>I'm like, I can

00:11:16.265 --> 00:11:17.305
<v Speaker 3>I

00:11:17.305 --> 00:11:17.945
<v Speaker 3>can spell? Okay.

00:11:23.220 --> 00:11:24.579
<v Speaker 3>And I mean, one well, I mean, it's

00:11:24.579 --> 00:11:26.339
<v Speaker 3>clearly reading it. I I guess I guess

00:11:26.339 --> 00:11:27.699
<v Speaker 3>I was being dumb there. It is reading

00:11:27.699 --> 00:11:29.060
<v Speaker 3>it because it wouldn't have the IP address

00:11:29.060 --> 00:11:30.819
<v Speaker 3>otherwise. Right? So That's

00:11:32.019 --> 00:11:34.579
<v Speaker 3>Yeah. I'm I'm I'm afraid

00:11:34.740 --> 00:11:36.500
<v Speaker 3>to oh, no. I I turned off my

00:11:36.500 --> 00:11:38.420
<v Speaker 3>plug in, so this teleport here should should

00:11:38.420 --> 00:11:39.835
<v Speaker 3>work here. So let's take a

00:11:40.475 --> 00:11:41.915
<v Speaker 3>over a few. Is

00:11:42.955 --> 00:11:45.915
<v Speaker 3>that the IP of this machine? Yeah. That's

00:11:45.915 --> 00:11:47.435
<v Speaker 2>what I was gonna check too.

00:11:49.595 --> 00:11:52.860
<v Speaker 3>144492866443.

00:11:52.860 --> 00:11:55.740
<v Speaker 3>So let's just try Telnet. 136.

00:11:55.740 --> 00:11:58.700
<v Speaker 0>So the IP address is a BGP advertised

00:11:58.700 --> 00:12:00.300
<v Speaker 0>address to this machine.

00:12:02.220 --> 00:12:03.980
<v Speaker 0>I think it's safe to say that it

00:12:03.980 --> 00:12:04.460
<v Speaker 0>is correct.

00:12:07.445 --> 00:12:10.565
<v Speaker 3>Yep. So HTTP or yep. And then

00:12:11.685 --> 00:12:12.885
<v Speaker 3>TLS.

00:12:13.445 --> 00:12:14.325
<v Speaker 3>So

00:12:14.405 --> 00:12:15.765
<v Speaker 3>that would imply

00:12:16.805 --> 00:12:18.405
<v Speaker 3>oh, let's see. Crap.

00:12:20.380 --> 00:12:22.140
<v Speaker 3>Sorry. So PS,

00:12:23.100 --> 00:12:24.300
<v Speaker 3>Waxa,

00:12:24.300 --> 00:12:25.100
<v Speaker 3>Grep,

00:12:25.260 --> 00:12:26.620
<v Speaker 3>Cube API.

00:12:27.339 --> 00:12:29.180
<v Speaker 0>I always love to see which parameters people

00:12:29.180 --> 00:12:31.019
<v Speaker 0>use with PS. Well, nobody seems to use

00:12:31.019 --> 00:12:32.140
<v Speaker 0>the same one twice.

00:12:32.459 --> 00:12:34.860
<v Speaker 2>So look at the advertised address there.

00:12:36.515 --> 00:12:39.955
<v Speaker 1>Yeah. That ain't, that's not correct. That's, well,

00:12:40.115 --> 00:12:42.515
<v Speaker 1>it's, it looks like that's the local address.

00:12:43.075 --> 00:12:44.755
<v Speaker 3>Yeah. So let's just take a look there.

00:12:44.755 --> 00:12:50.520
<v Speaker 3>So, 10 Dot 25212133.

00:12:50.520 --> 00:12:52.280
<v Speaker 3>So that should be okay.

00:12:52.760 --> 00:12:54.040
<v Speaker 1>Okay. Then

00:12:56.520 --> 00:12:56.920
<v Speaker 3>it

00:12:57.400 --> 00:12:58.839
<v Speaker 3>where's the HTTPS

00:12:58.839 --> 00:12:59.720
<v Speaker 3>privileged

00:12:59.880 --> 00:13:02.405
<v Speaker 3>stuff? Alright. So many settings.

00:13:06.965 --> 00:13:07.925
<v Speaker 3>Well, privileged

00:13:09.525 --> 00:13:10.485
<v Speaker 3>author.

00:13:10.645 --> 00:13:12.165
<v Speaker 3>I really have a hard time reading these

00:13:12.165 --> 00:13:13.445
<v Speaker 3>multilayer things.

00:13:14.005 --> 00:13:14.325
<v Speaker 3>Find

00:13:17.090 --> 00:13:19.170
<v Speaker 3>Where's the setting to enable TLS

00:13:20.450 --> 00:13:22.050
<v Speaker 3>or disable? I can't

00:13:23.970 --> 00:13:26.290
<v Speaker 1>Let's see. Oh, yeah. The secure report is

00:13:26.290 --> 00:13:28.370
<v Speaker 1>actually there. So minus my secure report is

00:13:28.370 --> 00:13:30.175
<v Speaker 1>in there. Ideally,

00:13:30.335 --> 00:13:32.575
<v Speaker 1>insecure report should be absent here for you

00:13:32.575 --> 00:13:33.935
<v Speaker 1>security minded folks.

00:13:34.895 --> 00:13:36.895
<v Speaker 1>And I don't think I see that. I

00:13:36.895 --> 00:13:38.415
<v Speaker 2>wanna move that if you guys are reading.

00:13:38.415 --> 00:13:38.895
<v Speaker 2>But

00:13:41.055 --> 00:13:41.375
<v Speaker 1>yeah.

00:13:43.660 --> 00:13:44.940
<v Speaker 1>Yeah. Go for it.

00:13:51.899 --> 00:13:52.860
<v Speaker 3>Chris, what was So

00:13:53.579 --> 00:13:55.180
<v Speaker 2>oh, I just was looking. I just wanna

00:13:55.180 --> 00:13:56.714
<v Speaker 2>look at the YAML file. It's a little

00:13:56.714 --> 00:13:58.154
<v Speaker 2>bit easier to read the flags.

00:13:58.795 --> 00:14:00.235
<v Speaker 0>It's best to put it through a pager

00:14:00.235 --> 00:14:01.834
<v Speaker 0>just so that we can follow the Yeah.

00:14:01.995 --> 00:14:03.595
<v Speaker 0>Line of sight as well rather than we

00:14:03.595 --> 00:14:05.035
<v Speaker 0>have to scroll to where I think you

00:14:05.035 --> 00:14:05.755
<v Speaker 0>are. So

00:14:06.235 --> 00:14:08.394
<v Speaker 2>Fair enough. I'm looking at the flags right

00:14:08.394 --> 00:14:09.675
<v Speaker 2>now. Yeah. Perfect.

00:14:11.700 --> 00:14:12.660
<v Speaker 3>Alrighty.

00:14:15.460 --> 00:14:17.700
<v Speaker 1>So our advertised address is different

00:14:18.100 --> 00:14:20.180
<v Speaker 1>from what's in the KubeConfig,

00:14:20.180 --> 00:14:21.060
<v Speaker 1>so it seems.

00:14:21.460 --> 00:14:22.740
<v Speaker 1>At least it should be.

00:14:23.540 --> 00:14:24.420
<v Speaker 3>Oh, yes.

00:14:25.085 --> 00:14:27.485
<v Speaker 3>Yeah. So maybe just switch this, you're saying?

00:14:27.805 --> 00:14:29.965
<v Speaker 1>Yeah. Give it a shot. Yeah.

00:14:30.365 --> 00:14:32.765
<v Speaker 3>Yeah. Okay. So

00:14:33.085 --> 00:14:34.365
<v Speaker 1>what was it? 10 dot

00:14:35.965 --> 00:14:38.125
<v Speaker 3>I copied it. You can scroll up. Yeah.

00:14:39.370 --> 00:14:40.970
<v Speaker 3>Not cool. This is I meant

00:14:41.850 --> 00:14:44.329
<v Speaker 2>This is the 1361444928

00:14:44.329 --> 00:14:45.450
<v Speaker 2>numbers over here.

00:14:46.810 --> 00:14:48.889
<v Speaker 2>Gotta be interesting.

00:14:48.889 --> 00:14:49.450
<v Speaker 3>No.

00:14:50.970 --> 00:14:51.449
<v Speaker 3>Stop.

00:14:52.805 --> 00:14:55.205
<v Speaker 3>Alright. Add it here. Read.

00:14:55.685 --> 00:14:56.325
<v Speaker 3>Write.

00:14:56.965 --> 00:14:57.525
<v Speaker 3>What?

00:14:58.405 --> 00:15:01.045
<v Speaker 3>Uh-oh. What's going on here? I'm gonna sledgehammer

00:15:01.045 --> 00:15:02.405
<v Speaker 3>this because I'm I'm simple.

00:15:07.320 --> 00:15:08.120
<v Speaker 3>Oh,

00:15:10.760 --> 00:15:13.320
<v Speaker 3>come on. Is this the Oh. Is it

00:15:13.480 --> 00:15:14.360
<v Speaker 3>is AppArmor

00:15:15.240 --> 00:15:16.920
<v Speaker 1>No. Did they disable

00:15:17.320 --> 00:15:19.080
<v Speaker 1>did they disable our VI

00:15:19.464 --> 00:15:21.945
<v Speaker 0>as well? No. The professions of VI. Oh,

00:15:21.945 --> 00:15:23.465
<v Speaker 3>come on. They they did.

00:15:23.865 --> 00:15:24.665
<v Speaker 3>Those dirty

00:15:25.145 --> 00:15:26.105
<v Speaker 3>dirty

00:15:26.345 --> 00:15:26.825
<v Speaker 3>who

00:15:27.945 --> 00:15:30.505
<v Speaker 3>would hurt VI? Just use Emacs. What?

00:15:30.985 --> 00:15:32.505
<v Speaker 3>Well, they'll never get out of it.

00:15:37.720 --> 00:15:40.520
<v Speaker 3>Alright. User bin. I'm gonna guess it's

00:15:41.560 --> 00:15:42.440
<v Speaker 3>alternative.

00:15:43.320 --> 00:15:44.200
<v Speaker 3>Alright.

00:15:45.800 --> 00:15:47.160
<v Speaker 3>Etsy alternatives.

00:15:48.695 --> 00:15:50.215
<v Speaker 3>Let me guess. It's it's gonna go to,

00:15:50.215 --> 00:15:50.695
<v Speaker 3>like

00:15:52.455 --> 00:15:53.655
<v Speaker 3>user. Oh my god.

00:15:55.175 --> 00:15:56.135
<v Speaker 3>User.

00:16:00.455 --> 00:16:02.135
<v Speaker 3>And not basic. Oh my god. All these

00:16:02.135 --> 00:16:02.695
<v Speaker 3>aliases.

00:16:03.390 --> 00:16:05.790
<v Speaker 3>There we go. CH mod

00:16:06.190 --> 00:16:08.190
<v Speaker 3>seven zero zero user.

00:16:08.350 --> 00:16:11.230
<v Speaker 3>Thirty. I don't I thought I like GoRaft

00:16:11.230 --> 00:16:12.510
<v Speaker 3>as a team, but I don't know. You

00:16:12.510 --> 00:16:14.110
<v Speaker 3>mess with them. You you mess with my

00:16:14.110 --> 00:16:14.430
<v Speaker 3>family.

00:16:16.535 --> 00:16:20.135
<v Speaker 3>Alright. Did that work? Hey. We're alive. Alright.

00:16:21.495 --> 00:16:22.455
<v Speaker 3>Kubernetes.

00:16:24.295 --> 00:16:26.375
<v Speaker 3>Copied something into my buffer, so I'm thinking

00:16:26.375 --> 00:16:27.335
<v Speaker 3>I'm gonna bork this.

00:16:29.920 --> 00:16:30.880
<v Speaker 3>Oh, no.

00:16:32.400 --> 00:16:35.280
<v Speaker 3>I locked out. My plug in hold on.

00:16:35.280 --> 00:16:37.360
<v Speaker 3>Let me it's this plug in. Let me

00:16:38.160 --> 00:16:40.240
<v Speaker 3>add add a rules, save changes.

00:16:42.895 --> 00:16:44.735
<v Speaker 3>Ernie, my plug ins my plug in is

00:16:44.735 --> 00:16:46.575
<v Speaker 3>a VI plug in for Chrome.

00:16:48.654 --> 00:16:50.335
<v Speaker 3>What was the IP again?

00:16:51.214 --> 00:16:52.415
<v Speaker 2>Oh, man.

00:16:52.735 --> 00:16:54.575
<v Speaker 3>There oh, I do have it. Alright. Hey.

00:17:03.140 --> 00:17:04.339
<v Speaker 1>6443.

00:17:04.339 --> 00:17:05.619
<v Speaker 3>Oh, wait. We we

00:17:05.940 --> 00:17:07.700
<v Speaker 3>we can't use comments.

00:17:10.180 --> 00:17:11.779
<v Speaker 3>No. That's lovely.

00:17:11.780 --> 00:17:13.140
<v Speaker 3>Alright. So I get.

00:17:16.234 --> 00:17:17.274
<v Speaker 1>Let's see.

00:17:18.234 --> 00:17:21.994
<v Speaker 3>Alright. And 2562.

00:17:21.994 --> 00:17:23.755
<v Speaker 3>Make sure nothing else has changed in the

00:17:23.755 --> 00:17:25.595
<v Speaker 3>meantime. 6443.

00:17:28.380 --> 00:17:29.660
<v Speaker 1>Is refused.

00:17:29.980 --> 00:17:30.540
<v Speaker 1>Interesting.

00:17:30.860 --> 00:17:31.500
<v Speaker 3>Stat.

00:17:32.220 --> 00:17:32.940
<v Speaker 3>Nothing

00:17:36.540 --> 00:17:38.460
<v Speaker 3>is listed on 6443.

00:17:39.260 --> 00:17:42.184
<v Speaker 3>Yeah. Alright. So what happened there? So I

00:17:42.184 --> 00:17:43.144
<v Speaker 3>think we need the

00:17:44.424 --> 00:17:45.705
<v Speaker 3>more observational

00:17:45.705 --> 00:17:46.904
<v Speaker 3>view here.

00:17:49.065 --> 00:17:51.065
<v Speaker 3>So Airport 6443.

00:17:51.144 --> 00:17:52.904
<v Speaker 3>Where'd you say you saw the insecure?

00:17:54.400 --> 00:17:56.480
<v Speaker 1>Oh, I I don't think it I don't

00:17:56.480 --> 00:17:58.720
<v Speaker 1>think it was there. Truly. Yeah. It's not

00:17:58.720 --> 00:17:59.279
<v Speaker 1>there.

00:18:00.880 --> 00:18:02.559
<v Speaker 1>Let's see. I think I think it was

00:18:02.640 --> 00:18:04.080
<v Speaker 2>he was just using

00:18:04.960 --> 00:18:06.000
<v Speaker 2>just talking

00:18:07.774 --> 00:18:10.815
<v Speaker 2>for education purposes. You know? It shouldn't be

00:18:10.815 --> 00:18:11.374
<v Speaker 2>on.

00:18:11.934 --> 00:18:14.174
<v Speaker 2>That's the teacher in in Christian.

00:18:14.894 --> 00:18:15.934
<v Speaker 2>Yeah. Alright.

00:18:18.894 --> 00:18:19.294
<v Speaker 1>So

00:18:19.870 --> 00:18:21.870
<v Speaker 1>we are secure port 6443.

00:18:21.870 --> 00:18:23.549
<v Speaker 1>So it should be,

00:18:24.029 --> 00:18:24.429
<v Speaker 1>doing

00:18:26.350 --> 00:18:26.989
<v Speaker 1>now,

00:18:27.470 --> 00:18:28.109
<v Speaker 1>usually,

00:18:28.270 --> 00:18:30.350
<v Speaker 1>doesn't the, Kube API server run on the

00:18:30.350 --> 00:18:31.229
<v Speaker 1>host network?

00:18:31.549 --> 00:18:33.630
<v Speaker 1>So can we check if this has,

00:18:33.950 --> 00:18:34.909
<v Speaker 1>host network true?

00:18:36.914 --> 00:18:39.155
<v Speaker 3>Yes.

00:18:39.155 --> 00:18:39.955
<v Speaker 3>One

00:18:40.115 --> 00:18:40.994
<v Speaker 3>second.

00:18:42.674 --> 00:18:43.315
<v Speaker 3>Go.

00:18:46.115 --> 00:18:49.715
<v Speaker 3>And host network is true. Alright. So it's

00:18:48.910 --> 00:18:49.789
<v Speaker 1>definitely

00:18:49.790 --> 00:18:51.790
<v Speaker 1>it should be listening on that address and

00:18:51.790 --> 00:18:53.790
<v Speaker 1>that port. Yeah. Let's take a look at

00:18:53.790 --> 00:18:54.669
<v Speaker 3>the logs.

00:18:56.670 --> 00:18:58.110
<v Speaker 3>Oh, wait a minute. We can't connect it,

00:18:58.110 --> 00:18:59.870
<v Speaker 3>so we have to do tail

00:18:59.870 --> 00:19:00.830
<v Speaker 3>dash

00:19:00.910 --> 00:19:01.310
<v Speaker 3>whatever.

00:19:02.695 --> 00:19:04.935
<v Speaker 3>Oh, it's just tail at the start. Var

00:19:04.935 --> 00:19:05.735
<v Speaker 3>log

00:19:06.375 --> 00:19:08.294
<v Speaker 3>Kubernetes.

00:19:08.775 --> 00:19:09.255
<v Speaker 3>Yeah.

00:19:11.095 --> 00:19:11.575
<v Speaker 0>Done.

00:19:15.130 --> 00:19:16.970
<v Speaker 3>Failed to con

00:19:17.770 --> 00:19:20.970
<v Speaker 3>two, three oh, etcd. A local host. Yeah.

00:19:21.130 --> 00:19:23.129
<v Speaker 0>Everybody's favorite component.

00:19:24.650 --> 00:19:25.049
<v Speaker 0>So

00:19:25.929 --> 00:19:27.049
<v Speaker 3>I'll make sure it's yeah.

00:19:28.809 --> 00:19:30.490
<v Speaker 2>No. It's not. No etcd.

00:19:32.144 --> 00:19:33.584
<v Speaker 3>What's going on here?

00:19:36.225 --> 00:19:37.745
<v Speaker 1>Let's check it for the Do have the

00:19:37.745 --> 00:19:40.304
<v Speaker 2>manifest is in there? Yep. Yep. Yep.

00:19:45.720 --> 00:19:47.880
<v Speaker 2>It's there. Let's see if the but let's

00:19:47.880 --> 00:19:49.239
<v Speaker 1>see if it's actually valid.

00:19:49.720 --> 00:19:51.960
<v Speaker 3>Or read only or n empty.

00:19:53.320 --> 00:19:55.559
<v Speaker 3>K. So v or let's

00:19:57.320 --> 00:19:58.360
<v Speaker 3>cat

00:19:58.440 --> 00:19:59.880
<v Speaker 3>Etsy Kubernetes.

00:20:02.934 --> 00:20:05.494
<v Speaker 3>Alright.

00:20:11.895 --> 00:20:13.174
<v Speaker 1>And it's advertising

00:20:13.590 --> 00:20:16.309
<v Speaker 1>it's not advertising on the local host. It

00:20:16.309 --> 00:20:18.549
<v Speaker 1>appears to be advertising on the

00:20:22.549 --> 00:20:24.309
<v Speaker 1>on the node's IP.

00:20:25.029 --> 00:20:27.445
<v Speaker 1>See that first flag up there, Ron, on

00:20:27.445 --> 00:20:30.645
<v Speaker 1>advertised client? Oh, that's client URLs. Excuse me.

00:20:31.525 --> 00:20:33.445
<v Speaker 3>Yeah. So hold on. We should if it's

00:20:33.445 --> 00:20:35.285
<v Speaker 3>not starting, there should be a log somewhere.

00:20:35.285 --> 00:20:35.765
<v Speaker 3>Right?

00:20:36.645 --> 00:20:39.285
<v Speaker 3>So Etsy use log should be a pod,

00:20:39.445 --> 00:20:41.445
<v Speaker 3>but we can't get to the API server,

00:20:41.605 --> 00:20:44.060
<v Speaker 3>or can we? So so this is a

00:20:44.060 --> 00:20:46.860
<v Speaker 3>static pod. So where do static pod logs

00:20:46.860 --> 00:20:47.500
<v Speaker 3>go?

00:20:49.500 --> 00:20:49.980
<v Speaker 3>They

00:20:51.100 --> 00:20:52.940
<v Speaker 3>do they always go to

00:20:54.860 --> 00:20:57.980
<v Speaker 3>do we just not think about

00:20:57.184 --> 00:20:58.304
<v Speaker 3>this? Is it

00:20:59.745 --> 00:21:00.384
<v Speaker 3>alright.

00:21:02.465 --> 00:21:03.825
<v Speaker 3>There's at CDs.

00:21:05.105 --> 00:21:07.184
<v Speaker 3>See, no such directory.

00:21:07.265 --> 00:21:10.865
<v Speaker 3>Oh, let me guess. We've port our certs.

00:21:11.660 --> 00:21:13.900
<v Speaker 3>Okay. So let's take a look at this

00:21:13.900 --> 00:21:14.379
<v Speaker 3>guy.

00:21:16.780 --> 00:21:22.059
<v Speaker 3>What's

00:21:22.059 --> 00:21:22.700
<v Speaker 3>in there?

00:21:23.419 --> 00:21:24.299
<v Speaker 3>Okay.

00:21:24.780 --> 00:21:27.784
<v Speaker 1>So it'd be peer, that cert. Or

00:21:27.785 --> 00:21:28.424
<v Speaker 1>well

00:21:30.025 --> 00:21:31.225
<v Speaker 3>So

00:21:32.425 --> 00:21:34.025
<v Speaker 3>well, let's see if it's just hidden or

00:21:34.025 --> 00:21:34.585
<v Speaker 3>something.

00:21:34.985 --> 00:21:35.625
<v Speaker 3>Or

00:21:40.905 --> 00:21:42.745
<v Speaker 3>wait a minute. Client is

00:21:43.880 --> 00:21:45.720
<v Speaker 3>sorry. Let me use my brain here. So

00:21:45.720 --> 00:21:47.400
<v Speaker 3>this is FCD that's failing to start because

00:21:47.400 --> 00:21:49.080
<v Speaker 3>it can't find it for client

00:21:49.240 --> 00:21:50.200
<v Speaker 3>client.

00:21:50.440 --> 00:21:52.039
<v Speaker 3>I guess we could just use a peer

00:21:52.039 --> 00:21:53.000
<v Speaker 3>cert. What is

00:21:54.600 --> 00:21:55.559
<v Speaker 3>as long as they all have the same

00:21:55.559 --> 00:21:58.045
<v Speaker 3>CA, it shouldn't matter. Right? Right.

00:21:58.205 --> 00:21:59.965
<v Speaker 2>Well, yeah, we don't really care about the

00:21:59.965 --> 00:22:00.605
<v Speaker 2>clients.

00:22:01.245 --> 00:22:02.845
<v Speaker 3>Yeah. Right. We don't care about the clients,

00:22:02.845 --> 00:22:05.245
<v Speaker 3>but let's check that out, the API server

00:22:05.485 --> 00:22:07.965
<v Speaker 2>real quick. The client cert, though. So

00:22:10.440 --> 00:22:11.080
<v Speaker 3>Yeah.

00:22:12.120 --> 00:22:13.720
<v Speaker 3>It's a redial probably because it can't talk

00:22:13.720 --> 00:22:14.519
<v Speaker 3>to that CD.

00:22:15.720 --> 00:22:17.239
<v Speaker 3>So this guy

00:22:18.120 --> 00:22:19.559
<v Speaker 3>let's see. What is he using?

00:22:20.360 --> 00:22:22.600
<v Speaker 1>API server at CD client.

00:22:22.840 --> 00:22:24.679
<v Speaker 3>Client cert.

00:22:30.975 --> 00:22:32.975
<v Speaker 3>My god. I'm having a brain fart here.

00:22:32.975 --> 00:22:33.454
<v Speaker 3>Yeah.

00:22:33.855 --> 00:22:35.374
<v Speaker 1>No. No worries.

00:22:35.615 --> 00:22:37.534
<v Speaker 1>So it looks like here, those are all

00:22:37.534 --> 00:22:39.695
<v Speaker 1>pretty standard for the API server.

00:22:41.540 --> 00:22:44.260
<v Speaker 1>But it seems like ETCD itself, can we

00:22:44.260 --> 00:22:46.259
<v Speaker 1>check the spec for it?

00:22:47.220 --> 00:22:49.700
<v Speaker 1>Seems like ETCD itself is trying to refer

00:22:49.700 --> 00:22:52.420
<v Speaker 1>to that client dot CRT, which clearly doesn't

00:22:52.420 --> 00:22:54.420
<v Speaker 1>exist. So let's see if we have a

00:22:54.420 --> 00:22:56.019
<v Speaker 1>client dot CRT somewhere.

00:22:56.420 --> 00:22:57.914
<v Speaker 3>Go ahead and type it in. Well, it's

00:22:57.914 --> 00:23:00.075
<v Speaker 3>not yeah. That's what we're looking at, the

00:23:00.075 --> 00:23:01.355
<v Speaker 3>Etsy Kubernetes.

00:23:01.434 --> 00:23:02.154
<v Speaker 3>That's this

00:23:02.635 --> 00:23:03.515
<v Speaker 3>directory. It's not

00:23:04.395 --> 00:23:05.835
<v Speaker 3>I guess, pure cert is what we're supposed

00:23:05.835 --> 00:23:06.955
<v Speaker 3>to use, maybe.

00:23:07.355 --> 00:23:10.075
<v Speaker 1>Cert file is client dot CRT.

00:23:10.635 --> 00:23:11.994
<v Speaker 1>So I think

00:23:12.500 --> 00:23:14.179
<v Speaker 3>Oh, point it to Kubernetes.

00:23:14.180 --> 00:23:15.620
<v Speaker 3>Yes. I don't remember what was in the

00:23:15.620 --> 00:23:16.260
<v Speaker 2>directory.

00:23:18.580 --> 00:23:21.220
<v Speaker 1>Oh, what was in the directory was I

00:23:21.220 --> 00:23:22.740
<v Speaker 1>don't know if you can see highlights here,

00:23:22.740 --> 00:23:24.580
<v Speaker 1>folks. But Oh, wait. I I got it.

00:23:24.580 --> 00:23:26.260
<v Speaker 3>I found it. It's at c d Kubernetes

00:23:26.260 --> 00:23:27.860
<v Speaker 3>PKI API server.

00:23:28.525 --> 00:23:30.285
<v Speaker 3>Or, mean, it should it should be the

00:23:30.285 --> 00:23:31.004
<v Speaker 3>thing we

00:23:31.245 --> 00:23:32.684
<v Speaker 3>were ignoring before.

00:23:33.405 --> 00:23:34.445
<v Speaker 1>Yeah. But this

00:23:35.245 --> 00:23:36.765
<v Speaker 1>but it looks like this error here is

00:23:36.765 --> 00:23:38.845
<v Speaker 1>referring to that. So I believe this should

00:23:38.845 --> 00:23:40.365
<v Speaker 1>be the server dot c r t.

00:23:42.710 --> 00:23:45.270
<v Speaker 3>Oh, yeah. Cert file. Duh. Yeah.

00:23:45.670 --> 00:23:47.350
<v Speaker 1>So that's the server cert.

00:23:47.670 --> 00:23:49.990
<v Speaker 3>Cert. And if this is a one this

00:23:49.990 --> 00:23:52.470
<v Speaker 1>is a one node cube ADM master. Correct?

00:23:52.710 --> 00:23:53.429
<v Speaker 0>It is.

00:23:54.230 --> 00:23:55.910
<v Speaker 1>Alright. So that means that

00:23:57.965 --> 00:23:59.805
<v Speaker 1>it will eventually come up.

00:24:01.885 --> 00:24:03.645
<v Speaker 3>Or it crashed so fast.

00:24:06.845 --> 00:24:08.205
<v Speaker 1>Yeah. So

00:24:09.580 --> 00:24:11.100
<v Speaker 1>let's go see.

00:24:14.380 --> 00:24:15.100
<v Speaker 1>Oops.

00:24:15.420 --> 00:24:17.420
<v Speaker 1>Here. Anything NCD?

00:24:17.900 --> 00:24:21.020
<v Speaker 1>No. That's I think that's it. Yeah.

00:24:21.500 --> 00:24:23.100
<v Speaker 3>Yeah. But I I can never remember if

00:24:23.100 --> 00:24:23.740
<v Speaker 3>it

00:24:24.355 --> 00:24:26.354
<v Speaker 3>changes. So we just wanna see that

00:24:28.434 --> 00:24:30.674
<v Speaker 3>time stamp is updating. Right?

00:24:34.515 --> 00:24:37.715
<v Speaker 3>But did

00:24:36.180 --> 00:24:38.020
<v Speaker 3>should it did change.

00:24:38.980 --> 00:24:40.900
<v Speaker 3>It doesn't align. I can't read it.

00:24:41.780 --> 00:24:43.940
<v Speaker 3>Alright. It was twenty three, so let's just

00:24:43.940 --> 00:24:44.820
<v Speaker 3>watch it.

00:24:46.100 --> 00:24:47.620
<v Speaker 3>Oh, it did up twenty four now. So

00:24:47.620 --> 00:24:49.735
<v Speaker 3>it should be Yep. Should be there. Yeah.

00:24:49.735 --> 00:24:51.735
<v Speaker 0>Your tool command is using the API server

00:24:51.735 --> 00:24:53.494
<v Speaker 0>instead of the STD log.

00:24:56.774 --> 00:24:58.294
<v Speaker 3>That's not the STD log?

00:25:01.095 --> 00:25:04.020
<v Speaker 1>There it is. So what's this now? Ah,

00:25:04.020 --> 00:25:05.540
<v Speaker 1>c a a cert. Too many too many

00:25:05.540 --> 00:25:06.259
<v Speaker 3>a's.

00:25:07.940 --> 00:25:09.299
<v Speaker 3>You trying to are you trying to speak

00:25:09.299 --> 00:25:11.140
<v Speaker 3>the SLA of our certificate?

00:25:13.955 --> 00:25:15.554
<v Speaker 1>Shall I make sure a, man.

00:25:15.955 --> 00:25:18.755
<v Speaker 3>Yes. Go for it. Yeah. Okay. The cone

00:25:18.755 --> 00:25:20.355
<v Speaker 3>the cone of shame is yours.

00:25:21.795 --> 00:25:23.715
<v Speaker 1>Alright. So c a a dot c r

00:25:23.715 --> 00:25:25.875
<v Speaker 1>t. Alright. This is a oh, that's sneaky.

00:25:26.210 --> 00:25:28.130
<v Speaker 1>Alright. Let's go before we leave, let's go

00:25:28.130 --> 00:25:29.730
<v Speaker 3>to the if it was them.

00:25:30.530 --> 00:25:31.890
<v Speaker 1>Let's

00:25:31.890 --> 00:25:32.929
<v Speaker 1>see. So

00:25:33.490 --> 00:25:35.409
<v Speaker 3>I'll take back the Koenig then.

00:25:36.050 --> 00:25:37.090
<v Speaker 2>Yeah.

00:25:37.090 --> 00:25:39.570
<v Speaker 2>Peer cert. Peer cert.

00:25:42.485 --> 00:25:43.365
<v Speaker 1>Alright.

00:25:43.765 --> 00:25:44.404
<v Speaker 1>So

00:25:44.565 --> 00:25:46.405
<v Speaker 1>let's go ahead and try it. I do

00:25:46.405 --> 00:25:48.565
<v Speaker 1>recall that the API server is also trying

00:25:48.565 --> 00:25:50.165
<v Speaker 1>to connect on local host, but we'll see

00:25:50.165 --> 00:25:52.325
<v Speaker 1>how that oh, wait. No. It's still One

00:25:52.325 --> 00:25:55.120
<v Speaker 3>one one problem at a time. Time. Yeah.

00:25:55.120 --> 00:25:55.919
<v Speaker 2>Yeah. One.

00:25:56.799 --> 00:25:58.559
<v Speaker 1>Alright. So at time.

00:25:58.880 --> 00:26:00.960
<v Speaker 1>Or watch this again. Lookup magic.

00:26:02.400 --> 00:26:04.720
<v Speaker 3>Before. So It's twenty five after, so it

00:26:04.720 --> 00:26:06.320
<v Speaker 3>should oh, there it goes. It's been deleted.

00:26:08.095 --> 00:26:10.175
<v Speaker 3>I feel like this watch default setting of

00:26:10.175 --> 00:26:12.095
<v Speaker 3>two seconds is more than two seconds.

00:26:13.295 --> 00:26:13.934
<v Speaker 3>Right?

00:26:14.335 --> 00:26:15.375
<v Speaker 3>It should, like,

00:26:15.775 --> 00:26:18.335
<v Speaker 3>be, like, a little spinner or something to

00:26:18.335 --> 00:26:19.455
<v Speaker 3>prove that it

00:26:19.799 --> 00:26:21.639
<v Speaker 3>did something. I guess on the right, it

00:26:21.639 --> 00:26:23.880
<v Speaker 3>is. I think that's the clock. Yeah. Yeah.

00:26:23.880 --> 00:26:26.200
<v Speaker 3>There it is. Alright. I guess I'm impatient.

00:26:26.200 --> 00:26:27.479
<v Speaker 3>I should read the whole thing.

00:26:29.240 --> 00:26:30.360
<v Speaker 1>Every two seconds.

00:26:36.425 --> 00:26:38.025
<v Speaker 1>So we're just waiting for it to come

00:26:38.025 --> 00:26:38.905
<v Speaker 1>back up.

00:26:40.105 --> 00:26:41.865
<v Speaker 2>Wait. Wait. Wait. Were we we were editing

00:26:41.865 --> 00:26:43.465
<v Speaker 2>that in place, weren't we?

00:26:44.265 --> 00:26:45.304
<v Speaker 2>Yes. We were.

00:26:45.945 --> 00:26:48.210
<v Speaker 2>So remember that bug, KubeCuddle?

00:26:48.210 --> 00:26:50.210
<v Speaker 3>Yeah. It came up, though. Kubelet. First the

00:26:50.210 --> 00:26:51.889
<v Speaker 1>first time. Okay. Alright.

00:26:52.210 --> 00:26:54.290
<v Speaker 3>We we were being positive here. It came

00:26:54.290 --> 00:26:56.210
<v Speaker 3>up Oh, there it is. Kubelet has that

00:26:56.210 --> 00:26:57.970
<v Speaker 2>bug where it sometimes won't read a file

00:26:57.970 --> 00:27:00.535
<v Speaker 2>you edit in place. So That's true. Do

00:27:00.535 --> 00:27:02.775
<v Speaker 3>I look better a little? Alright.

00:27:04.455 --> 00:27:06.535
<v Speaker 3>Let's see if the API server came to

00:27:06.535 --> 00:27:07.015
<v Speaker 3>life.

00:27:07.575 --> 00:27:09.414
<v Speaker 3>Nope. Not yet. So

00:27:11.575 --> 00:27:13.415
<v Speaker 1>let's check the API server log.

00:27:14.059 --> 00:27:14.860
<v Speaker 3>Yep.

00:27:15.179 --> 00:27:18.059
<v Speaker 3>Alright. Oops. Let's just do this tail.

00:27:18.540 --> 00:27:19.820
<v Speaker 3>Reverse flow.

00:27:23.260 --> 00:27:24.059
<v Speaker 3>View

00:27:24.780 --> 00:27:25.100
<v Speaker 3>server.

00:27:26.705 --> 00:27:29.825
<v Speaker 1>Context deadline succeeded. Come on. That's what you

00:27:29.825 --> 00:27:32.145
<v Speaker 3>get. You were right. 127.

00:27:32.145 --> 00:27:34.705
<v Speaker 3>Go for it, Christian. Yeah. The the look

00:27:34.705 --> 00:27:35.825
<v Speaker 3>close was the

00:27:36.705 --> 00:27:37.424
<v Speaker 1>Alright.

00:27:37.505 --> 00:27:38.065
<v Speaker 1>So,

00:27:38.865 --> 00:27:40.870
<v Speaker 1>what was the IP again, Ron? Do you

00:27:40.870 --> 00:27:42.149
<v Speaker 1>still have that new buffer?

00:27:43.830 --> 00:27:45.510
<v Speaker 6>Oh, go ahead. Sorry. No. I I just

00:27:45.510 --> 00:27:46.710
<v Speaker 3>killed you. No. I didn't.

00:27:47.030 --> 00:27:48.309
<v Speaker 1>Wait. Wait. Wait. Wait. The

00:27:49.510 --> 00:27:53.350
<v Speaker 2>it's a servers flag. Right? So Yep. I

00:27:53.350 --> 00:27:54.390
<v Speaker 2>think that's normal, guys.

00:27:56.215 --> 00:27:58.294
<v Speaker 1>Yeah. This one? Localhost is normal.

00:27:58.774 --> 00:28:01.654
<v Speaker 3>What's normal? For API server. That setting.

00:28:02.774 --> 00:28:04.695
<v Speaker 1>Oh, connecting to the to

00:28:04.934 --> 00:28:08.214
<v Speaker 2>the NCD via localhost is normal. So Right.

00:28:08.134 --> 00:28:10.134
<v Speaker 1>Resolving a problem that's not a problem.

00:28:10.615 --> 00:28:11.335
<v Speaker 3>Oh, come on.

00:28:12.720 --> 00:28:15.200
<v Speaker 1>So what I'm gonna do is I'll grab

00:28:15.200 --> 00:28:16.880
<v Speaker 1>that because there is something that caught my

00:28:16.880 --> 00:28:18.559
<v Speaker 1>eye inside the the

00:28:20.720 --> 00:28:23.680
<v Speaker 1>YAML, and it's it's this one here.

00:28:24.765 --> 00:28:28.044
<v Speaker 1>So client URLs are client connections.

00:28:28.045 --> 00:28:30.924
<v Speaker 1>It's listening for on this IP address

00:28:31.485 --> 00:28:32.765
<v Speaker 2>and Alright. Not

00:28:33.165 --> 00:28:34.044
<v Speaker 2>local host.

00:28:34.445 --> 00:28:35.085
<v Speaker 1>So

00:28:36.605 --> 00:28:38.045
<v Speaker 1>let's w q out of that.

00:28:39.100 --> 00:28:40.700
<v Speaker 1>And, Ron, let's do your

00:28:41.340 --> 00:28:43.900
<v Speaker 3>The local one should work too. I mean,

00:28:43.900 --> 00:28:44.700
<v Speaker 3>it's the same.

00:28:45.260 --> 00:28:48.059
<v Speaker 1>Right. Everybody's if everybody's if it's listening to

00:28:48.059 --> 00:28:49.259
<v Speaker 3>zero zero zero.

00:28:49.820 --> 00:28:51.019
<v Speaker 1>That's true.

00:28:51.500 --> 00:28:52.460
<v Speaker 3>I mean

00:28:54.485 --> 00:28:56.165
<v Speaker 1>So now we have to wait for etcd

00:28:56.165 --> 00:28:57.684
<v Speaker 1>to come back up. Hey. Oh, there it

00:28:57.684 --> 00:28:59.125
<v Speaker 3>is. I guess I guess you're right. Alright.

00:28:59.125 --> 00:29:01.365
<v Speaker 3>Guess I'm on. I'll shut up now. What's

00:29:01.365 --> 00:29:03.605
<v Speaker 3>Kubernetes? I've never heard of it. I know.

00:29:03.605 --> 00:29:03.845
<v Speaker 1>Right?

00:29:05.140 --> 00:29:07.140
<v Speaker 1>So let's Alright. Wait. Yeah. That should been

00:29:07.140 --> 00:29:07.539
<v Speaker 2>fine.

00:29:09.140 --> 00:29:11.539
<v Speaker 3>Oh, come on. Get pods. Don't be cruel.

00:29:13.299 --> 00:29:15.299
<v Speaker 3>This is like killing hello world. Why did

00:29:15.299 --> 00:29:16.260
<v Speaker 3>we kill hello world?

00:29:18.325 --> 00:29:20.245
<v Speaker 4>What did Hello World do to you? I

00:29:20.245 --> 00:29:22.085
<v Speaker 0>haven't checked the API server logs. I I'm

00:29:22.085 --> 00:29:23.685
<v Speaker 0>not convinced you have the API server and

00:29:23.685 --> 00:29:25.924
<v Speaker 0>STD talking to each other yet.

00:29:26.725 --> 00:29:28.405
<v Speaker 0>Yeah. That's right.

00:29:28.965 --> 00:29:30.165
<v Speaker 0>Well, that log is

00:29:30.485 --> 00:29:32.565
<v Speaker 0>that's the wrong log file because that's four

00:29:32.565 --> 00:29:33.445
<v Speaker 0>or five minutes old now.

00:29:35.529 --> 00:29:36.970
<v Speaker 3>It's the but it's

00:29:38.970 --> 00:29:40.970
<v Speaker 3>oh, it did sorry. You're right. You're right.

00:29:40.970 --> 00:29:42.169
<v Speaker 3>Thank you. Thank you. Thank you.

00:29:43.450 --> 00:29:45.129
<v Speaker 3>Delete faster. Delete. Delete.

00:29:47.895 --> 00:29:49.495
<v Speaker 3>Oh, yeah. Now I don't know which one

00:29:49.495 --> 00:29:50.615
<v Speaker 3>is the latest.

00:29:52.935 --> 00:29:54.855
<v Speaker 3>Number one, right, or something like that because

00:29:54.855 --> 00:29:55.975
<v Speaker 3>it rotates.

00:29:56.375 --> 00:29:57.015
<v Speaker 3>Right.

00:29:57.175 --> 00:29:58.375
<v Speaker 3>What am I looking on here?

00:29:59.710 --> 00:30:01.230
<v Speaker 1>For 1727,

00:30:01.230 --> 00:30:04.030
<v Speaker 1>just about a couple minutes ago. So 90D.

00:30:04.510 --> 00:30:08.110
<v Speaker 3>Yeah. Just a 3. Yeah. Yeah. They had

00:30:08.110 --> 00:30:09.790
<v Speaker 3>a comma one before, but I don't see

00:30:09.790 --> 00:30:10.510
<v Speaker 3>that now.

00:30:10.830 --> 00:30:11.150
<v Speaker 3>Whatever.

00:30:13.675 --> 00:30:16.955
<v Speaker 3>Oh, man. Some somebody heard our ETCD.

00:30:19.915 --> 00:30:22.315
<v Speaker 3>Storage key not found.

00:30:22.555 --> 00:30:24.155
<v Speaker 3>Registering master leases.

00:30:27.360 --> 00:30:28.159
<v Speaker 2>Alright.

00:30:28.960 --> 00:30:31.360
<v Speaker 2>Type this wrong. Kube admin reset.

00:30:35.120 --> 00:30:37.680
<v Speaker 0>I will read that read those two error

00:30:37.680 --> 00:30:38.560
<v Speaker 0>messages slowly.

00:30:39.225 --> 00:30:41.065
<v Speaker 0>The one above the story chatter. I think

00:30:41.065 --> 00:30:42.184
<v Speaker 0>you're missing something.

00:30:42.265 --> 00:30:43.065
<v Speaker 0>So we

00:30:44.345 --> 00:30:45.304
<v Speaker 3>got this.

00:30:46.505 --> 00:30:48.105
<v Speaker 3>Oh, so oh.

00:30:49.544 --> 00:30:50.345
<v Speaker 3>Alright.

00:30:50.345 --> 00:30:50.825
<v Speaker 3>Our

00:30:51.145 --> 00:30:52.720
<v Speaker 3>this is this is coming from our admin.

00:30:52.720 --> 00:30:54.640
<v Speaker 2>No way. Explain it, Ron. Explain what you

00:30:54.640 --> 00:30:56.799
<v Speaker 2>saw. So for the audience It's cube system

00:30:56.799 --> 00:30:57.840
<v Speaker 3>is misspelled.

00:30:58.240 --> 00:30:58.960
<v Speaker 1>Yeah.

00:30:59.440 --> 00:31:01.679
<v Speaker 1>System or system with no e.

00:31:11.645 --> 00:31:14.685
<v Speaker 3>Where am I looking? Am I so you're

00:31:14.685 --> 00:31:15.485
<v Speaker 3>looking here.

00:31:18.760 --> 00:31:20.679
<v Speaker 1>Nope. Don't think it's in there.

00:31:22.840 --> 00:31:25.320
<v Speaker 3>Is this not where you set it?

00:31:26.280 --> 00:31:28.999
<v Speaker 3>It's in here. Right? Like Or

00:31:29.400 --> 00:31:31.080
<v Speaker 3>Hold on. Let me set that up.

00:31:32.555 --> 00:31:34.155
<v Speaker 3>I'm looking for the namespace.

00:31:34.635 --> 00:31:35.355
<v Speaker 3>Works.

00:31:35.515 --> 00:31:36.794
<v Speaker 3>Isn't it in our

00:31:38.395 --> 00:31:41.034
<v Speaker 3>cube config file? Am I blind?

00:31:41.435 --> 00:31:43.195
<v Speaker 2>No. Not unless you said it explicitly.

00:31:43.860 --> 00:31:45.380
<v Speaker 3>So that would mean it would be going

00:31:45.380 --> 00:31:46.740
<v Speaker 0>to default.

00:31:46.740 --> 00:31:49.059
<v Speaker 0>Was I supposed to API server log? Yeah.

00:31:49.140 --> 00:31:51.539
<v Speaker 2>It's you're looking at our admin comp here.

00:31:52.820 --> 00:31:53.460
<v Speaker 2>So

00:31:54.340 --> 00:31:56.660
<v Speaker 3>Oh, wait a second. Yeah. This is for

00:31:56.660 --> 00:31:57.835
<v Speaker 0>the. Manifest

00:31:57.995 --> 00:31:58.874
<v Speaker 3>hold on.

00:31:59.515 --> 00:32:01.994
<v Speaker 3>These manifest a p error,

00:32:02.075 --> 00:32:03.274
<v Speaker 3>q API

00:32:03.835 --> 00:32:04.554
<v Speaker 3>error.

00:32:05.914 --> 00:32:06.315
<v Speaker 3>There

00:32:07.274 --> 00:32:08.794
<v Speaker 3>we go. There it is.

00:32:09.660 --> 00:32:10.540
<v Speaker 3>Womp.

00:32:11.900 --> 00:32:13.980
<v Speaker 3>Someone drop me a womp, please.

00:32:15.100 --> 00:32:16.300
<v Speaker 3>Alright. How do you have the

00:32:18.220 --> 00:32:20.700
<v Speaker 2>somebody has a this is lot of typos.

00:32:20.860 --> 00:32:22.060
<v Speaker 2>Somebody should really

00:32:24.705 --> 00:32:26.544
<v Speaker 2>was this was this Ron or me typing?

00:32:26.544 --> 00:32:28.145
<v Speaker 2>Is that what happened? Did we make this

00:32:28.145 --> 00:32:30.465
<v Speaker 2>kind of a This wasn't a hack job.

00:32:30.465 --> 00:32:31.585
<v Speaker 3>This this was just

00:32:32.145 --> 00:32:34.304
<v Speaker 3>my bad skill. We got

00:32:34.625 --> 00:32:36.385
<v Speaker 3>how many API servers we got going here?

00:32:36.870 --> 00:32:38.230
<v Speaker 3>We got two of them now.

00:32:38.870 --> 00:32:39.909
<v Speaker 0>That's not good.

00:32:40.790 --> 00:32:43.510
<v Speaker 3>Hey. We're in stereo now. Hey. It worked.

00:32:43.510 --> 00:32:43.990
<v Speaker 3>One

00:32:44.390 --> 00:32:46.230
<v Speaker 4>of the API servers worked.

00:32:47.670 --> 00:32:48.950
<v Speaker 2>It's horizontally scaled.

00:32:49.525 --> 00:32:52.245
<v Speaker 3>That's right. Oh, there's Amazon Just update the

00:32:52.645 --> 00:32:54.804
<v Speaker 4>and that's it. Just update the pod.

00:32:55.125 --> 00:32:57.205
<v Speaker 3>Alright. Alright. Someone else take over. I'm too

00:32:57.205 --> 00:32:57.845
<v Speaker 3>nervous.

00:32:58.165 --> 00:33:00.965
<v Speaker 1>Alright. I'll go ahead. First off, let's get

00:33:00.965 --> 00:33:01.765
<v Speaker 1>all our pods

00:33:02.280 --> 00:33:04.520
<v Speaker 1>and all of our namespaces. Wait. Wait. Yeah.

00:33:04.520 --> 00:33:06.760
<v Speaker 3>Wait a second. Where's the app? It should

00:33:06.760 --> 00:33:08.360
<v Speaker 3>be showing up in the get it should

00:33:08.360 --> 00:33:09.880
<v Speaker 3>be in the default namespace.

00:33:10.520 --> 00:33:12.120
<v Speaker 3>Where's our default namespace?

00:33:12.680 --> 00:33:14.520
<v Speaker 1>We are in the default namespace.

00:33:14.680 --> 00:33:16.440
<v Speaker 1>Oh, wait. Why don't we where's our app

00:33:16.440 --> 00:33:17.240
<v Speaker 3>and where's Postgres?

00:33:18.015 --> 00:33:19.295
<v Speaker 1>Let's

00:33:19.295 --> 00:33:19.775
<v Speaker 1>see.

00:33:20.975 --> 00:33:21.934
<v Speaker 3>Trickery.

00:33:22.095 --> 00:33:24.255
<v Speaker 3>I called make it explicit. Do dash end

00:33:24.255 --> 00:33:25.934
<v Speaker 3>default and check.

00:33:26.495 --> 00:33:28.975
<v Speaker 1>Alright. Maybe the maybe there's some crafty thing

00:33:28.975 --> 00:33:30.495
<v Speaker 3>where they've e b f'd us.

00:33:33.460 --> 00:33:34.900
<v Speaker 0>I don't think you'd be e b p

00:33:34.900 --> 00:33:36.180
<v Speaker 0>f. I mean, if you look at your

00:33:36.180 --> 00:33:39.059
<v Speaker 0>cube system namespace, you've got one important thing

00:33:39.540 --> 00:33:41.460
<v Speaker 0>at an address space. Right? Yeah.

00:33:42.100 --> 00:33:43.700
<v Speaker 1>That's true. So let's

00:33:44.665 --> 00:33:46.745
<v Speaker 1>yeah. So that means that the deployments

00:33:47.065 --> 00:33:48.985
<v Speaker 0>And the controller manager is kind of important.

00:33:48.985 --> 00:33:51.625
<v Speaker 0>Right? Yeah. Oh, yeah. But, well, we don't

00:33:51.625 --> 00:33:53.865
<v Speaker 3>need the controller manager if we bypass it.

00:33:54.185 --> 00:33:54.745
<v Speaker 1>Yeah.

00:33:55.065 --> 00:33:56.985
<v Speaker 1>That and a cluster has also been scaled

00:33:56.985 --> 00:33:58.184
<v Speaker 1>down all the way too.

00:33:58.425 --> 00:33:59.865
<v Speaker 1>Same with the STS, I believe.

00:34:00.490 --> 00:34:03.210
<v Speaker 1>The stable set, I mean, for Alright. Well,

00:34:03.210 --> 00:34:05.130
<v Speaker 3>the controller manager needs to get fixed. That's

00:34:05.130 --> 00:34:07.850
<v Speaker 3>why these are zero. So let's let's go

00:34:07.850 --> 00:34:08.570
<v Speaker 3>after that.

00:34:08.969 --> 00:34:09.610
<v Speaker 1>Alright.

00:34:10.010 --> 00:34:12.250
<v Speaker 1>Ron, I'll leave you to the go ahead.

00:34:12.250 --> 00:34:13.929
<v Speaker 3>I heard it I heard it works if

00:34:13.929 --> 00:34:14.570
<v Speaker 3>you

00:34:14.915 --> 00:34:17.074
<v Speaker 3>let it restart 200 times. Maybe we should

00:34:17.074 --> 00:34:17.795
<v Speaker 3>just wait.

00:34:20.594 --> 00:34:21.955
<v Speaker 2>The two hundredth time.

00:34:22.755 --> 00:34:25.074
<v Speaker 2>It's like, yes. Oh, come on. Overcome my

00:34:25.074 --> 00:34:25.875
<v Speaker 2>difficulties.

00:34:26.594 --> 00:34:29.440
<v Speaker 3>Oh, really? Come on. Here. I can't I

00:34:29.440 --> 00:34:31.840
<v Speaker 3>can't live like this, like a caveman anymore.

00:34:31.840 --> 00:34:34.080
<v Speaker 1>Alright. Here. I got I've got your Hold

00:34:34.080 --> 00:34:37.440
<v Speaker 6>on. I've got that on the buffer. Completion

00:34:37.600 --> 00:34:40.239
<v Speaker 3>bash. Alright. I'm I'm no I'm no longer

00:34:40.239 --> 00:34:40.960
<v Speaker 3>a caveman.

00:34:43.514 --> 00:34:45.355
<v Speaker 1>Alright. Describe.

00:34:47.994 --> 00:34:49.675
<v Speaker 2>Pod. Describe pod.

00:34:49.915 --> 00:34:51.835
<v Speaker 3>Why can't I just read my mind? Come

00:34:51.835 --> 00:34:54.074
<v Speaker 3>on. Of course, my mind's empty. So you

00:34:54.074 --> 00:34:54.554
<v Speaker 3>know?

00:34:55.994 --> 00:34:56.474
<v Speaker 3>Alright.

00:34:57.390 --> 00:34:59.230
<v Speaker 3>Image is here.

00:34:59.230 --> 00:35:00.750
<v Speaker 3>Boom. Boom. Crash.

00:35:00.750 --> 00:35:01.950
<v Speaker 3>Why are we crashing?

00:35:02.270 --> 00:35:04.350
<v Speaker 1>Yeah. Let's check our logs on it.

00:35:04.910 --> 00:35:06.990
<v Speaker 3>Yeah. Why can't you be friendly?

00:35:08.190 --> 00:35:10.829
<v Speaker 2>You can use Kube CTL logs now, Ron.

00:35:11.964 --> 00:35:12.765
<v Speaker 3>Savage.

00:35:15.885 --> 00:35:16.685
<v Speaker 1>Alright.

00:35:17.645 --> 00:35:20.045
<v Speaker 3>Alright. We got two logs here. Who's who's

00:35:20.045 --> 00:35:21.484
<v Speaker 3>the newer log? The top guy is the

00:35:21.484 --> 00:35:22.125
<v Speaker 3>newer log.

00:35:24.220 --> 00:35:27.820
<v Speaker 3>Right? 17331738.

00:35:28.220 --> 00:35:30.460
<v Speaker 3>Alright. Now let's go open this guy.

00:35:33.180 --> 00:35:34.140
<v Speaker 3>Adam.

00:35:34.460 --> 00:35:36.700
<v Speaker 3>Alright. I'll start walking backwards.

00:35:41.055 --> 00:35:44.095
<v Speaker 3>Missing

00:35:44.095 --> 00:35:45.215
<v Speaker 3>time stamp.

00:35:54.079 --> 00:35:55.519
<v Speaker 3>Sorry. Tell me to go slow if we're

00:35:55.519 --> 00:35:57.040
<v Speaker 3>going slower. I'm just kinda

00:35:57.279 --> 00:35:59.359
<v Speaker 3>seeing if there's, like, a big cat. I'm

00:35:59.359 --> 00:36:01.279
<v Speaker 3>looking for ASCII art. Where's the big thing

00:36:01.279 --> 00:36:02.720
<v Speaker 3>saying you got hacked?

00:36:04.160 --> 00:36:05.359
<v Speaker 3>I don't I don't see it.

00:36:07.975 --> 00:36:09.575
<v Speaker 3>How far back in time? We're still at

00:36:09.575 --> 00:36:11.255
<v Speaker 3>seventeen thirty three. Oh, this is at the

00:36:11.255 --> 00:36:13.175
<v Speaker 3>top. Port has been deprecated.

00:36:13.175 --> 00:36:14.215
<v Speaker 3>This flag has

00:36:14.855 --> 00:36:16.455
<v Speaker 3>no effect.

00:36:16.535 --> 00:36:17.175
<v Speaker 3>Well,

00:36:18.295 --> 00:36:20.215
<v Speaker 3>maybe some kind of studying here.

00:36:20.950 --> 00:36:22.790
<v Speaker 3>What is happening here?

00:36:23.670 --> 00:36:24.550
<v Speaker 3>Starting.

00:36:24.710 --> 00:36:25.510
<v Speaker 3>Waiting.

00:36:29.190 --> 00:36:30.630
<v Speaker 3>Let's see. Did the

00:36:31.030 --> 00:36:33.030
<v Speaker 3>should maybe check to see if it crashed

00:36:33.030 --> 00:36:34.870
<v Speaker 3>because it is oh, wait a minute. Can

00:36:34.870 --> 00:36:35.910
<v Speaker 3>we do, like, dash p?

00:36:37.205 --> 00:36:39.445
<v Speaker 1>Oh, yeah. Keep pill logs. Yep.

00:36:39.845 --> 00:36:40.485
<v Speaker 3>Like

00:36:41.445 --> 00:36:42.965
<v Speaker 3>yeah. Let me

00:36:43.285 --> 00:36:44.165
<v Speaker 3>use

00:36:45.925 --> 00:36:47.365
<v Speaker 3>the use the tools.

00:36:49.490 --> 00:36:50.450
<v Speaker 3>There we go.

00:36:51.170 --> 00:36:51.730
<v Speaker 2>So

00:36:52.210 --> 00:36:54.530
<v Speaker 2>That's a big stack. Dash p is the

00:36:54.530 --> 00:36:56.690
<v Speaker 2>previous container, the one that's

00:36:56.849 --> 00:36:59.490
<v Speaker 2>previous crash is what we're looking at. Right.

00:36:59.490 --> 00:37:00.850
<v Speaker 3>Look at all this Go code.

00:37:01.170 --> 00:37:02.210
<v Speaker 2>Expository.

00:37:02.369 --> 00:37:04.214
<v Speaker 0>You wanna type it to a picture so

00:37:04.214 --> 00:37:05.655
<v Speaker 0>we can we can follow along?

00:37:06.135 --> 00:37:08.055
<v Speaker 3>Oh, it's

00:37:08.055 --> 00:37:10.295
<v Speaker 3>a oops. Sorry. My bad. I thought I

00:37:10.295 --> 00:37:12.535
<v Speaker 3>I thought I had it in BI. That

00:37:12.535 --> 00:37:13.415
<v Speaker 3>was my my bad.

00:37:14.630 --> 00:37:15.430
<v Speaker 3>Okay.

00:37:15.430 --> 00:37:18.070
<v Speaker 3>Here we go. Let's check failed.

00:37:18.390 --> 00:37:21.590
<v Speaker 3>Failed to wait for API server being

00:37:22.470 --> 00:37:25.350
<v Speaker 3>oh, wait. For API server was down at

00:37:25.350 --> 00:37:26.950
<v Speaker 2>that point, but that it was down back

00:37:26.950 --> 00:37:28.815
<v Speaker 2>then, I think. That's why you've had to

00:37:28.815 --> 00:37:30.734
<v Speaker 0>look at the previous logs. Because it's restarted

00:37:30.734 --> 00:37:32.494
<v Speaker 0>since we were talking about it. Yeah. Maybe

00:37:32.494 --> 00:37:33.615
<v Speaker 0>now it's healthy.

00:37:34.015 --> 00:37:35.055
<v Speaker 3>Yeah. Maybe.

00:37:36.415 --> 00:37:38.255
<v Speaker 0>Do like it when things fix themselves?

00:37:38.575 --> 00:37:39.055
<v Speaker 1>Right?

00:37:41.970 --> 00:37:44.369
<v Speaker 0>There we go. Hey. Hey. Round of the

00:37:44.369 --> 00:37:46.770
<v Speaker 3>clock. We're restart all the through.

00:37:47.330 --> 00:37:49.650
<v Speaker 1>Yeah. Just have to restart until it started

00:37:49.650 --> 00:37:53.090
<v Speaker 1>again. You know? Wait. Wait. Automation automation works.

00:37:53.490 --> 00:37:55.170
<v Speaker 3>Wait. We still don't have a default

00:37:55.515 --> 00:37:56.395
<v Speaker 3>anything.

00:37:56.474 --> 00:37:58.714
<v Speaker 3>I know. Right. Where's our Just scale up

00:37:58.714 --> 00:38:00.234
<v Speaker 2>just scale up the deployment.

00:38:00.635 --> 00:38:02.955
<v Speaker 3>Alright. Christian, go. It was at zero?

00:38:03.275 --> 00:38:03.915
<v Speaker 1>Yep.

00:38:04.155 --> 00:38:07.355
<v Speaker 1>Get deployed. Christian. So alright. So then I'll

00:38:07.355 --> 00:38:08.555
<v Speaker 1>do keep pedals. Good.

00:38:09.410 --> 00:38:11.570
<v Speaker 3>Show it no mercy. Deploy one.

00:38:11.810 --> 00:38:13.330
<v Speaker 1>Deploy clustered.

00:38:14.930 --> 00:38:17.090
<v Speaker 1>Was it one? Yeah. Yeah. Let's just do

00:38:17.090 --> 00:38:18.050
<v Speaker 1>one for now.

00:38:19.010 --> 00:38:19.730
<v Speaker 3>Oh my gosh.

00:38:22.825 --> 00:38:24.505
<v Speaker 3>K. Forgot a

00:38:26.185 --> 00:38:27.625
<v Speaker 3>getting close. Gonna check if we have our

00:38:27.625 --> 00:38:28.505
<v Speaker 1>pod first.

00:38:29.385 --> 00:38:30.985
<v Speaker 1>Right. It is currently pending.

00:38:31.705 --> 00:38:32.265
<v Speaker 3>You

00:38:32.825 --> 00:38:34.505
<v Speaker 3>oh, you cursing schedule, are you?

00:38:35.550 --> 00:38:37.630
<v Speaker 1>Yeah. Let's just grab this pot here.

00:38:38.270 --> 00:38:40.110
<v Speaker 1>It's been No. No. It's tank.

00:38:41.470 --> 00:38:42.830
<v Speaker 2>Wait a minute. Why is it going?

00:38:43.310 --> 00:38:45.390
<v Speaker 3>Yeah. What's going to the next one? We

00:38:45.390 --> 00:38:46.910
<v Speaker 3>don't need to we don't need a machine.

00:38:46.910 --> 00:38:49.150
<v Speaker 2>It's true. Just get it. Just remove the

00:38:49.150 --> 00:38:49.470
<v Speaker 2>tank.

00:38:49.985 --> 00:38:51.425
<v Speaker 4>The clock's ticking.

00:38:51.905 --> 00:38:52.465
<v Speaker 1>Yeah.

00:38:53.105 --> 00:38:55.425
<v Speaker 1>So I'm going to so they're currently scheduled,

00:38:55.425 --> 00:38:56.785
<v Speaker 1>so that means they're not accepting new loads

00:38:56.785 --> 00:38:58.465
<v Speaker 1>from the scheduler.

00:38:58.545 --> 00:39:01.585
<v Speaker 1>So we'll do cube cuddle uncoordin raft

00:39:02.145 --> 00:39:04.545
<v Speaker 1>was it uncoordin node? Raft worker one?

00:39:05.289 --> 00:39:06.650
<v Speaker 0>I don't think you need to it. It's

00:39:06.650 --> 00:39:08.730
<v Speaker 0>just uncoordinate raft worker one, I think. Yeah.

00:39:08.730 --> 00:39:10.810
<v Speaker 1>There you go. And two.

00:39:11.130 --> 00:39:11.849
<v Speaker 1>Alright.

00:39:12.250 --> 00:39:14.569
<v Speaker 3>Oh, we just need one in. Yeah. Just

00:39:14.650 --> 00:39:16.809
<v Speaker 3>come on. It may be it may have

00:39:16.809 --> 00:39:18.089
<v Speaker 2>an affinity for the

00:39:18.695 --> 00:39:19.495
<v Speaker 2>master.

00:39:19.815 --> 00:39:22.215
<v Speaker 2>Right? Alright. Because it's zero of one nodes.

00:39:22.375 --> 00:39:25.015
<v Speaker 2>So I'm guessing the the deployment has a,

00:39:25.735 --> 00:39:26.535
<v Speaker 2>affinity.

00:39:27.175 --> 00:39:28.775
<v Speaker 1>Yeah. So that's what I'm gonna check for

00:39:28.775 --> 00:39:30.295
<v Speaker 1>by clicking at the YAML.

00:39:30.535 --> 00:39:32.855
<v Speaker 1>Yeah. And oh, right. Let's go.

00:39:33.880 --> 00:39:35.240
<v Speaker 1>There you go. There you go.

00:39:35.720 --> 00:39:36.360
<v Speaker 1>So

00:39:36.840 --> 00:39:39.560
<v Speaker 3>Wait. Cluster d d d d d. That's

00:39:39.560 --> 00:39:40.840
<v Speaker 1>a lot of t's right there.

00:39:41.160 --> 00:39:43.080
<v Speaker 1>So we're gonna have to fix that. That's

00:39:43.080 --> 00:39:44.760
<v Speaker 0>the way it goes. The show. It's cluster.

00:39:47.934 --> 00:39:50.255
<v Speaker 1>Alright. You gotta fill that buffer for, you

00:39:50.255 --> 00:39:51.375
<v Speaker 3>what we tell people.

00:39:52.015 --> 00:39:54.174
<v Speaker 1>I don't see any affinities. Do you, Chris

00:39:54.174 --> 00:39:54.975
<v Speaker 1>or Ron?

00:39:55.855 --> 00:39:58.015
<v Speaker 3>You gotta search, man. Do do you're in

00:39:58.015 --> 00:39:59.215
<v Speaker 3>VI or less.

00:39:59.615 --> 00:40:00.734
<v Speaker 3>I'm on less. Hit

00:40:01.615 --> 00:40:02.494
<v Speaker 3>forward slash.

00:40:03.430 --> 00:40:07.030
<v Speaker 1>Forward slash. Okay. Forward slash. And then backslash

00:40:08.070 --> 00:40:09.830
<v Speaker 3>c, lowercase c,

00:40:10.230 --> 00:40:10.950
<v Speaker 3>and then

00:40:11.350 --> 00:40:13.510
<v Speaker 3>you said taint. You just look for taint.

00:40:13.510 --> 00:40:14.230
<v Speaker 3>Right? Yeah.

00:40:15.285 --> 00:40:17.285
<v Speaker 3>You don't need to do capital t. The

00:40:17.285 --> 00:40:19.765
<v Speaker 3>the backslash c was case insensitive.

00:40:20.805 --> 00:40:21.765
<v Speaker 3>Alright. Hold

00:40:22.565 --> 00:40:24.725
<v Speaker 1>I was Oh, yeah. No.

00:40:25.525 --> 00:40:27.125
<v Speaker 2>You're looking for a taint is a node

00:40:27.125 --> 00:40:28.244
<v Speaker 2>taint. You're looking for

00:40:28.950 --> 00:40:31.750
<v Speaker 2>node selector or an affinity, so look for

00:40:32.230 --> 00:40:33.590
<v Speaker 2>it would be under the pod spec. So

00:40:33.590 --> 00:40:35.270
<v Speaker 2>go well, so

00:40:35.590 --> 00:40:38.870
<v Speaker 1>We're on dot containers. I don't see node.

00:40:39.270 --> 00:40:40.390
<v Speaker 2>I don't see n.

00:40:40.869 --> 00:40:42.230
<v Speaker 2>I don't see affinity.

00:40:42.869 --> 00:40:45.675
<v Speaker 2>Alright. We'll fix the fix the image. Alright.

00:40:46.795 --> 00:40:47.355
<v Speaker 1>So

00:40:47.675 --> 00:40:49.195
<v Speaker 3>Watch. That is the name.

00:40:49.915 --> 00:40:52.875
<v Speaker 1>There you go. That's the So we'll

00:40:52.875 --> 00:40:55.275
<v Speaker 1>do we'll edit it and Minimum

00:40:55.275 --> 00:40:56.315
<v Speaker 3>replicas unavailable.

00:40:57.410 --> 00:40:59.170
<v Speaker 3>Because we And then I say forget it.

00:40:59.170 --> 00:41:01.170
<v Speaker 2>Just untaint the masternode and

00:41:01.570 --> 00:41:03.490
<v Speaker 1>Yeah. That's true. You know? Who cares? Isn't

00:41:03.490 --> 00:41:04.450
<v Speaker 3>that what we did?

00:41:05.010 --> 00:41:07.170
<v Speaker 2>No. We yeah. I did the the workers.

00:41:07.330 --> 00:41:08.930
<v Speaker 3>Oh, man. Come on, man. I said

00:41:10.850 --> 00:41:12.290
<v Speaker 1>Oh, no. That's still

00:41:12.714 --> 00:41:13.595
<v Speaker 1>it's still

00:41:14.234 --> 00:41:16.234
<v Speaker 3>Replicating out of control? Oh, yeah. Just just

00:41:16.234 --> 00:41:19.275
<v Speaker 2>to do your just remove the master tint.

00:41:19.515 --> 00:41:22.395
<v Speaker 1>Right. Keep cuddle. What was a taint? I'm

00:41:22.395 --> 00:41:23.195
<v Speaker 1>sorry, guys.

00:41:23.595 --> 00:41:25.195
<v Speaker 1>Keep cuddle, taint.

00:41:25.755 --> 00:41:26.315
<v Speaker 1>No.

00:41:27.115 --> 00:41:27.595
<v Speaker 2>No.

00:41:28.180 --> 00:41:29.940
<v Speaker 2>And then you can do all. Yeah.

00:41:30.660 --> 00:41:31.540
<v Speaker 3>Kubernetes.

00:41:32.260 --> 00:41:35.940
<v Speaker 3>IOS slash. Yeah. So so so so It's

00:41:35.940 --> 00:41:38.900
<v Speaker 2>node dash role dot Kubernetes dot I o

00:41:38.900 --> 00:41:39.940
<v Speaker 2>slash master.

00:41:40.260 --> 00:41:40.980
<v Speaker 3>Okay.

00:41:41.220 --> 00:41:41.460
<v Speaker 3>So

00:41:42.545 --> 00:41:45.185
<v Speaker 3>node Why can't autocomplete fix this?

00:41:45.505 --> 00:41:46.305
<v Speaker 1>Right.

00:41:46.785 --> 00:41:47.745
<v Speaker 1>So it was

00:41:48.065 --> 00:41:49.905
<v Speaker 1>node It's 2021.

00:41:49.905 --> 00:41:50.545
<v Speaker 3>Come on.

00:41:51.265 --> 00:41:52.785
<v Speaker 2>Alright. There you go.

00:41:53.265 --> 00:41:53.985
<v Speaker 3>Yep.

00:41:54.145 --> 00:41:55.105
<v Speaker 3>There

00:41:55.505 --> 00:41:55.825
<v Speaker 3>we go.

00:41:57.180 --> 00:41:59.820
<v Speaker 1>No. Okay. Error image pull. Okay. So it's

00:41:59.820 --> 00:42:00.300
<v Speaker 1>still

00:42:01.820 --> 00:42:02.460
<v Speaker 1>the

00:42:02.700 --> 00:42:05.020
<v Speaker 1>thing is still not going through.

00:42:06.300 --> 00:42:07.340
<v Speaker 3>Plus third?

00:42:08.619 --> 00:42:12.135
<v Speaker 3>Third. Yeah. Edie. It's d. It's it's it's

00:42:12.135 --> 00:42:13.575
<v Speaker 3>not no. Wait. It's not e d. It's

00:42:13.575 --> 00:42:15.015
<v Speaker 3>d. Clustered.

00:42:15.015 --> 00:42:15.895
<v Speaker 3>They're creating.

00:42:16.295 --> 00:42:18.615
<v Speaker 2>It's it's creating. We're good.

00:42:19.095 --> 00:42:20.695
<v Speaker 3>Oh, wait. Did it oh, I I can't

00:42:20.695 --> 00:42:21.495
<v Speaker 3>spell then.

00:42:21.975 --> 00:42:23.655
<v Speaker 3>It is easy. I can't either.

00:42:25.580 --> 00:42:26.940
<v Speaker 1>Right? I was trying to Alright.

00:42:28.140 --> 00:42:30.380
<v Speaker 1>We got, like, four minutes left, so

00:42:30.940 --> 00:42:32.780
<v Speaker 1>it'll get pods. It's running.

00:42:32.860 --> 00:42:33.420
<v Speaker 1>Alright.

00:42:34.060 --> 00:42:35.740
<v Speaker 0>Wait. I forgot to start the timer on

00:42:35.740 --> 00:42:37.260
<v Speaker 0>time, so you've actually got a bit longer.

00:42:37.260 --> 00:42:39.435
<v Speaker 0>So you're you're good. Okay. Okay. Alright. Wait.

00:42:39.435 --> 00:42:40.875
<v Speaker 3>Go. Go. Go. We gotta do a set

00:42:40.875 --> 00:42:43.355
<v Speaker 3>set image now to version two.

00:42:43.915 --> 00:42:46.395
<v Speaker 1>Alright. Right. So keep Cuddle

00:42:47.115 --> 00:42:49.675
<v Speaker 1>set. We we might we might drop on

00:42:49.675 --> 00:42:52.715
<v Speaker 3>step one or two. Deploy

00:42:52.875 --> 00:42:53.755
<v Speaker 1>clustered.

00:42:54.260 --> 00:42:56.660
<v Speaker 1>And then what was it? It was what

00:42:56.660 --> 00:42:58.020
<v Speaker 1>was the what was the name? I don't

00:42:58.020 --> 00:43:00.020
<v Speaker 1>know the name of the container, dude. Mean,

00:43:00.020 --> 00:43:01.940
<v Speaker 2>it was Scroll up. Scroll up, aren't didn't

00:43:01.940 --> 00:43:04.180
<v Speaker 3>you just show that? Or Containers is

00:43:05.619 --> 00:43:07.140
<v Speaker 2>clustered. It's just called clustered.

00:43:07.855 --> 00:43:09.215
<v Speaker 1>That's the Oh, yeah. If it's just the

00:43:09.215 --> 00:43:11.455
<v Speaker 3>deployment, I think it's the same name. Right?

00:43:12.015 --> 00:43:14.495
<v Speaker 1>Yeah. Whatever. We'll we'll find out.

00:43:16.655 --> 00:43:18.415
<v Speaker 3>Oh, wait. Don't get cocky yet. We're so

00:43:18.415 --> 00:43:19.135
<v Speaker 3>close. Yeah.

00:43:19.780 --> 00:43:20.820
<v Speaker 3>Dude, good time.

00:43:21.140 --> 00:43:23.300
<v Speaker 3>What do you Rollout history. Rollout history. See

00:43:23.300 --> 00:43:25.060
<v Speaker 2>if it's oh, you didn't record the rollout

00:43:25.060 --> 00:43:27.940
<v Speaker 2>history, dude. Come on now. They they deprecated

00:43:27.940 --> 00:43:28.580
<v Speaker 3>it.

00:43:30.980 --> 00:43:32.580
<v Speaker 1>Oh, wow. That's been awful. There's been a

00:43:32.580 --> 00:43:34.605
<v Speaker 1>lot of changes made to this one. But,

00:43:34.605 --> 00:43:36.765
<v Speaker 1>yeah, no. I didn't, I did not record

00:43:36.765 --> 00:43:40.125
<v Speaker 1>the rollout history. So let's see what's our

00:43:40.125 --> 00:43:42.285
<v Speaker 3>next move for this one. Just describe the

00:43:42.285 --> 00:43:43.645
<v Speaker 3>pod and see if it says v two,

00:43:43.645 --> 00:43:45.245
<v Speaker 3>and then let's open up the browser and

00:43:45.245 --> 00:43:45.965
<v Speaker 3>see if it worked.

00:43:47.420 --> 00:43:48.940
<v Speaker 0>Oh, you've you've got a few more things

00:43:48.940 --> 00:43:51.420
<v Speaker 0>to fix before it work. You just you've

00:43:51.420 --> 00:43:52.780
<v Speaker 0>you've just not seen them yet.

00:43:53.100 --> 00:43:55.100
<v Speaker 3>That was the angel of death talking.

00:43:55.980 --> 00:43:58.620
<v Speaker 1>So it is not ready, though, unfortunately.

00:43:58.700 --> 00:44:01.020
<v Speaker 1>So, unfortunately, it looks like we gotta we

00:44:01.020 --> 00:44:02.060
<v Speaker 1>do have a couple more things.

00:44:03.985 --> 00:44:06.225
<v Speaker 1>It seems to be failing.

00:44:06.225 --> 00:44:07.185
<v Speaker 1>It's a

00:44:07.585 --> 00:44:09.585
<v Speaker 1>readiness probe, if there is one. Delete the

00:44:09.585 --> 00:44:10.545
<v Speaker 2>readiness probe.

00:44:12.945 --> 00:44:14.545
<v Speaker 0>Go for it. I like you. Thank you.

00:44:14.785 --> 00:44:16.225
<v Speaker 4>Yeah. Alright. Go fast.

00:44:18.890 --> 00:44:20.810
<v Speaker 1>Rariness probe. Yeah. No.

00:44:21.850 --> 00:44:24.170
<v Speaker 1>Don't don't do this. Kids don't do this.

00:44:24.170 --> 00:44:26.250
<v Speaker 1>Forget that. Just forget that there was a

00:44:26.250 --> 00:44:28.250
<v Speaker 1>Rariness probe. You know? It's, it's fine.

00:44:28.570 --> 00:44:29.850
<v Speaker 1>It's also a

00:44:30.845 --> 00:44:32.765
<v Speaker 1>also a rogue replica set that seems to

00:44:32.765 --> 00:44:34.525
<v Speaker 1>be trying to do something. Not sure what's

00:44:34.525 --> 00:44:35.485
<v Speaker 1>up with that fella.

00:44:36.444 --> 00:44:37.885
<v Speaker 1>But it's ready now.

00:44:38.765 --> 00:44:39.885
<v Speaker 1>Woo hoo. Alright.

00:44:40.285 --> 00:44:42.125
<v Speaker 3>Wait. Wait. We're not done. There could be,

00:44:42.125 --> 00:44:44.444
<v Speaker 3>like, a service blocker, you know, or something

00:44:44.160 --> 00:44:45.599
<v Speaker 3>like that. We we we gotta make sure

00:44:45.599 --> 00:44:47.039
<v Speaker 3>we can Okay. So this is where I

00:44:47.039 --> 00:44:49.119
<v Speaker 0>would encourage that I will go to the

00:44:49.119 --> 00:44:51.680
<v Speaker 0>teleport page. I click on applications and we

00:44:51.680 --> 00:44:53.680
<v Speaker 0>have a nice little helper to launch our

00:44:53.680 --> 00:44:54.720
<v Speaker 0>clustered app.

00:44:55.039 --> 00:44:56.720
<v Speaker 0>And what you want to see is me

00:44:56.720 --> 00:44:57.119
<v Speaker 0>dancing.

00:44:58.745 --> 00:45:00.105
<v Speaker 0>Are we gonna see me No.

00:45:01.145 --> 00:45:03.225
<v Speaker 3>I wanna see you dancing. Come on up.

00:45:03.225 --> 00:45:05.625
<v Speaker 1>Oh, no. Build to connect to database. Because

00:45:05.945 --> 00:45:06.665
<v Speaker 1>our

00:45:06.745 --> 00:45:08.105
<v Speaker 1>Postgres is not up.

00:45:08.505 --> 00:45:09.865
<v Speaker 0>Yep. It's actually gone.

00:45:10.680 --> 00:45:11.480
<v Speaker 1>Get

00:45:11.480 --> 00:45:14.520
<v Speaker 1>deployed. What if a stable timed out. Alright.

00:45:14.520 --> 00:45:16.359
<v Speaker 3>Is it scaled scaling?

00:45:16.359 --> 00:45:16.920
<v Speaker 3>Or

00:45:17.160 --> 00:45:19.880
<v Speaker 2>Well, there is no stable set. So Yeah.

00:45:20.440 --> 00:45:21.640
<v Speaker 3>Was Postgres

00:45:21.559 --> 00:45:21.640
<v Speaker 3>Yes.

00:45:23.175 --> 00:45:24.135
<v Speaker 3>On its own? Or

00:45:26.055 --> 00:45:28.375
<v Speaker 1>Yeah. So there's there's a cluster IP, but

00:45:28.375 --> 00:45:28.855
<v Speaker 2>there's no

00:45:29.975 --> 00:45:32.535
<v Speaker 1>Yeah. There's no there's no database,

00:45:32.695 --> 00:45:34.135
<v Speaker 1>unfortunately. That's such a shame.

00:45:35.630 --> 00:45:36.190
<v Speaker 1>So

00:45:36.830 --> 00:45:38.430
<v Speaker 1>oh, no. That's such a shame.

00:45:39.150 --> 00:45:40.830
<v Speaker 1>But we got the pod up and running.

00:45:40.830 --> 00:45:43.790
<v Speaker 1>So what's next? Yeah. Who who needs data?

00:45:43.790 --> 00:45:44.350
<v Speaker 2>Right?

00:45:45.870 --> 00:45:48.030
<v Speaker 2>Also, what's up with Ambassador

00:45:48.030 --> 00:45:50.655
<v Speaker 2>being down. That's a bug I need to

00:45:50.655 --> 00:45:52.975
<v Speaker 0>fix. Don't worry about that. Okay. Okay. Yeah.

00:45:52.975 --> 00:45:53.775
<v Speaker 1>That's

00:45:53.935 --> 00:45:55.775
<v Speaker 1>yeah. That's that's fine.

00:45:56.255 --> 00:45:59.535
<v Speaker 1>So We slow slow down. So there's no

00:45:59.775 --> 00:46:02.495
<v Speaker 3>Postgres pod. Do we have Postgres YAML? Is

00:46:02.495 --> 00:46:07.090
<v Speaker 3>that in this command? The YAML from github.com/rawcode/clustered.

00:46:07.650 --> 00:46:08.450
<v Speaker 1>Oh, okay.

00:46:08.690 --> 00:46:11.410
<v Speaker 1>So There's a workload directory.

00:46:12.690 --> 00:46:14.930
<v Speaker 1>Slash raw code slash

00:46:14.930 --> 00:46:15.330
<v Speaker 1>cluster.

00:46:16.135 --> 00:46:17.015
<v Speaker 0>Clustered.

00:46:17.415 --> 00:46:18.935
<v Speaker 1>Oh, cluster. Right.

00:46:20.375 --> 00:46:21.895
<v Speaker 1>Clustered. Train node e.

00:46:23.495 --> 00:46:25.895
<v Speaker 0>And inside the workload directory, you'll find opt

00:46:25.895 --> 00:46:26.695
<v Speaker 0>Kubernetes,

00:46:26.775 --> 00:46:27.655
<v Speaker 0>and you'll see

00:46:29.460 --> 00:46:32.260
<v Speaker 1>Opt Kubernetes. Everything there? Yeah. Postgres is there.

00:46:32.260 --> 00:46:35.060
<v Speaker 3>There you go. Oops. Not blame. I don't

00:46:35.060 --> 00:46:38.260
<v Speaker 1>wanna blame. That seems dirty deleting the actual

00:46:38.260 --> 00:46:38.900
<v Speaker 3>code.

00:46:39.700 --> 00:46:41.380
<v Speaker 1>Yeah. Right? We should we should have just

00:46:41.380 --> 00:46:42.900
<v Speaker 3>deleted the Kubernetes repo.

00:46:45.465 --> 00:46:47.385
<v Speaker 1>You got the answer. That's

00:46:47.385 --> 00:46:48.345
<v Speaker 1>not gonna work.

00:46:48.745 --> 00:46:51.065
<v Speaker 2>What happened? Set pace there.

00:46:51.545 --> 00:46:53.065
<v Speaker 1>Yeah. Hey.

00:46:54.265 --> 00:46:55.225
<v Speaker 4>I

00:46:55.225 --> 00:46:56.825
<v Speaker 2>was gonna say, you could just it's a

00:46:56.825 --> 00:46:58.425
<v Speaker 2>public repo. You could just keep CTL apply

00:46:58.425 --> 00:47:00.089
<v Speaker 2>it from. Hey. He wanted to do the

00:47:00.089 --> 00:47:02.010
<v Speaker 3>caveman art where you blow paint on your

00:47:02.010 --> 00:47:04.570
<v Speaker 3>hand. Right? Fine. Yeah. Yeah. That's true.

00:47:05.930 --> 00:47:08.170
<v Speaker 1>Alright. So let's do keep pedal apply my

00:47:08.329 --> 00:47:10.650
<v Speaker 1>apply minus f from

00:47:10.650 --> 00:47:11.210
<v Speaker 1>that guy.

00:47:12.465 --> 00:47:14.625
<v Speaker 3>Oh, look at you being all fancy pants.

00:47:14.625 --> 00:47:16.385
<v Speaker 2>I'll do that. That's right there.

00:47:17.025 --> 00:47:17.825
<v Speaker 3>Unchanged.

00:47:17.825 --> 00:47:19.025
<v Speaker 3>Unchanged created.

00:47:19.345 --> 00:47:20.465
<v Speaker 3>Get some pods.

00:47:22.865 --> 00:47:25.105
<v Speaker 1>PV and our PVCs. Just make sure that

00:47:25.105 --> 00:47:27.309
<v Speaker 1>it's not, you know, backed by anything. Alright?

00:47:27.309 --> 00:47:28.190
<v Speaker 1>So Or

00:47:29.710 --> 00:47:31.390
<v Speaker 3>it should be backed by something.

00:47:31.549 --> 00:47:33.230
<v Speaker 1>Yeah. Or if it should be backed by

00:47:33.230 --> 00:47:36.270
<v Speaker 1>something. Let's go check that repo there. Boot

00:47:36.270 --> 00:47:37.230
<v Speaker 3>you up, man.

00:47:38.109 --> 00:47:40.349
<v Speaker 3>Probably has a probe or something, so taking

00:47:40.349 --> 00:47:43.465
<v Speaker 3>a second here. Likely. Yep. Do it. So

00:47:45.145 --> 00:47:47.545
<v Speaker 1>oh, go ahead. Sorry. Yeah. Sorry.

00:47:48.665 --> 00:47:51.785
<v Speaker 1>Alright. So Alright. Alright. Let me refresh our

00:47:51.785 --> 00:47:52.745
<v Speaker 0>clustered application.

00:47:53.720 --> 00:47:54.680
<v Speaker 3>Oh,

00:47:54.680 --> 00:47:56.119
<v Speaker 3>yeah. Hey.

00:47:56.519 --> 00:47:58.920
<v Speaker 0>You got the pants. You well done. Nice.

00:47:59.720 --> 00:48:01.080
<v Speaker 3>You go. Nice.

00:48:02.200 --> 00:48:05.400
<v Speaker 0>Alright. Good job. There there was a lot

00:48:05.400 --> 00:48:06.359
<v Speaker 0>to fix there. Right?

00:48:07.194 --> 00:48:07.835
<v Speaker 1>Yeah.

00:48:08.234 --> 00:48:10.714
<v Speaker 3>Did did we beat the time? You did.

00:48:10.714 --> 00:48:12.474
<v Speaker 0>I mean, I I started the timer late,

00:48:12.474 --> 00:48:14.395
<v Speaker 0>so I'm not actually sure how long it

00:48:14.395 --> 00:48:16.155
<v Speaker 0>was. But it was I think you were

00:48:16.155 --> 00:48:17.914
<v Speaker 0>under the the forty minutes. I think you

00:48:17.914 --> 00:48:18.315
<v Speaker 0>were okay.

00:48:19.320 --> 00:48:20.920
<v Speaker 0>There was twelve minutes left on the timer

00:48:20.920 --> 00:48:22.600
<v Speaker 0>and I started ten minutes late. So I

00:48:22.600 --> 00:48:24.120
<v Speaker 0>think you had three minutes left.

00:48:25.000 --> 00:48:25.720
<v Speaker 2>Alright.

00:48:26.120 --> 00:48:28.040
<v Speaker 3>You just got a minute. What you mean

00:48:28.040 --> 00:48:30.040
<v Speaker 2>there was one second left and we defused

00:48:30.040 --> 00:48:32.680
<v Speaker 2>the bomb? Exactly. Yeah. Awesome. Yeah. That that's

00:48:32.680 --> 00:48:33.160
<v Speaker 0>how it went.

00:48:34.375 --> 00:48:36.055
<v Speaker 0>We'll edit the video to reflect that. Don't

00:48:36.055 --> 00:48:37.895
<v Speaker 0>you worry. But then, no, good job. That

00:48:37.895 --> 00:48:40.535
<v Speaker 0>was good teamwork. You communicated well. You worked

00:48:40.535 --> 00:48:43.655
<v Speaker 0>through lots and lots of typos and death

00:48:43.655 --> 00:48:45.415
<v Speaker 0>by a dozen cuts there almost. But you

00:48:45.415 --> 00:48:47.349
<v Speaker 0>got to the end. Oh, yeah. Deleting the

00:48:47.349 --> 00:48:49.590
<v Speaker 0>stateful set, I thought was particularly sneaky.

00:48:49.590 --> 00:48:50.550
<v Speaker 0>But there you go.

00:48:52.150 --> 00:48:53.750
<v Speaker 0>Alright. Awesome. That was a lot of fun.

00:48:53.750 --> 00:48:55.670
<v Speaker 2>That was fun. Yeah. Yeah. That really was.

00:48:55.670 --> 00:48:57.109
<v Speaker 3>So so we should go to the YouTube

00:48:57.109 --> 00:48:59.190
<v Speaker 3>now and watch watch

00:49:00.095 --> 00:49:02.494
<v Speaker 3>hopefully, the reverse penalty.

00:49:02.575 --> 00:49:04.335
<v Speaker 0>It's it's a different video because of the

00:49:04.335 --> 00:49:06.095
<v Speaker 0>small hiccup that we experienced at the start.

00:49:06.095 --> 00:49:07.454
<v Speaker 0>But if you go to Rawkode.live,

00:49:07.454 --> 00:49:08.494
<v Speaker 0>you'll be able to see that we have

00:49:08.494 --> 00:49:10.494
<v Speaker 0>a session live in action. So feel free

00:49:10.494 --> 00:49:12.095
<v Speaker 0>to jump out of this call, jump over

00:49:12.095 --> 00:49:14.170
<v Speaker 0>there, and we'll have

00:49:14.890 --> 00:49:16.570
<v Speaker 0>the Rav team join us in just a

00:49:16.570 --> 00:49:18.570
<v Speaker 0>moment. So thanks again. Well done. I'll speak

00:49:18.570 --> 00:49:19.450
<v Speaker 0>to you all soon.

00:49:19.770 --> 00:49:22.170
<v Speaker 1>Alright. Alright. Thanks. Good luck. Go Rav. Thank

00:49:22.170 --> 00:49:22.650
<v Speaker 1>you.

00:49:24.410 --> 00:49:26.250
<v Speaker 0>Alright. So the Rav team will be coming

00:49:26.250 --> 00:49:28.494
<v Speaker 0>to join us in just a moment once

00:49:28.494 --> 00:49:30.494
<v Speaker 0>I I'll just boot out all the There

00:49:30.494 --> 00:49:31.215
<v Speaker 0>we go.

00:49:31.615 --> 00:49:34.175
<v Speaker 0>So Rawkode team, come and say hello. While

00:49:34.175 --> 00:49:36.175
<v Speaker 0>we wait, just because of the awkward start,

00:49:36.175 --> 00:49:38.015
<v Speaker 0>I'm going to thank the sponsors again.

00:49:38.175 --> 00:49:40.015
<v Speaker 0>Teleport, we've been using since the start of

00:49:40.015 --> 00:49:42.230
<v Speaker 0>Clustered is an amazing product. Check it out

00:49:42.230 --> 00:49:44.630
<v Speaker 0>at rockwood.liveteleport.

00:49:44.710 --> 00:49:46.869
<v Speaker 0>I really appreciate that. And Equinix Medal, my

00:49:46.869 --> 00:49:49.829
<v Speaker 0>former employer, has been very gracious and continues

00:49:49.829 --> 00:49:51.430
<v Speaker 0>to sponsor the hardware that we use on

00:49:51.430 --> 00:49:52.710
<v Speaker 0>Clustered as well. So if you want to

00:49:52.710 --> 00:49:54.230
<v Speaker 0>check out a bare metal cloud, you can

00:49:54.230 --> 00:49:57.030
<v Speaker 0>use the code Rawkode for 200 USD in

00:49:57.030 --> 00:49:59.565
<v Speaker 0>credits. Go spin up some bare metal.

00:50:00.285 --> 00:50:02.845
<v Speaker 0>Alright. We have the Rawkode team. So let's

00:50:02.845 --> 00:50:05.245
<v Speaker 0>bring them in. Hello. Hello. Hello.

00:50:06.365 --> 00:50:07.805
<v Speaker 0>How's it going? How was that? Was that

00:50:07.805 --> 00:50:08.365
<v Speaker 0>fun to watch?

00:50:10.880 --> 00:50:13.360
<v Speaker 5>It was a blast. Are you Sure was.

00:50:13.200 --> 00:50:15.360
<v Speaker 0>Screaming at the television going, Josh, it's right

00:50:15.360 --> 00:50:15.920
<v Speaker 0>there.

00:50:18.480 --> 00:50:20.480
<v Speaker 5>No. That was a great job. Was hard.

00:50:22.575 --> 00:50:25.775
<v Speaker 0>Alright. Well, thank you again. Can we start

00:50:25.775 --> 00:50:27.615
<v Speaker 0>with a little bit of introductions?

00:50:27.615 --> 00:50:29.055
<v Speaker 0>We'll just start with you on the left

00:50:29.055 --> 00:50:30.575
<v Speaker 0>there, Hitesh, and then we'll move over, and

00:50:30.575 --> 00:50:32.335
<v Speaker 0>then we'll get started with the the next

00:50:32.335 --> 00:50:33.055
<v Speaker 0>cluster.

00:50:33.775 --> 00:50:36.974
<v Speaker 5>Sure. So hey, everybody. I'm Hitesh Sharma. So

00:50:36.974 --> 00:50:39.590
<v Speaker 5>I'm a senior engineer at Raft,

00:50:39.590 --> 00:50:41.910
<v Speaker 5>and I was I've been playing with Kubernetes

00:50:41.910 --> 00:50:44.150
<v Speaker 5>for about a couple years now. So really

00:50:44.150 --> 00:50:46.070
<v Speaker 5>excited to see what we have to fix

00:50:46.070 --> 00:50:46.790
<v Speaker 5>here now.

00:50:50.470 --> 00:50:51.430
<v Speaker 6>And I'm.

00:50:51.830 --> 00:50:54.245
<v Speaker 6>I'm the lead RNG engineer at Raft. I've

00:50:54.245 --> 00:50:55.685
<v Speaker 6>been working with Kubernetes for a little bit

00:50:55.685 --> 00:50:56.885
<v Speaker 6>over three years now.

00:50:57.125 --> 00:50:59.605
<v Speaker 6>Really excited to see what they broke up

00:50:59.765 --> 00:51:00.885
<v Speaker 6>in this cluster.

00:51:01.685 --> 00:51:04.725
<v Speaker 0>Alright. Awesome. Thank you very much. So let's

00:51:04.725 --> 00:51:06.645
<v Speaker 0>get my screen shared.

00:51:07.365 --> 00:51:08.005
<v Speaker 0>There we go.

00:51:09.330 --> 00:51:11.810
<v Speaker 0>I'm going to open a session on the

00:51:11.810 --> 00:51:14.290
<v Speaker 0>control plane node of this cluster.

00:51:14.450 --> 00:51:16.290
<v Speaker 0>If you could please go to activity and

00:51:16.290 --> 00:51:18.530
<v Speaker 0>active sessions and join this session, just give

00:51:18.530 --> 00:51:19.730
<v Speaker 0>me an echo hello to let me know

00:51:19.730 --> 00:51:21.250
<v Speaker 0>that you're there and then we'll kick

00:51:21.730 --> 00:51:22.210
<v Speaker 0>things off.

00:51:25.595 --> 00:51:26.875
<v Speaker 0>There we go. One.

00:51:27.835 --> 00:51:29.595
<v Speaker 5>Alright. Let me refresh.

00:51:37.410 --> 00:51:40.290
<v Speaker 0>Remember, it's under activity and active session.

00:51:41.010 --> 00:51:41.730
<v Speaker 5>Got it.

00:51:43.410 --> 00:51:45.410
<v Speaker 0>Alright. I can see we also have the

00:51:45.410 --> 00:51:47.810
<v Speaker 0>RXM team in the chat saying, let's go.

00:51:47.810 --> 00:51:49.570
<v Speaker 0>So they're prepared for this too. There we

00:51:49.570 --> 00:51:49.810
<v Speaker 0>go.

00:51:52.425 --> 00:51:54.425
<v Speaker 0>And we got you both here. Sweet. So

00:51:54.425 --> 00:51:57.305
<v Speaker 0>export your KubeConfig, test for an API server.

00:51:57.305 --> 00:51:59.385
<v Speaker 0>Best of luck. Take it away.

00:52:00.025 --> 00:52:01.305
<v Speaker 6>Alright, bro. Go for it.

00:52:06.730 --> 00:52:08.490
<v Speaker 0>I'll I'll I'll wait ten minutes when I

00:52:08.490 --> 00:52:10.010
<v Speaker 0>start the timer. That's

00:52:10.010 --> 00:52:11.530
<v Speaker 0>what I did with the first cluster.

00:52:13.690 --> 00:52:14.810
<v Speaker 6>See what we got.

00:52:15.050 --> 00:52:17.210
<v Speaker 6>That's alright. I jumped on. We can go

00:52:17.210 --> 00:52:17.770
<v Speaker 0>home. I think we're done.

00:52:19.095 --> 00:52:19.735
<v Speaker 6>Alright.

00:52:20.935 --> 00:52:22.695
<v Speaker 5>K. Everything is running.

00:52:23.735 --> 00:52:25.415
<v Speaker 0>I hope they I hope they remember to

00:52:25.415 --> 00:52:25.895
<v Speaker 0>break it.

00:52:31.670 --> 00:52:33.670
<v Speaker 6>What do you wanna do? Edit the deployment?

00:52:33.670 --> 00:52:35.109
<v Speaker 5>Let's

00:52:35.109 --> 00:52:37.509
<v Speaker 5>see. I was gonna check if we can

00:52:37.509 --> 00:52:39.030
<v Speaker 5>get to the application.

00:52:39.430 --> 00:52:40.549
<v Speaker 0>Yep. Do you want me to fill it

00:52:40.549 --> 00:52:41.030
<v Speaker 0>up?

00:52:41.430 --> 00:52:44.230
<v Speaker 0>So Sure. We go to applications.

00:52:44.230 --> 00:52:45.430
<v Speaker 0>We'll spin up clustered.

00:52:51.465 --> 00:52:53.705
<v Speaker 0>Yep. Version one does appear to be working.

00:52:53.945 --> 00:52:55.305
<v Speaker 0>As well. Okay.

00:52:55.865 --> 00:52:57.945
<v Speaker 5>Let's try v two.

00:52:58.345 --> 00:53:00.185
<v Speaker 5>Just added the deployment. Let's see.

00:53:02.000 --> 00:53:03.280
<v Speaker 6>Adding some of the shortcuts.

00:53:21.875 --> 00:53:23.075
<v Speaker 6>Let's see what we have there.

00:53:31.309 --> 00:53:32.190
<v Speaker 6>It too?

00:53:33.309 --> 00:53:34.670
<v Speaker 5>Yep. Let's try.

00:53:51.345 --> 00:53:52.465
<v Speaker 6>Interesting. A lot of

00:53:55.410 --> 00:53:56.770
<v Speaker 5>alright. So

00:53:58.289 --> 00:53:59.570
<v Speaker 5>let's see.

00:54:06.690 --> 00:54:07.970
<v Speaker 5>Check the scheduler.

00:54:10.244 --> 00:54:12.005
<v Speaker 6>Go for it. You have access.

00:54:34.060 --> 00:54:35.900
<v Speaker 5>K. That looks good.

00:54:44.955 --> 00:54:47.115
<v Speaker 5>Just do the

00:54:58.200 --> 00:54:59.000
<v Speaker 5>unexpected

00:54:59.000 --> 00:55:00.280
<v Speaker 5>end of file.

00:55:01.720 --> 00:55:02.599
<v Speaker 6>Yeah.

00:55:02.599 --> 00:55:04.680
<v Speaker 6>Did they put some tabs in the YAML?

00:55:05.559 --> 00:55:07.640
<v Speaker 6>Like, there's a connection refused too.

00:55:09.375 --> 00:55:10.495
<v Speaker 6>Yeah. End

00:55:10.895 --> 00:55:13.375
<v Speaker 6>of file. I mean, these error messages do

00:55:13.375 --> 00:55:14.735
<v Speaker 0>appear to be from

00:55:15.135 --> 00:55:15.695
<v Speaker 0>yesterday.

00:55:23.330 --> 00:55:24.530
<v Speaker 6>Let's see what they did.

00:55:25.410 --> 00:55:27.170
<v Speaker 6>Oh, wow. Look at that.

00:55:30.770 --> 00:55:33.170
<v Speaker 0>I think that's just me. Okay.

00:55:33.170 --> 00:55:34.290
<v Speaker 6>Yeah. There's nothing there.

00:55:36.375 --> 00:55:38.135
<v Speaker 2>We tried. That's not how we tried. Nice

00:55:38.135 --> 00:55:38.935
<v Speaker 0>try though.

00:55:39.335 --> 00:55:40.215
<v Speaker 5>So

00:55:42.615 --> 00:55:44.375
<v Speaker 0>So let's talk about what happened there. Right?

00:55:44.375 --> 00:55:46.855
<v Speaker 0>You did a cube control edit of the

00:55:46.855 --> 00:55:49.495
<v Speaker 0>deployment and you believe you've set the version

00:55:49.495 --> 00:55:52.300
<v Speaker 0>to be v two. Can you and nothing's

00:55:52.300 --> 00:55:54.380
<v Speaker 0>happened. So maybe you wanna confirm that?

00:55:56.780 --> 00:55:59.099
<v Speaker 6>Yeah. They're described on the on the deployment.

00:56:03.585 --> 00:56:05.585
<v Speaker 6>Did they mess around with our back?

00:56:10.945 --> 00:56:12.785
<v Speaker 5>K. Alright. So that's v two.

00:56:15.425 --> 00:56:18.305
<v Speaker 6>But zero replicas created for the new replica

00:56:18.305 --> 00:56:18.705
<v Speaker 6>set.

00:56:24.480 --> 00:56:26.880
<v Speaker 0>What's responsible for on the replica sets?

00:56:35.905 --> 00:56:38.385
<v Speaker 5>So this one is not ready.

00:56:39.345 --> 00:56:40.545
<v Speaker 5>This is the new one.

00:56:46.240 --> 00:56:47.520
<v Speaker 5>Where is my mouse?

00:56:49.359 --> 00:56:50.480
<v Speaker 6>Non existent.

00:56:50.960 --> 00:56:51.599
<v Speaker 5>Yeah.

00:56:51.839 --> 00:56:53.520
<v Speaker 5>Isn't that clicking on the window?

00:56:53.920 --> 00:56:55.359
<v Speaker 6>What do you what are you trying to

00:56:55.359 --> 00:56:55.839
<v Speaker 6>do?

00:56:56.720 --> 00:56:58.720
<v Speaker 5>Describe the the new

00:56:59.244 --> 00:57:00.125
<v Speaker 5>RS.

00:57:08.205 --> 00:57:09.484
<v Speaker 5>Let's let's do the

00:57:10.685 --> 00:57:12.205
<v Speaker 5>do we do the source completion?

00:57:16.549 --> 00:57:18.310
<v Speaker 6>Yep. User forbidden.

00:57:19.990 --> 00:57:21.030
<v Speaker 6>Service account.

00:57:22.069 --> 00:57:23.750
<v Speaker 5>Now let's look let's look and take take

00:57:23.750 --> 00:57:26.470
<v Speaker 5>a look at the

00:57:43.500 --> 00:57:44.540
<v Speaker 5>I wonder

00:57:46.220 --> 00:57:47.099
<v Speaker 5>if

00:57:56.635 --> 00:57:57.915
<v Speaker 6>What are you wondering?

00:57:58.075 --> 00:57:59.515
<v Speaker 6>Talk to me. I'm trying

00:58:01.355 --> 00:58:02.955
<v Speaker 5>to think if

00:58:03.355 --> 00:58:05.595
<v Speaker 5>the if the service account should have had

00:58:05.595 --> 00:58:06.875
<v Speaker 5>labels

00:58:08.369 --> 00:58:09.810
<v Speaker 5>to access that.

00:58:13.569 --> 00:58:14.690
<v Speaker 0>So the

00:58:14.690 --> 00:58:17.170
<v Speaker 0>user we're seeing under the

00:58:17.170 --> 00:58:17.890
<v Speaker 0>gray

00:58:17.970 --> 00:58:19.730
<v Speaker 0>isn't the default service account.

00:58:27.755 --> 00:58:29.835
<v Speaker 0>Because you described the default service account and

00:58:29.835 --> 00:58:31.115
<v Speaker 0>the default namespace,

00:58:31.115 --> 00:58:33.435
<v Speaker 0>but this is the replica

00:58:33.435 --> 00:58:34.474
<v Speaker 0>controller

00:58:34.474 --> 00:58:36.155
<v Speaker 0>and part of the controller manager.

00:58:37.720 --> 00:58:39.560
<v Speaker 6>Yeah. This is this is from the cube

00:58:39.560 --> 00:58:40.280
<v Speaker 6>system.

00:58:40.360 --> 00:58:42.440
<v Speaker 6>Can you do describe service accounts in the

00:58:42.440 --> 00:58:43.400
<v Speaker 6>cube system?

00:58:46.440 --> 00:58:48.120
<v Speaker 5>Now let's look at the

00:58:49.560 --> 00:58:50.760
<v Speaker 6>Just get all of them.

00:58:57.775 --> 00:58:58.494
<v Speaker 5>K.

00:58:59.055 --> 00:59:00.494
<v Speaker 5>Let's do describe.

00:59:09.150 --> 00:59:09.950
<v Speaker 5>Same

00:59:10.110 --> 00:59:13.230
<v Speaker 5>one. But what I'm trying to look for

00:59:14.030 --> 00:59:15.950
<v Speaker 6>Isn't it gonna be for the replica set,

00:59:15.950 --> 00:59:16.350
<v Speaker 6>though?

00:59:19.070 --> 00:59:21.150
<v Speaker 6>Is there an error around the replica set?

00:59:22.704 --> 00:59:24.385
<v Speaker 5>The replica set controller?

00:59:25.105 --> 00:59:25.505
<v Speaker 6>Yeah.

00:59:39.330 --> 00:59:40.130
<v Speaker 5>K.

00:59:46.610 --> 00:59:49.045
<v Speaker 0>So service account doesn't have any permissions, right,

00:59:49.045 --> 00:59:50.405
<v Speaker 0>in the Kubernetes cluster?

00:59:51.925 --> 00:59:53.525
<v Speaker 0>What do we have to look at next?

00:59:58.565 --> 01:00:00.485
<v Speaker 6>If the service account has no permission.

01:00:01.400 --> 01:00:02.760
<v Speaker 0>Well, We'll

01:00:02.760 --> 01:00:03.960
<v Speaker 0>need to look at binding?

01:00:03.960 --> 01:00:06.520
<v Speaker 0>Yeah. Exactly. Let's look at the role bindings

01:00:06.520 --> 01:00:08.760
<v Speaker 0>and see if we can mark out what's

01:00:08.760 --> 01:00:11.080
<v Speaker 0>going wrong here. Go for it, Brock.

01:00:14.285 --> 01:00:15.165
<v Speaker 5>Oh,

01:00:19.885 --> 01:00:21.725
<v Speaker 5>we forgot you saw our favorite tool.

01:00:22.525 --> 01:00:25.165
<v Speaker 6>Yeah. Hey. You know what? I'm stopping let's

01:00:25.165 --> 01:00:26.125
<v Speaker 6>stop being a caveman.

01:00:32.770 --> 01:00:34.450
<v Speaker 0>He thinks there's good one. Yeah.

01:00:35.890 --> 01:00:36.530
<v Speaker 6>Yeah.

01:00:41.810 --> 01:00:42.690
<v Speaker 6>Alright.

01:00:42.690 --> 01:00:44.210
<v Speaker 6>I gotta do the export thing.

01:00:44.775 --> 01:00:45.494
<v Speaker 6>Yep.

01:00:50.855 --> 01:00:51.575
<v Speaker 5>K.

01:00:53.895 --> 01:00:55.575
<v Speaker 5>Let's get the role

01:01:03.974 --> 01:01:05.520
<v Speaker 6>binding. Is that a roll binding missing then?

01:01:06.480 --> 01:01:07.440
<v Speaker 6>Is this all for the

01:01:09.040 --> 01:01:09.680
<v Speaker 3>no.

01:01:10.240 --> 01:01:11.760
<v Speaker 5>Sorry. Sounds

01:01:11.760 --> 01:01:12.480
<v Speaker 5>about right.

01:01:17.065 --> 01:01:18.425
<v Speaker 5>Is there any role?

01:01:25.144 --> 01:01:26.185
<v Speaker 6>Say that again?

01:01:26.424 --> 01:01:26.984
<v Speaker 5>Who?

01:01:27.305 --> 01:01:27.865
<v Speaker 5>Roles.

01:01:28.585 --> 01:01:28.744
<v Speaker 5>Yeah.

01:01:42.115 --> 01:01:43.555
<v Speaker 6>Okay. Let's go back to the error because

01:01:43.555 --> 01:01:44.675
<v Speaker 6>I feel like we've

01:01:44.995 --> 01:01:47.555
<v Speaker 6>Yep. Maybe gone too deep into one place.

01:01:48.355 --> 01:01:50.835
<v Speaker 5>Got a deployment and see your replica sets.

01:01:50.835 --> 01:01:50.915
<v Speaker 5>Yeah.

01:01:57.390 --> 01:01:58.430
<v Speaker 6>Bout to create

01:01:59.150 --> 01:02:02.430
<v Speaker 6>user system service account cube system, replica set

01:02:02.430 --> 01:02:03.390
<v Speaker 6>controller.

01:02:05.630 --> 01:02:07.950
<v Speaker 5>So we just need to give access to

01:02:07.950 --> 01:02:09.150
<v Speaker 5>replica set controller.

01:02:11.005 --> 01:02:12.045
<v Speaker 6>Yeah. We need to,

01:02:13.484 --> 01:02:15.325
<v Speaker 6>give it a a role binding.

01:02:15.805 --> 01:02:16.525
<v Speaker 5>Yeah.

01:02:17.405 --> 01:02:18.685
<v Speaker 5>So for that,

01:02:19.005 --> 01:02:20.765
<v Speaker 5>we can do

01:02:35.869 --> 01:02:37.390
<v Speaker 6>That's tying this one. Right?

01:02:39.255 --> 01:02:39.895
<v Speaker 5>Yeah.

01:02:41.095 --> 01:02:43.095
<v Speaker 6>Okay. Do you have that, up?

01:02:44.775 --> 01:02:45.734
<v Speaker 5>Checking real quick.

01:02:54.660 --> 01:02:56.900
<v Speaker 6>That is evil. Well, I guess service account

01:02:56.900 --> 01:02:57.780
<v Speaker 6>is fair.

01:02:59.060 --> 01:03:01.060
<v Speaker 0>It's making me question some of my

01:03:01.780 --> 01:03:04.660
<v Speaker 0>knowledge here because I I can't remember if

01:03:04.660 --> 01:03:07.445
<v Speaker 0>the controller manager rule back are

01:03:07.685 --> 01:03:08.645
<v Speaker 0>hard coded

01:03:08.725 --> 01:03:09.845
<v Speaker 0>or not.

01:03:10.565 --> 01:03:12.725
<v Speaker 0>I'd I actually expected to see more

01:03:12.885 --> 01:03:16.085
<v Speaker 0>from a kubectl get rule bindings. Ah, but

01:03:16.085 --> 01:03:17.605
<v Speaker 0>it may be a cluster rule binding. We

01:03:17.605 --> 01:03:18.325
<v Speaker 0>don't look at those.

01:03:21.849 --> 01:03:23.930
<v Speaker 0>So I would do a get cluster

01:03:25.210 --> 01:03:26.730
<v Speaker 0>cluster role binding

01:03:26.970 --> 01:03:28.490
<v Speaker 0>on the cube or the span of the

01:03:28.490 --> 01:03:29.290
<v Speaker 0>namespace.

01:03:32.970 --> 01:03:34.490
<v Speaker 0>There you go. That's looking much better. Now

01:03:34.490 --> 01:03:35.930
<v Speaker 0>we can see that we have the replica

01:03:35.930 --> 01:03:38.234
<v Speaker 0>set controller role binding there bind into the

01:03:38.234 --> 01:03:40.714
<v Speaker 0>cluster role of replica set controller. So you're

01:03:40.714 --> 01:03:41.675
<v Speaker 0>gonna wanna start

01:03:41.835 --> 01:03:42.635
<v Speaker 0>introspecting

01:03:42.635 --> 01:03:43.435
<v Speaker 0>those two.

01:03:49.115 --> 01:03:50.635
<v Speaker 5>The arrow binding doesn't

01:03:50.954 --> 01:03:52.875
<v Speaker 5>so we need to give axe

01:03:53.430 --> 01:03:55.990
<v Speaker 5>when the default namespace, I'm assuming that's correct?

01:03:56.630 --> 01:03:57.510
<v Speaker 0>This

01:03:57.829 --> 01:03:59.110
<v Speaker 0>rule binding here,

01:04:01.030 --> 01:04:03.829
<v Speaker 0>I'm gonna I'm gonna assume binds our replica

01:04:03.829 --> 01:04:04.710
<v Speaker 0>set controller

01:04:05.510 --> 01:04:08.505
<v Speaker 0>service account to this cluster rule. So maybe

01:04:08.505 --> 01:04:10.664
<v Speaker 0>start by just taking a look at that

01:04:10.664 --> 01:04:12.505
<v Speaker 0>cluster role and see what permissions it has.

01:04:24.640 --> 01:04:26.480
<v Speaker 6>You wanna do a describe on that?

01:04:26.880 --> 01:04:29.280
<v Speaker 5>I'm just gonna check something.

01:04:34.080 --> 01:04:35.200
<v Speaker 5>For it. Go for it. While while I'm

01:04:35.200 --> 01:04:37.360
<v Speaker 5>looking something, you can go for

01:04:38.495 --> 01:04:39.455
<v Speaker 6>The

01:04:40.175 --> 01:04:42.095
<v Speaker 6>replica set controller.

01:04:42.255 --> 01:04:45.775
<v Speaker 0>Yeah. So cluster role space. And then alright.

01:04:45.935 --> 01:04:46.975
<v Speaker 0>Yeah. That way works too.

01:04:52.420 --> 01:04:53.460
<v Speaker 6>Seems okay.

01:04:53.620 --> 01:04:54.420
<v Speaker 6>Create,

01:04:54.420 --> 01:04:56.180
<v Speaker 6>list, delete, update.

01:04:57.860 --> 01:04:59.780
<v Speaker 0>I think we're missing a verb

01:05:00.020 --> 01:05:01.220
<v Speaker 0>in pods.

01:05:02.180 --> 01:05:02.900
<v Speaker 6>Yeah.

01:05:03.540 --> 01:05:04.660
<v Speaker 6>Create, aren't we?

01:05:07.135 --> 01:05:07.775
<v Speaker 5>Do edit.

01:05:19.630 --> 01:05:21.550
<v Speaker 6>Is it over here? Am I in the

01:05:21.550 --> 01:05:23.390
<v Speaker 6>right place? Yeah. You'll need to search for

01:05:23.390 --> 01:05:23.790
<v Speaker 0>pods.

01:05:37.924 --> 01:05:38.724
<v Speaker 5>There we go.

01:05:50.369 --> 01:05:52.930
<v Speaker 6>It still doesn't seem like it's coming up.

01:05:55.490 --> 01:05:56.530
<v Speaker 6>Might have to

01:05:57.730 --> 01:05:58.369
<v Speaker 6>kill it.

01:06:03.265 --> 01:06:03.985
<v Speaker 2>Again.

01:06:05.025 --> 01:06:05.665
<v Speaker 0>Alright.

01:06:06.785 --> 01:06:09.345
<v Speaker 6>Might have to trigger it again

01:06:14.160 --> 01:06:15.200
<v Speaker 6>Or not.

01:06:15.440 --> 01:06:15.840
<v Speaker 6>Sorry.

01:06:17.680 --> 01:06:19.200
<v Speaker 6>Deployment.

01:06:21.440 --> 01:06:22.080
<v Speaker 6>Image.

01:06:24.400 --> 01:06:27.985
<v Speaker 6>I'm downgrading it back to v one. Okay.

01:06:28.465 --> 01:06:30.225
<v Speaker 6>And then putting it on v two.

01:06:32.065 --> 01:06:35.425
<v Speaker 6>I can't create because it did something or

01:06:35.585 --> 01:06:37.105
<v Speaker 6>thought it did something, but it doesn't look

01:06:37.105 --> 01:06:39.825
<v Speaker 6>like it is picking up the changes

01:06:40.210 --> 01:06:40.930
<v Speaker 6>yet.

01:06:41.410 --> 01:06:43.570
<v Speaker 5>So let's take a look at the the

01:06:43.570 --> 01:06:46.050
<v Speaker 5>the logs of the deployment again. And you

01:06:46.050 --> 01:06:48.130
<v Speaker 0>could just delete that replica there, and it

01:06:48.130 --> 01:06:50.130
<v Speaker 0>it should force it to recreate it.

01:06:54.914 --> 01:06:55.795
<v Speaker 0>There you go.

01:06:56.194 --> 01:06:57.714
<v Speaker 0>I mean, it's still not creating a pod,

01:06:57.714 --> 01:06:57.795
<v Speaker 0>but

01:06:59.954 --> 01:07:02.915
<v Speaker 5>Let's see what this Oh, different error. There

01:07:03.075 --> 01:07:04.675
<v Speaker 0>you go. Cited quota.

01:07:08.115 --> 01:07:09.660
<v Speaker 6>Oh, that's fine. We can just delete that

01:07:09.660 --> 01:07:12.060
<v Speaker 6>other part, and it should be fine. Yeah.

01:07:13.900 --> 01:07:16.060
<v Speaker 6>I mean, sneaky, but it's no.

01:07:20.140 --> 01:07:20.940
<v Speaker 5>Pending.

01:07:21.660 --> 01:07:23.500
<v Speaker 6>That's v two? Well, it's still v one,

01:07:23.500 --> 01:07:23.660
<v Speaker 6>though.

01:07:29.285 --> 01:07:31.525
<v Speaker 6>Because that is still gonna deploy v one.

01:07:31.925 --> 01:07:32.725
<v Speaker 5>Yeah. The

01:07:33.205 --> 01:07:34.805
<v Speaker 5>the deployment is set to v two right

01:07:34.805 --> 01:07:35.525
<v Speaker 5>now. Right?

01:07:36.085 --> 01:07:38.085
<v Speaker 6>The deployment

01:07:38.750 --> 01:07:39.470
<v Speaker 6>is

01:07:39.869 --> 01:07:41.630
<v Speaker 6>set to v two.

01:07:42.030 --> 01:07:43.230
<v Speaker 5>V two.

01:07:44.270 --> 01:07:48.109
<v Speaker 5>So replica failure failed to create. What is

01:07:48.109 --> 01:07:49.550
<v Speaker 5>what is this saying?

01:07:51.065 --> 01:07:53.065
<v Speaker 6>Minimum replicas unavailable.

01:08:00.905 --> 01:08:02.664
<v Speaker 6>But I think this needs to be edited.

01:08:03.450 --> 01:08:04.170
<v Speaker 5>Yeah.

01:08:07.130 --> 01:08:07.690
<v Speaker 5>See

01:08:08.570 --> 01:08:09.530
<v Speaker 5>if there are any

01:08:10.250 --> 01:08:11.450
<v Speaker 5>gotchas here.

01:08:13.450 --> 01:08:15.050
<v Speaker 6>And that threshold,

01:08:15.130 --> 01:08:16.410
<v Speaker 6>period, success.

01:08:18.785 --> 01:08:21.585
<v Speaker 6>That status, that's not gonna make a difference.

01:08:21.985 --> 01:08:24.064
<v Speaker 5>So path is good, which

01:08:24.785 --> 01:08:25.505
<v Speaker 5>we know,

01:08:26.145 --> 01:08:27.345
<v Speaker 5>because that was one of the things we

01:08:27.345 --> 01:08:28.225
<v Speaker 5>had broke.

01:08:28.865 --> 01:08:31.104
<v Speaker 6>We need to edit the

01:08:30.780 --> 01:08:33.100
<v Speaker 6>we shouldn't need to edit the image

01:08:33.100 --> 01:08:34.859
<v Speaker 6>from the replica side. Right? That should be

01:08:34.859 --> 01:08:36.460
<v Speaker 6>picked up from the deployment?

01:08:36.780 --> 01:08:37.580
<v Speaker 5>Correct.

01:08:37.819 --> 01:08:39.180
<v Speaker 0>So if you see a a an error

01:08:39.180 --> 01:08:40.460
<v Speaker 0>message about quotas,

01:08:40.620 --> 01:08:43.260
<v Speaker 0>what parameters does Kubernetes expose for quotas? Do

01:08:43.260 --> 01:08:43.500
<v Speaker 0>you know?

01:08:49.524 --> 01:08:50.805
<v Speaker 6>I don't remember from the top of my

01:08:50.805 --> 01:08:52.245
<v Speaker 6>head. That's gonna be

01:08:55.045 --> 01:08:56.484
<v Speaker 6>there was a second one. Or is it

01:08:56.484 --> 01:08:58.245
<v Speaker 5>the

01:09:05.710 --> 01:09:07.630
<v Speaker 6>Unless they tainted all the no no. But

01:09:07.630 --> 01:09:09.470
<v Speaker 6>then it would complain about a taint if

01:09:09.470 --> 01:09:10.430
<v Speaker 6>they did it with taint.

01:09:11.835 --> 01:09:14.715
<v Speaker 0>There's a sub command, kubectl API dash resources,

01:09:14.715 --> 01:09:16.955
<v Speaker 0>which will list all the custom resources or

01:09:16.955 --> 01:09:19.114
<v Speaker 0>all the resource definitions within a cluster.

01:09:24.340 --> 01:09:26.260
<v Speaker 0>Not not necessarily a customer. I had to

01:09:26.260 --> 01:09:27.620
<v Speaker 0>correct myself there. I don't know if you

01:09:27.620 --> 01:09:29.140
<v Speaker 0>can do this in canines. We may have

01:09:29.140 --> 01:09:31.699
<v Speaker 0>to use vanilla cube control. Uh-uh. Uh-uh.

01:09:33.939 --> 01:09:35.540
<v Speaker 0>Yeah. You found a quarter. There you go.

01:09:35.540 --> 01:09:35.620
<v Speaker 0>But

01:09:38.795 --> 01:09:40.635
<v Speaker 6>it's set to two, so

01:09:41.755 --> 01:09:44.474
<v Speaker 6>it should be okay still. But I guess

01:09:44.474 --> 01:09:46.074
<v Speaker 6>we could increase these to three.

01:09:48.074 --> 01:09:49.755
<v Speaker 0>Or you could delete the quota. I I

01:09:49.755 --> 01:09:50.955
<v Speaker 0>prefer the shotgun approach.

01:09:52.010 --> 01:09:54.490
<v Speaker 0>Delete it. I'm

01:09:54.490 --> 01:09:56.170
<v Speaker 6>not gonna say how, but that might have

01:09:56.170 --> 01:09:58.410
<v Speaker 6>been how some stuff disappeared from that previous

01:09:58.410 --> 01:10:00.650
<v Speaker 6>cluster or that the previous team there.

01:10:01.850 --> 01:10:03.690
<v Speaker 6>Was trying to to debug.

01:10:06.574 --> 01:10:08.574
<v Speaker 6>But do we need to trigger this again?

01:10:08.574 --> 01:10:10.815
<v Speaker 6>No. It thinks it's on v two. Might

01:10:10.815 --> 01:10:13.454
<v Speaker 6>have to delete the replica set, though, again.

01:10:15.935 --> 01:10:17.695
<v Speaker 0>Oh, just speed up the reconciliation.

01:10:19.320 --> 01:10:20.040
<v Speaker 6>Oh,

01:10:22.680 --> 01:10:24.120
<v Speaker 6>something is pending.

01:10:24.440 --> 01:10:26.040
<v Speaker 5>Yep. Let's see. That seems to be a

01:10:26.040 --> 01:10:26.840
<v Speaker 6>v two.

01:10:27.640 --> 01:10:30.680
<v Speaker 6>Yep. I'm I'm half expecting an ingress mess

01:10:30.680 --> 01:10:32.520
<v Speaker 6>or something. And why is it pending forever?

01:10:33.365 --> 01:10:34.805
<v Speaker 5>If you look at the log

01:10:37.125 --> 01:10:37.925
<v Speaker 5>So

01:10:46.610 --> 01:10:48.850
<v Speaker 5>Do they have any tolerations on the thing?

01:10:49.810 --> 01:10:51.090
<v Speaker 6>I don't know. Can you look at the

01:10:51.090 --> 01:10:53.010
<v Speaker 6>GitHub and see that they they mess up

01:10:53.010 --> 01:10:53.969
<v Speaker 6>this deployment?

01:10:54.530 --> 01:10:55.250
<v Speaker 6>Yep.

01:10:55.730 --> 01:10:57.010
<v Speaker 6>There's no logs to it.

01:11:03.425 --> 01:11:04.465
<v Speaker 6>There's

01:11:04.465 --> 01:11:07.185
<v Speaker 6>nothing in here in the deployment necessarily.

01:11:12.960 --> 01:11:14.639
<v Speaker 6>The replica set

01:11:15.840 --> 01:11:17.440
<v Speaker 6>says that it successfully

01:11:17.440 --> 01:11:18.400
<v Speaker 6>created.

01:11:20.000 --> 01:11:22.080
<v Speaker 6>Still in pending mode. Okay.

01:11:24.575 --> 01:11:25.535
<v Speaker 0>Normally,

01:11:25.695 --> 01:11:28.095
<v Speaker 0>for something that's stuck in pending mode, we'd

01:11:28.095 --> 01:11:28.574
<v Speaker 0>see

01:11:30.015 --> 01:11:32.015
<v Speaker 0>an event for where it was scheduled and

01:11:32.015 --> 01:11:33.935
<v Speaker 0>an event for the image being pulled. We're

01:11:33.935 --> 01:11:35.055
<v Speaker 0>not really seeing that.

01:11:36.095 --> 01:11:37.535
<v Speaker 6>No. It's not pulling images.

01:11:41.550 --> 01:11:43.790
<v Speaker 6>Wonder why we're not pulling And it's not

01:11:43.790 --> 01:11:45.469
<v Speaker 0>gonna say the node check if you look

01:11:45.469 --> 01:11:47.790
<v Speaker 0>at that. Do it describe on the nodes?

01:11:47.790 --> 01:11:49.310
<v Speaker 5>I just wanna see, like, if there's anything

01:11:49.310 --> 01:11:49.870
<v Speaker 5>blocking.

01:11:51.264 --> 01:11:51.984
<v Speaker 6>K.

01:11:57.184 --> 01:11:59.264
<v Speaker 6>Up and running. Unscheduled.

01:11:59.344 --> 01:12:01.824
<v Speaker 6>Unscheduled.

01:12:03.585 --> 01:12:04.065
<v Speaker 6>Yeah.

01:12:11.700 --> 01:12:12.500
<v Speaker 6>Oh.

01:12:12.820 --> 01:12:17.060
<v Speaker 6>Very Kubelet has sufficient memory available. Disk pressure.

01:12:18.740 --> 01:12:20.180
<v Speaker 6>It filled up the disk, didn't they?

01:12:21.125 --> 01:12:23.525
<v Speaker 6>No. This is no no disk pressure. I

01:12:23.525 --> 01:12:24.485
<v Speaker 0>think you're okay.

01:12:27.845 --> 01:12:30.165
<v Speaker 6>Oh, okay. Oh, no. No. Status is false.

01:12:30.165 --> 01:12:32.405
<v Speaker 6>Hold on. Hold on. I'm reading this wrong.

01:12:34.005 --> 01:12:35.685
<v Speaker 0>That note appears to be healthy.

01:12:43.340 --> 01:12:45.340
<v Speaker 6>That's sufficient memory available.

01:12:45.740 --> 01:12:48.380
<v Speaker 5>So to what was it going to mean?

01:12:48.620 --> 01:12:51.100
<v Speaker 5>I think this is and I think

01:12:54.435 --> 01:12:56.035
<v Speaker 5>it's too late to come up. Yeah.

01:12:58.355 --> 01:13:00.915
<v Speaker 6>It doesn't seem like there's anything here that's

01:13:00.915 --> 01:13:02.355
<v Speaker 6>being overused.

01:13:02.915 --> 01:13:04.515
<v Speaker 0>If you go back to your podcast, let

01:13:04.515 --> 01:13:05.395
<v Speaker 0>me find names first.

01:13:07.790 --> 01:13:08.750
<v Speaker 0>Right. So

01:13:09.150 --> 01:13:10.989
<v Speaker 0>the the one thing that right now is

01:13:10.989 --> 01:13:13.790
<v Speaker 0>is pending with no nodes. So you can

01:13:13.790 --> 01:13:15.790
<v Speaker 0>either bypass the scheduler or maybe look at

01:13:15.790 --> 01:13:17.230
<v Speaker 0>why the scheduler is not assigned to that

01:13:17.230 --> 01:13:19.390
<v Speaker 0>node. You got two different options. That was

01:13:19.390 --> 01:13:21.070
<v Speaker 6>my my next thing is to look at

01:13:21.070 --> 01:13:23.425
<v Speaker 6>the scheduler and see if something

01:13:23.425 --> 01:13:25.665
<v Speaker 6>is messed up there because it's putting this

01:13:25.665 --> 01:13:27.265
<v Speaker 6>on the control plane.

01:13:29.265 --> 01:13:29.905
<v Speaker 6>Right?

01:13:30.225 --> 01:13:32.065
<v Speaker 0>Can you pop can you put

01:13:32.305 --> 01:13:34.545
<v Speaker 5>this under the control plane too and see?

01:13:35.360 --> 01:13:37.040
<v Speaker 0>So this is one of my favorite hacks

01:13:37.040 --> 01:13:39.439
<v Speaker 0>with Kubernetes, but the scheduler is really, really

01:13:40.320 --> 01:13:42.159
<v Speaker 0>simple. I mean, you can just modify the

01:13:42.159 --> 01:13:44.559
<v Speaker 0>deployment and put the node into the spec

01:13:44.559 --> 01:13:46.480
<v Speaker 0>and then bypass the scheduler altogether.

01:13:47.574 --> 01:13:48.695
<v Speaker 0>A cool hack.

01:13:49.815 --> 01:13:51.494
<v Speaker 0>But nobody should ever do it in production

01:13:51.494 --> 01:13:52.135
<v Speaker 0>ever.

01:13:53.415 --> 01:13:54.695
<v Speaker 6>I don't think anybody should do any

01:13:55.574 --> 01:13:57.655
<v Speaker 6>of the Kubernetes in production. That there's the

01:13:57.655 --> 01:13:58.375
<v Speaker 0>answer to everything.

01:14:01.730 --> 01:14:02.930
<v Speaker 5>I'm checking the

01:14:03.330 --> 01:14:04.450
<v Speaker 5>scheduler.

01:14:07.090 --> 01:14:09.010
<v Speaker 0>Right after that spec line, you can literally

01:14:09.010 --> 01:14:10.530
<v Speaker 0>just put node name and then the name

01:14:10.530 --> 01:14:11.010
<v Speaker 0>of a node.

01:14:13.835 --> 01:14:16.155
<v Speaker 6>Oh, really? Okay. Yeah. I did not know

01:14:16.155 --> 01:14:17.275
<v Speaker 6>that. Did I know?

01:14:17.594 --> 01:14:19.275
<v Speaker 3>Go grab that name of a node.

01:14:20.155 --> 01:14:22.554
<v Speaker 6>Oh, okay. It should be fairly easy to

01:14:22.554 --> 01:14:22.955
<v Speaker 6>remember.

01:14:27.190 --> 01:14:27.989
<v Speaker 5>Wait.

01:14:29.989 --> 01:14:31.349
<v Speaker 5>Connection refused.

01:14:32.790 --> 01:14:33.989
<v Speaker 6>I don't like that.

01:14:35.270 --> 01:14:37.909
<v Speaker 6>Was it camel cased? It is. Yeah.

01:14:39.110 --> 01:14:40.469
<v Speaker 0>If I've remembered it correctly.

01:14:43.895 --> 01:14:45.014
<v Speaker 6>We'll find out.

01:14:47.495 --> 01:14:49.015
<v Speaker 6>Oh, I did not wanna say it. Name

01:14:49.015 --> 01:14:50.775
<v Speaker 0>is not correct. You'll need look at another

01:14:50.775 --> 01:14:51.975
<v Speaker 0>pod. You'll be able to see it there

01:14:51.975 --> 01:14:53.335
<v Speaker 0>because the scheduler adds it.

01:14:58.830 --> 01:15:00.590
<v Speaker 6>Like at the pod, you mean? Or or

01:15:00.430 --> 01:15:02.590
<v Speaker 0>Yeah. Oh, not pod. Look at the YAML.

01:15:03.710 --> 01:15:05.070
<v Speaker 0>Yeah. Because it it gets added to the

01:15:05.070 --> 01:15:06.590
<v Speaker 0>pod, you can set it. Oh, no. You

01:15:06.590 --> 01:15:08.190
<v Speaker 0>have to set it on the pod spec

01:15:08.190 --> 01:15:10.030
<v Speaker 0>within the deployment YAML. I'm just being silly.

01:15:12.105 --> 01:15:13.784
<v Speaker 0>We have to go through the deployment, go

01:15:13.784 --> 01:15:15.784
<v Speaker 0>down to spec, template spec, and then set

01:15:15.784 --> 01:15:16.584
<v Speaker 0>note in.

01:15:19.385 --> 01:15:20.744
<v Speaker 6>Oh, I see. What can we move around

01:15:20.744 --> 01:15:22.344
<v Speaker 6>the Yeah. Wrong spec.

01:15:25.620 --> 01:15:27.380
<v Speaker 0>It won't be the container.

01:15:28.580 --> 01:15:29.780
<v Speaker 0>It'll be the

01:15:31.220 --> 01:15:32.660
<v Speaker 6>Oh, it would be at the At the

01:15:32.660 --> 01:15:34.180
<v Speaker 0>same level as containers. Yeah.

01:15:38.655 --> 01:15:40.334
<v Speaker 6>Was such a good idea.

01:15:44.414 --> 01:15:45.454
<v Speaker 5>There we go.

01:15:46.895 --> 01:15:47.854
<v Speaker 0>There we go.

01:15:50.815 --> 01:15:52.014
<v Speaker 6>Well, something got scheduled.

01:15:53.950 --> 01:15:54.909
<v Speaker 5>We did.

01:15:55.390 --> 01:15:56.590
<v Speaker 6>So it's b two.

01:15:56.990 --> 01:15:59.150
<v Speaker 6>Do we wanna see if the URL is

01:15:59.150 --> 01:16:00.190
<v Speaker 6>exploding or not?

01:16:00.830 --> 01:16:02.510
<v Speaker 0>I I really hope that horrible hack is

01:16:02.510 --> 01:16:04.350
<v Speaker 0>not just ended this episode. Got

01:16:05.150 --> 01:16:07.790
<v Speaker 6>it. It has side effects. I blame you.

01:16:08.895 --> 01:16:10.255
<v Speaker 5>Me too is up.

01:16:14.895 --> 01:16:17.295
<v Speaker 0>It could just be my browser cache.

01:16:18.495 --> 01:16:20.735
<v Speaker 0>So I've had to hit refresh 40,000 times

01:16:20.735 --> 01:16:21.615
<v Speaker 0>before

01:16:22.840 --> 01:16:23.480
<v Speaker 0>I

01:16:25.160 --> 01:16:27.800
<v Speaker 0>think Is that it? Oh, damn it. We

01:16:27.800 --> 01:16:28.599
<v Speaker 0>fixed it.

01:16:29.239 --> 01:16:32.040
<v Speaker 5>It did stop my end. Yep. There we

01:16:32.040 --> 01:16:32.520
<v Speaker 5>go.

01:16:33.320 --> 01:16:35.080
<v Speaker 0>Alright. I didn't know that was gonna be

01:16:35.080 --> 01:16:37.605
<v Speaker 0>the end of the the carnage. No. I

01:16:37.605 --> 01:16:38.885
<v Speaker 0>feel bad. Yeah.

01:16:39.525 --> 01:16:41.285
<v Speaker 0>Oh, well, it's fixed. I wonder I wonder

01:16:41.285 --> 01:16:43.445
<v Speaker 6>if we're missing stuff, but those are those

01:16:43.445 --> 01:16:45.205
<v Speaker 6>are some pretty low

01:16:45.605 --> 01:16:46.565
<v Speaker 6>downfalls.

01:16:46.565 --> 01:16:48.965
<v Speaker 6>I mean, we still haven't fixed technically the

01:16:48.965 --> 01:16:50.965
<v Speaker 6>the node. Right? We kinda hacked our way.

01:16:50.965 --> 01:16:52.780
<v Speaker 5>Just, yeah, something running.

01:16:52.940 --> 01:16:54.220
<v Speaker 0>So do you want do you want to

01:16:54.220 --> 01:16:55.820
<v Speaker 0>attempt to fix the scheduler? Or do you

01:16:55.820 --> 01:16:57.340
<v Speaker 0>wanna just call it you've you've that's it.

01:16:57.340 --> 01:16:58.780
<v Speaker 0>You've done it. It's it's good.

01:17:02.220 --> 01:17:03.740
<v Speaker 6>I don't know. I'm okay with saying it's

01:17:03.740 --> 01:17:06.225
<v Speaker 6>good. Good enough. Enough. Right? It's deployed to

01:17:06.225 --> 01:17:08.545
<v Speaker 6>production. The site's live. Let's not touch it.

01:17:09.824 --> 01:17:11.344
<v Speaker 0>Yeah. Alright.

01:17:11.344 --> 01:17:12.864
<v Speaker 0>Perfect. Well, good job.

01:17:13.265 --> 01:17:15.505
<v Speaker 0>We we flew through that one. Some

01:17:15.824 --> 01:17:18.304
<v Speaker 0>fun things to fix there. The scheduler is

01:17:18.304 --> 01:17:19.105
<v Speaker 0>always a fun one.

01:17:20.760 --> 01:17:22.760
<v Speaker 0>I mean, the scheduler does a lot, but

01:17:22.760 --> 01:17:24.600
<v Speaker 0>it's really easy just to bypass it and

01:17:24.600 --> 01:17:26.520
<v Speaker 0>move on to something else. So Yeah.

01:17:27.080 --> 01:17:30.120
<v Speaker 6>Alright. Well, that was fun. Two two good

01:17:30.120 --> 01:17:32.520
<v Speaker 0>clusters. Did what did you prefer? Watching someone

01:17:32.520 --> 01:17:34.280
<v Speaker 0>fix yours or fixing someone else's?

01:17:37.035 --> 01:17:38.155
<v Speaker 6>I preferred

01:17:38.475 --> 01:17:39.995
<v Speaker 6>the fixing part because

01:17:40.315 --> 01:17:42.315
<v Speaker 6>I think like, you're sitting at the screen,

01:17:42.315 --> 01:17:44.235
<v Speaker 6>like, just throwing popcorn at it. I'm like,

01:17:44.235 --> 01:17:44.875
<v Speaker 6>come on. I

01:17:45.755 --> 01:17:47.595
<v Speaker 5>mean, when we were watching, was the whole

01:17:47.595 --> 01:17:48.875
<v Speaker 5>time, I just wanted to tap in the

01:17:48.875 --> 01:17:50.460
<v Speaker 5>chat. Like, no. No. Look at that namespace.

01:17:50.460 --> 01:17:52.380
<v Speaker 5>Look at the namespace. There's a typo there.

01:17:52.380 --> 01:17:52.860
<v Speaker 5>So

01:17:53.980 --> 01:17:55.420
<v Speaker 5>but, I mean, they did a great job

01:17:55.420 --> 01:17:57.020
<v Speaker 5>too. I mean, we we also had some

01:17:57.020 --> 01:17:57.820
<v Speaker 5>lot of

01:17:58.780 --> 01:18:01.020
<v Speaker 5>small cuts on the worker nodes as well,

01:18:01.020 --> 01:18:02.780
<v Speaker 5>but then the workaround for them was also

01:18:02.780 --> 01:18:05.335
<v Speaker 5>just to spin up the application on the

01:18:05.495 --> 01:18:07.335
<v Speaker 5>control plane. So that worked out as well

01:18:07.335 --> 01:18:09.175
<v Speaker 5>because there was no way the worker nodes

01:18:09.175 --> 01:18:10.135
<v Speaker 5>were coming up.

01:18:11.735 --> 01:18:13.575
<v Speaker 0>Ah, right. Okay. Yeah. I don't I don't

01:18:13.575 --> 01:18:16.375
<v Speaker 0>think I noticed that. Yeah. Yeah. We had

01:18:16.375 --> 01:18:18.215
<v Speaker 6>a lot of small little cuts. We'll we'll

01:18:18.215 --> 01:18:19.175
<v Speaker 6>put it in the PR,

01:18:20.510 --> 01:18:22.430
<v Speaker 6>But that was that was sort of RMO.

01:18:22.430 --> 01:18:24.110
<v Speaker 6>It's just a fat finger, a bunch of

01:18:24.110 --> 01:18:26.510
<v Speaker 6>stuff that nobody ever should touch

01:18:27.310 --> 01:18:30.830
<v Speaker 6>in themselves. Right? Like, the search Getting up

01:18:30.830 --> 01:18:31.230
<v Speaker 3>gates.

01:18:32.844 --> 01:18:33.804
<v Speaker 5>Yeah. Especially

01:18:34.205 --> 01:18:36.284
<v Speaker 5>the search on the worker nodes. Yeah.

01:18:37.565 --> 01:18:40.045
<v Speaker 0>Alright. Sweet. Well, thank you for taking time

01:18:40.045 --> 01:18:41.565
<v Speaker 0>out of your day and week. You know,

01:18:41.565 --> 01:18:43.324
<v Speaker 0>breaking those clusters is not easy. It takes

01:18:43.324 --> 01:18:44.764
<v Speaker 0>time. And thank you for joining me live

01:18:44.764 --> 01:18:46.690
<v Speaker 0>and, you know, typing in front of people,

01:18:46.690 --> 01:18:48.929
<v Speaker 0>which is also impending doom every time we

01:18:48.929 --> 01:18:51.010
<v Speaker 0>do it. So as thanks for sharing your

01:18:51.010 --> 01:18:53.010
<v Speaker 0>knowledge and a good job. I'll let you

01:18:53.010 --> 01:18:54.449
<v Speaker 0>both get back to your day and I'll

01:18:54.449 --> 01:18:56.369
<v Speaker 0>say goodbye to everyone else. Thanks.

01:18:56.770 --> 01:18:57.170
<v Speaker 3>Alright.

01:18:58.955 --> 01:19:01.195
<v Speaker 0>Two great teams, two great clusters. That was

01:19:01.195 --> 01:19:02.955
<v Speaker 0>a whole lot of fun. Apologies for the

01:19:02.955 --> 01:19:04.555
<v Speaker 0>weirdness with the YouTube video at the start.

01:19:04.555 --> 01:19:06.395
<v Speaker 0>I do not know what happened there. I'm

01:19:06.395 --> 01:19:08.315
<v Speaker 0>gonna have to dig into that. Thank you

01:19:08.315 --> 01:19:11.195
<v Speaker 0>to our sponsors again, Teleport and Equinix Medal.

01:19:11.430 --> 01:19:13.990
<v Speaker 0>We use Teleport to debug these customers, to

01:19:13.990 --> 01:19:15.990
<v Speaker 0>fix them, to share terminals, to get access.

01:19:15.990 --> 01:19:18.310
<v Speaker 0>It's a really neat open source product that

01:19:18.310 --> 01:19:19.110
<v Speaker 0>everybody,

01:19:19.110 --> 01:19:21.590
<v Speaker 0>literally everybody should check out and have running

01:19:21.590 --> 01:19:23.430
<v Speaker 0>in their production infrastructure.

01:19:23.910 --> 01:19:26.475
<v Speaker 0>If want to know more, go to Rawkode.liveteleport.

01:19:26.475 --> 01:19:29.114
<v Speaker 0>I would really appreciate that. And EquinixMetal provided

01:19:29.114 --> 01:19:30.715
<v Speaker 0>the hardware. If you want to check out

01:19:30.715 --> 01:19:32.875
<v Speaker 0>Bare Metal Cloud for yourself, it is a

01:19:32.875 --> 01:19:34.795
<v Speaker 0>whole lot of fun. Use the code Rawkode

01:19:34.795 --> 01:19:35.995
<v Speaker 0>for $200 in credit.

01:19:36.960 --> 01:19:38.640
<v Speaker 0>Alright. We will be back soon with more

01:19:38.640 --> 01:19:40.960
<v Speaker 0>clustered and even more at the Rawkode Academy.

01:19:40.960 --> 01:19:42.880
<v Speaker 0>Things will be getting back to normal now,

01:19:42.880 --> 01:19:45.840
<v Speaker 0>almost. I have finished my paternity leave. Lots

01:19:45.840 --> 01:19:48.560
<v Speaker 0>more coming soon. Thank you for enjoying and

01:19:48.560 --> 01:19:50.080
<v Speaker 0>watching with us. I'll see you all soon.

01:19:50.345 --> 01:19:50.745
<v Speaker 1>Thank you.

01:20:07.040 --> 01:20:09.360
<v Speaker 3>Thank you for watching Rawkode Live.
