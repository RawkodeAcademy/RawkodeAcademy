WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: 1e6001e5-46e5-469a-938f-a0a732479229
Created: 2025-04-29T20:25:16.348Z
Duration: 229.04819
Channels: 1

00:00:04.240 --> 00:00:07.280
<v Speaker 0>Hi there. And welcome to this Rawkode byte.

00:00:08.000 --> 00:00:09.840
<v Speaker 0>In this episode, I'm gonna take a look

00:00:09.840 --> 00:00:12.000
<v Speaker 0>at the traceroute command and try to help

00:00:12.000 --> 00:00:14.625
<v Speaker 0>you understand what is actually happening at the

00:00:14.625 --> 00:00:16.945
<v Speaker 0>packet and networking level to make that traceroute

00:00:16.945 --> 00:00:17.585
<v Speaker 0>work.

00:00:19.745 --> 00:00:21.425
<v Speaker 0>So let's take a quick look at this

00:00:21.425 --> 00:00:23.585
<v Speaker 0>small diagram I put together.

00:00:24.705 --> 00:00:27.280
<v Speaker 0>When we make a request to google.com

00:00:27.280 --> 00:00:28.480
<v Speaker 0>from our machine,

00:00:29.440 --> 00:00:32.000
<v Speaker 0>it's not a straight line to google.com.

00:00:32.159 --> 00:00:35.360
<v Speaker 0>There is other networking devices typically routers and

00:00:35.360 --> 00:00:36.559
<v Speaker 0>switches in between

00:00:36.720 --> 00:00:39.200
<v Speaker 0>which have to forward on our request until

00:00:39.200 --> 00:00:40.800
<v Speaker 0>we get where we need to be.

00:00:41.840 --> 00:00:43.894
<v Speaker 0>So not uncommon for something to leave your

00:00:43.894 --> 00:00:46.535
<v Speaker 0>machine at some sort of local rare before

00:00:46.535 --> 00:00:48.375
<v Speaker 0>eventually getting to some exchange,

00:00:48.695 --> 00:00:51.175
<v Speaker 0>before eventually getting to some other return, before

00:00:51.175 --> 00:00:53.734
<v Speaker 0>finally getting to the website

00:00:53.734 --> 00:00:55.975
<v Speaker 0>or you know IP address that you've requested.

00:00:57.280 --> 00:00:59.840
<v Speaker 0>Each time we hit a new device, we

00:00:59.840 --> 00:01:01.040
<v Speaker 0>call this a hop.

00:01:03.040 --> 00:01:03.760
<v Speaker 0>Now,

00:01:03.920 --> 00:01:06.640
<v Speaker 0>our machines, operating systems don't want to send

00:01:06.640 --> 00:01:08.720
<v Speaker 0>packets and wait an infinite amount of time

00:01:08.720 --> 00:01:09.680
<v Speaker 0>for a response.

00:01:10.485 --> 00:01:12.805
<v Speaker 0>So they apply something called a TTL, a

00:01:12.805 --> 00:01:14.805
<v Speaker 0>time to live on every packet that leaves

00:01:14.805 --> 00:01:15.685
<v Speaker 0>the machine.

00:01:16.725 --> 00:01:17.924
<v Speaker 0>Let's assume

00:01:18.085 --> 00:01:19.445
<v Speaker 0>that the TTL

00:01:19.445 --> 00:01:20.805
<v Speaker 0>on a packet that we are about to

00:01:20.805 --> 00:01:22.244
<v Speaker 0>hypothetically send

00:01:22.820 --> 00:01:23.700
<v Speaker 0>is two.

00:01:24.659 --> 00:01:26.259
<v Speaker 0>We send it from our machine and it

00:01:26.259 --> 00:01:27.780
<v Speaker 0>gets to the yellow router.

00:01:28.100 --> 00:01:30.340
<v Speaker 0>The yellow router will decrement the TTL from

00:01:30.340 --> 00:01:32.180
<v Speaker 0>two to one and forward the packet to

00:01:32.180 --> 00:01:33.140
<v Speaker 0>the next machine.

00:01:34.180 --> 00:01:36.655
<v Speaker 0>Once that packet gets to the pinky red

00:01:36.655 --> 00:01:39.295
<v Speaker 0>router, it's gonna decrement the TTL. It's gonna

00:01:39.295 --> 00:01:40.815
<v Speaker 0>go from one to zero.

00:01:40.975 --> 00:01:43.375
<v Speaker 0>When that device sees the TTL zero and

00:01:43.375 --> 00:01:45.615
<v Speaker 0>knows that we're getting up, we're not gonna

00:01:45.615 --> 00:01:47.215
<v Speaker 0>forward it onto anymore machines.

00:01:48.119 --> 00:01:50.360
<v Speaker 0>So it will actually respond

00:01:50.360 --> 00:01:52.520
<v Speaker 0>to my machine to say hey,

00:01:53.240 --> 00:01:54.280
<v Speaker 0>this expired.

00:01:55.640 --> 00:01:58.520
<v Speaker 0>A trace route takes advantage of this mechanism

00:01:58.520 --> 00:01:59.799
<v Speaker 0>of the TTL

00:02:00.039 --> 00:02:02.520
<v Speaker 0>and when you run a trace route instead

00:02:02.205 --> 00:02:04.525
<v Speaker 0>of applying the default TTL from your operating

00:02:04.525 --> 00:02:06.525
<v Speaker 0>system, which is typically a value of anywhere

00:02:06.525 --> 00:02:08.685
<v Speaker 0>from 64 to 255,

00:02:09.645 --> 00:02:12.125
<v Speaker 0>then it sets the TTL to one.

00:02:13.245 --> 00:02:15.005
<v Speaker 0>What that means is our machine will speak

00:02:15.005 --> 00:02:16.925
<v Speaker 0>to the yellow router. The yellow router will

00:02:16.925 --> 00:02:18.640
<v Speaker 0>decrement the TTL from one to zero and

00:02:18.640 --> 00:02:20.160
<v Speaker 0>the yellow router will respond.

00:02:20.480 --> 00:02:22.400
<v Speaker 0>Now our machine knows a little bit about

00:02:22.400 --> 00:02:23.280
<v Speaker 0>that hop.

00:02:24.239 --> 00:02:26.799
<v Speaker 0>It will then increment the TTL to two.

00:02:26.799 --> 00:02:29.120
<v Speaker 0>This time we reach the pinky red router

00:02:29.280 --> 00:02:30.879
<v Speaker 0>and we get a little bit of information

00:02:30.879 --> 00:02:33.935
<v Speaker 0>about that. Our machine will continually increment that

00:02:33.935 --> 00:02:36.495
<v Speaker 0>TTL until it hits our target machine and

00:02:36.495 --> 00:02:38.335
<v Speaker 0>we get not we get back a normal

00:02:38.335 --> 00:02:39.055
<v Speaker 0>response.

00:02:39.935 --> 00:02:41.295
<v Speaker 0>So what does that look like when we

00:02:41.295 --> 00:02:43.455
<v Speaker 0>run the traceroute command? Well,

00:02:44.015 --> 00:02:46.415
<v Speaker 0>I have performed a traceroute to google.com.

00:02:47.420 --> 00:02:49.020
<v Speaker 0>We can see the first hop is my

00:02:49.020 --> 00:02:51.100
<v Speaker 0>local router and it's pretty fast and we

00:02:51.100 --> 00:02:53.500
<v Speaker 0>get information back because that router responds to

00:02:53.500 --> 00:02:54.860
<v Speaker 0>the ICMP ping.

00:02:56.300 --> 00:02:59.340
<v Speaker 0>There's another networking device after my router which

00:02:59.340 --> 00:03:00.140
<v Speaker 0>did not respond.

00:03:00.675 --> 00:03:03.075
<v Speaker 0>That's why we get star star star. It's

00:03:03.075 --> 00:03:05.635
<v Speaker 0>important to note that that isn't a problem.

00:03:05.955 --> 00:03:07.955
<v Speaker 0>It just means that device didn't really want

00:03:07.955 --> 00:03:09.235
<v Speaker 0>to answer the request.

00:03:10.115 --> 00:03:12.275
<v Speaker 0>However, if we go on with another TTL

00:03:12.275 --> 00:03:15.110
<v Speaker 0>slightly larger, we had this next device. We

00:03:15.110 --> 00:03:17.269
<v Speaker 0>get another device that doesn't respond and then

00:03:17.269 --> 00:03:18.469
<v Speaker 0>we get a few more on and on

00:03:18.469 --> 00:03:20.310
<v Speaker 0>and on. We can see that it takes

00:03:20.310 --> 00:03:23.510
<v Speaker 0>nine hops before we reach google.com.

00:03:24.390 --> 00:03:26.230
<v Speaker 0>And we can see the round trip time

00:03:26.230 --> 00:03:29.425
<v Speaker 0>and milliseconds for each of these connections.

00:03:29.584 --> 00:03:32.305
<v Speaker 0>Giving us an idea of where problems are

00:03:32.305 --> 00:03:33.905
<v Speaker 0>when we make a request for a certain

00:03:33.905 --> 00:03:35.985
<v Speaker 0>website. We can narrow it down based on

00:03:35.985 --> 00:03:37.905
<v Speaker 0>information that we get back from the hops

00:03:38.533 --> 00:03:40.213
<v Speaker 0>And that's how traceroute works.

00:03:41.733 --> 00:03:43.573
<v Speaker 0>I hope you found that useful. There'll be

00:03:43.573 --> 00:03:45.493
<v Speaker 0>more episodes soon. Have a great day.
