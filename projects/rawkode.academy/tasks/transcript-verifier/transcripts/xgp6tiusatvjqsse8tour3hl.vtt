WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: adbf8209-340e-4adf-ad64-c96bcc852a64
Created: 2025-04-29T18:09:27.678Z
Duration: 6324.89
Channels: 1

00:01:08.195 --> 00:01:08.995
<v Speaker 0>Hello,

00:01:09.075 --> 00:01:11.235
<v Speaker 0>and welcome to Clustered.

00:01:11.715 --> 00:01:14.515
<v Speaker 0>Today is episode 16 of Clustered, and we

00:01:14.515 --> 00:01:17.875
<v Speaker 0>will be fixing some rather broken Kubernetes clusters

00:01:17.875 --> 00:01:19.235
<v Speaker 0>by two fantastic guests.

00:01:19.960 --> 00:01:21.640
<v Speaker 0>Before we get started, there's just a little

00:01:21.640 --> 00:01:22.600
<v Speaker 0>bit of housekeeping.

00:01:23.159 --> 00:01:25.159
<v Speaker 0>If you're not already a subscriber, you should

00:01:25.159 --> 00:01:27.400
<v Speaker 0>do so now. Click that subscribe button, tick

00:01:27.400 --> 00:01:29.880
<v Speaker 0>the bell, get notifications for all new episodes

00:01:29.880 --> 00:01:31.080
<v Speaker 0>from the Rawkode Academy.

00:01:32.155 --> 00:01:33.835
<v Speaker 0>My goal is to provide the best cloud

00:01:33.835 --> 00:01:35.915
<v Speaker 0>native and Kubernetes learning materials for us all

00:01:35.915 --> 00:01:38.795
<v Speaker 0>to learn this fast landscape together. So we'd

00:01:38.795 --> 00:01:39.915
<v Speaker 0>like you to join us.

00:01:40.235 --> 00:01:42.635
<v Speaker 0>Also, if you wanna chat with other cloud

00:01:42.635 --> 00:01:44.555
<v Speaker 0>native and Kubernetes people, you can join us

00:01:44.555 --> 00:01:47.275
<v Speaker 0>on the Discord server available at Rawkode.chat.

00:01:48.190 --> 00:01:50.830
<v Speaker 0>I also wanna thank Teleport who started sponsoring

00:01:50.830 --> 00:01:53.550
<v Speaker 0>Clustered a few weeks ago. We've been using

00:01:53.550 --> 00:01:55.870
<v Speaker 0>Teleport since the very first episode of Clustered.

00:01:55.870 --> 00:01:58.030
<v Speaker 0>It is a fantastic tool, and I really

00:01:58.030 --> 00:01:59.230
<v Speaker 0>appreciate their support.

00:01:59.630 --> 00:02:00.845
<v Speaker 0>I won't give you the pitch for the

00:02:00.845 --> 00:02:02.365
<v Speaker 0>product. You'll see it for yourself as we

00:02:02.365 --> 00:02:04.125
<v Speaker 0>fix a couple of clusters in just a

00:02:04.125 --> 00:02:04.685
<v Speaker 0>moment.

00:02:05.325 --> 00:02:07.805
<v Speaker 0>Now today's clusters are broken by. Like I

00:02:07.805 --> 00:02:10.044
<v Speaker 0>said, two fantastic guests, and I'm gonna bring

00:02:10.044 --> 00:02:10.925
<v Speaker 0>them in.

00:02:11.405 --> 00:02:13.965
<v Speaker 0>Now here we are. Hello, Andy. Hello, Rachel.

00:02:13.965 --> 00:02:14.925
<v Speaker 0>How are you both today?

00:02:16.159 --> 00:02:17.440
<v Speaker 1>Doing well. Thank you.

00:02:18.080 --> 00:02:20.799
<v Speaker 2>Good. Thanks. Awesome. Well, thank you so much

00:02:20.799 --> 00:02:22.879
<v Speaker 0>for joining me. Can we just start with

00:02:22.879 --> 00:02:24.799
<v Speaker 0>a quick round of introductions? I'll just say,

00:02:24.799 --> 00:02:26.239
<v Speaker 0>Andy, first, since you're right next to me

00:02:26.239 --> 00:02:27.760
<v Speaker 0>on the screen, and then Rachel, please tell

00:02:27.760 --> 00:02:28.799
<v Speaker 0>us a little bit about yourselves.

00:02:30.695 --> 00:02:33.495
<v Speaker 1>Yeah. So I guess I started doing Kubernetes,

00:02:33.895 --> 00:02:35.495
<v Speaker 1>bare metal on prem,

00:02:36.615 --> 00:02:38.135
<v Speaker 1>and, like, Chef

00:02:38.695 --> 00:02:40.535
<v Speaker 1>on one dot nine,

00:02:41.255 --> 00:02:43.575
<v Speaker 1>and then just kind of progressing the automation

00:02:43.575 --> 00:02:44.215
<v Speaker 1>from

00:02:45.050 --> 00:02:46.330
<v Speaker 1>Chef through

00:02:46.490 --> 00:02:47.690
<v Speaker 1>cluster API,

00:02:47.770 --> 00:02:50.810
<v Speaker 1>change gears, and now doing it for Equinix

00:02:50.810 --> 00:02:53.290
<v Speaker 1>metal on lighting up dark data centers

00:02:53.610 --> 00:02:56.170
<v Speaker 1>with a global Pixie Boot and Flat Car.

00:02:57.370 --> 00:02:57.690
<v Speaker 0>So

00:02:58.410 --> 00:02:59.130
<v Speaker 0>Nice. Thank you.

00:03:00.175 --> 00:03:01.055
<v Speaker 2>And, Rachel?

00:03:01.775 --> 00:03:04.735
<v Speaker 2>Yep. I'm Rachel Leakin. I'm a solution architect

00:03:04.735 --> 00:03:08.735
<v Speaker 2>at VMware helping customers modernize their applications onto

00:03:08.735 --> 00:03:09.695
<v Speaker 2>Kubernetes.

00:03:10.095 --> 00:03:12.655
<v Speaker 2>I started in Kubernetes probably now three years,

00:03:13.160 --> 00:03:14.840
<v Speaker 2>more on the architect side,

00:03:15.320 --> 00:03:17.800
<v Speaker 2>and then started to get down into the

00:03:17.800 --> 00:03:20.040
<v Speaker 2>weeds when I joined the VMware

00:03:20.360 --> 00:03:22.600
<v Speaker 2>and helping customers set up their clusters. Now

00:03:22.600 --> 00:03:25.080
<v Speaker 2>I'm already helping them get their applications onto

00:03:25.080 --> 00:03:25.560
<v Speaker 2>clusters.

00:03:26.205 --> 00:03:28.605
<v Speaker 2>A side note from that, outside, I'm a

00:03:28.605 --> 00:03:30.445
<v Speaker 2>big Chelsea fan, as you can see.

00:03:31.325 --> 00:03:33.405
<v Speaker 2>I had to you know, since we're light

00:03:33.405 --> 00:03:35.565
<v Speaker 2>slight competition, I had to, you know, represent

00:03:35.565 --> 00:03:37.565
<v Speaker 2>my team, champions of Europe, so

00:03:37.885 --> 00:03:39.645
<v Speaker 2>a little bit about me. Alright.

00:03:40.605 --> 00:03:42.629
<v Speaker 0>Thank you both very I'm just gonna share

00:03:42.629 --> 00:03:44.069
<v Speaker 0>something from the audience because I think it's

00:03:44.069 --> 00:03:46.150
<v Speaker 0>really funny. But just before we went live,

00:03:46.469 --> 00:03:48.230
<v Speaker 0>Rachel was informing us that you made two

00:03:48.230 --> 00:03:50.390
<v Speaker 0>extra breaks to the cluster, which, of course,

00:03:50.390 --> 00:03:51.430
<v Speaker 0>is wonderful.

00:03:51.909 --> 00:03:53.670
<v Speaker 0>And I I I mentioned that a lot

00:03:53.670 --> 00:03:55.255
<v Speaker 0>of breakers do that because they panicked of

00:03:55.255 --> 00:03:57.015
<v Speaker 0>not broken enough or they've taken it too

00:03:57.015 --> 00:04:00.055
<v Speaker 0>far, and then Andy made best face. So

00:04:00.055 --> 00:04:03.335
<v Speaker 0>we've got two potentially disastrous clusters,

00:04:03.575 --> 00:04:05.175
<v Speaker 0>and I think we should jump straight into

00:04:05.175 --> 00:04:06.535
<v Speaker 0>our first one and see what we can

00:04:06.535 --> 00:04:07.655
<v Speaker 0>fix. So

00:04:08.055 --> 00:04:10.215
<v Speaker 0>our first cluster today is

00:04:11.310 --> 00:04:12.350
<v Speaker 0>rituals,

00:04:12.350 --> 00:04:14.110
<v Speaker 0>which means, Andy, you and I are up

00:04:14.110 --> 00:04:14.670
<v Speaker 0>first.

00:04:15.950 --> 00:04:17.310
<v Speaker 0>Okay.

00:04:17.470 --> 00:04:20.270
<v Speaker 0>I am gonna click connect. Oh, my computer

00:04:20.270 --> 00:04:21.790
<v Speaker 0>decides to play. There we go. I'm gonna

00:04:21.790 --> 00:04:23.950
<v Speaker 0>click connect on the control plane node of

00:04:23.950 --> 00:04:27.365
<v Speaker 0>our first cluster. I'm gonna remove that teleport.

00:04:27.925 --> 00:04:28.805
<v Speaker 0>Thank you.

00:04:30.325 --> 00:04:31.685
<v Speaker 0>Andy, if you can do me a favor

00:04:31.685 --> 00:04:34.085
<v Speaker 0>and join a session and just type echo

00:04:34.085 --> 00:04:35.685
<v Speaker 0>hello or whatever you want so that I

00:04:35.685 --> 00:04:36.325
<v Speaker 0>know you're here.

00:04:39.550 --> 00:04:41.070
<v Speaker 0>Wow. Straight for the VIM and the batch

00:04:41.070 --> 00:04:41.790
<v Speaker 0>RC.

00:04:42.030 --> 00:04:43.230
<v Speaker 0>Alright. There we go.

00:04:44.830 --> 00:04:47.630
<v Speaker 0>And the first thing we normally do here

00:04:47.630 --> 00:04:50.510
<v Speaker 0>is export our cube config and check for

00:04:50.510 --> 00:04:52.350
<v Speaker 0>a control plane. I will let you do

00:04:52.350 --> 00:04:54.590
<v Speaker 0>that with whichever means you wish.

00:04:59.635 --> 00:05:00.355
<v Speaker 1>Yeah.

00:05:00.514 --> 00:05:02.835
<v Speaker 1>Sorry. I'm used to being quiet while I

00:05:02.835 --> 00:05:04.275
<v Speaker 1>sit on incident calls.

00:05:08.980 --> 00:05:11.060
<v Speaker 0>Well, that's a good start. We got a

00:05:11.060 --> 00:05:12.100
<v Speaker 0>server version.

00:05:14.740 --> 00:05:16.820
<v Speaker 1>And the git treat is clean.

00:05:19.540 --> 00:05:20.260
<v Speaker 0>Alright.

00:05:22.225 --> 00:05:23.665
<v Speaker 0>What you wanna do next? I guess we

00:05:23.665 --> 00:05:25.025
<v Speaker 0>should check our pods. We

00:05:25.825 --> 00:05:27.425
<v Speaker 0>got some pending pods. Alright.

00:05:31.105 --> 00:05:32.545
<v Speaker 0>What do you wanna do first?

00:05:34.225 --> 00:05:35.585
<v Speaker 1>Let's look at the cute system.

00:05:43.430 --> 00:05:44.870
<v Speaker 1>Looks like

00:05:45.110 --> 00:05:47.110
<v Speaker 1>pod network is a little borked.

00:05:47.910 --> 00:05:51.110
<v Speaker 0>Well, yeah, I see two terminating core DNS,

00:05:51.350 --> 00:05:52.150
<v Speaker 0>two pending,

00:05:52.555 --> 00:05:54.074
<v Speaker 0>some broken ciliums.

00:05:55.115 --> 00:05:56.875
<v Speaker 0>Yeah. Quite a lot broken. Do

00:06:00.235 --> 00:06:01.195
<v Speaker 0>you want to

00:06:04.315 --> 00:06:05.995
<v Speaker 0>should we describe something and see if we

00:06:05.995 --> 00:06:07.195
<v Speaker 0>can get some better messages?

00:06:07.835 --> 00:06:09.280
<v Speaker 1>I think we should take a look at

00:06:09.280 --> 00:06:09.840
<v Speaker 1>the

00:06:10.240 --> 00:06:12.240
<v Speaker 1>the not ready Cilia logs.

00:06:26.555 --> 00:06:27.355
<v Speaker 1>Okay.

00:06:30.475 --> 00:06:30.795
<v Speaker 1>10

00:06:32.715 --> 00:06:34.075
<v Speaker 1>it's a common port.

00:06:34.235 --> 00:06:35.755
<v Speaker 1>I see it all the time. What is

00:06:35.755 --> 00:06:35.915
<v Speaker 1>that?

00:06:37.350 --> 00:06:39.750
<v Speaker 0>That is one of the API server ports.

00:06:39.750 --> 00:06:41.110
<v Speaker 0>I'm assuming our

00:06:41.750 --> 00:06:43.670
<v Speaker 0>node to node networking is

00:06:44.070 --> 00:06:44.950
<v Speaker 0>working.

00:06:46.950 --> 00:06:48.310
<v Speaker 0>Nice alias. I like that.

00:06:53.025 --> 00:06:55.265
<v Speaker 1>Yeah. I believe I got that from mister

00:06:55.265 --> 00:06:57.105
<v Speaker 1>Brent Buckley in the chat when we were

00:06:57.105 --> 00:06:58.065
<v Speaker 1>at SendGrid together.

00:07:10.110 --> 00:07:12.030
<v Speaker 1>Well, it looks like the scheduler was bounced

00:07:12.030 --> 00:07:12.590
<v Speaker 1>recently.

00:07:27.765 --> 00:07:28.725
<v Speaker 1>Well, that's different.

00:07:34.470 --> 00:07:37.270
<v Speaker 1>No. They've I think they probably have changed

00:07:37.270 --> 00:07:39.030
<v Speaker 1>how describe works

00:07:39.590 --> 00:07:41.030
<v Speaker 1>because I know that used to work.

00:07:48.315 --> 00:07:50.475
<v Speaker 0>You spelled system wrong in your alias.

00:07:50.715 --> 00:07:51.515
<v Speaker 1>Okay.

00:07:52.475 --> 00:07:53.835
<v Speaker 0>At least that's an easy fix.

00:08:00.650 --> 00:08:03.050
<v Speaker 0>Our colleague, our joint colleague, Zoe is laughing

00:08:03.050 --> 00:08:04.410
<v Speaker 0>at your thinking face.

00:08:06.490 --> 00:08:08.330
<v Speaker 1>Oh, would you look at that?

00:08:13.610 --> 00:08:14.090
<v Speaker 1>Images.

00:08:15.665 --> 00:08:17.505
<v Speaker 1>It looks like the official image.

00:08:21.105 --> 00:08:22.785
<v Speaker 0>What were you checking for there?

00:08:24.305 --> 00:08:26.225
<v Speaker 1>Well, I noticed that the scheduler

00:08:26.545 --> 00:08:28.465
<v Speaker 1>was bounced fourteen hours ago,

00:08:29.260 --> 00:08:31.580
<v Speaker 1>So I assume that that bounced because Rachel

00:08:31.580 --> 00:08:32.540
<v Speaker 1>did something.

00:08:37.179 --> 00:08:39.020
<v Speaker 2>I did something, but I didn't know that's

00:08:39.020 --> 00:08:39.900
<v Speaker 2>what I was doing.

00:09:08.725 --> 00:09:11.205
<v Speaker 1>And then for people who don't know, the

00:09:11.205 --> 00:09:11.925
<v Speaker 1>caret

00:09:12.245 --> 00:09:15.605
<v Speaker 1>word caret is said in your last history

00:09:15.605 --> 00:09:16.085
<v Speaker 1>entry.

00:09:24.390 --> 00:09:26.870
<v Speaker 1>Okay. So queue, it seems back. Running. Yeah.

00:09:44.155 --> 00:09:46.715
<v Speaker 0>Scheduling disabled on both the worker nodes.

00:09:47.515 --> 00:09:48.875
<v Speaker 0>You think that's just a card in?

00:09:51.480 --> 00:09:53.000
<v Speaker 1>Yeah. I mean, to put that in the

00:09:53.000 --> 00:09:55.720
<v Speaker 1>status is typically what that would mean.

00:09:57.800 --> 00:09:58.200
<v Speaker 0>Okay.

00:10:03.765 --> 00:10:05.445
<v Speaker 1>Creating container.

00:10:14.165 --> 00:10:15.125
<v Speaker 1>Ambassador's

00:10:15.125 --> 00:10:15.605
<v Speaker 1>coming up.

00:10:19.450 --> 00:10:20.730
<v Speaker 1>Looks like came

00:10:20.810 --> 00:10:21.290
<v Speaker 1>up.

00:10:26.250 --> 00:10:27.930
<v Speaker 1>I'm guessing we have to hop on to

00:10:27.930 --> 00:10:30.730
<v Speaker 1>the other two nodes and enable

00:10:30.730 --> 00:10:31.370
<v Speaker 1>Cubelet.

00:10:33.645 --> 00:10:35.245
<v Speaker 0>Why did you think that? Sorry.

00:10:36.045 --> 00:10:38.525
<v Speaker 1>These are still stuck in

00:10:39.405 --> 00:10:39.965
<v Speaker 1>creating.

00:10:55.720 --> 00:10:58.839
<v Speaker 1>In my iTerm having highlights is always fun.

00:10:59.560 --> 00:11:01.399
<v Speaker 1>Well, it's it's also in

00:11:01.865 --> 00:11:04.504
<v Speaker 1>iTerm. When you highlight something, it automatically goes

00:11:04.504 --> 00:11:05.785
<v Speaker 1>to your paste buffer.

00:11:06.105 --> 00:11:07.305
<v Speaker 1>Ah, of course.

00:11:07.785 --> 00:11:08.505
<v Speaker 1>So

00:11:13.865 --> 00:11:15.144
<v Speaker 0>I mean, it looks like it's pulling the

00:11:15.144 --> 00:11:15.464
<v Speaker 0>image.

00:11:17.670 --> 00:11:20.230
<v Speaker 1>Yeah. Looks like an official Postgres image.

00:11:20.950 --> 00:11:22.790
<v Speaker 0>Which means we do have a cubelet.

00:11:27.430 --> 00:11:28.710
<v Speaker 0>Would you like me to open up a

00:11:28.710 --> 00:11:30.070
<v Speaker 0>shell on one of those nodes?

00:11:35.185 --> 00:11:36.464
<v Speaker 1>Oh, there they go.

00:11:39.345 --> 00:11:41.024
<v Speaker 0>And you were just being impatient.

00:11:44.065 --> 00:11:45.584
<v Speaker 0>I would never do such a thing.

00:11:55.190 --> 00:11:57.030
<v Speaker 1>Are we supposed to have three Postgres?

00:11:57.510 --> 00:11:58.230
<v Speaker 0>Nope.

00:12:00.310 --> 00:12:01.990
<v Speaker 0>Although I don't think it matters, to be

00:12:01.990 --> 00:12:02.230
<v Speaker 0>fair.

00:12:03.065 --> 00:12:05.065
<v Speaker 0>They don't use any volumes. Sorry,

00:12:06.185 --> 00:12:08.745
<v Speaker 0>Rachel? I was just trying to deflect, you

00:12:08.745 --> 00:12:10.905
<v Speaker 2>know, just, you know, because I

00:12:12.185 --> 00:12:13.705
<v Speaker 2>was being I was putting on my developer

00:12:13.705 --> 00:12:14.825
<v Speaker 2>hat. I was like, why do we just

00:12:14.825 --> 00:12:17.750
<v Speaker 2>have one? That doesn't, you know, make sense.

00:12:17.990 --> 00:12:18.470
<v Speaker 2>So

00:12:21.590 --> 00:12:23.190
<v Speaker 0>And this is not a problem, though. Like

00:12:23.190 --> 00:12:24.950
<v Speaker 0>I said, there there's no volumes. They load

00:12:24.950 --> 00:12:27.110
<v Speaker 0>everything via an an a container into the

00:12:27.110 --> 00:12:27.510
<v Speaker 0>database.

00:12:30.285 --> 00:12:33.245
<v Speaker 1>Yeah. Except then the traffic's going to get

00:12:33.245 --> 00:12:35.645
<v Speaker 1>split by Cilium to three different pods.

00:12:35.805 --> 00:12:37.085
<v Speaker 1>And if they're not set up in a

00:12:37.085 --> 00:12:37.965
<v Speaker 1>Replica

00:12:37.965 --> 00:12:38.845
<v Speaker 1>master

00:12:39.405 --> 00:12:40.285
<v Speaker 1>whole

00:12:40.765 --> 00:12:42.980
<v Speaker 1>shindig, it's potentially

00:12:44.180 --> 00:12:46.020
<v Speaker 1>not going to render correctly.

00:12:47.380 --> 00:12:49.380
<v Speaker 1>I assume cluster talks to it. I actually

00:12:49.380 --> 00:12:51.540
<v Speaker 1>didn't spend any time looking at your application.

00:12:52.100 --> 00:12:52.580
<v Speaker 0>Root?

00:12:55.335 --> 00:12:57.975
<v Speaker 0>So clustered speaks to each Postgres. They're not

00:12:57.975 --> 00:12:59.815
<v Speaker 0>clustered. Like I said, the data is also

00:12:59.815 --> 00:13:02.375
<v Speaker 0>static, so you could have 50,000 Postgres. It

00:13:02.375 --> 00:13:03.415
<v Speaker 0>would be alright.

00:13:03.655 --> 00:13:05.335
<v Speaker 0>But, yeah, Brett, we can clean it up

00:13:05.335 --> 00:13:05.815
<v Speaker 0>over here.

00:13:10.170 --> 00:13:11.450
<v Speaker 1>No ingresses.

00:13:11.450 --> 00:13:13.529
<v Speaker 0>There's no ingress, but we do use the

00:13:13.529 --> 00:13:16.570
<v Speaker 0>teleport proxy feature. So if I jump along

00:13:16.570 --> 00:13:18.250
<v Speaker 0>here and click applications,

00:13:18.330 --> 00:13:19.770
<v Speaker 0>we should be able to click clustered.

00:13:20.935 --> 00:13:22.295
<v Speaker 0>Give it a few seconds while it does

00:13:22.295 --> 00:13:23.495
<v Speaker 0>the proxy magic,

00:13:24.775 --> 00:13:27.655
<v Speaker 0>and we have an internal server error on

00:13:27.655 --> 00:13:28.695
<v Speaker 0>our application.

00:13:33.255 --> 00:13:33.655
<v Speaker 0>Oh,

00:13:34.490 --> 00:13:35.690
<v Speaker 0>our cluster Yes.

00:13:36.970 --> 00:13:37.769
<v Speaker 0>Sorry?

00:13:38.009 --> 00:13:39.769
<v Speaker 2>I broke it correctly.

00:13:40.810 --> 00:13:42.649
<v Speaker 0>I I will point out that

00:13:42.970 --> 00:13:44.889
<v Speaker 0>this is not my application report in this

00:13:44.889 --> 00:13:48.285
<v Speaker 0>internal server error, I don't think. So we've

00:13:48.285 --> 00:13:49.405
<v Speaker 0>got some work to do.

00:14:00.045 --> 00:14:01.540
<v Speaker 0>I was hoping you were being nice to

00:14:01.540 --> 00:14:02.980
<v Speaker 0>us, Rachel, and it was just a cubelet

00:14:02.980 --> 00:14:04.180
<v Speaker 0>in the scheduler.

00:14:04.180 --> 00:14:05.780
<v Speaker 0>Is that not is that not it?

00:14:06.180 --> 00:14:08.500
<v Speaker 2>That was the the basis for it. And

00:14:08.500 --> 00:14:10.020
<v Speaker 2>then I was like, that's not enough. I

00:14:10.020 --> 00:14:12.420
<v Speaker 2>gotta, like, break some more things, slight things.

00:14:15.755 --> 00:14:18.395
<v Speaker 0>So that image is correct. G h c

00:14:18.395 --> 00:14:20.475
<v Speaker 0>r. So it's got a container registry,

00:14:20.715 --> 00:14:22.075
<v Speaker 0>Rawkode cluster, good one.

00:14:25.770 --> 00:14:26.810
<v Speaker 1>Image,

00:14:26.890 --> 00:14:28.090
<v Speaker 1>container port.

00:14:29.450 --> 00:14:31.370
<v Speaker 0>Looks good. That's a problem.

00:14:32.490 --> 00:14:40.090
<v Speaker 0>What's

00:14:40.090 --> 00:14:40.490
<v Speaker 0>the problem?

00:14:41.625 --> 00:14:42.584
<v Speaker 1>The limit?

00:14:42.745 --> 00:14:45.785
<v Speaker 1>Yeah. It's only getting one millisecond of CPU

00:14:45.785 --> 00:14:47.305
<v Speaker 1>time per second.

00:14:53.384 --> 00:14:54.024
<v Speaker 1>So

00:14:57.190 --> 00:15:00.630
<v Speaker 1>right. So that would cause basically constant throttling

00:15:01.990 --> 00:15:04.230
<v Speaker 1>because I'm not even sure how many I

00:15:04.230 --> 00:15:06.790
<v Speaker 0>don't think one is a appropriate value for

00:15:06.790 --> 00:15:09.430
<v Speaker 0>CPU. It would need to be Yeah. No.

00:15:09.430 --> 00:15:11.590
<v Speaker 1>It can be a string or an integer.

00:15:13.885 --> 00:15:15.325
<v Speaker 0>But one would that be a core or

00:15:15.325 --> 00:15:16.365
<v Speaker 0>one melee core?

00:15:17.165 --> 00:15:18.125
<v Speaker 1>One core.

00:15:18.445 --> 00:15:19.725
<v Speaker 1>So the suffix

00:15:20.764 --> 00:15:22.685
<v Speaker 1>oh, chat's telling me I missed something in

00:15:22.685 --> 00:15:23.084
<v Speaker 1>memory.

00:15:29.260 --> 00:15:32.140
<v Speaker 1>No. One twenty eight, assume, would be fine.

00:15:35.580 --> 00:15:37.020
<v Speaker 0>So what's the deal with if you set

00:15:37.020 --> 00:15:39.545
<v Speaker 0>CPU to one without the m prefix, it

00:15:39.545 --> 00:15:40.665
<v Speaker 0>just defaults to?

00:15:41.545 --> 00:15:43.144
<v Speaker 1>One's one vCPU.

00:15:43.144 --> 00:15:45.384
<v Speaker 1>Yeah. Right. Okay. So

00:15:45.384 --> 00:15:47.625
<v Speaker 1>that's something that the cube community spent a

00:15:47.625 --> 00:15:49.945
<v Speaker 1>lot of time centralizing. So if you're in

00:15:50.745 --> 00:15:54.440
<v Speaker 1>vSphere, AWS, Azure, or on bare metal, it

00:15:54.440 --> 00:15:56.760
<v Speaker 1>guarantees you roughly the same amount

00:15:58.760 --> 00:16:01.160
<v Speaker 1>of compute time. And so the way to

00:16:01.160 --> 00:16:03.560
<v Speaker 1>reach us the an integer one would be,

00:16:03.560 --> 00:16:05.480
<v Speaker 1>like, one second of compute time per one

00:16:05.480 --> 00:16:06.440
<v Speaker 1>second of human time.

00:16:08.444 --> 00:16:09.485
<v Speaker 0>Okay. Got it.

00:16:16.285 --> 00:16:17.725
<v Speaker 1>See if that redeployed.

00:16:19.005 --> 00:16:21.005
<v Speaker 1>Do you wanna try to hit the service

00:16:21.005 --> 00:16:21.404
<v Speaker 1>again?

00:16:22.310 --> 00:16:25.029
<v Speaker 0>I'd love to. Let's see. It

00:16:28.950 --> 00:16:31.029
<v Speaker 0>could be cached, but let me it

00:16:33.029 --> 00:16:34.070
<v Speaker 0>is still broken.

00:16:39.625 --> 00:16:40.105
<v Speaker 1>Okay.

00:16:59.790 --> 00:17:02.990
<v Speaker 1>Yeah. So the average load looks fine, so

00:17:02.195 --> 00:17:04.434
<v Speaker 1>I don't think we're getting CPU pegged.

00:17:08.115 --> 00:17:09.154
<v Speaker 1>Let's see.

00:17:12.115 --> 00:17:14.115
<v Speaker 1>If she did that in one place, she

00:17:14.115 --> 00:17:15.875
<v Speaker 1>may have done it in another.

00:17:18.350 --> 00:17:20.030
<v Speaker 1>Let me go through my bash history to

00:17:20.030 --> 00:17:21.310
<v Speaker 1>see if I can find a useful j

00:17:21.310 --> 00:17:22.270
<v Speaker 1>q command.

00:17:22.990 --> 00:17:24.590
<v Speaker 1>So, basically, what I wanna do is just

00:17:24.590 --> 00:17:26.430
<v Speaker 1>go through all the containers

00:17:26.510 --> 00:17:28.190
<v Speaker 1>and look for,

00:17:29.550 --> 00:17:32.065
<v Speaker 1>their resources and limits. Like, you can just

00:17:32.065 --> 00:17:34.224
<v Speaker 0>do quick control edit

00:17:34.784 --> 00:17:36.704
<v Speaker 0>pod, and it'll give you all of them.

00:17:39.904 --> 00:17:41.505
<v Speaker 0>As a single document with them.

00:17:45.090 --> 00:17:45.889
<v Speaker 1>Yes.

00:17:47.970 --> 00:17:48.690
<v Speaker 1>Or

00:18:02.235 --> 00:18:05.274
<v Speaker 2>I'm learning some new commands over here. Nice.

00:18:08.235 --> 00:18:08.955
<v Speaker 1>Or like that.

00:18:13.830 --> 00:18:15.349
<v Speaker 1>So let's see. One

00:18:15.990 --> 00:18:16.789
<v Speaker 1>one

00:18:18.070 --> 00:18:21.909
<v Speaker 0>Looks good. 200 probably fine. Onset. Onset.

00:18:22.309 --> 00:18:25.190
<v Speaker 1>This is core DNS because they are so

00:18:25.190 --> 00:18:27.270
<v Speaker 1>particular about the amount of RAM they use.

00:18:29.995 --> 00:18:31.515
<v Speaker 0>What? A 70?

00:18:32.155 --> 00:18:34.235
<v Speaker 1>Yeah. They are insistent that that is enough

00:18:34.235 --> 00:18:36.875
<v Speaker 1>for every pod you could possibly ever need.

00:18:38.555 --> 00:18:39.275
<v Speaker 0>There you go.

00:18:40.429 --> 00:18:41.629
<v Speaker 1>Okay. So

00:18:42.030 --> 00:18:44.669
<v Speaker 0>yep. So we've got our pod running. But

00:18:45.630 --> 00:18:47.629
<v Speaker 0>when we try to browse through it through

00:18:48.669 --> 00:18:49.470
<v Speaker 0>Teleport,

00:18:49.470 --> 00:18:51.870
<v Speaker 0>we get an internal server error. Now how

00:18:51.870 --> 00:18:52.830
<v Speaker 1>does Teleport work?

00:18:55.375 --> 00:18:56.894
<v Speaker 0>So we expose

00:18:56.975 --> 00:18:59.054
<v Speaker 0>the the service as a node port service

00:18:59.054 --> 00:19:01.855
<v Speaker 0>on the node, and teleport is proxying through

00:19:01.855 --> 00:19:03.374
<v Speaker 0>that node port service.

00:19:03.375 --> 00:19:05.134
<v Speaker 0>So if you do that yep. There we

00:19:05.134 --> 00:19:07.534
<v Speaker 0>go. You should see we have

00:19:08.800 --> 00:19:09.200
<v Speaker 0>a

00:19:10.880 --> 00:19:13.600
<v Speaker 1>Well, those don't have IPs.

00:19:16.080 --> 00:19:18.320
<v Speaker 0>Yes. And it looks like our

00:19:18.400 --> 00:19:19.600
<v Speaker 0>clustered service

00:19:19.680 --> 00:19:23.040
<v Speaker 0>has been either modified, deleted, or something else

00:19:23.040 --> 00:19:23.440
<v Speaker 0>created.

00:19:26.605 --> 00:19:28.445
<v Speaker 0>In fact, it was my cluster service, doesn't

00:19:28.445 --> 00:19:29.804
<v Speaker 0>mean the load balancer.

00:19:32.765 --> 00:19:34.925
<v Speaker 1>I think the other hint is the age

00:19:34.925 --> 00:19:35.405
<v Speaker 1>on it.

00:19:46.330 --> 00:19:48.089
<v Speaker 1>External traffic policy

00:19:49.129 --> 00:19:50.730
<v Speaker 1>won't apply to node ports.

00:20:02.875 --> 00:20:04.394
<v Speaker 1>How do I wanna do this?

00:20:04.794 --> 00:20:06.315
<v Speaker 1>If this yells at me, I'm just deleting

00:20:06.315 --> 00:20:06.635
<v Speaker 1>it.

00:20:08.680 --> 00:20:11.240
<v Speaker 0>You could probably set that to node port.

00:20:11.240 --> 00:20:11.799
<v Speaker 0>And

00:20:13.560 --> 00:20:15.560
<v Speaker 0>I think the first five lines of that

00:20:15.560 --> 00:20:17.480
<v Speaker 0>spec can be deleted and inferred on the

00:20:17.480 --> 00:20:18.440
<v Speaker 0>next creation.

00:20:33.940 --> 00:20:37.379
<v Speaker 1>The traffic policy should only matter if,

00:20:37.620 --> 00:20:41.139
<v Speaker 1>like, Matt Anderson applied more cluster network policies.

00:20:43.779 --> 00:20:44.419
<v Speaker 1>Speaking of,

00:20:49.335 --> 00:20:51.015
<v Speaker 1>I might have done a lot of research,

00:20:51.015 --> 00:20:51.494
<v Speaker 1>and

00:20:52.615 --> 00:20:54.374
<v Speaker 1>that episode was brutal.

00:20:57.655 --> 00:20:59.655
<v Speaker 0>So their network policies can trip you up.

00:20:59.655 --> 00:21:01.850
<v Speaker 0>That's for sure. I have no idea about

00:21:01.850 --> 00:21:03.769
<v Speaker 0>the silly and post network policies.

00:21:05.049 --> 00:21:06.169
<v Speaker 0>Those are dangerous.

00:21:07.289 --> 00:21:07.929
<v Speaker 1>Okay.

00:21:08.169 --> 00:21:10.489
<v Speaker 1>Does ambassador need to be fixed? No.

00:21:11.610 --> 00:21:12.489
<v Speaker 0>Ambassador

00:21:12.649 --> 00:21:14.570
<v Speaker 0>does not need to be fixed.

00:21:15.274 --> 00:21:16.075
<v Speaker 1>Okay.

00:21:16.075 --> 00:21:17.514
<v Speaker 1>Do you wanna try to load the

00:21:19.195 --> 00:21:20.154
<v Speaker 1>application?

00:21:21.034 --> 00:21:22.875
<v Speaker 0>Yeah. I still don't think it'll work because

00:21:22.875 --> 00:21:25.914
<v Speaker 0>of the cluster IPs in that surface.

00:21:29.515 --> 00:21:30.635
<v Speaker 0>So do you mind if I type?

00:21:31.570 --> 00:21:32.690
<v Speaker 1>Yeah. Go for it.

00:21:33.570 --> 00:21:36.450
<v Speaker 2>You're, like, right there, Andy. You're, like

00:21:37.170 --> 00:21:39.410
<v Speaker 2>you're you're you're right there.

00:21:40.130 --> 00:21:41.730
<v Speaker 0>I think we can just remove

00:21:43.235 --> 00:21:45.395
<v Speaker 0>all of these. I don't think that they're

00:21:45.475 --> 00:21:47.315
<v Speaker 1>Okay. Doing anything for us.

00:21:49.075 --> 00:21:50.755
<v Speaker 0>And I don't even remember if that's the

00:21:50.755 --> 00:21:52.115
<v Speaker 0>correct node port. So I may have to

00:21:52.115 --> 00:21:54.115
<v Speaker 0>check our teleport config.

00:21:54.275 --> 00:21:55.955
<v Speaker 1>Node port complaining

00:21:55.955 --> 00:21:58.110
<v Speaker 1>you? Actually, I was going to just delete

00:21:58.110 --> 00:22:00.429
<v Speaker 1>it and recreate it through K Expose.

00:22:03.230 --> 00:22:05.630
<v Speaker 0>It's not letting me delete those anyway. So

00:22:10.955 --> 00:22:12.874
<v Speaker 0>what was I complaining about? What was that?

00:22:15.274 --> 00:22:15.994
<v Speaker 0>Okay.

00:22:16.154 --> 00:22:18.394
<v Speaker 0>Yeah. Let's check the port. 31644.

00:22:23.320 --> 00:22:24.520
<v Speaker 0>As 30,000,

00:22:24.520 --> 00:22:25.960
<v Speaker 0>there's a node port we expect.

00:22:29.720 --> 00:22:31.880
<v Speaker 2>You guys are so logical with this. I

00:22:31.880 --> 00:22:33.800
<v Speaker 2>was just, like, really breaking it like it's

00:22:33.800 --> 00:22:35.365
<v Speaker 2>a. I don't

00:22:35.365 --> 00:22:37.045
<v Speaker 2>know anything about Kubernetes,

00:22:37.045 --> 00:22:38.965
<v Speaker 2>so I'm just gonna break everything. I I

00:22:38.965 --> 00:22:40.965
<v Speaker 2>want my app to work or not work.

00:22:43.045 --> 00:22:45.205
<v Speaker 2>I really put on my developer hat.

00:22:45.365 --> 00:22:47.525
<v Speaker 2>I've never touched Kubernetes and just

00:22:47.980 --> 00:22:48.700
<v Speaker 2>broke it.

00:22:49.740 --> 00:22:51.099
<v Speaker 0>Alright. It's still

00:22:52.299 --> 00:22:53.419
<v Speaker 0>not working.

00:22:54.380 --> 00:22:55.419
<v Speaker 0>Alright. Click on it. So

00:23:01.225 --> 00:23:04.264
<v Speaker 1>So one useful command is the explain command.

00:23:04.904 --> 00:23:07.224
<v Speaker 1>It's kinda like having built in docs.

00:23:07.544 --> 00:23:09.225
<v Speaker 1>So Do you want to do it on

00:23:09.225 --> 00:23:10.424
<v Speaker 0>a shared buffer?

00:23:11.144 --> 00:23:11.784
<v Speaker 1>Yeah.

00:23:12.904 --> 00:23:14.184
<v Speaker 0>The explain command is cool.

00:23:15.419 --> 00:23:17.820
<v Speaker 1>Yeah. If people don't know about this,

00:23:18.380 --> 00:23:20.620
<v Speaker 1>you can basically give it a path in

00:23:20.620 --> 00:23:21.580
<v Speaker 1>the spec

00:23:22.620 --> 00:23:24.379
<v Speaker 1>of the object,

00:23:25.419 --> 00:23:26.620
<v Speaker 1>and it explains it.

00:23:29.325 --> 00:23:30.044
<v Speaker 1>So

00:23:32.605 --> 00:23:33.965
<v Speaker 1>that being said,

00:23:35.325 --> 00:23:38.205
<v Speaker 1>Rachel did create the service, so I'm highly

00:23:38.205 --> 00:23:39.965
<v Speaker 1>inclined to just delete the service.

00:23:43.090 --> 00:23:43.809
<v Speaker 0>Okay.

00:23:47.890 --> 00:23:50.049
<v Speaker 0>You can always reapply it from source, I

00:23:50.049 --> 00:23:50.610
<v Speaker 0>guess.

00:23:52.610 --> 00:23:52.929
<v Speaker 1>Yeah.

00:23:55.015 --> 00:23:56.455
<v Speaker 1>Where's the source at?

00:23:58.295 --> 00:23:59.815
<v Speaker 0>Is it here? Rawkode

00:23:59.815 --> 00:24:01.894
<v Speaker 0>Cluster. Oh, hold on.

00:24:03.095 --> 00:24:04.135
<v Speaker 1>What's that?

00:24:06.455 --> 00:24:07.575
<v Speaker 1>Did you make that file?

00:24:10.190 --> 00:24:11.070
<v Speaker 0>No.

00:24:12.590 --> 00:24:14.029
<v Speaker 1>Oh, it's is that UTC?

00:24:16.430 --> 00:24:18.270
<v Speaker 1>That's probably UTC, isn't it?

00:24:19.550 --> 00:24:20.429
<v Speaker 0>Yeah.

00:24:22.590 --> 00:24:23.854
<v Speaker 0>Yeah. That looks like a backup.

00:24:24.575 --> 00:24:26.895
<v Speaker 1>It does look like a backup. Your magic

00:24:26.895 --> 00:24:29.455
<v Speaker 2>key. That looks like their secret

00:24:30.255 --> 00:24:32.255
<v Speaker 2>Easter egg in there. Was trying to hide

00:24:32.255 --> 00:24:32.654
<v Speaker 2>for you.

00:24:40.160 --> 00:24:41.520
<v Speaker 0>Alright.

00:24:42.480 --> 00:24:43.760
<v Speaker 0>We're getting the

00:24:44.160 --> 00:24:46.800
<v Speaker 0>watch, which means we can try and upgrade

00:24:46.800 --> 00:24:49.040
<v Speaker 0>our application from v one to v two

00:24:49.040 --> 00:24:50.480
<v Speaker 0>and see if we get the happy then.

00:25:22.945 --> 00:25:25.745
<v Speaker 1>How many bogamips do these computers have?

00:25:33.919 --> 00:25:34.639
<v Speaker 1>Oh,

00:25:37.919 --> 00:25:39.119
<v Speaker 1>wow. That's a lot.

00:25:40.480 --> 00:25:42.640
<v Speaker 0>These are our c one smalls

00:25:42.640 --> 00:25:43.760
<v Speaker 0>on Equinix metal.

00:25:44.655 --> 00:25:48.415
<v Speaker 1>Okay. Yeah. So I think they're maybe 32

00:25:48.415 --> 00:25:50.575
<v Speaker 0>cores, 16 gig of RAM, or 32 gig

00:25:50.575 --> 00:25:52.655
<v Speaker 0>of RAM and 16 cores. Don't remember.

00:25:53.935 --> 00:25:55.934
<v Speaker 1>There's eight CPUs.

00:26:00.575 --> 00:26:01.830
<v Speaker 1>Why? Why? If I had to build a

00:26:01.830 --> 00:26:03.990
<v Speaker 1>service, I might do it on Equinix metal

00:26:03.990 --> 00:26:04.789
<v Speaker 1>myself.

00:26:08.230 --> 00:26:09.190
<v Speaker 0>It

00:26:09.750 --> 00:26:11.590
<v Speaker 0>is nice having access to the metal. I've

00:26:11.590 --> 00:26:12.309
<v Speaker 0>gotta see.

00:26:12.950 --> 00:26:14.150
<v Speaker 0>Let's test our application.

00:26:15.195 --> 00:26:16.635
<v Speaker 0>I think I still have the watch, isn't

00:26:16.635 --> 00:26:18.234
<v Speaker 0>it? Yeah. Let's refresh.

00:26:19.595 --> 00:26:21.514
<v Speaker 0>One browser. Pull the new one.

00:26:21.914 --> 00:26:22.474
<v Speaker 0>I

00:26:24.315 --> 00:26:26.075
<v Speaker 0>don't know if that updated

00:26:27.355 --> 00:26:27.755
<v Speaker 0>yet.

00:26:33.240 --> 00:26:34.600
<v Speaker 1>Looks like it's up.

00:26:35.880 --> 00:26:37.159
<v Speaker 0>Oh, there we go.

00:26:37.800 --> 00:26:38.600
<v Speaker 2>Alright.

00:26:38.760 --> 00:26:39.960
<v Speaker 0>We have the dance.

00:26:41.559 --> 00:26:44.914
<v Speaker 0>Alright. Good job, Andy. Thank you, Rachel.

00:26:44.915 --> 00:26:47.395
<v Speaker 2>Maybe it wasn't that bad. I gave you

00:26:47.395 --> 00:26:48.355
<v Speaker 2>that hint.

00:26:49.395 --> 00:26:51.554
<v Speaker 2>I wrote some other things, but they they

00:26:51.554 --> 00:26:53.075
<v Speaker 2>were all more distractions

00:26:53.075 --> 00:26:53.874
<v Speaker 2>than

00:26:54.275 --> 00:26:55.955
<v Speaker 2>actually breaking it, as you can see.

00:26:59.480 --> 00:27:01.559
<v Speaker 0>Well, other things were were hiding for us

00:27:01.559 --> 00:27:04.200
<v Speaker 0>if we managed to accidentally pick them up.

00:27:04.840 --> 00:27:05.400
<v Speaker 2>Yeah.

00:27:05.720 --> 00:27:07.800
<v Speaker 2>Noel got one. I, you know, changed some

00:27:07.800 --> 00:27:11.480
<v Speaker 2>port protocols and just little things, port values,

00:27:11.480 --> 00:27:13.000
<v Speaker 2>just in other places

00:27:13.245 --> 00:27:15.005
<v Speaker 2>just to distract you guys.

00:27:16.525 --> 00:27:18.765
<v Speaker 0>Alright. Awesome. Thank you very much.

00:27:19.405 --> 00:27:22.684
<v Speaker 1>Cool. Cool. Alright. Let's jump over.

00:27:22.765 --> 00:27:24.205
<v Speaker 0>Let's swap places.

00:27:24.685 --> 00:27:25.645
<v Speaker 0>Clustered.

00:27:26.605 --> 00:27:27.885
<v Speaker 0>Pull up Andy's.

00:27:30.400 --> 00:27:31.039
<v Speaker 0>Maybe.

00:27:32.720 --> 00:27:33.679
<v Speaker 2>Alright.

00:27:36.240 --> 00:27:37.760
<v Speaker 0>Alright. I'll just tape it in.

00:27:45.905 --> 00:27:46.625
<v Speaker 0>Okay.

00:27:48.145 --> 00:27:51.745
<v Speaker 0>I I have teleport running with Andy's cluster.

00:27:51.745 --> 00:27:53.665
<v Speaker 0>I will click connect and open the control

00:27:53.665 --> 00:27:56.360
<v Speaker 0>plane node. Rachel, if you can get logged

00:27:56.360 --> 00:27:58.520
<v Speaker 0>in, join a session, give me an echo,

00:27:58.520 --> 00:27:59.720
<v Speaker 0>let me know that you're here.

00:28:00.280 --> 00:28:02.919
<v Speaker 0>Andy, feel free to have a laugh.

00:28:03.720 --> 00:28:06.120
<v Speaker 0>There's no ever on the road. I'm

00:28:06.120 --> 00:28:07.320
<v Speaker 1>gonna be laughing at myself.

00:28:07.894 --> 00:28:08.534
<v Speaker 1>So

00:28:11.414 --> 00:28:12.294
<v Speaker 0>Awesome.

00:28:12.695 --> 00:28:15.414
<v Speaker 0>Okay. So step one is typically to export

00:28:15.414 --> 00:28:16.855
<v Speaker 0>a cube config and check if we have

00:28:16.855 --> 00:28:18.615
<v Speaker 0>a control plane. Feel free to do that

00:28:18.615 --> 00:28:19.974
<v Speaker 0>however you wish.

00:28:20.695 --> 00:28:21.894
<v Speaker 2>Alright. One.

00:28:25.010 --> 00:28:26.929
<v Speaker 2>Everything saved.

00:28:27.570 --> 00:28:35.730
<v Speaker 2>Let's

00:28:35.730 --> 00:28:36.610
<v Speaker 2>see. What's the

00:28:37.424 --> 00:28:37.984
<v Speaker 2>I

00:28:38.304 --> 00:28:40.705
<v Speaker 2>don't remember the stuff. Admin.com.

00:28:40.705 --> 00:28:42.624
<v Speaker 0>Yeah. You got it. Alright.

00:28:42.945 --> 00:28:46.065
<v Speaker 2>Let's see. I don't use any alias, so

00:28:46.065 --> 00:28:48.705
<v Speaker 2>I'm just lazy, and I never remember anything.

00:28:48.705 --> 00:28:48.865
<v Speaker 2>So

00:28:51.130 --> 00:28:51.850
<v Speaker 2>oh,

00:28:52.410 --> 00:28:54.889
<v Speaker 2>oh, man. Are you killing me already, Andy?

00:28:57.290 --> 00:28:59.530
<v Speaker 0>Don't think that's good control. I think Andy's

00:28:59.530 --> 00:29:00.090
<v Speaker 0>been cheeky.

00:29:04.585 --> 00:29:05.385
<v Speaker 2>Andy,

00:29:05.385 --> 00:29:07.385
<v Speaker 2>really? How could you do this to me

00:29:07.385 --> 00:29:08.184
<v Speaker 2>already?

00:29:08.825 --> 00:29:11.225
<v Speaker 1>I'll be honest. I don't even know. No.

00:29:11.225 --> 00:29:12.585
<v Speaker 1>David's right. That is cheeky.

00:29:14.600 --> 00:29:15.720
<v Speaker 2>Okay. Okay.

00:29:16.840 --> 00:29:18.440
<v Speaker 2>So Let

00:29:19.320 --> 00:29:20.120
<v Speaker 2>me see.

00:29:21.880 --> 00:29:23.720
<v Speaker 0>Let's just open it then and see what

00:29:23.720 --> 00:29:24.840
<v Speaker 0>is left for us.

00:29:26.595 --> 00:29:27.554
<v Speaker 2>Okay.

00:29:27.794 --> 00:29:30.434
<v Speaker 2>That's

00:29:30.434 --> 00:29:31.475
<v Speaker 2>just what are we

00:29:32.115 --> 00:29:34.114
<v Speaker 2>we got anything on here? What's this?

00:29:34.515 --> 00:29:36.915
<v Speaker 2>I just just see what this is. You're

00:29:36.915 --> 00:29:38.995
<v Speaker 0>both just leaving random yeah. Oh, I left

00:29:38.995 --> 00:29:39.875
<v Speaker 0>that random layout.

00:29:41.650 --> 00:29:43.170
<v Speaker 2>Yeah. Was like, alright. Who do I run

00:29:43.170 --> 00:29:44.289
<v Speaker 0>up after myself?

00:29:47.010 --> 00:29:48.770
<v Speaker 2>What's

00:29:49.090 --> 00:29:50.049
<v Speaker 2>where are we at Yeah.

00:29:51.010 --> 00:29:52.610
<v Speaker 0>I think we I don't think that's gonna

00:29:52.610 --> 00:29:54.050
<v Speaker 0>be a a binary. I don't know if

00:29:54.050 --> 00:29:55.650
<v Speaker 0>you think the same, but maybe we should

00:29:55.650 --> 00:29:56.610
<v Speaker 0>just open it and

00:29:57.025 --> 00:29:57.825
<v Speaker 0>and see.

00:29:58.545 --> 00:30:01.585
<v Speaker 2>Okay. You wanna open the the which binary?

00:30:01.585 --> 00:30:03.985
<v Speaker 2>The cube c c l binary. Okay. Let's

00:30:03.985 --> 00:30:05.105
<v Speaker 0>say that. I mean, do you expect this

00:30:05.105 --> 00:30:06.065
<v Speaker 0>to be a binary or do you think

00:30:06.065 --> 00:30:07.505
<v Speaker 0>this is gonna be a bash script that

00:30:07.505 --> 00:30:08.865
<v Speaker 0>just prints out a crappy sentence?

00:30:09.870 --> 00:30:10.669
<v Speaker 2>I've

00:30:10.830 --> 00:30:13.549
<v Speaker 2>never seen anything like this. That's so funny.

00:30:16.670 --> 00:30:18.110
<v Speaker 2>I've never got that

00:30:18.590 --> 00:30:19.549
<v Speaker 2>message

00:30:19.630 --> 00:30:21.150
<v Speaker 2>before when I work

00:30:21.470 --> 00:30:22.910
<v Speaker 0>I I think stories. So Oh.

00:30:28.795 --> 00:30:30.315
<v Speaker 0>Alright. Okay. So it only does it when

00:30:30.315 --> 00:30:31.755
<v Speaker 0>we have a subcommand.

00:30:32.155 --> 00:30:34.155
<v Speaker 2>I know. Oh gosh.

00:30:36.315 --> 00:30:37.835
<v Speaker 2>Did you break the cluster or did you

00:30:37.835 --> 00:30:39.195
<v Speaker 2>break KubeCTL?

00:30:39.195 --> 00:30:40.075
<v Speaker 2>Which one did you break?

00:30:42.230 --> 00:30:43.830
<v Speaker 0>I don't it's a have you guys ever

00:30:43.830 --> 00:30:46.070
<v Speaker 1>had to try to find, like, what messages

00:30:46.070 --> 00:30:47.749
<v Speaker 1>are embedded in a binary?

00:30:48.309 --> 00:30:49.110
<v Speaker 0>Uh-huh.

00:30:50.470 --> 00:30:51.750
<v Speaker 1>What command would you use for that?

00:30:54.085 --> 00:30:57.365
<v Speaker 1>So we can use strings on no. No.

00:30:57.365 --> 00:30:59.524
<v Speaker 0>It is strings. Right? String. Yeah.

00:31:04.565 --> 00:31:05.125
<v Speaker 1>Oh, no.

00:31:07.220 --> 00:31:09.379
<v Speaker 1>You might have to install it. Yeah. I

00:31:09.379 --> 00:31:11.379
<v Speaker 0>think I need to install maybe

00:31:11.379 --> 00:31:13.539
<v Speaker 0>elf utils or estrus.

00:31:13.860 --> 00:31:15.379
<v Speaker 0>But I don't think we should

00:31:16.340 --> 00:31:18.659
<v Speaker 0>should we just remove cube control and reinstall

00:31:18.659 --> 00:31:18.899
<v Speaker 0>it?

00:31:21.164 --> 00:31:23.244
<v Speaker 1>I'm trying to see if there's any

00:31:23.804 --> 00:31:26.445
<v Speaker 2>hint online

00:31:26.445 --> 00:31:27.325
<v Speaker 2>that I'm missing.

00:31:33.490 --> 00:31:34.450
<v Speaker 2>What else?

00:31:34.610 --> 00:31:35.890
<v Speaker 0>Oh, dependency warnings.

00:31:51.475 --> 00:31:53.394
<v Speaker 2>Jeremy says honk.

00:31:54.115 --> 00:31:56.195
<v Speaker 2>Need some help, guys. What's this?

00:31:58.034 --> 00:31:58.834
<v Speaker 2>Okay.

00:31:58.995 --> 00:31:59.794
<v Speaker 2>Should we

00:32:00.595 --> 00:32:03.634
<v Speaker 2>look at backup admin config file?

00:32:05.510 --> 00:32:07.110
<v Speaker 0>Well, I was hoping we'd have a kib

00:32:07.110 --> 00:32:07.909
<v Speaker 0>control

00:32:10.070 --> 00:32:12.070
<v Speaker 0>package file liner and which I thought was

00:32:12.070 --> 00:32:14.549
<v Speaker 0>in VarCache app, but

00:32:15.270 --> 00:32:17.190
<v Speaker 0>does not appear to be there. So I'm

00:32:17.190 --> 00:32:18.630
<v Speaker 0>probably just looking at the wrong location.

00:32:22.915 --> 00:32:23.554
<v Speaker 2>So

00:32:23.715 --> 00:32:24.674
<v Speaker 2>let's see.

00:32:26.755 --> 00:32:28.674
<v Speaker 0>Yeah. It doesn't seem to be there. Okay.

00:32:30.275 --> 00:32:32.835
<v Speaker 1>So But we could always just curl, download

00:32:32.835 --> 00:32:35.299
<v Speaker 0>Kube control from GitHub release and use that.

00:32:36.980 --> 00:32:38.740
<v Speaker 0>Unless Andy's trying to tell us or take

00:32:38.740 --> 00:32:40.980
<v Speaker 0>us on a journey with his randomly compelled

00:32:40.980 --> 00:32:41.700
<v Speaker 0>binary.

00:32:45.780 --> 00:32:48.905
<v Speaker 2>Well Can we will say So sometimes the

00:32:48.905 --> 00:32:51.945
<v Speaker 1>standard practice is to install stuff under slash

00:32:51.945 --> 00:32:52.745
<v Speaker 1>opt

00:32:52.825 --> 00:32:54.025
<v Speaker 1>as optional

00:32:54.185 --> 00:32:55.705
<v Speaker 1>software for

00:32:56.025 --> 00:32:57.544
<v Speaker 1>according to video.

00:32:58.505 --> 00:32:59.385
<v Speaker 0>Do not look here.

00:33:00.070 --> 00:33:00.950
<v Speaker 0>Okay.

00:33:04.230 --> 00:33:06.070
<v Speaker 0>Yeah. Drop in that directory, and we'll take

00:33:06.070 --> 00:33:06.710
<v Speaker 0>a look.

00:33:07.350 --> 00:33:08.950
<v Speaker 1>Please please respect my privacy.

00:33:14.725 --> 00:33:16.565
<v Speaker 0>Oh, I didn't change the path. I just

00:33:16.565 --> 00:33:17.445
<v Speaker 0>did it there.

00:33:18.085 --> 00:33:19.925
<v Speaker 0>Oh. Sorry. Alright.

00:33:20.885 --> 00:33:22.005
<v Speaker 2>Wait. What's the

00:33:34.740 --> 00:33:36.100
<v Speaker 2>wait. And what is that? Is that

00:33:38.035 --> 00:33:40.435
<v Speaker 2>what is that green represent? I don't know.

00:33:40.435 --> 00:33:42.515
<v Speaker 0>Green is executable.

00:33:42.595 --> 00:33:43.794
<v Speaker 2>So Oh.

00:33:44.115 --> 00:33:45.395
<v Speaker 0>There's

00:33:45.395 --> 00:33:47.315
<v Speaker 0>a Linux command we can run.

00:33:48.995 --> 00:33:50.595
<v Speaker 0>Type, which will tell you if it's a

00:33:50.595 --> 00:33:52.275
<v Speaker 0>binary or script, or we could just open

00:33:52.275 --> 00:33:52.835
<v Speaker 0>it in Vim.

00:33:53.790 --> 00:33:56.190
<v Speaker 0>I generally just open or fail. Sorry. I

00:33:56.190 --> 00:33:57.630
<v Speaker 0>would use the file. Yeah.

00:33:59.230 --> 00:34:00.590
<v Speaker 2>You want to Vim?

00:34:00.990 --> 00:34:03.710
<v Speaker 0>Yeah. I would just open Vim. Yeah. I

00:34:03.710 --> 00:34:07.144
<v Speaker 2>feel like that's unsafe, but I feel like

00:34:07.945 --> 00:34:09.304
<v Speaker 0>Alright. Well, we know that we have a

00:34:09.465 --> 00:34:12.025
<v Speaker 0>feel like a a credibility, but I hope

00:34:12.025 --> 00:34:13.065
<v Speaker 1>it was safe.

00:34:15.385 --> 00:34:16.025
<v Speaker 0>So

00:34:16.264 --> 00:34:18.745
<v Speaker 0>So I suspect this is either

00:34:19.569 --> 00:34:20.290
<v Speaker 0>the

00:34:20.690 --> 00:34:23.170
<v Speaker 0>bad binary or maybe it's a backup that's

00:34:23.170 --> 00:34:24.929
<v Speaker 0>decoyed as a bad binary and might be

00:34:24.929 --> 00:34:26.369
<v Speaker 0>a working cube control.

00:34:26.690 --> 00:34:28.530
<v Speaker 1>I don't think it's a bad binary.

00:34:29.250 --> 00:34:31.089
<v Speaker 0>Yeah. That I think that's a real cube

00:34:31.089 --> 00:34:31.810
<v Speaker 0>control.

00:34:31.969 --> 00:34:32.610
<v Speaker 0>Just

00:34:33.170 --> 00:34:33.730
<v Speaker 0>protocol.

00:34:34.105 --> 00:34:34.825
<v Speaker 0>Okay.

00:34:38.905 --> 00:34:40.265
<v Speaker 2>Can

00:34:41.465 --> 00:34:42.345
<v Speaker 2>I do

00:34:45.385 --> 00:34:46.425
<v Speaker 2>where was that command?

00:34:47.390 --> 00:34:49.790
<v Speaker 2>Yeah. Can I export this instead? Is that

00:34:49.790 --> 00:34:50.830
<v Speaker 2>what I would do?

00:34:51.150 --> 00:34:53.390
<v Speaker 2>Guessing. Well, we could just alias cube control

00:34:53.390 --> 00:34:55.790
<v Speaker 0>to slash opt. Do not look here honk,

00:34:55.790 --> 00:34:57.790
<v Speaker 0>or we can take the sledgehammer approach and

00:34:57.790 --> 00:34:59.870
<v Speaker 0>move honk into user bank cube control.

00:35:00.984 --> 00:35:03.545
<v Speaker 2>Let's move it. Let's Yeah. I think that

00:35:03.785 --> 00:35:05.385
<v Speaker 0>that was if it's getting caught caught off

00:35:05.385 --> 00:35:06.825
<v Speaker 0>under our own feet, I think.

00:35:07.385 --> 00:35:08.585
<v Speaker 2>I'm gonna copy

00:35:09.065 --> 00:35:09.945
<v Speaker 2>here.

00:35:11.625 --> 00:35:13.545
<v Speaker 0>It's just user bank on this machine.

00:35:14.105 --> 00:35:15.224
<v Speaker 2>Oh, okay. Yeah.

00:35:16.010 --> 00:35:16.970
<v Speaker 2>And,

00:35:19.530 --> 00:35:21.609
<v Speaker 2>like, I don't like the word honk, though.

00:35:21.609 --> 00:35:24.650
<v Speaker 2>Alright. Just overwrite cube control. Like, whoever that

00:35:24.650 --> 00:35:26.410
<v Speaker 0>other cube control is, I don't care.

00:35:26.810 --> 00:35:27.290
<v Speaker 0>Okay.

00:35:27.954 --> 00:35:28.755
<v Speaker 0>Sledgehammer.

00:35:28.755 --> 00:35:30.355
<v Speaker 0>Just smash that thing away.

00:35:30.994 --> 00:35:32.194
<v Speaker 0>So we should be able to run a

00:35:32.194 --> 00:35:33.875
<v Speaker 0>cube control get pods now.

00:35:34.434 --> 00:35:37.234
<v Speaker 2>Oh, yeah. This unsafe directory here.

00:35:39.920 --> 00:35:42.000
<v Speaker 0>Alright. Now we have a broken control plan,

00:35:42.000 --> 00:35:43.840
<v Speaker 0>which I think we can start to debug.

00:35:46.960 --> 00:35:47.680
<v Speaker 2>Okay.

00:35:50.560 --> 00:35:51.360
<v Speaker 2>Should I look here?

00:35:52.005 --> 00:35:53.285
<v Speaker 2>Let me see. Did you,

00:35:54.484 --> 00:35:56.405
<v Speaker 2>did you have in these

00:35:56.805 --> 00:35:57.765
<v Speaker 2>in here?

00:35:58.805 --> 00:36:00.164
<v Speaker 2>Didn't break anything here.

00:36:06.500 --> 00:36:08.660
<v Speaker 2>Where do we start? You say control?

00:36:09.700 --> 00:36:12.020
<v Speaker 0>So, I mean, I think the good thing

00:36:12.020 --> 00:36:14.260
<v Speaker 0>would be to do an LS minus l

00:36:14.260 --> 00:36:16.740
<v Speaker 0>and check the timestamp. Although they mean nothing

00:36:16.740 --> 00:36:17.380
<v Speaker 0>there.

00:36:17.780 --> 00:36:19.460
<v Speaker 0>People are normally aren't sneaky enough to hate

00:36:19.460 --> 00:36:19.700
<v Speaker 0>them.

00:36:20.885 --> 00:36:21.365
<v Speaker 0>That

00:36:22.484 --> 00:36:23.765
<v Speaker 0>one of them stands out to me that

00:36:23.765 --> 00:36:24.885
<v Speaker 0>it may be modified.

00:36:31.205 --> 00:36:32.325
<v Speaker 2>Okay. Go.

00:36:38.210 --> 00:36:39.890
<v Speaker 2>That was you dipped?

00:36:39.970 --> 00:36:41.970
<v Speaker 2>Is that the one that you're suspecting?

00:36:41.970 --> 00:36:43.810
<v Speaker 0>No. I think the API server. It was

00:36:43.810 --> 00:36:45.490
<v Speaker 0>modified today. Oh,

00:36:46.610 --> 00:36:48.130
<v Speaker 2>I'm looking at the wrong date. They all

00:36:48.130 --> 00:36:49.570
<v Speaker 2>look like '23. Okay.

00:36:51.135 --> 00:36:51.935
<v Speaker 2>Okay.

00:36:53.535 --> 00:36:54.095
<v Speaker 2>Let's,

00:36:54.415 --> 00:36:55.855
<v Speaker 2>take a look.

00:36:55.855 --> 00:36:56.335
<v Speaker 2>And

00:36:57.055 --> 00:36:59.615
<v Speaker 2>where's all my comments? Everyone was helping out

00:36:59.615 --> 00:37:01.455
<v Speaker 2>Andy. Now everyone's quiet.

00:37:01.615 --> 00:37:04.095
<v Speaker 2>I want I want that's just myself now.

00:37:04.095 --> 00:37:05.829
<v Speaker 2>I want more because as you could see,

00:37:05.829 --> 00:37:08.310
<v Speaker 2>I made mine pretty straightforward.

00:37:09.349 --> 00:37:12.390
<v Speaker 0>Alright. I'll talk more. I was No. No.

00:37:12.390 --> 00:37:14.470
<v Speaker 2>No. I want the audience to participate. They

00:37:14.470 --> 00:37:16.710
<v Speaker 2>were like, comment the lore for Andy. I

00:37:16.710 --> 00:37:18.630
<v Speaker 2>don't feel the same love, so it's okay.

00:37:18.630 --> 00:37:21.365
<v Speaker 2>It's okay. I'll figure it out. I mean,

00:37:21.365 --> 00:37:22.805
<v Speaker 1>one thing is,

00:37:23.445 --> 00:37:26.005
<v Speaker 1>how how are static manifests deployed?

00:37:31.680 --> 00:37:34.240
<v Speaker 2>How are they deployed? And then is there

00:37:34.240 --> 00:37:35.440
<v Speaker 2>any difference here,

00:37:36.640 --> 00:37:39.520
<v Speaker 2>David and Teleport? Or it's like So what

00:37:39.520 --> 00:37:42.559
<v Speaker 0>we've got here is what looks like a

00:37:42.559 --> 00:37:44.559
<v Speaker 0>standard API server so far.

00:37:48.025 --> 00:37:48.745
<v Speaker 0>Although,

00:37:48.985 --> 00:37:50.265
<v Speaker 0>that's sneaky.

00:37:50.745 --> 00:37:51.545
<v Speaker 0>Why

00:37:52.585 --> 00:37:54.185
<v Speaker 0>are you deploying your own version of the

00:37:54.185 --> 00:37:55.625
<v Speaker 0>API server, Andy?

00:37:57.545 --> 00:37:59.465
<v Speaker 0>You're just testing out a new version, a

00:37:59.465 --> 00:38:00.745
<v Speaker 0>new feature flag?

00:38:01.545 --> 00:38:01.865
<v Speaker 1>Well,

00:38:02.760 --> 00:38:04.520
<v Speaker 1>I mean, have you ever like, you wanna

00:38:04.520 --> 00:38:05.960
<v Speaker 1>make a change, and then it's just really

00:38:05.960 --> 00:38:07.560
<v Speaker 1>hard to deploy that locally

00:38:07.640 --> 00:38:09.080
<v Speaker 1>on Docker for desktop.

00:38:11.800 --> 00:38:14.920
<v Speaker 0>So oh, sorry. Let me I think we

00:38:14.920 --> 00:38:19.240
<v Speaker 0>should do a great

00:38:17.175 --> 00:38:19.495
<v Speaker 0>image across all leads.

00:38:20.695 --> 00:38:23.655
<v Speaker 0>And we'll see that the standard path or

00:38:23.655 --> 00:38:27.095
<v Speaker 0>prefix for control plane components is Kubernetes dot

00:38:27.095 --> 00:38:29.255
<v Speaker 0>g c r dot I o. So let's

00:38:29.255 --> 00:38:32.150
<v Speaker 0>modify the API server not to use Quito

00:38:32.150 --> 00:38:34.070
<v Speaker 0>I o slash a Holzman.

00:38:35.030 --> 00:38:35.830
<v Speaker 2>Okay.

00:38:35.990 --> 00:38:36.870
<v Speaker 2>I was

00:38:37.190 --> 00:38:39.510
<v Speaker 2>gonna look at mine to just take that

00:38:39.510 --> 00:38:40.470
<v Speaker 2>one in case anything

00:38:41.030 --> 00:38:43.430
<v Speaker 2>it changed even that. I'm not sure anymore.

00:38:45.224 --> 00:38:47.144
<v Speaker 0>That's the joy of clustered. It plays tricks

00:38:47.144 --> 00:38:48.185
<v Speaker 0>on your minds.

00:38:48.585 --> 00:38:50.345
<v Speaker 2>Yeah. I'm like, let me just go to

00:38:50.345 --> 00:38:51.145
<v Speaker 2>make sure.

00:38:52.105 --> 00:38:53.704
<v Speaker 2>Let me take I'm gonna just look at

00:38:53.704 --> 00:38:55.464
<v Speaker 2>mine real quickly. My

00:38:56.345 --> 00:38:58.105
<v Speaker 2>eyes so my eyes are not deceiving me.

00:38:59.810 --> 00:39:01.970
<v Speaker 0>I'll just check if there's any other red

00:39:01.970 --> 00:39:04.450
<v Speaker 0>headings on this file before I replace the

00:39:04.450 --> 00:39:05.010
<v Speaker 0>image.

00:39:05.650 --> 00:39:06.770
<v Speaker 1>Oh, there's not.

00:39:07.330 --> 00:39:08.770
<v Speaker 0>Oh, that was very kind of you to

00:39:08.770 --> 00:39:09.570
<v Speaker 0>tell us.

00:39:10.130 --> 00:39:10.530
<v Speaker 1>Yeah.

00:39:12.555 --> 00:39:14.955
<v Speaker 2>Oh, wait a second. What is he using

00:39:14.955 --> 00:39:16.875
<v Speaker 2>21.one?

00:39:17.275 --> 00:39:18.795
<v Speaker 2>Is that what he has there?

00:39:19.195 --> 00:39:21.275
<v Speaker 0>No. I thought it was 20 1 2.

00:39:21.355 --> 00:39:22.875
<v Speaker 0>Was I think it's Yeah. Yeah.

00:39:23.515 --> 00:39:25.435
<v Speaker 2>It is. It's right. Okay. Just making sure

00:39:25.435 --> 00:39:27.560
<v Speaker 2>that he didn't switch one number on this.

00:39:27.560 --> 00:39:29.080
<v Speaker 1>Well, I thought about running the 20

00:39:29.800 --> 00:39:32.440
<v Speaker 1>The 1 20 2 R c.

00:39:32.920 --> 00:39:33.560
<v Speaker 1>But

00:39:34.200 --> 00:39:37.400
<v Speaker 0>What? Just deprecate all the ingress and mutate

00:39:37.400 --> 00:39:39.640
<v Speaker 0>and webhook namespaces there. That would be nice.

00:39:40.244 --> 00:39:42.645
<v Speaker 1>Pull out the pods to get this back.

00:39:43.845 --> 00:39:45.605
<v Speaker 0>Rachel, do you wanna try

00:39:46.244 --> 00:39:48.565
<v Speaker 0>control playing command again, like, pods or something

00:39:48.565 --> 00:39:49.365
<v Speaker 0>and see

00:39:49.845 --> 00:39:51.045
<v Speaker 0>if it's a simple thing?

00:39:54.039 --> 00:39:56.359
<v Speaker 2>No. Yeah. It doesn't Oh, we get it

00:39:56.359 --> 00:39:57.800
<v Speaker 2>just one more time.

00:39:59.400 --> 00:40:02.039
<v Speaker 1>It's Oh, no. That's That is correct. You

00:40:02.039 --> 00:40:03.480
<v Speaker 1>you restore that file.

00:40:03.880 --> 00:40:06.920
<v Speaker 0>So the kubelet is responsible for running this.

00:40:06.920 --> 00:40:10.505
<v Speaker 0>So we should check the kubelet is running.

00:40:11.785 --> 00:40:12.505
<v Speaker 0>Anywhere

00:40:16.345 --> 00:40:17.865
<v Speaker 2>else in here before we

00:40:19.145 --> 00:40:21.065
<v Speaker 0>I I I I don't think so. I

00:40:21.065 --> 00:40:21.865
<v Speaker 0>would try

00:40:23.225 --> 00:40:24.985
<v Speaker 0>system control states kubelet.

00:40:26.320 --> 00:40:28.400
<v Speaker 2>Alright. Create system

00:40:28.400 --> 00:40:29.520
<v Speaker 2>control.

00:40:30.000 --> 00:40:33.599
<v Speaker 2>What's

00:40:33.599 --> 00:40:35.359
<v Speaker 2>what's

00:40:35.359 --> 00:40:38.160
<v Speaker 2>it? Kubelet? It's system control status, kubelet.

00:40:42.755 --> 00:40:45.714
<v Speaker 1>I think Naveen is sorry. Naveen is trying

00:40:45.714 --> 00:40:46.515
<v Speaker 1>to be helpful.

00:40:47.075 --> 00:40:47.715
<v Speaker 2>Oh.

00:40:48.355 --> 00:40:50.275
<v Speaker 2>Yeah. We could check the admin config. We

00:40:50.275 --> 00:40:52.674
<v Speaker 0>could have modified that, but we also do

00:40:52.674 --> 00:40:54.115
<v Speaker 0>have Kubelet errors here.

00:41:02.730 --> 00:41:04.970
<v Speaker 2>Control play. Mhmm. K.

00:41:06.250 --> 00:41:07.530
<v Speaker 2>We'll have service.

00:41:07.930 --> 00:41:08.330
<v Speaker 2>Okay.

00:41:09.905 --> 00:41:10.305
<v Speaker 2>So

00:41:11.265 --> 00:41:11.985
<v Speaker 2>Okay.

00:41:13.185 --> 00:41:14.545
<v Speaker 0>So our Kiplit is

00:41:15.105 --> 00:41:16.065
<v Speaker 0>running.

00:41:16.785 --> 00:41:18.785
<v Speaker 0>So we probably wanna check that the API

00:41:18.785 --> 00:41:20.545
<v Speaker 0>server has been restarted.

00:41:23.905 --> 00:41:25.265
<v Speaker 0>But I would just use

00:41:25.920 --> 00:41:27.920
<v Speaker 0>PS with your favorite arguments if you have

00:41:27.920 --> 00:41:28.480
<v Speaker 0>any.

00:41:31.040 --> 00:41:32.960
<v Speaker 2>I I don't I I don't really go

00:41:32.960 --> 00:41:35.359
<v Speaker 2>into this to this level of depth, so

00:41:35.359 --> 00:41:37.119
<v Speaker 2>I just gotta, like I have to look

00:41:37.119 --> 00:41:39.414
<v Speaker 2>it up every single time, but okay. Sorry.

00:41:39.414 --> 00:41:41.494
<v Speaker 0>Okay. So I like AUX. Just don't ask

00:41:41.494 --> 00:41:43.095
<v Speaker 0>me what they mean. I just they're just

00:41:43.095 --> 00:41:45.335
<v Speaker 0>ingrained now in my memory. But it doesn't

00:41:45.335 --> 00:41:47.734
<v Speaker 0>look like we have an API server running

00:41:47.734 --> 00:41:49.734
<v Speaker 0>even though we do have a kubelet running.

00:41:50.295 --> 00:41:52.135
<v Speaker 0>So the container logs,

00:41:52.295 --> 00:41:53.815
<v Speaker 0>11 file log

00:41:53.895 --> 00:41:54.454
<v Speaker 0>containers,

00:41:55.130 --> 00:41:56.490
<v Speaker 0>And I suspect

00:41:58.490 --> 00:42:00.650
<v Speaker 0>oh, we're not getting anything here either.

00:42:01.770 --> 00:42:02.890
<v Speaker 0>That's tricky.

00:42:03.930 --> 00:42:04.890
<v Speaker 1>That is interesting.

00:42:08.815 --> 00:42:10.815
<v Speaker 0>So that means one of two things in

00:42:10.815 --> 00:42:11.775
<v Speaker 0>my head.

00:42:11.855 --> 00:42:14.735
<v Speaker 0>Either he's modified where static manifest is supposed

00:42:14.735 --> 00:42:17.055
<v Speaker 0>to live and our change was ignored.

00:42:17.855 --> 00:42:18.255
<v Speaker 2>Mhmm.

00:42:21.140 --> 00:42:21.540
<v Speaker 1>Be.

00:42:23.780 --> 00:42:24.900
<v Speaker 0>You gonna say something?

00:42:25.540 --> 00:42:26.420
<v Speaker 2>Oh, I I was

00:42:29.380 --> 00:42:29.940
<v Speaker 2>Go ahead, Andy.

00:42:33.875 --> 00:42:34.915
<v Speaker 1>I'll

00:42:34.915 --> 00:42:36.515
<v Speaker 1>be honest. I'm surprised as you are that

00:42:36.515 --> 00:42:38.035
<v Speaker 1>there's no logs there. Alright. Okay. So you

00:42:38.035 --> 00:42:39.795
<v Speaker 0>haven't changed the static manifest.

00:42:40.675 --> 00:42:41.875
<v Speaker 0>Alright.

00:42:41.875 --> 00:42:43.715
<v Speaker 0>I'm gonna restart the Kubelet, which has always

00:42:43.715 --> 00:42:45.555
<v Speaker 0>caused me problems in the past. But you

00:42:45.555 --> 00:42:48.630
<v Speaker 0>know what? Doesn't matter. Let's do it. Do

00:42:49.510 --> 00:42:50.390
<v Speaker 2>we wanna

00:42:51.190 --> 00:42:55.190
<v Speaker 2>check the admin config file as well afterwards?

00:42:55.589 --> 00:42:57.510
<v Speaker 0>Yeah. I think that's a good idea too.

00:42:57.510 --> 00:42:58.230
<v Speaker 0>I'm just

00:43:00.005 --> 00:43:01.445
<v Speaker 0>there we go. That seems to be doing

00:43:01.445 --> 00:43:03.605
<v Speaker 0>stuff now. So not I mean, not good

00:43:03.605 --> 00:43:05.765
<v Speaker 0>stuff because we've got error messages, but

00:43:07.605 --> 00:43:08.405
<v Speaker 0>we have stuff.

00:43:12.630 --> 00:43:15.110
<v Speaker 0>Do we have any APIs? No. We don't.

00:43:20.390 --> 00:43:22.950
<v Speaker 0>And we don't have any logs from our

00:43:22.950 --> 00:43:25.030
<v Speaker 0>API server. What have you done, Andy?

00:43:29.545 --> 00:43:30.744
<v Speaker 1>Remember that face I made? I

00:43:31.545 --> 00:43:33.305
<v Speaker 1>if you might might have felt like mind

00:43:33.305 --> 00:43:35.464
<v Speaker 1>games, but we're at we're at the same

00:43:35.464 --> 00:43:37.224
<v Speaker 1>point at this at right at this juncture.

00:43:38.470 --> 00:43:40.630
<v Speaker 0>So this is unexpected behavior?

00:43:41.670 --> 00:43:44.150
<v Speaker 0>Yeah. Yes. Oh, wonderful. Alright.

00:43:44.310 --> 00:43:46.150
<v Speaker 0>Alright. We gotta get her thinking out, Sonia,

00:43:46.230 --> 00:43:46.870
<v Speaker 0>Rachel.

00:43:47.190 --> 00:43:47.910
<v Speaker 2>Okay.

00:43:48.230 --> 00:43:48.790
<v Speaker 2>Well, if

00:43:50.630 --> 00:43:51.910
<v Speaker 2>okay. Let's let's

00:43:53.205 --> 00:43:54.885
<v Speaker 2>let's go back real quick and just look

00:43:54.885 --> 00:43:57.845
<v Speaker 2>at the config files as well. Get through

00:43:57.845 --> 00:43:59.765
<v Speaker 2>those out. Yeah. Yeah. That's really

00:44:00.485 --> 00:44:01.845
<v Speaker 0>I don't know why I'm I'm gonna refresh

00:44:01.845 --> 00:44:04.325
<v Speaker 0>my tab as well. Go. We choose to

00:44:06.309 --> 00:44:07.829
<v Speaker 2>You want me to wait? There we go.

00:44:07.829 --> 00:44:10.390
<v Speaker 0>No. It's okay. Go for it. Okay.

00:44:16.789 --> 00:44:17.430
<v Speaker 2>So But

00:44:18.245 --> 00:44:20.405
<v Speaker 0>I think that only thing I'd really be

00:44:20.405 --> 00:44:23.125
<v Speaker 0>interested in here is that server URL,

00:44:23.525 --> 00:44:26.005
<v Speaker 0>which I think is okay.

00:44:26.485 --> 00:44:28.725
<v Speaker 0>At least the I think so too. Yeah.

00:44:29.365 --> 00:44:29.845
<v Speaker 2>Yeah.

00:44:30.750 --> 00:44:34.190
<v Speaker 0>Okay. Let's I'm gonna think aloud because I'm

00:44:34.990 --> 00:44:36.430
<v Speaker 0>I'm not sure what our next step is.

00:44:36.430 --> 00:44:38.510
<v Speaker 0>So the kubel is responsible for starting all

00:44:38.510 --> 00:44:39.550
<v Speaker 0>of our containers.

00:44:39.870 --> 00:44:41.870
<v Speaker 0>We're not even seeing any log output from

00:44:41.870 --> 00:44:43.950
<v Speaker 0>the API server, which makes me think

00:44:44.335 --> 00:44:46.575
<v Speaker 0>the kubelet either can't speak to container d

00:44:46.575 --> 00:44:48.335
<v Speaker 0>or container d just doesn't do what we

00:44:48.335 --> 00:44:49.295
<v Speaker 0>want it to do.

00:44:50.495 --> 00:44:54.095
<v Speaker 0>So I think we should check the status

00:44:54.095 --> 00:44:56.415
<v Speaker 0>of container d using system control.

00:44:57.830 --> 00:44:59.430
<v Speaker 0>That's kinda where my head's at.

00:45:00.390 --> 00:45:01.190
<v Speaker 2>Okay.

00:45:02.150 --> 00:45:04.230
<v Speaker 1>I'd also like to point out I already

00:45:04.550 --> 00:45:05.350
<v Speaker 1>set the,

00:45:05.750 --> 00:45:07.750
<v Speaker 1>runtime socket for you because you have a

00:45:07.750 --> 00:45:08.950
<v Speaker 0>slight kind

00:45:09.190 --> 00:45:10.710
<v Speaker 0>even though I don't like it right now.

00:45:15.694 --> 00:45:16.415
<v Speaker 0>Unity

00:45:17.214 --> 00:45:18.095
<v Speaker 0>responded

00:45:20.734 --> 00:45:22.255
<v Speaker 0>and it running.

00:45:23.535 --> 00:45:25.295
<v Speaker 0>There was an error message there though.

00:45:27.900 --> 00:45:28.620
<v Speaker 0>Oh,

00:45:29.500 --> 00:45:31.100
<v Speaker 0>I couldn't pull the image.

00:45:32.220 --> 00:45:33.580
<v Speaker 0>Did I mess that up?

00:45:35.819 --> 00:45:36.940
<v Speaker 2>It looks

00:45:36.940 --> 00:45:39.339
<v Speaker 2>like the same one that I had.

00:45:40.365 --> 00:45:42.765
<v Speaker 0>Oh, look at that. It's in TLS header.

00:45:52.045 --> 00:45:54.365
<v Speaker 0>I must have messed up the path. Right?

00:45:57.130 --> 00:45:58.010
<v Speaker 0>I didn't.

00:45:59.050 --> 00:46:00.650
<v Speaker 2>No. It looks as if it looks

00:46:02.570 --> 00:46:04.090
<v Speaker 2>same of what I had.

00:46:05.050 --> 00:46:05.610
<v Speaker 2>Are

00:46:08.250 --> 00:46:11.370
<v Speaker 0>we really unfortunate and GCR is having problems?

00:46:13.805 --> 00:46:15.484
<v Speaker 1>I don't think so. I'll check from my

00:46:15.484 --> 00:46:16.045
<v Speaker 1>side.

00:46:17.085 --> 00:46:17.645
<v Speaker 0>What's the

00:46:18.525 --> 00:46:20.765
<v Speaker 0>a container d command CTR

00:46:22.125 --> 00:46:23.325
<v Speaker 0>image pool.

00:46:24.789 --> 00:46:27.109
<v Speaker 0>Let's just try Docker IO engine next first.

00:46:29.589 --> 00:46:31.270
<v Speaker 0>That just c t r pool. I can't

00:46:31.270 --> 00:46:31.830
<v Speaker 0>remember.

00:46:32.789 --> 00:46:35.270
<v Speaker 0>Hey. Chat help us out. C r I

00:46:35.270 --> 00:46:36.309
<v Speaker 1>cuddle pool.

00:46:36.945 --> 00:46:39.025
<v Speaker 0>Oh, c r I cuddle. Control.

00:46:43.345 --> 00:46:43.985
<v Speaker 0>Okay.

00:46:44.225 --> 00:46:45.585
<v Speaker 0>Yeah. That pulls an image.

00:46:46.305 --> 00:46:47.105
<v Speaker 2>Okay.

00:46:47.745 --> 00:46:50.305
<v Speaker 2>So container config file?

00:46:50.465 --> 00:46:51.985
<v Speaker 2>Where is that? Maybe it's not pulling an

00:46:51.985 --> 00:46:52.305
<v Speaker 0>image.

00:46:53.880 --> 00:46:55.160
<v Speaker 2>I see

00:46:58.200 --> 00:46:59.560
<v Speaker 2>nothing on my screen.

00:47:01.400 --> 00:47:04.680
<v Speaker 0>Okay. So there's a really cool container d

00:47:04.680 --> 00:47:05.319
<v Speaker 0>command

00:47:07.345 --> 00:47:09.025
<v Speaker 0>called config

00:47:10.385 --> 00:47:10.945
<v Speaker 0>dump.

00:47:15.025 --> 00:47:19.025
<v Speaker 0>We don't have a container d command. That's

00:47:19.025 --> 00:47:20.145
<v Speaker 1>really interesting.

00:47:20.305 --> 00:47:20.625
<v Speaker 1>I

00:47:27.320 --> 00:47:28.680
<v Speaker 0>I don't think I've ever had it do

00:47:28.680 --> 00:47:29.640
<v Speaker 0>that before.

00:47:32.920 --> 00:47:33.320
<v Speaker 0>Okay.

00:47:35.925 --> 00:47:37.605
<v Speaker 0>So we can take a look at the

00:47:38.005 --> 00:47:40.485
<v Speaker 0>the drop ins for container d.

00:47:42.885 --> 00:47:46.405
<v Speaker 0>Have you used container d's plugin alias feature

00:47:46.405 --> 00:47:49.525
<v Speaker 0>to move the GCI repository

00:47:50.005 --> 00:47:51.510
<v Speaker 0>just before I start getting down the wrong

00:47:51.510 --> 00:47:52.070
<v Speaker 0>path?

00:47:53.350 --> 00:47:55.590
<v Speaker 1>No. I that that that's already been done.

00:47:55.590 --> 00:47:57.670
<v Speaker 1>I tried to avoid prior art.

00:47:59.990 --> 00:48:02.070
<v Speaker 0>Okay. Then I'm really confused

00:48:02.070 --> 00:48:03.350
<v Speaker 0>about

00:48:05.345 --> 00:48:06.065
<v Speaker 0>this.

00:48:07.744 --> 00:48:09.665
<v Speaker 2>K. So That should work.

00:48:13.025 --> 00:48:13.825
<v Speaker 1>What's that?

00:48:17.550 --> 00:48:20.510
<v Speaker 2>Did you there's something you broke with the

00:48:20.510 --> 00:48:21.390
<v Speaker 2>teleport?

00:48:22.990 --> 00:48:23.630
<v Speaker 1>No.

00:48:23.870 --> 00:48:26.350
<v Speaker 1>That only broke on the worker notes,

00:48:26.430 --> 00:48:27.710
<v Speaker 1>but I fixed it.

00:48:29.630 --> 00:48:31.070
<v Speaker 1>Because I tried to follow the rules of

00:48:31.070 --> 00:48:31.550
<v Speaker 1>engagement,

00:48:32.095 --> 00:48:34.415
<v Speaker 1>which made out my own issues.

00:48:35.375 --> 00:48:37.295
<v Speaker 1>I we are in this together now. I'm

00:48:37.295 --> 00:48:39.135
<v Speaker 1>just being quiet. I'm gonna try and pull

00:48:39.135 --> 00:48:40.655
<v Speaker 0>this from my local machine

00:48:41.135 --> 00:48:41.935
<v Speaker 0>before

00:48:41.935 --> 00:48:44.415
<v Speaker 0>I start debugging the wrong thing because

00:48:45.320 --> 00:48:47.240
<v Speaker 1>Might I recommend not pulling the one I

00:48:47.240 --> 00:48:47.880
<v Speaker 1>created?

00:48:49.480 --> 00:48:51.720
<v Speaker 0>Yeah. I went to that. Alright.

00:48:54.360 --> 00:48:55.960
<v Speaker 0>Here is my terminal.

00:48:56.120 --> 00:48:57.560
<v Speaker 0>Oh, I don't even have Docker open.

00:48:59.375 --> 00:49:00.335
<v Speaker 0>Docker

00:49:00.335 --> 00:49:01.295
<v Speaker 0>image.

00:49:01.694 --> 00:49:02.255
<v Speaker 0>Oh,

00:49:03.454 --> 00:49:06.015
<v Speaker 0>and give docker a few minutes to start.

00:49:08.015 --> 00:49:10.335
<v Speaker 0>Yeah. And we can't pull the API server

00:49:10.335 --> 00:49:10.734
<v Speaker 0>image.

00:49:13.140 --> 00:49:15.299
<v Speaker 0>We may have to just use Andy's API

00:49:15.299 --> 00:49:17.140
<v Speaker 0>server. Is it fixable?

00:49:18.260 --> 00:49:20.020
<v Speaker 1>Oh, I wouldn't do that.

00:49:21.780 --> 00:49:24.339
<v Speaker 2>It's not going here. So okay. So we're

00:49:24.339 --> 00:49:26.855
<v Speaker 1>getting TLS errors. Right? What are the things

00:49:26.855 --> 00:49:28.855
<v Speaker 1>that can lead to Are those expected? I

00:49:28.855 --> 00:49:30.695
<v Speaker 0>thought those were unexpected errors.

00:49:32.535 --> 00:49:35.095
<v Speaker 1>Sort of, but they're related to other errors

00:49:35.095 --> 00:49:37.255
<v Speaker 1>I Right. Okay. I'll be on it. I

00:49:37.255 --> 00:49:40.150
<v Speaker 1>have to stop my break when this broke

00:49:40.150 --> 00:49:41.030
<v Speaker 1>too much.

00:49:42.470 --> 00:49:44.310
<v Speaker 0>Okay. Well, as there as those two last

00:49:44.310 --> 00:49:46.710
<v Speaker 0>errors are expected, then, okay, we can debug

00:49:46.710 --> 00:49:49.270
<v Speaker 0>that. I thought it was an external factor.

00:49:49.510 --> 00:49:50.070
<v Speaker 0>So

00:49:51.030 --> 00:49:52.310
<v Speaker 2>What about our

00:49:55.765 --> 00:49:57.685
<v Speaker 2>should we hop on the

00:49:59.845 --> 00:50:01.685
<v Speaker 2>the worker node and check

00:50:02.805 --> 00:50:04.565
<v Speaker 2>our certs or something on there?

00:50:07.779 --> 00:50:09.299
<v Speaker 0>So if we can't fill the image on

00:50:09.299 --> 00:50:10.820
<v Speaker 0>this control point node,

00:50:11.700 --> 00:50:12.420
<v Speaker 0>then

00:50:12.740 --> 00:50:14.260
<v Speaker 0>I feel like

00:50:18.099 --> 00:50:20.579
<v Speaker 0>I'm gonna get this wrong so

00:50:20.155 --> 00:50:22.155
<v Speaker 0>someone can try and correct me. But

00:50:22.555 --> 00:50:25.195
<v Speaker 0>there is a certificates package from Ubuntu which

00:50:25.195 --> 00:50:26.955
<v Speaker 0>installs all of the root c s that

00:50:26.955 --> 00:50:27.915
<v Speaker 0>we can trust.

00:50:28.635 --> 00:50:29.355
<v Speaker 1>Yep.

00:50:29.915 --> 00:50:31.195
<v Speaker 0>Now if those

00:50:32.155 --> 00:50:32.715
<v Speaker 0>oh, sorry.

00:50:36.370 --> 00:50:38.530
<v Speaker 0>We can maybe just reinstall that package

00:50:39.410 --> 00:50:41.730
<v Speaker 0>and see if that fixes it and failing

00:50:41.730 --> 00:50:43.410
<v Speaker 0>that we may need to dig into a

00:50:43.410 --> 00:50:44.610
<v Speaker 0>little bit deeper.

00:50:44.690 --> 00:50:46.290
<v Speaker 0>So there is a

00:50:47.595 --> 00:50:48.875
<v Speaker 0>at spell

00:50:51.355 --> 00:50:53.515
<v Speaker 1>c a dash certificates.

00:50:53.915 --> 00:50:56.555
<v Speaker 0>C a cert is that it? Okay. Yeah.

00:50:56.555 --> 00:50:57.835
<v Speaker 1>I had to put it in the container

00:50:57.835 --> 00:50:58.555
<v Speaker 1>I built.

00:50:59.595 --> 00:51:00.875
<v Speaker 0>And

00:51:00.500 --> 00:51:01.380
<v Speaker 0>we can do

00:51:02.339 --> 00:51:04.100
<v Speaker 0>does that work? Oh, that's interesting.

00:51:04.260 --> 00:51:04.900
<v Speaker 0>Yeah.

00:51:06.260 --> 00:51:08.100
<v Speaker 1>Ah, there we go.

00:51:08.579 --> 00:51:10.420
<v Speaker 0>Ah, so you have broken

00:51:10.660 --> 00:51:11.540
<v Speaker 0>more things.

00:51:13.140 --> 00:51:14.900
<v Speaker 1>This was not an intentional break.

00:51:19.385 --> 00:51:20.185
<v Speaker 1>Yeah.

00:51:20.905 --> 00:51:22.345
<v Speaker 1>Alright. We have no networking.

00:51:22.745 --> 00:51:25.705
<v Speaker 0>Oh, we have limited networking because Teleport's working.

00:51:25.705 --> 00:51:26.265
<v Speaker 0>But

00:51:28.585 --> 00:51:28.905
<v Speaker 2>Mhmm.

00:51:29.420 --> 00:51:31.820
<v Speaker 0>I don't suppose you're a networking expert, Rachel.

00:51:33.100 --> 00:51:35.580
<v Speaker 0>Nope. Neither am I. Perfect.

00:51:36.380 --> 00:51:37.260
<v Speaker 2>So Okay.

00:51:44.965 --> 00:51:45.765
<v Speaker 0>Okay.

00:51:46.005 --> 00:51:46.645
<v Speaker 0>No.

00:51:46.885 --> 00:51:49.285
<v Speaker 0>Nolan chat suggested that it could be DNS,

00:51:49.285 --> 00:51:50.805
<v Speaker 0>but we couldn't ping eight dot eight dot

00:51:50.805 --> 00:51:51.845
<v Speaker 0>eight dot eight.

00:51:52.484 --> 00:51:54.005
<v Speaker 0>And in fact, we can't even do an

00:51:54.005 --> 00:51:55.605
<v Speaker 0>IP tables dash l.

00:51:58.010 --> 00:52:00.250
<v Speaker 1>But Cillium doesn't use IP tables.

00:52:04.010 --> 00:52:05.850
<v Speaker 0>You better not have any BPF probe on

00:52:05.850 --> 00:52:06.410
<v Speaker 0>my machine.

00:52:15.565 --> 00:52:18.445
<v Speaker 2>What did you do, Andy? Oh, man.

00:52:19.565 --> 00:52:20.365
<v Speaker 0>Taking a whole

00:52:23.360 --> 00:52:25.440
<v Speaker 0>So now I'm just scanning the process tail

00:52:25.440 --> 00:52:26.560
<v Speaker 0>to see if I can see anything that

00:52:26.560 --> 00:52:27.920
<v Speaker 0>I don't expect to be on this machine

00:52:27.920 --> 00:52:30.720
<v Speaker 0>that would be running the eBPF probe.

00:52:31.120 --> 00:52:32.160
<v Speaker 0>If it's Cillium,

00:52:34.494 --> 00:52:36.815
<v Speaker 0>we'd maybe have to kill Cilium.

00:52:38.815 --> 00:52:39.295
<v Speaker 0>I

00:52:39.695 --> 00:52:41.215
<v Speaker 0>couldn't tell you what that's gonna do.

00:52:44.575 --> 00:52:45.535
<v Speaker 0>Okay. So let me

00:52:46.960 --> 00:52:49.520
<v Speaker 0>I think Andy has deployed

00:52:50.320 --> 00:52:52.880
<v Speaker 0>some sort of silly and traffic policy

00:52:53.040 --> 00:52:55.680
<v Speaker 0>to the cluster, then broken the control plane,

00:52:55.680 --> 00:52:58.640
<v Speaker 0>removing our ability to remove such dodgy

00:53:00.025 --> 00:53:01.145
<v Speaker 0>policy.

00:53:01.545 --> 00:53:02.825
<v Speaker 0>Is that close?

00:53:04.665 --> 00:53:05.385
<v Speaker 0>No?

00:53:06.185 --> 00:53:06.985
<v Speaker 1>So

00:53:09.545 --> 00:53:11.945
<v Speaker 1>that's actually a really good theory about what

00:53:11.945 --> 00:53:12.905
<v Speaker 1>probably happened.

00:53:14.220 --> 00:53:16.540
<v Speaker 1>However, I will say that this break got

00:53:16.540 --> 00:53:18.540
<v Speaker 1>away from me. And when you hit the

00:53:18.540 --> 00:53:19.660
<v Speaker 1>app install,

00:53:19.900 --> 00:53:21.420
<v Speaker 1>we are now at the same point in

00:53:21.420 --> 00:53:22.860
<v Speaker 1>trying to fix this cluster,

00:53:25.820 --> 00:53:26.540
<v Speaker 1>which

00:53:26.700 --> 00:53:29.385
<v Speaker 1>is otherwise to say, I'm not entirely sure

00:53:29.385 --> 00:53:32.425
<v Speaker 1>this is recoverable without, like, a cube ADM

00:53:32.425 --> 00:53:33.225
<v Speaker 1>reset.

00:53:36.185 --> 00:53:39.145
<v Speaker 0>Well, it will be recoverable. Right? So what

00:53:39.145 --> 00:53:40.185
<v Speaker 0>can we do here?

00:53:40.905 --> 00:53:41.625
<v Speaker 0>We

00:53:42.505 --> 00:53:43.385
<v Speaker 0>have

00:53:45.010 --> 00:53:47.250
<v Speaker 1>Russell has a good suggestion.

00:53:49.730 --> 00:53:51.809
<v Speaker 0>I don't

00:53:51.809 --> 00:53:54.290
<v Speaker 0>know what my from

00:53:55.089 --> 00:53:55.890
<v Speaker 0>a command

00:53:56.450 --> 00:53:57.890
<v Speaker 0>line is very, very pure.

00:53:58.875 --> 00:54:00.155
<v Speaker 0>Is that a command or is that a

00:54:00.155 --> 00:54:00.875
<v Speaker 0>process?

00:54:09.355 --> 00:54:10.075
<v Speaker 1>Okay.

00:54:10.955 --> 00:54:12.955
<v Speaker 1>Let's see what that does. I'm gonna go

00:54:12.955 --> 00:54:14.529
<v Speaker 0>out and let them here. So I think

00:54:14.529 --> 00:54:17.410
<v Speaker 0>Cillium is responsible for the BPF. I don't

00:54:17.410 --> 00:54:19.010
<v Speaker 0>think you compelled John Bennery and ran it

00:54:19.010 --> 00:54:20.609
<v Speaker 0>on the machine because I didn't see anything

00:54:20.609 --> 00:54:22.290
<v Speaker 0>that looked particularly bad,

00:54:22.609 --> 00:54:23.410
<v Speaker 0>which means

00:54:25.250 --> 00:54:27.650
<v Speaker 0>I'm gonna kill the Cillium pod.

00:54:27.970 --> 00:54:28.369
<v Speaker 0>Okay.

00:54:28.985 --> 00:54:30.905
<v Speaker 0>We should Cilium was the part where I

00:54:30.905 --> 00:54:32.105
<v Speaker 1>wanted to break.

00:54:32.585 --> 00:54:34.105
<v Speaker 1>So that is a good

00:54:34.905 --> 00:54:36.025
<v Speaker 1>so I did

00:54:36.345 --> 00:54:38.505
<v Speaker 1>set Cilium into a crash loop back off

00:54:38.505 --> 00:54:41.305
<v Speaker 1>before I toyed with the API server.

00:54:46.620 --> 00:54:47.180
<v Speaker 2>Okay.

00:54:47.420 --> 00:54:48.140
<v Speaker 2>Now

00:54:48.380 --> 00:54:49.340
<v Speaker 2>it's running.

00:54:50.220 --> 00:54:52.940
<v Speaker 0>Okay. So Russell suggest yeah. BPF filter is

00:54:52.940 --> 00:54:54.060
<v Speaker 0>a running process,

00:54:54.220 --> 00:54:55.180
<v Speaker 0>and those

00:54:55.820 --> 00:54:56.220
<v Speaker 0>are

00:54:56.785 --> 00:54:58.465
<v Speaker 0>normal. They're

00:54:58.465 --> 00:54:59.825
<v Speaker 0>kernel processes,

00:54:59.825 --> 00:55:02.545
<v Speaker 0>I think. I don't wanna go destroying it

00:55:03.105 --> 00:55:05.025
<v Speaker 0>because I don't think removing the probe would

00:55:05.025 --> 00:55:06.225
<v Speaker 0>block the traffic.

00:55:07.185 --> 00:55:08.705
<v Speaker 0>I think Celine would need to exit.

00:55:13.970 --> 00:55:15.250
<v Speaker 0>One way to find out.

00:55:16.370 --> 00:55:18.050
<v Speaker 0>Let's stop the cueplet first.

00:55:18.850 --> 00:55:19.570
<v Speaker 2>Okay.

00:55:20.530 --> 00:55:21.810
<v Speaker 0>Let's grab

00:55:22.530 --> 00:55:23.250
<v Speaker 0>our Cillium.

00:55:25.515 --> 00:55:26.875
<v Speaker 0>We don't have a Cilium.

00:55:27.915 --> 00:55:29.515
<v Speaker 1>It was in a crash loop.

00:55:31.595 --> 00:55:33.435
<v Speaker 1>And then the API server went down, so

00:55:33.435 --> 00:55:35.355
<v Speaker 1>there was nothing telling Cubelet to try to

00:55:35.355 --> 00:55:37.980
<v Speaker 1>redeploy it. But I have a pod running.

00:55:40.940 --> 00:55:43.660
<v Speaker 0>It doesn't mean there's any container. So okay.

00:55:43.980 --> 00:55:45.740
<v Speaker 0>Alright. We actually don't have Cilium.

00:55:47.260 --> 00:55:48.620
<v Speaker 0>Wow. This cluster is screwed.

00:55:50.755 --> 00:55:52.755
<v Speaker 2>Okay. So how do we get so We

00:55:54.995 --> 00:55:57.555
<v Speaker 0>could re reboot the machine with the kubelet

00:55:57.555 --> 00:55:59.635
<v Speaker 0>disabled, which would get his networking back.

00:56:02.380 --> 00:56:04.859
<v Speaker 1>That's the step I do. But as punishment

00:56:04.859 --> 00:56:06.540
<v Speaker 0>for doing this, Andy would have to tell

00:56:06.540 --> 00:56:08.540
<v Speaker 0>jokes and entertain the audience until the bare

00:56:08.540 --> 00:56:09.580
<v Speaker 0>metal machine

00:56:09.740 --> 00:56:10.780
<v Speaker 0>rebooted.

00:56:11.100 --> 00:56:13.020
<v Speaker 0>So Hey. Luckily, it's a c one small.

00:56:13.020 --> 00:56:14.060
<v Speaker 1>These things boot fast.

00:56:15.345 --> 00:56:17.345
<v Speaker 0>Alright. Actually, I can tell the story of

00:56:17.345 --> 00:56:19.345
<v Speaker 1>my initial break

00:56:19.505 --> 00:56:21.505
<v Speaker 1>break, and maybe that can help us figure

00:56:21.505 --> 00:56:23.345
<v Speaker 1>out what went wrong with what I did.

00:56:23.744 --> 00:56:25.744
<v Speaker 0>Alright. So I've disabled the kiplet. I'm gonna

00:56:25.744 --> 00:56:27.025
<v Speaker 0>reboot. You happy with that plan?

00:56:28.930 --> 00:56:29.650
<v Speaker 2>Nope.

00:56:29.890 --> 00:56:31.250
<v Speaker 2>If it was me, it would've just been

00:56:31.250 --> 00:56:33.890
<v Speaker 2>destroyed already, the cluster, but that's just me.

00:56:33.890 --> 00:56:36.130
<v Speaker 2>I would've been like, let's just spin up

00:56:36.130 --> 00:56:38.210
<v Speaker 2>a new one. Yeah. This stuff. You've got

00:56:38.210 --> 00:56:39.730
<v Speaker 0>all that VMware power.

00:56:39.810 --> 00:56:42.130
<v Speaker 0>It's easy to do that. Yep. Alright. I'm

00:56:42.130 --> 00:56:43.490
<v Speaker 0>rebooting it. Let's go for it.

00:56:44.585 --> 00:56:47.145
<v Speaker 0>So We've disabled the cubelet, which should give

00:56:47.145 --> 00:56:49.625
<v Speaker 0>us an opportunity to make sure networking and

00:56:49.625 --> 00:56:51.464
<v Speaker 0>image builds work before we start it back

00:56:51.464 --> 00:56:53.065
<v Speaker 0>up again. But do wanna tell us a

00:56:53.065 --> 00:56:53.865
<v Speaker 0>story then?

00:56:54.744 --> 00:56:57.545
<v Speaker 1>So I wanted to approach this with a,

00:56:57.545 --> 00:56:59.970
<v Speaker 1>like, a a teachable moment and issues that

00:56:59.970 --> 00:57:01.650
<v Speaker 1>I've come up to in production.

00:57:02.050 --> 00:57:03.890
<v Speaker 1>And one of the most frustrating ones is

00:57:03.890 --> 00:57:07.010
<v Speaker 1>when there's a disk error and the Linux

00:57:07.010 --> 00:57:09.250
<v Speaker 1>kernel decides to remount the file system as

00:57:09.250 --> 00:57:09.810
<v Speaker 1>read only.

00:57:11.025 --> 00:57:13.585
<v Speaker 1>Now inducing a disk error is actually really

00:57:13.585 --> 00:57:14.305
<v Speaker 1>difficult,

00:57:14.625 --> 00:57:16.785
<v Speaker 1>but there's a way to send a message

00:57:16.785 --> 00:57:17.985
<v Speaker 1>to the kernel

00:57:18.224 --> 00:57:20.625
<v Speaker 1>to tell it make the file system read

00:57:20.625 --> 00:57:21.265
<v Speaker 1>only,

00:57:21.425 --> 00:57:23.585
<v Speaker 1>except it's a sledgehammer. It should only be

00:57:23.585 --> 00:57:24.785
<v Speaker 1>used in kernel development,

00:57:25.310 --> 00:57:26.750
<v Speaker 1>and then I did it. And then I

00:57:26.750 --> 00:57:28.510
<v Speaker 1>tried to connect the teleport, and the teleport

00:57:28.510 --> 00:57:29.150
<v Speaker 1>broke.

00:57:29.950 --> 00:57:31.390
<v Speaker 1>So I undid it

00:57:31.790 --> 00:57:34.030
<v Speaker 1>because what I wanted to do is I

00:57:34.030 --> 00:57:37.310
<v Speaker 1>wanted to, without breaking all the process,

00:57:38.190 --> 00:57:38.990
<v Speaker 1>render

00:57:38.990 --> 00:57:40.670
<v Speaker 1>etcd in a read only state.

00:57:42.135 --> 00:57:42.855
<v Speaker 1>However,

00:57:42.935 --> 00:57:44.535
<v Speaker 1>that was only a part of it.

00:57:46.135 --> 00:57:48.455
<v Speaker 1>The next thing I wanted to do was

00:57:48.695 --> 00:57:51.255
<v Speaker 1>when you fixed the etcd issue,

00:57:51.495 --> 00:57:53.575
<v Speaker 1>there would Cilium would come back,

00:57:53.895 --> 00:57:55.815
<v Speaker 1>and it would notice that I changed the

00:57:55.815 --> 00:57:58.559
<v Speaker 1>pod IP spaces. So I would have reassigned

00:57:58.559 --> 00:58:00.240
<v Speaker 1>the pod signer per node,

00:58:00.720 --> 00:58:02.480
<v Speaker 1>and each node didn't read only.

00:58:03.119 --> 00:58:04.799
<v Speaker 1>So then it tries to recreate all the

00:58:04.799 --> 00:58:06.880
<v Speaker 1>pods, they get stuck not being able to

00:58:06.880 --> 00:58:08.880
<v Speaker 1>create the the sandbox,

00:58:10.559 --> 00:58:11.279
<v Speaker 1>and

00:58:11.925 --> 00:58:13.285
<v Speaker 1>you have to go figure out why those

00:58:13.285 --> 00:58:14.325
<v Speaker 1>nodes are stuck.

00:58:19.125 --> 00:58:19.605
<v Speaker 1>But

00:58:20.005 --> 00:58:22.165
<v Speaker 1>that wasn't going to work

00:58:23.605 --> 00:58:24.485
<v Speaker 1>because

00:58:24.485 --> 00:58:26.730
<v Speaker 1>it broke Teleport, and I want to follow

00:58:26.730 --> 00:58:28.170
<v Speaker 1>the rules of engagement.

00:58:30.330 --> 00:58:30.970
<v Speaker 1>So

00:58:32.090 --> 00:58:33.850
<v Speaker 1>it's alright if I screen share.

00:58:35.610 --> 00:58:37.610
<v Speaker 0>Yeah. Go for it if you want.

00:58:38.570 --> 00:58:40.330
<v Speaker 0>Noel has kindly pointed out in the chat

00:58:40.330 --> 00:58:43.130
<v Speaker 0>that this is the first ever reboot

00:58:42.485 --> 00:58:43.525
<v Speaker 0>on clustered,

00:58:44.005 --> 00:58:45.045
<v Speaker 0>which is true. Right.

00:58:46.405 --> 00:58:48.325
<v Speaker 1>Well, what happens when I click this button?

00:58:49.765 --> 00:58:51.605
<v Speaker 2>Oh, I need to So he's, like, poor

00:58:51.605 --> 00:58:52.565
<v Speaker 2>cluster.

00:58:52.645 --> 00:58:54.565
<v Speaker 2>What did you do to this poor cluster?

00:58:56.390 --> 00:58:58.550
<v Speaker 2>What did you do to me, Andy? What

00:58:58.550 --> 00:59:00.630
<v Speaker 2>did I I gave you something real I

00:59:00.630 --> 00:59:02.150
<v Speaker 2>gave you some, like

00:59:03.590 --> 00:59:06.230
<v Speaker 2>you gotta reboot the whole thing.

00:59:07.270 --> 00:59:09.270
<v Speaker 1>Oh, no. I'm going to have to,

00:59:10.434 --> 00:59:12.355
<v Speaker 1>will the link you sent me work to

00:59:12.355 --> 00:59:13.075
<v Speaker 1>rejoin?

00:59:13.315 --> 00:59:14.674
<v Speaker 0>Because Yes. But if you're on a Mac

00:59:14.674 --> 00:59:16.515
<v Speaker 0>and there's permissions, you can just enable the

00:59:16.515 --> 00:59:18.275
<v Speaker 0>permissions. You don't actually need to restart your

00:59:18.275 --> 00:59:18.915
<v Speaker 0>browser.

00:59:19.795 --> 00:59:21.075
<v Speaker 1>Okay. So later.

00:59:23.875 --> 00:59:24.194
<v Speaker 1>Share.

00:59:26.960 --> 00:59:29.760
<v Speaker 1>Is it working? Yep. Zoe, he he wait.

00:59:31.520 --> 00:59:32.880
<v Speaker 0>Yes.

00:59:32.880 --> 00:59:33.760
<v Speaker 0>It is.

00:59:37.359 --> 00:59:38.000
<v Speaker 1>So

00:59:38.400 --> 00:59:40.800
<v Speaker 1>what I did was I had an idea

00:59:41.465 --> 00:59:44.585
<v Speaker 1>for creating a read only API server

00:59:44.665 --> 00:59:46.825
<v Speaker 1>that when you make a request to write

00:59:46.825 --> 00:59:47.625
<v Speaker 1>something,

00:59:48.105 --> 00:59:48.665
<v Speaker 1>it would,

00:59:49.225 --> 00:59:50.185
<v Speaker 1>silently

00:59:50.745 --> 00:59:52.905
<v Speaker 1>delete the key you just wrote

00:59:53.065 --> 00:59:55.785
<v Speaker 1>and then tell you it succeeded from this

00:59:55.785 --> 00:59:56.345
<v Speaker 1>transaction.

01:00:03.140 --> 01:00:04.500
<v Speaker 1>Hold on. Hold on.

01:00:07.380 --> 01:00:09.220
<v Speaker 1>Oh, no. I'm sorry.

01:00:10.365 --> 01:00:11.965
<v Speaker 1>I just wanted to do this.

01:00:13.165 --> 01:00:14.285
<v Speaker 1>And

01:00:14.285 --> 01:00:15.005
<v Speaker 1>so

01:00:16.285 --> 01:00:18.125
<v Speaker 0>Can you zoom in on the header?

01:00:19.085 --> 01:00:19.805
<v Speaker 1>Yes.

01:00:21.645 --> 01:00:22.045
<v Speaker 1>I think.

01:00:24.359 --> 01:00:25.240
<v Speaker 1>There we go.

01:00:27.799 --> 01:00:30.040
<v Speaker 1>Right. So what I did is I gave

01:00:30.040 --> 01:00:32.280
<v Speaker 1>it some time to settle after the API

01:00:32.280 --> 01:00:34.599
<v Speaker 1>server comes up, and then it would delete

01:00:34.599 --> 01:00:35.240
<v Speaker 1>every key.

01:00:36.465 --> 01:00:38.945
<v Speaker 1>So that way, when you try to change

01:00:38.945 --> 01:00:41.665
<v Speaker 1>the deployment, it would delete the deployment.

01:00:42.145 --> 01:00:44.625
<v Speaker 1>And I had verified that working

01:00:44.865 --> 01:00:45.585
<v Speaker 1>on

01:00:48.545 --> 01:00:50.545
<v Speaker 1>local Kubernetes cluster I spun up.

01:00:51.470 --> 01:00:53.309
<v Speaker 1>And so when I went to move it

01:00:53.309 --> 01:00:55.230
<v Speaker 1>over, what I needed to do was retag

01:00:55.230 --> 01:00:57.069
<v Speaker 1>the image and push it to a local

01:00:57.069 --> 01:00:59.150
<v Speaker 1>Docker registry running on the host.

01:01:00.109 --> 01:01:02.109
<v Speaker 1>However, this thing happened

01:01:02.510 --> 01:01:02.829
<v Speaker 1>where

01:01:03.665 --> 01:01:05.744
<v Speaker 1>I it took more than fifteen minutes to

01:01:05.744 --> 01:01:06.945
<v Speaker 1>figure out how to do that with c

01:01:06.945 --> 01:01:08.785
<v Speaker 1>r CRI CTL

01:01:08.785 --> 01:01:11.105
<v Speaker 1>because that's not a feature it has.

01:01:11.345 --> 01:01:11.745
<v Speaker 1>So

01:01:12.385 --> 01:01:14.465
<v Speaker 1>then I went to go install Docker,

01:01:15.185 --> 01:01:18.464
<v Speaker 1>and Docker wouldn't install because it couldn't resolve

01:01:18.660 --> 01:01:20.980
<v Speaker 1>the Ubuntu things. And that's when I realized

01:01:20.980 --> 01:01:23.619
<v Speaker 1>how badly I have broken this cluster.

01:01:24.579 --> 01:01:26.660
<v Speaker 1>And so I have this concern

01:01:27.380 --> 01:01:28.740
<v Speaker 1>that Kubelet

01:01:28.740 --> 01:01:31.619
<v Speaker 1>triggered a delete of the master node,

01:01:32.660 --> 01:01:35.765
<v Speaker 1>and it's struggling to reregister itself for some

01:01:35.765 --> 01:01:36.405
<v Speaker 1>reason.

01:01:42.885 --> 01:01:43.605
<v Speaker 0>Alright.

01:01:45.605 --> 01:01:47.365
<v Speaker 1>So that's kind of my working theory.

01:01:49.910 --> 01:01:51.910
<v Speaker 1>Because what I was going to do and

01:01:51.910 --> 01:01:53.510
<v Speaker 1>something I had verified

01:01:53.910 --> 01:01:54.630
<v Speaker 1>was

01:01:56.790 --> 01:01:59.350
<v Speaker 1>while working was I could

01:01:59.590 --> 01:02:00.470
<v Speaker 1>delete

01:02:00.630 --> 01:02:02.994
<v Speaker 1>or with Docker d, I was able to

01:02:02.994 --> 01:02:05.395
<v Speaker 1>change Etsy host to kates dot g c

01:02:05.395 --> 01:02:07.875
<v Speaker 1>r dot I o and pull my malicious

01:02:07.875 --> 01:02:08.595
<v Speaker 1>image

01:02:08.835 --> 01:02:10.435
<v Speaker 1>and make it look like

01:02:11.555 --> 01:02:12.755
<v Speaker 1>the real image.

01:02:13.715 --> 01:02:15.715
<v Speaker 1>And the breadcrumb there would be if you

01:02:15.715 --> 01:02:17.590
<v Speaker 1>did a version,

01:02:17.590 --> 01:02:19.030
<v Speaker 1>it would have told you the git tree

01:02:19.030 --> 01:02:19.910
<v Speaker 1>was dirty.

01:02:21.270 --> 01:02:22.550
<v Speaker 1>Or if you checked

01:02:23.750 --> 01:02:25.750
<v Speaker 1>version on the binary itself in the container

01:02:25.750 --> 01:02:27.190
<v Speaker 1>or if you looked at the binary and

01:02:27.190 --> 01:02:28.950
<v Speaker 1>you realized it was, like, over a gig.

01:02:30.714 --> 01:02:32.635
<v Speaker 1>So there were a couple of breadcrumbs.

01:02:33.275 --> 01:02:34.714
<v Speaker 1>Because what I wanted to highlight is that

01:02:34.714 --> 01:02:37.275
<v Speaker 1>Docker d at least doesn't support HSTS,

01:02:37.915 --> 01:02:40.155
<v Speaker 1>so man in the middle DNS attacks are

01:02:40.155 --> 01:02:42.875
<v Speaker 1>totally possible for injecting malicious images if you

01:02:42.875 --> 01:02:43.515
<v Speaker 1>want

01:02:43.839 --> 01:02:46.240
<v Speaker 1>with kind of so kind of two things.

01:02:46.240 --> 01:02:46.880
<v Speaker 1>One,

01:02:47.119 --> 01:02:49.359
<v Speaker 1>a read only server can create a bad

01:02:49.359 --> 01:02:50.640
<v Speaker 1>day. Two,

01:02:50.720 --> 01:02:52.000
<v Speaker 1>DNS attacks

01:02:52.240 --> 01:02:53.280
<v Speaker 1>really suck.

01:02:53.920 --> 01:02:56.240
<v Speaker 1>And so I'm not sure why HTTPS

01:02:56.240 --> 01:02:57.119
<v Speaker 1>isn't working

01:02:58.155 --> 01:03:00.155
<v Speaker 1>on container d because I don't think they

01:03:00.155 --> 01:03:03.115
<v Speaker 1>support HSTS either. So they're not insisting on

01:03:03.115 --> 01:03:04.155
<v Speaker 1>HTTPS.

01:03:04.315 --> 01:03:06.475
<v Speaker 1>It's just not able to dial out,

01:03:06.795 --> 01:03:08.075
<v Speaker 1>I think, is that error.

01:03:08.475 --> 01:03:10.475
<v Speaker 1>So if networking comes back, you might be

01:03:10.475 --> 01:03:13.030
<v Speaker 1>onto something. If so far, we we don't

01:03:13.030 --> 01:03:14.630
<v Speaker 0>have a bare metal machine yet.

01:03:19.030 --> 01:03:21.270
<v Speaker 0>Alright. Let's I'm gonna go to my Equinix

01:03:21.270 --> 01:03:23.270
<v Speaker 0>console and see where we are in the

01:03:23.270 --> 01:03:23.670
<v Speaker 0>transcript.

01:03:25.164 --> 01:03:27.404
<v Speaker 1>You may have clustered our first cluster as

01:03:27.404 --> 01:03:27.885
<v Speaker 0>well.

01:03:30.045 --> 01:03:31.964
<v Speaker 1>I was asked to break it, and I

01:03:31.964 --> 01:03:34.444
<v Speaker 1>almost for a new cluster because I I

01:03:34.444 --> 01:03:35.565
<v Speaker 1>thought I broke it too much.

01:03:38.250 --> 01:03:41.050
<v Speaker 2>Yeah. We said break it, not destroy

01:03:41.050 --> 01:03:41.690
<v Speaker 2>it.

01:03:42.810 --> 01:03:44.650
<v Speaker 2>Get all the earth. You know?

01:03:45.850 --> 01:03:48.490
<v Speaker 0>Yeah. So silly me for having a rule

01:03:48.490 --> 01:03:49.770
<v Speaker 0>that the only thing you don't need to

01:03:49.770 --> 01:03:51.930
<v Speaker 0>do is break teleport, which you didn't

01:03:52.215 --> 01:03:53.175
<v Speaker 0>ish.

01:03:57.255 --> 01:03:58.055
<v Speaker 1>K.

01:03:58.295 --> 01:04:00.215
<v Speaker 1>I you're gonna look at the That's cool,

01:04:00.215 --> 01:04:00.935
<v Speaker 2>Andy. I mean

01:04:01.575 --> 01:04:04.215
<v Speaker 0>Okay. So I've got my screen share back.

01:04:04.215 --> 01:04:06.055
<v Speaker 0>What we can see here is I I

01:04:06.055 --> 01:04:09.710
<v Speaker 0>can actually SSH on. There's a starting point.

01:04:10.349 --> 01:04:12.190
<v Speaker 0>Let me drag that up. I don't think

01:04:12.190 --> 01:04:14.430
<v Speaker 0>we have teleport quite yet. I'm not sure

01:04:14.430 --> 01:04:15.870
<v Speaker 0>if it's crawling.

01:04:16.109 --> 01:04:18.270
<v Speaker 2>No. I can't I can't get in there

01:04:18.270 --> 01:04:18.750
<v Speaker 2>yet.

01:04:21.725 --> 01:04:23.805
<v Speaker 0>Okay. So let's save teleport.

01:04:24.605 --> 01:04:25.085
<v Speaker 0>What

01:04:25.405 --> 01:04:26.525
<v Speaker 1>have I got running?

01:04:26.765 --> 01:04:27.885
<v Speaker 0>Oh, Docker.

01:04:28.285 --> 01:04:30.205
<v Speaker 0>This is why we don't need Docker running.

01:04:33.020 --> 01:04:33.740
<v Speaker 1>Oh,

01:04:36.859 --> 01:04:37.580
<v Speaker 1>that

01:04:38.140 --> 01:04:39.900
<v Speaker 1>fake cube cuddle binary.

01:04:40.140 --> 01:04:42.220
<v Speaker 1>All it did was exec the real cube

01:04:42.220 --> 01:04:45.020
<v Speaker 1>cuddle binary and then randomly print honk or

01:04:45.020 --> 01:04:46.300
<v Speaker 1>make it a rainbow printout.

01:04:46.944 --> 01:04:48.464
<v Speaker 1>So it was just there as a little

01:04:48.464 --> 01:04:49.905
<v Speaker 1>bit of mental warfare

01:04:50.065 --> 01:04:52.065
<v Speaker 1>to because it it literally just execs that

01:04:52.065 --> 01:04:52.944
<v Speaker 1>binary

01:04:52.944 --> 01:04:55.345
<v Speaker 1>with the args and then pipes the the

01:04:55.345 --> 01:04:57.744
<v Speaker 1>information back. So that was supposed to be

01:04:57.744 --> 01:04:58.065
<v Speaker 1>fun,

01:04:59.100 --> 01:05:01.420
<v Speaker 1>except I broke it too much, and you

01:05:01.420 --> 01:05:03.900
<v Speaker 1>just saw the error message in rainbow print.

01:05:05.900 --> 01:05:07.020
<v Speaker 0>Okay. So

01:05:07.340 --> 01:05:09.340
<v Speaker 0>here's where we are. We have the machine.

01:05:09.340 --> 01:05:12.460
<v Speaker 0>Unfortunately, we can't get teleport working because it's

01:05:12.460 --> 01:05:14.780
<v Speaker 0>it relies on the BGP advertisement

01:05:15.035 --> 01:05:16.235
<v Speaker 0>from CubeVip.

01:05:16.875 --> 01:05:18.635
<v Speaker 0>And other for CubeVip to run, I need

01:05:18.635 --> 01:05:20.395
<v Speaker 0>to start the CubeVip. If I start the

01:05:20.395 --> 01:05:22.635
<v Speaker 0>CubeVip, things are gonna break through.

01:05:23.675 --> 01:05:26.235
<v Speaker 1>I didn't know CubeVip between BGP.

01:05:26.475 --> 01:05:27.355
<v Speaker 0>Yes.

01:05:27.355 --> 01:05:29.049
<v Speaker 0>I actually I I really need to make

01:05:29.049 --> 01:05:30.890
<v Speaker 0>sure Teleport runs on the

01:05:31.210 --> 01:05:33.290
<v Speaker 0>bare metal IP instead of the BGP. That's

01:05:33.290 --> 01:05:34.970
<v Speaker 0>just a risky mistake by me. So

01:05:35.930 --> 01:05:39.130
<v Speaker 1>So to induce the crash loop for Cillium,

01:05:39.290 --> 01:05:42.089
<v Speaker 1>I since Cillium one ten, I enabled

01:05:42.365 --> 01:05:43.965
<v Speaker 1>BGP in Cilium.

01:05:48.924 --> 01:05:49.565
<v Speaker 0>Okay.

01:05:50.845 --> 01:05:53.085
<v Speaker 1>So I'm not sure what BPF rules that

01:05:53.085 --> 01:05:53.885
<v Speaker 1>might have installed.

01:05:58.480 --> 01:05:59.840
<v Speaker 0>I don't know what to do.

01:06:02.319 --> 01:06:04.080
<v Speaker 1>I don't I don't either.

01:06:05.520 --> 01:06:07.200
<v Speaker 2>I think, let's see.

01:06:08.585 --> 01:06:10.105
<v Speaker 2>Well, I can't well, I can't get back

01:06:10.105 --> 01:06:12.424
<v Speaker 2>on to Teleport. Yeah. So So, I mean,

01:06:12.424 --> 01:06:13.865
<v Speaker 0>I can start the Kubelet, which will get

01:06:13.865 --> 01:06:14.665
<v Speaker 0>Teleport

01:06:15.704 --> 01:06:17.625
<v Speaker 0>running. But the minute Cillium

01:06:17.704 --> 01:06:20.424
<v Speaker 0>comes back up, it's potentially gonna remove all

01:06:20.424 --> 01:06:21.865
<v Speaker 0>networking. Is that right?

01:06:22.105 --> 01:06:22.585
<v Speaker 2>Oh.

01:06:23.810 --> 01:06:25.250
<v Speaker 2>No. Let's just do it because we don't

01:06:25.250 --> 01:06:27.570
<v Speaker 0>have any other options right now. Yeah.

01:06:29.170 --> 01:06:31.090
<v Speaker 0>Because if Celium's configured,

01:06:31.730 --> 01:06:33.810
<v Speaker 0>we need that CD to run anyway

01:06:34.450 --> 01:06:35.650
<v Speaker 0>to be able to fix that.

01:06:37.105 --> 01:06:39.185
<v Speaker 1>Rachel, I sent you the public IP of

01:06:39.185 --> 01:06:40.785
<v Speaker 1>the host so you could SSH if you

01:06:40.785 --> 01:06:41.345
<v Speaker 1>wanted.

01:06:41.825 --> 01:06:45.185
<v Speaker 2>Ah, okay. That's sweet. Both your keys aren't

01:06:45.185 --> 01:06:45.985
<v Speaker 0>on all devices.

01:06:51.040 --> 01:06:53.520
<v Speaker 0>Okay. Yeah. I'm gonna avoid a QVDM

01:06:53.520 --> 01:06:54.400
<v Speaker 0>reset.

01:06:55.599 --> 01:06:57.359
<v Speaker 0>I mean, I guess we could walk through

01:06:57.359 --> 01:06:59.120
<v Speaker 0>a QVDM reset, couldn't we?

01:07:00.480 --> 01:07:01.680
<v Speaker 0>But then we'd have to bring all the

01:07:01.680 --> 01:07:02.640
<v Speaker 0>other notes online,

01:07:04.015 --> 01:07:05.775
<v Speaker 0>redeploy the workload.

01:07:07.695 --> 01:07:10.175
<v Speaker 2>That's what I've done by now. I'm just

01:07:10.175 --> 01:07:10.735
<v Speaker 2>like,

01:07:11.055 --> 01:07:12.895
<v Speaker 2>let's just redeploy everything.

01:07:12.895 --> 01:07:13.455
<v Speaker 2>Forget

01:07:14.015 --> 01:07:15.855
<v Speaker 2>fixing it. I'm gonna do

01:07:16.895 --> 01:07:18.790
<v Speaker 0>Yeah. Let's just run many cubes. Screw it.

01:07:18.790 --> 01:07:19.590
<v Speaker 0>That's easier.

01:07:20.070 --> 01:07:20.870
<v Speaker 0>You

01:07:24.710 --> 01:07:26.470
<v Speaker 2>know, this is why we got our, you

01:07:26.470 --> 01:07:28.790
<v Speaker 2>know, the point I just gotta leave the

01:07:28.790 --> 01:07:30.950
<v Speaker 0>ping running Minutes. And see what happens here.

01:07:37.575 --> 01:07:38.215
<v Speaker 2>And

01:07:38.454 --> 01:07:39.255
<v Speaker 2>it's a

01:07:40.615 --> 01:07:43.015
<v Speaker 2>you get paid, like, extra to to, like,

01:07:43.015 --> 01:07:43.974
<v Speaker 2>really break stuff.

01:07:44.840 --> 01:07:45.720
<v Speaker 2>Like,

01:07:45.720 --> 01:07:47.240
<v Speaker 2>I Oh, I Like, is this something you

01:07:47.240 --> 01:07:47.640
<v Speaker 2>really see

01:07:48.200 --> 01:07:48.920
<v Speaker 2>customers?

01:07:51.400 --> 01:07:53.320
<v Speaker 1>So I tend to call it chaos engineering,

01:07:53.320 --> 01:07:55.080
<v Speaker 1>and my manager before has told me, in

01:07:55.080 --> 01:07:56.760
<v Speaker 1>order to be chaos engineering, I have to

01:07:56.760 --> 01:07:57.480
<v Speaker 1>know what I'm doing.

01:07:59.325 --> 01:08:00.125
<v Speaker 2>Mhmm.

01:08:01.885 --> 01:08:02.685
<v Speaker 2>Okay.

01:08:02.765 --> 01:08:04.365
<v Speaker 0>Okay. You have been has been up for

01:08:04.365 --> 01:08:06.525
<v Speaker 0>thirty four seconds, so it should be

01:08:09.484 --> 01:08:12.045
<v Speaker 0>hopefully, it began to advertise that address and

01:08:12.045 --> 01:08:13.405
<v Speaker 0>get us back onto Teleport

01:08:14.440 --> 01:08:16.040
<v Speaker 0>Make sure it's not crashing. Okay.

01:08:22.680 --> 01:08:23.399
<v Speaker 0>Click that one.

01:08:28.785 --> 01:08:29.825
<v Speaker 1>According

01:08:29.825 --> 01:08:30.625
<v Speaker 1>to

01:08:31.024 --> 01:08:32.465
<v Speaker 1>the staff console,

01:08:32.705 --> 01:08:33.904
<v Speaker 1>BGP looks up.

01:08:42.189 --> 01:08:43.709
<v Speaker 0>That is the other one.

01:08:44.510 --> 01:08:46.270
<v Speaker 0>Oh, yeah. It's the twenty first start log.

01:08:46.270 --> 01:08:48.189
<v Speaker 0>Okay. That is the other one.

01:08:48.989 --> 01:08:50.590
<v Speaker 0>Yeah. This is today's

01:08:50.670 --> 01:08:52.029
<v Speaker 0>it started advertising.

01:08:54.705 --> 01:08:55.824
<v Speaker 0>We should

01:08:57.825 --> 01:08:59.745
<v Speaker 0>at the very oh, no. There we go.

01:09:01.024 --> 01:09:02.705
<v Speaker 0>Restart teleport.

01:09:04.785 --> 01:09:05.505
<v Speaker 0>Okay.

01:09:06.225 --> 01:09:07.585
<v Speaker 0>Do we have teleport?

01:09:10.460 --> 01:09:11.500
<v Speaker 2>Not yet.

01:09:16.700 --> 01:09:18.380
<v Speaker 0>Okay. That's broken now.

01:09:21.180 --> 01:09:23.580
<v Speaker 1>Technically, I wasn't the one who broke Teleport

01:09:23.580 --> 01:09:24.060
<v Speaker 1>this time.

01:09:28.965 --> 01:09:31.044
<v Speaker 0>I can't speak to you.

01:09:35.364 --> 01:09:36.484
<v Speaker 0>Restart it.

01:09:41.520 --> 01:09:43.199
<v Speaker 0>Okay. Teleport is up.

01:09:43.840 --> 01:09:47.280
<v Speaker 2>Yeah. Alright. I'll

01:09:47.280 --> 01:09:48.560
<v Speaker 2>have to wait for you to start the

01:09:48.560 --> 01:09:49.360
<v Speaker 2>session again.

01:09:54.515 --> 01:09:56.275
<v Speaker 0>Okay. We have a new session.

01:09:56.835 --> 01:09:58.995
<v Speaker 2>Alright. Let me jump back in. And we

01:09:58.995 --> 01:10:01.235
<v Speaker 0>haven't lost networking yet. So we actually might

01:10:01.235 --> 01:10:02.434
<v Speaker 0>be in the clear.

01:10:05.635 --> 01:10:06.114
<v Speaker 2>K.

01:10:09.100 --> 01:10:10.699
<v Speaker 1>It's actually a really good point.

01:10:12.620 --> 01:10:15.980
<v Speaker 0>You're

01:10:15.980 --> 01:10:17.740
<v Speaker 0>not allowed to SSH and run an info.

01:10:20.545 --> 01:10:21.905
<v Speaker 2>So you

01:10:29.265 --> 01:10:30.785
<v Speaker 1>might wanna check Etsy host.

01:10:34.630 --> 01:10:36.470
<v Speaker 2>Hey, David. I can't I'm,

01:10:38.310 --> 01:10:40.070
<v Speaker 2>I'm not in that session. It's not I

01:10:40.070 --> 01:10:42.949
<v Speaker 2>don't see this active for me. Hold on.

01:10:42.950 --> 01:10:45.030
<v Speaker 2>Oh, forgot. Never mind. Hold on. Need to

01:10:45.030 --> 01:10:45.510
<v Speaker 2>sign in.

01:10:46.415 --> 01:10:47.455
<v Speaker 0>Ah, okay. Cool.

01:10:47.935 --> 01:10:50.575
<v Speaker 2>I'm, like, looking at my session. Like,

01:10:55.455 --> 01:10:58.255
<v Speaker 2>you can continue since we're closing on time

01:10:58.255 --> 01:10:58.575
<v Speaker 2>here.

01:11:01.170 --> 01:11:02.290
<v Speaker 0>Alright. Well,

01:11:02.770 --> 01:11:04.450
<v Speaker 0>our and are

01:11:04.450 --> 01:11:06.930
<v Speaker 0>trying to pull down our image. It's failing

01:11:06.930 --> 01:11:09.490
<v Speaker 0>to resolve it for the TLS error, but

01:11:09.490 --> 01:11:11.010
<v Speaker 0>we do still have networking.

01:11:12.530 --> 01:11:14.450
<v Speaker 1>So do you remember when I said I

01:11:14.450 --> 01:11:15.810
<v Speaker 1>wanted to man in the middle DNS?

01:11:16.264 --> 01:11:17.064
<v Speaker 0>Yes.

01:11:17.945 --> 01:11:19.304
<v Speaker 1>How can I do that on the local

01:11:19.304 --> 01:11:20.024
<v Speaker 1>host?

01:11:21.145 --> 01:11:22.824
<v Speaker 0>You could just modify.

01:11:30.630 --> 01:11:31.349
<v Speaker 2>Okay.

01:11:33.830 --> 01:11:36.070
<v Speaker 0>So that should hopefully fill our API server

01:11:36.070 --> 01:11:36.869
<v Speaker 0>image.

01:11:37.989 --> 01:11:40.070
<v Speaker 0>Oh, good. I think you just joined the

01:11:40.070 --> 01:11:41.030
<v Speaker 0>session there. Right?

01:11:41.590 --> 01:11:41.910
<v Speaker 2>Yep.

01:11:42.575 --> 01:11:45.135
<v Speaker 2>Have one. My screen looks a little wonky.

01:11:45.135 --> 01:11:46.895
<v Speaker 2>Maybe you Yeah. Just give it a wee

01:11:46.895 --> 01:11:47.614
<v Speaker 0>reset.

01:11:48.415 --> 01:11:49.775
<v Speaker 0>So while you were joining,

01:11:50.575 --> 01:11:53.855
<v Speaker 0>we opened the host file and seen that

01:11:53.855 --> 01:11:56.735
<v Speaker 0>Andy was pointing kates.gcr.i0

01:11:56.735 --> 01:11:58.400
<v Speaker 0>to our local machine.

01:12:00.480 --> 01:12:01.679
<v Speaker 2>There we go. Yeah.

01:12:06.800 --> 01:12:07.760
<v Speaker 0>Let me just k.

01:12:14.454 --> 01:12:17.574
<v Speaker 0>Restart the coupon. Oh, no. Restart.

01:12:20.534 --> 01:12:22.375
<v Speaker 0>Restart everything again. I don't know.

01:12:24.660 --> 01:12:25.060
<v Speaker 2>Let's

01:12:25.780 --> 01:12:27.540
<v Speaker 0>Look at that. We finally have an API

01:12:27.540 --> 01:12:28.340
<v Speaker 0>server.

01:12:29.380 --> 01:12:30.179
<v Speaker 0>Yay.

01:12:31.780 --> 01:12:32.579
<v Speaker 2>Alright.

01:12:34.580 --> 01:12:36.260
<v Speaker 0>Do you wanna try and get pods, get

01:12:36.260 --> 01:12:37.780
<v Speaker 0>nodes, and actually see if we get a

01:12:37.780 --> 01:12:38.900
<v Speaker 0>response from this

01:12:39.300 --> 01:12:39.940
<v Speaker 0>stupid cluster?

01:12:41.115 --> 01:12:42.395
<v Speaker 0>There we go. Okay.

01:12:43.915 --> 01:12:44.715
<v Speaker 0>Alright.

01:12:45.115 --> 01:12:47.995
<v Speaker 0>Do you want to try updating our clustered

01:12:47.995 --> 01:12:49.835
<v Speaker 0>deployment to v two?

01:12:50.635 --> 01:12:52.715
<v Speaker 2>I was gonna just see if it's actually

01:12:52.795 --> 01:12:53.355
<v Speaker 2>running

01:12:53.670 --> 01:12:55.429
<v Speaker 2>on the application. Do you wanna or you

01:12:55.429 --> 01:12:58.070
<v Speaker 2>could show if it check it. Oh, okay.

01:12:58.070 --> 01:12:59.269
<v Speaker 0>That's a good idea.

01:13:02.230 --> 01:13:04.710
<v Speaker 2>Before I change anything there. Nope.

01:13:05.350 --> 01:13:07.429
<v Speaker 2>Internal

01:13:06.905 --> 01:13:08.825
<v Speaker 2>server here. Okay.

01:13:10.905 --> 01:13:13.385
<v Speaker 2>That's where I think I saw

01:13:16.505 --> 01:13:18.265
<v Speaker 2>no. That's two days ago.

01:13:19.065 --> 01:13:20.185
<v Speaker 2>Let's see. Yeah. Did

01:13:21.520 --> 01:13:23.840
<v Speaker 2>did you do anything else, Andy?

01:13:25.760 --> 01:13:27.679
<v Speaker 2>Or can I just work in the manifest

01:13:27.679 --> 01:13:28.320
<v Speaker 2>now?

01:13:28.960 --> 01:13:30.560
<v Speaker 2>This Yeah. I think I think we can

01:13:30.560 --> 01:13:32.719
<v Speaker 0>just work with hopefully, with Kubernetes

01:13:32.719 --> 01:13:33.840
<v Speaker 0>API now.

01:13:34.800 --> 01:13:36.080
<v Speaker 1>Hey. David,

01:13:36.080 --> 01:13:37.655
<v Speaker 1>could you do me a favor? I put

01:13:37.655 --> 01:13:39.335
<v Speaker 1>a copy of the cube cuddle back on

01:13:39.335 --> 01:13:41.255
<v Speaker 1>there in the root home directory.

01:13:41.415 --> 01:13:43.735
<v Speaker 1>Could you, like, a k the cube cuddle

01:13:43.895 --> 01:13:46.375
<v Speaker 1>so dot slash cube cuddle, get pods dash

01:13:46.375 --> 01:13:48.535
<v Speaker 1>capital a so people could see the fun

01:13:48.535 --> 01:13:49.415
<v Speaker 1>I had put in there?

01:13:50.680 --> 01:13:53.080
<v Speaker 0>Is this the broken one? Yes.

01:13:58.680 --> 01:13:59.800
<v Speaker 1>Nice. Very nice.

01:14:02.280 --> 01:14:03.720
<v Speaker 2>And then you still got the honk in

01:14:03.720 --> 01:14:04.440
<v Speaker 2>there? I see it.

01:14:06.355 --> 01:14:07.155
<v Speaker 2>Okay.

01:14:07.315 --> 01:14:08.675
<v Speaker 2>You felt like a Mary.

01:14:11.554 --> 01:14:13.474
<v Speaker 2>It's hurting my eyes a little bit, but

01:14:13.715 --> 01:14:15.315
<v Speaker 0>Yeah. That's that's sad.

01:14:19.810 --> 01:14:21.809
<v Speaker 2>I'm like, what am I looking at? Okay.

01:14:21.890 --> 01:14:23.650
<v Speaker 2>So we We

01:14:26.690 --> 01:14:28.610
<v Speaker 0>don't have any core DNS. I think that's

01:14:28.610 --> 01:14:30.289
<v Speaker 0>why our application isn't working.

01:14:30.610 --> 01:14:32.770
<v Speaker 2>Oh, unknown. There we go. Alright.

01:14:34.085 --> 01:14:36.405
<v Speaker 2>Let's

01:14:36.405 --> 01:14:38.005
<v Speaker 2>see. Where do you have?

01:14:42.245 --> 01:14:44.405
<v Speaker 2>Let's see. Yeah. I mean, we're just

01:14:46.120 --> 01:14:47.720
<v Speaker 2>wait. Did you do all all

01:14:48.280 --> 01:14:50.600
<v Speaker 2>pods and all the namespaces?

01:14:51.080 --> 01:14:52.760
<v Speaker 2>Everything. Oh, wait. Get.

01:14:57.640 --> 01:14:58.520
<v Speaker 2>Okay.

01:14:58.520 --> 01:14:59.400
<v Speaker 2>Replacement.

01:15:01.705 --> 01:15:03.305
<v Speaker 2>Our DNS

01:15:04.025 --> 01:15:04.585
<v Speaker 2>our

01:15:05.305 --> 01:15:07.465
<v Speaker 2>deployment, let's look at that.

01:15:10.345 --> 01:15:12.505
<v Speaker 0>I don't think I've ever seen status unknown

01:15:12.505 --> 01:15:13.145
<v Speaker 0>before.

01:15:14.179 --> 01:15:14.979
<v Speaker 2>Yeah.

01:15:15.540 --> 01:15:16.100
<v Speaker 2>It's a

01:15:16.980 --> 01:15:18.340
<v Speaker 2>and there's our

01:15:18.659 --> 01:15:21.619
<v Speaker 2>daemon set here. Got nothing there.

01:15:22.340 --> 01:15:23.139
<v Speaker 2>DNS.

01:15:25.955 --> 01:15:27.155
<v Speaker 2>Pods.

01:15:32.835 --> 01:15:33.554
<v Speaker 2>Okay.

01:15:34.675 --> 01:15:35.555
<v Speaker 0>I'm gonna take a

01:15:36.275 --> 01:15:37.155
<v Speaker 2>Go ahead. You go?

01:15:38.450 --> 01:15:40.770
<v Speaker 2>No. I'm just gonna take a look here

01:15:40.770 --> 01:15:42.930
<v Speaker 2>and here really quickly. See

01:15:43.170 --> 01:15:45.650
<v Speaker 2>what's going on. I So

01:15:46.450 --> 01:15:48.610
<v Speaker 1>a hint as we're butting up closer. I

01:15:48.610 --> 01:15:49.890
<v Speaker 1>don't know if you remember,

01:15:50.050 --> 01:15:51.810
<v Speaker 1>but when I was looking at Rachel's cluster,

01:15:51.810 --> 01:15:53.010
<v Speaker 1>noticed pods weren't

01:15:53.435 --> 01:15:54.155
<v Speaker 1>deploying,

01:15:54.875 --> 01:15:57.115
<v Speaker 1>and I looked at the net the CNI

01:15:57.115 --> 01:15:57.835
<v Speaker 1>first.

01:16:00.475 --> 01:16:01.195
<v Speaker 2>Okay.

01:16:01.515 --> 01:16:02.955
<v Speaker 2>So

01:16:05.035 --> 01:16:07.915
<v Speaker 2>I guess you're telling me to look

01:16:07.650 --> 01:16:09.410
<v Speaker 2>in the c and I first.

01:16:10.050 --> 01:16:13.170
<v Speaker 2>Is that what you're telling me? No. Okay.

01:16:14.290 --> 01:16:15.010
<v Speaker 2>Okay.

01:16:15.650 --> 01:16:17.810
<v Speaker 2>So I mean, we already know he enabled

01:16:17.810 --> 01:16:19.490
<v Speaker 0>BGP in the Cilium config.

01:16:20.885 --> 01:16:23.045
<v Speaker 2>K. Where is Cilium

01:16:23.045 --> 01:16:24.324
<v Speaker 2>config, though?

01:16:25.525 --> 01:16:26.724
<v Speaker 2>Where is that? I

01:16:29.445 --> 01:16:32.005
<v Speaker 0>think there's a config mapping cube system.

01:16:33.525 --> 01:16:34.005
<v Speaker 2>Okay.

01:16:46.655 --> 01:16:48.975
<v Speaker 2>This one here? Yeah. I think that's the

01:16:48.975 --> 01:16:49.455
<v Speaker 0>one.

01:16:49.855 --> 01:16:51.695
<v Speaker 0>We would probably wanna edit that and take

01:16:51.695 --> 01:16:54.095
<v Speaker 0>a look for that BGP thing, disable it,

01:16:54.095 --> 01:16:55.215
<v Speaker 0>and then do a

01:16:56.095 --> 01:16:58.575
<v Speaker 0>do a rollout of the cilium

01:16:59.135 --> 01:16:59.455
<v Speaker 0>part,

01:17:00.290 --> 01:17:01.170
<v Speaker 0>I think.

01:17:06.610 --> 01:17:07.810
<v Speaker 2>Where will it be?

01:17:08.450 --> 01:17:10.450
<v Speaker 2>I can't see. Where is it disabled?

01:17:12.885 --> 01:17:15.045
<v Speaker 0>You might just wanna search for BGP. I'm

01:17:15.045 --> 01:17:17.045
<v Speaker 0>not entirely sure of what what lives in

01:17:17.045 --> 01:17:17.844
<v Speaker 0>this project.

01:17:20.005 --> 01:17:21.364
<v Speaker 0>That's the only one.

01:17:21.764 --> 01:17:22.724
<v Speaker 0>Yeah.

01:17:25.400 --> 01:17:27.400
<v Speaker 2>So he said we need build rate.

01:17:27.960 --> 01:17:29.560
<v Speaker 2>So we gotta put it in true? I

01:17:29.560 --> 01:17:30.840
<v Speaker 2>forgot what you're saying. I don't think we

01:17:30.840 --> 01:17:31.719
<v Speaker 0>wanna put that.

01:17:32.600 --> 01:17:34.360
<v Speaker 2>Let's

01:17:34.360 --> 01:17:35.480
<v Speaker 2>see what else we've got.

01:17:36.360 --> 01:17:37.880
<v Speaker 2>Okay. Post your name.

01:17:57.420 --> 01:17:59.340
<v Speaker 2>Okay. I'm gonna I'm gonna have to cheat

01:17:59.340 --> 01:18:01.260
<v Speaker 2>and look at my cluster because I didn't

01:18:01.260 --> 01:18:03.100
<v Speaker 2>touch these things. So I just wanna take

01:18:03.100 --> 01:18:03.820
<v Speaker 2>a look

01:18:04.140 --> 01:18:07.020
<v Speaker 2>at it really quickly, see what's the difference.

01:18:19.495 --> 01:18:20.695
<v Speaker 2>Just taking a

01:18:20.935 --> 01:18:21.895
<v Speaker 2>quick look here.

01:18:32.000 --> 01:18:32.800
<v Speaker 2>So

01:18:34.800 --> 01:18:37.440
<v Speaker 2>it looks like you added something

01:18:37.840 --> 01:18:42.000
<v Speaker 2>to

01:18:42.625 --> 01:18:43.985
<v Speaker 1>Oh, did you turn off I p v

01:18:43.985 --> 01:18:45.105
<v Speaker 1>six masquerade?

01:18:48.225 --> 01:18:49.105
<v Speaker 1>Because you should.

01:18:51.520 --> 01:18:52.000
<v Speaker 2>IP

01:18:52.800 --> 01:18:54.800
<v Speaker 2>what'd you say? Sorry. Miss Andy, what'd you

01:18:54.800 --> 01:18:55.840
<v Speaker 2>say? The last part?

01:18:56.239 --> 01:18:57.920
<v Speaker 1>That should that

01:18:58.239 --> 01:19:00.159
<v Speaker 1>was true. Right? No.

01:19:00.800 --> 01:19:01.599
<v Speaker 1>Oh,

01:19:02.320 --> 01:19:02.880
<v Speaker 1>whoops.

01:19:05.615 --> 01:19:07.855
<v Speaker 0>Should I p v four masquerade be true?

01:19:08.335 --> 01:19:09.295
<v Speaker 1>Oh, yes.

01:19:11.615 --> 01:19:13.215
<v Speaker 0>I'll just pretend I know what those settings

01:19:13.215 --> 01:19:15.135
<v Speaker 0>are, but I have no idea.

01:19:15.855 --> 01:19:17.535
<v Speaker 2>I p v I'm pretty sure I p

01:19:17.535 --> 01:19:19.375
<v Speaker 0>v six shouldn't be disabled shouldn't be enabled

01:19:19.375 --> 01:19:21.749
<v Speaker 0>either. I don't think I put that enabled.

01:19:24.150 --> 01:19:26.629
<v Speaker 2>In this one in mine, it's

01:19:27.030 --> 01:19:29.030
<v Speaker 2>oh, your screen should let me look at

01:19:29.030 --> 01:19:29.989
<v Speaker 2>my screen.

01:19:31.510 --> 01:19:33.909
<v Speaker 2>One of one of them I p v

01:19:33.909 --> 01:19:36.230
<v Speaker 2>six is false on my

01:19:36.715 --> 01:19:38.074
<v Speaker 2>untouched,

01:19:39.435 --> 01:19:41.675
<v Speaker 2>version. Let's see. Alright. I've copied that. What

01:19:41.675 --> 01:19:43.675
<v Speaker 0>about I p v four masquerade?

01:19:43.755 --> 01:19:45.594
<v Speaker 0>Is that true or false? That is true.

01:19:45.594 --> 01:19:48.155
<v Speaker 2>And then I p v six masquerade is

01:19:48.155 --> 01:19:49.035
<v Speaker 2>true online.

01:19:52.080 --> 01:19:52.960
<v Speaker 2>And

01:19:54.880 --> 01:19:56.719
<v Speaker 2>let's see. Enable

01:19:56.720 --> 01:19:57.680
<v Speaker 2>policy

01:19:57.680 --> 01:19:59.440
<v Speaker 2>default remote.

01:20:01.600 --> 01:20:02.400
<v Speaker 2>What identity

01:20:02.720 --> 01:20:05.360
<v Speaker 2>oh, so those look good to me.

01:20:06.695 --> 01:20:09.175
<v Speaker 2>Oh, wait a minute. Disabled TLS

01:20:09.655 --> 01:20:10.455
<v Speaker 2>is

01:20:12.455 --> 01:20:14.135
<v Speaker 2>where is it? Sorry.

01:20:14.935 --> 01:20:16.455
<v Speaker 2>Oh, I typed it while you were at

01:20:16.455 --> 01:20:16.615
<v Speaker 2>it.

01:20:18.470 --> 01:20:19.430
<v Speaker 2>That is

01:20:20.150 --> 01:20:21.190
<v Speaker 2>false online.

01:20:23.510 --> 01:20:25.110
<v Speaker 0>Well, it's just Hubble stuff. I think we

01:20:25.110 --> 01:20:26.310
<v Speaker 0>can ignore the Hubble.

01:20:26.550 --> 01:20:29.030
<v Speaker 2>Okay. Everything else looks

01:20:31.670 --> 01:20:32.070
<v Speaker 0>I mean,

01:20:34.955 --> 01:20:36.395
<v Speaker 0>let's jump out of this for a second.

01:20:36.395 --> 01:20:37.914
<v Speaker 0>Right? Because Okay.

01:20:43.835 --> 01:20:45.114
<v Speaker 0>We have

01:20:45.275 --> 01:20:46.635
<v Speaker 0>two running operators.

01:20:48.140 --> 01:20:50.300
<v Speaker 0>We've got one unhealthy, which I'm assuming this

01:20:50.300 --> 01:20:51.659
<v Speaker 0>is this node.

01:20:53.180 --> 01:20:54.380
<v Speaker 0>Let's put a log.

01:21:05.995 --> 01:21:07.514
<v Speaker 0>See if we can see anything.

01:21:11.835 --> 01:21:12.475
<v Speaker 0>Too noisy.

01:21:16.010 --> 01:21:18.010
<v Speaker 0>But we could just try and

01:21:18.650 --> 01:21:20.250
<v Speaker 0>roll out restart.

01:21:28.015 --> 01:21:29.935
<v Speaker 0>You're labeled here?

01:21:31.695 --> 01:21:34.815
<v Speaker 1>I would do, d s slash Cilium. You

01:21:34.815 --> 01:21:36.495
<v Speaker 1>can tell it's due to Dave and Seth,

01:21:36.495 --> 01:21:37.695
<v Speaker 1>that's named Cilium

01:21:38.255 --> 01:21:39.455
<v Speaker 1>instead of by label.

01:21:49.040 --> 01:21:51.040
<v Speaker 0>Let's see if that helps. I have no

01:21:51.040 --> 01:21:52.080
<v Speaker 0>idea. Okay.

01:21:53.920 --> 01:21:55.600
<v Speaker 0>But we definitely need one of those silly

01:21:55.600 --> 01:21:56.640
<v Speaker 0>and pause to be running.

01:21:57.175 --> 01:21:59.494
<v Speaker 2>I mean, let's see. So

01:21:59.815 --> 01:22:01.735
<v Speaker 1>while this comes up, could you run that

01:22:01.735 --> 01:22:03.815
<v Speaker 1>for my binary? Because there was another Easter

01:22:03.815 --> 01:22:05.735
<v Speaker 1>egg in there based off how you ran

01:22:05.735 --> 01:22:05.895
<v Speaker 1>that.

01:22:12.780 --> 01:22:15.020
<v Speaker 0>It's not gonna actually do anything. Alright?

01:22:15.740 --> 01:22:16.380
<v Speaker 1>No.

01:22:20.860 --> 01:22:22.380
<v Speaker 0>Was that your Easter egg?

01:22:22.780 --> 01:22:23.500
<v Speaker 1>Yeah.

01:22:25.260 --> 01:22:26.620
<v Speaker 1>So that when you would try to look

01:22:26.620 --> 01:22:28.135
<v Speaker 1>for stuff in the cube system,

01:22:28.855 --> 01:22:30.855
<v Speaker 1>it wouldn't find it. But if you actually

01:22:30.855 --> 01:22:33.015
<v Speaker 1>take the space out of the between the

01:22:33.015 --> 01:22:34.935
<v Speaker 1>dash end argument, it will work.

01:22:35.735 --> 01:22:36.215
<v Speaker 1>Alright.

01:22:39.990 --> 01:22:41.910
<v Speaker 0>It looks like we have some work in

01:22:41.910 --> 01:22:42.710
<v Speaker 0>Cilium,

01:22:42.710 --> 01:22:45.590
<v Speaker 0>which I'm happy with. Next problem is we

01:22:45.590 --> 01:22:47.910
<v Speaker 0>got broken core DNS, which might just need

01:22:47.910 --> 01:22:48.870
<v Speaker 0>a restart.

01:22:49.990 --> 01:22:50.390
<v Speaker 2>Okay.

01:22:55.485 --> 01:22:58.364
<v Speaker 0>Wrong argument, Karen, or unexpected lane.

01:23:00.445 --> 01:23:01.164
<v Speaker 2>Thanks.

01:23:01.405 --> 01:23:02.204
<v Speaker 0>Okay.

01:23:03.645 --> 01:23:05.405
<v Speaker 0>Did you break core DNS too?

01:23:06.765 --> 01:23:07.085
<v Speaker 1>What?

01:23:08.430 --> 01:23:11.230
<v Speaker 1>Did I continue my DNS malicious activity?

01:23:11.469 --> 01:23:12.829
<v Speaker 1>I don't know. Did I?

01:23:15.070 --> 01:23:16.909
<v Speaker 0>You're still not invited back.

01:23:17.310 --> 01:23:17.949
<v Speaker 0>So

01:23:19.150 --> 01:23:19.789
<v Speaker 0>This

01:23:20.110 --> 01:23:22.110
<v Speaker 0>is our core DNS config,

01:23:23.375 --> 01:23:24.975
<v Speaker 0>which, again, I have no idea what is

01:23:24.975 --> 01:23:26.815
<v Speaker 0>actually supposed to be in here.

01:23:28.255 --> 01:23:30.575
<v Speaker 0>But I don't

01:23:30.575 --> 01:23:31.855
<v Speaker 0>see anything.

01:23:33.455 --> 01:23:34.575
<v Speaker 0>That gives me concern.

01:23:36.600 --> 01:23:37.719
<v Speaker 2>Is it

01:23:38.440 --> 01:23:39.239
<v Speaker 2>for me?

01:23:41.000 --> 01:23:42.199
<v Speaker 2>Ready? Is

01:23:45.560 --> 01:23:46.120
<v Speaker 2>that

01:23:46.760 --> 01:23:48.760
<v Speaker 2>IPE six

01:23:48.840 --> 01:23:50.600
<v Speaker 2>supposed to be doing anything? Or

01:23:54.295 --> 01:23:55.175
<v Speaker 0>I thought.

01:23:55.655 --> 01:23:57.414
<v Speaker 0>Is it I'm guessing.

01:23:57.895 --> 01:23:59.655
<v Speaker 0>I think this is okay because this is

01:23:59.655 --> 01:24:01.494
<v Speaker 0>saying Kubernetes plug in.

01:24:02.135 --> 01:24:04.614
<v Speaker 0>This is the cluster DNS name, cluster dot

01:24:04.614 --> 01:24:05.094
<v Speaker 0>local.

01:24:05.710 --> 01:24:06.510
<v Speaker 0>Mhmm.

01:24:10.829 --> 01:24:12.749
<v Speaker 0>So which mean

01:24:13.230 --> 01:24:15.710
<v Speaker 0>if he's not modified that, he's modified this.

01:24:30.215 --> 01:24:30.614
<v Speaker 2>Noise.

01:24:33.014 --> 01:24:36.215
<v Speaker 2>Think the image looks good. Yeah. It does.

01:24:37.220 --> 01:24:40.180
<v Speaker 2>Is it supposed to be UDP protocol

01:24:40.420 --> 01:24:41.620
<v Speaker 2>for one of them?

01:24:42.020 --> 01:24:44.580
<v Speaker 0>Yeah. I think that's right. Yeah. Okay. I

01:24:44.580 --> 01:24:44.740
<v Speaker 0>think

01:24:49.140 --> 01:24:52.020
<v Speaker 0>So the error message was complaining about

01:24:52.895 --> 01:24:54.255
<v Speaker 0>oh, I'm scatterbrained

01:24:54.255 --> 01:24:57.614
<v Speaker 0>today. It's complaining about the resolve.com.

01:24:58.015 --> 01:24:58.894
<v Speaker 0>But

01:25:00.175 --> 01:25:01.534
<v Speaker 0>I don't see that mounted.

01:25:03.055 --> 01:25:03.934
<v Speaker 0>I

01:25:05.935 --> 01:25:07.855
<v Speaker 1>didn't change the Kubernetes deployment.

01:25:09.030 --> 01:25:10.310
<v Speaker 0>Right. Well, why am I wasting my time

01:25:10.310 --> 01:25:10.949
<v Speaker 0>with you?

01:25:12.150 --> 01:25:13.350
<v Speaker 0>So

01:25:14.950 --> 01:25:15.510
<v Speaker 0>I

01:25:16.150 --> 01:25:17.750
<v Speaker 0>mean, it just uses the host. Right?

01:25:23.295 --> 01:25:24.094
<v Speaker 1>Does it?

01:25:24.735 --> 01:25:27.055
<v Speaker 1>Does Q just put the host in the

01:25:27.055 --> 01:25:27.775
<v Speaker 1>container?

01:25:30.495 --> 01:25:32.975
<v Speaker 2>I think it said check that the command

01:25:32.975 --> 01:25:35.295
<v Speaker 2>are pretty messy. Unless it's using the system

01:25:35.295 --> 01:25:41.535
<v Speaker 1>d resolver.

01:25:38.370 --> 01:25:40.449
<v Speaker 1>So on a bunch of 20 o four,

01:25:40.449 --> 01:25:43.010
<v Speaker 1>the system d resolver is actually an act

01:25:43.810 --> 01:25:46.050
<v Speaker 1>it's not exactly a sibling, but system d

01:25:46.050 --> 01:25:48.370
<v Speaker 1>is what writes the at c resolve d

01:25:48.370 --> 01:25:49.810
<v Speaker 1>comp. I did not change that.

01:25:52.375 --> 01:25:55.335
<v Speaker 2>So null is saying check the Kubelet config

01:25:55.335 --> 01:25:57.574
<v Speaker 2>file and see which DNS and

01:25:58.054 --> 01:26:00.375
<v Speaker 2>resolve comp file it's using?

01:26:02.870 --> 01:26:04.310
<v Speaker 0>Yep. We can do that.

01:26:05.990 --> 01:26:07.030
<v Speaker 2>Let's see.

01:26:08.470 --> 01:26:10.710
<v Speaker 0>I was using the system d resolver.

01:26:12.390 --> 01:26:13.590
<v Speaker 0>I

01:26:14.390 --> 01:26:15.750
<v Speaker 0>guess we should look in that file.

01:26:19.435 --> 01:26:21.355
<v Speaker 0>My system be Yes. It is.

01:26:22.235 --> 01:26:25.755
<v Speaker 0>The same as Same as. Special result. Yeah.

01:26:26.475 --> 01:26:27.595
<v Speaker 1>But how does the

01:26:29.675 --> 01:26:31.275
<v Speaker 1>that that's all host level settings.

01:26:32.010 --> 01:26:34.889
<v Speaker 1>How does the container have DNS?

01:26:38.409 --> 01:26:39.369
<v Speaker 0>By magic?

01:26:39.610 --> 01:26:40.489
<v Speaker 0>I don't know.

01:26:42.010 --> 01:26:42.329
<v Speaker 1>Oh.

01:26:48.275 --> 01:26:49.474
<v Speaker 2>What a oh.

01:26:49.875 --> 01:26:51.475
<v Speaker 0>I mean, can we get EsterPod?

01:26:51.475 --> 01:26:53.235
<v Speaker 0>Let's let's try that. I don't think I

01:26:53.235 --> 01:26:55.715
<v Speaker 0>think it's a, isn't it, though? Also,

01:26:56.594 --> 01:26:59.395
<v Speaker 1>I would double check the the core DNS

01:26:59.395 --> 01:27:00.275
<v Speaker 1>config map.

01:27:02.739 --> 01:27:03.539
<v Speaker 2>Okay.

01:27:03.780 --> 01:27:06.100
<v Speaker 1>I'd

01:27:06.100 --> 01:27:08.500
<v Speaker 1>compare it to another one on that forward

01:27:08.500 --> 01:27:09.300
<v Speaker 1>line.

01:27:12.580 --> 01:27:14.420
<v Speaker 0>Do you have a a healthy one there,

01:27:15.094 --> 01:27:16.614
<v Speaker 0>Rachel? Yeah.

01:27:17.015 --> 01:27:18.534
<v Speaker 2>Let me look at mine.

01:27:21.815 --> 01:27:22.775
<v Speaker 0>Kubernetes,

01:27:22.775 --> 01:27:23.815
<v Speaker 0>let's plug in.

01:27:25.094 --> 01:27:26.695
<v Speaker 0>What's your dot local?

01:27:26.695 --> 01:27:27.655
<v Speaker 0>Is that

01:27:27.960 --> 01:27:30.520
<v Speaker 0>I mean, what's this? Maybe it is that

01:27:30.520 --> 01:27:31.160
<v Speaker 0>other than

01:27:32.440 --> 01:27:33.320
<v Speaker 2>Okay.

01:27:34.520 --> 01:27:36.120
<v Speaker 2>Let me look at yours. Let's see where

01:27:36.120 --> 01:27:37.960
<v Speaker 2>we at. Okay. So

01:27:40.520 --> 01:27:41.480
<v Speaker 2>fall through

01:27:41.560 --> 01:27:43.719
<v Speaker 2>TLS. So I got

01:27:44.665 --> 01:27:45.545
<v Speaker 2>minus

01:27:45.545 --> 01:27:46.344
<v Speaker 2>core

01:27:46.745 --> 01:27:48.184
<v Speaker 2>errors lambda.

01:27:49.465 --> 01:27:50.025
<v Speaker 2>I

01:27:50.265 --> 01:27:52.025
<v Speaker 2>gotta put it side by side here.

01:27:53.785 --> 01:27:56.265
<v Speaker 0>Last time someone modified this config map, they

01:27:56.265 --> 01:27:58.985
<v Speaker 0>gave me a unique look alike new character,

01:28:14.955 --> 01:28:16.635
<v Speaker 2>yeah, that. And then

01:28:17.275 --> 01:28:18.875
<v Speaker 2>the next line, one line.

01:28:19.115 --> 01:28:21.195
<v Speaker 2>Yeah. Let me just I'll copy and paste

01:28:21.195 --> 01:28:21.835
<v Speaker 2>it here.

01:28:22.155 --> 01:28:23.114
<v Speaker 2>Well, that's

01:28:23.675 --> 01:28:26.475
<v Speaker 2>let's see. I I'd say that looks better.

01:28:27.515 --> 01:28:28.555
<v Speaker 0>But it's just We should run.

01:28:31.540 --> 01:28:34.420
<v Speaker 1>Right. So in DNS part so in DNS,

01:28:34.420 --> 01:28:37.460
<v Speaker 1>that would say send everything through the resolve

01:28:37.460 --> 01:28:38.179
<v Speaker 1>conf.

01:28:38.900 --> 01:28:41.460
<v Speaker 1>Right? Because of how the canonical naming works

01:28:41.460 --> 01:28:42.019
<v Speaker 1>from

01:28:42.340 --> 01:28:43.219
<v Speaker 1>subdomain

01:28:43.219 --> 01:28:44.739
<v Speaker 1>to TDL

01:28:44.685 --> 01:28:48.125
<v Speaker 1>to or subdomain to domain to d TDL,

01:28:48.125 --> 01:28:51.324
<v Speaker 1>the dot indicates seven is everything

01:28:51.325 --> 01:28:52.284
<v Speaker 1>through that.

01:28:53.645 --> 01:28:56.125
<v Speaker 1>But that's just how core DNS handles the

01:28:56.125 --> 01:28:58.525
<v Speaker 1>DNS request out of the cluster for forwarding

01:28:58.525 --> 01:28:59.085
<v Speaker 1>connections.

01:29:01.820 --> 01:29:04.540
<v Speaker 1>So the max connection is an extra parameter

01:29:04.540 --> 01:29:05.499
<v Speaker 1>you don't need.

01:29:06.380 --> 01:29:08.699
<v Speaker 1>I would save that. Alright. Let's save our

01:29:08.699 --> 01:29:09.340
<v Speaker 0>doc.

01:29:10.300 --> 01:29:10.780
<v Speaker 2>Okay.

01:29:13.935 --> 01:29:16.015
<v Speaker 1>Oh, I think we're both trying to save.

01:29:16.815 --> 01:29:17.455
<v Speaker 2>Oh,

01:29:17.695 --> 01:29:19.054
<v Speaker 2>I'm not touching it.

01:29:22.575 --> 01:29:24.255
<v Speaker 1>Now you could do a rollout of the

01:29:24.255 --> 01:29:24.815
<v Speaker 1>deployment.

01:29:36.410 --> 01:29:37.690
<v Speaker 1>Oh, that's so fun.

01:29:38.489 --> 01:29:40.890
<v Speaker 0>No, Russell. The unique hot break was not

01:29:40.890 --> 01:29:41.290
<v Speaker 0>awesome.

01:29:42.925 --> 01:29:44.285
<v Speaker 0>So not awesome.

01:29:46.845 --> 01:29:49.405
<v Speaker 0>That guy, actually he's from Glasgow as well.

01:29:49.405 --> 01:29:51.565
<v Speaker 0>He's like, is that really the right thing?

01:29:51.565 --> 01:29:52.765
<v Speaker 0>And I'm looking at it side by side

01:29:52.765 --> 01:29:54.845
<v Speaker 0>with a working core DNS contact and I'm

01:29:54.845 --> 01:29:55.485
<v Speaker 0>like, yeah.

01:29:56.445 --> 01:29:57.085
<v Speaker 0>Unicode.

01:29:59.940 --> 01:30:01.619
<v Speaker 0>Yay. Support DNS. That

01:30:02.500 --> 01:30:03.459
<v Speaker 2>okay.

01:30:03.699 --> 01:30:05.699
<v Speaker 2>Let's you wanna just take one more look

01:30:05.699 --> 01:30:07.059
<v Speaker 2>and see if anything works there?

01:30:11.065 --> 01:30:12.665
<v Speaker 0>No? It's trying.

01:30:18.905 --> 01:30:20.505
<v Speaker 2>Wait. Did we look at any wait. Was

01:30:20.505 --> 01:30:22.025
<v Speaker 2>there others oh, come on.

01:30:24.425 --> 01:30:26.185
<v Speaker 0>Oh, failed to connect the database.

01:30:28.060 --> 01:30:29.500
<v Speaker 0>But now our

01:30:29.580 --> 01:30:31.020
<v Speaker 0>postgres service

01:30:32.780 --> 01:30:34.620
<v Speaker 0>may have not have any endpoints?

01:30:36.700 --> 01:30:38.780
<v Speaker 1>No. You have endpoints. Maybe

01:30:39.180 --> 01:30:41.260
<v Speaker 0>we just have to roll out our cluster

01:30:41.260 --> 01:30:42.060
<v Speaker 0>deployment

01:30:42.755 --> 01:30:44.354
<v Speaker 0>to get the new Sleep.

01:30:44.514 --> 01:30:47.554
<v Speaker 0>Return. Resolve config or something. Okay.

01:30:52.915 --> 01:30:55.715
<v Speaker 2>Looks I mean, what did you let's see.

01:30:55.715 --> 01:30:56.994
<v Speaker 2>So let's

01:30:57.560 --> 01:30:58.200
<v Speaker 2>oops.

01:30:58.760 --> 01:31:00.200
<v Speaker 2>Oh, wait a minute. Is it fur it's

01:31:00.200 --> 01:31:01.160
<v Speaker 2>frozen for me?

01:31:03.720 --> 01:31:05.480
<v Speaker 2>Hold on. I think we can just do

01:31:05.480 --> 01:31:05.720
<v Speaker 0>a

01:31:07.400 --> 01:31:09.240
<v Speaker 2>Okay. No. It was just stuck. My screen

01:31:09.240 --> 01:31:10.120
<v Speaker 2>got stuck. Okay.

01:31:16.735 --> 01:31:18.014
<v Speaker 0>Come on. Give me one.

01:31:20.495 --> 01:31:22.335
<v Speaker 0>We'll just ignore that one. It's been terminating

01:31:22.335 --> 01:31:22.975
<v Speaker 0>for two days.

01:31:30.680 --> 01:31:33.480
<v Speaker 2>I still haven't seen that movie, actually.

01:31:33.880 --> 01:31:35.400
<v Speaker 0>You've not seen that? That's good.

01:31:36.280 --> 01:31:39.080
<v Speaker 2>No. No. So what what what's the error

01:31:39.160 --> 01:31:40.614
<v Speaker 1>what's the last What's the end of that

01:31:40.614 --> 01:31:43.814
<v Speaker 1>error telling you? Temperature failure and name resolution.

01:31:44.534 --> 01:31:47.014
<v Speaker 1>What controls name resolution in the container?

01:31:52.739 --> 01:31:53.939
<v Speaker 0>Thanks. So

01:31:59.699 --> 01:32:01.860
<v Speaker 1>can you go into the Docker container? Can

01:32:01.860 --> 01:32:02.980
<v Speaker 1>you exec into that pod?

01:32:06.925 --> 01:32:07.724
<v Speaker 0>Maybe.

01:32:08.525 --> 01:32:10.605
<v Speaker 1>So if you do deploy slash

01:32:10.845 --> 01:32:12.205
<v Speaker 1>yeah. You don't have to anyway.

01:32:17.340 --> 01:32:18.060
<v Speaker 0>Okay.

01:32:19.740 --> 01:32:21.900
<v Speaker 2>The vein saying net pool. What's this?

01:32:37.215 --> 01:32:38.655
<v Speaker 1>Oh, ping won't work.

01:32:39.215 --> 01:32:39.935
<v Speaker 0>Other

01:32:40.655 --> 01:32:43.055
<v Speaker 1>reasons. Yeah. Service IP. Because

01:32:43.695 --> 01:32:44.494
<v Speaker 1>right.

01:32:44.655 --> 01:32:46.975
<v Speaker 1>Which actually during this week's hackathon, we wrote

01:32:46.975 --> 01:32:48.255
<v Speaker 1>a demo set to fix that.

01:32:51.870 --> 01:32:53.710
<v Speaker 0>So do we have we don't have I

01:32:53.710 --> 01:32:54.990
<v Speaker 0>I don't wanna have to remember the name

01:32:54.990 --> 01:32:56.830
<v Speaker 0>of the package to install dig. Do we

01:32:56.830 --> 01:32:58.750
<v Speaker 0>have DNS resolution? No. No?

01:32:59.630 --> 01:33:01.550
<v Speaker 1>Well, what's the what's the IP address for

01:33:01.550 --> 01:33:02.510
<v Speaker 1>DNS in the cluster?

01:33:04.555 --> 01:33:06.155
<v Speaker 0>10096.

01:33:07.355 --> 01:33:09.835
<v Speaker 1>What's the name server that that one's using?

01:33:09.995 --> 01:33:10.875
<v Speaker 0>Yeah.

01:33:12.475 --> 01:33:14.155
<v Speaker 0>Let's just get services.

01:33:19.460 --> 01:33:22.499
<v Speaker 0>And 8 to 60. Oh, yeah. 32.

01:33:22.820 --> 01:33:25.300
<v Speaker 1>So what puts that 32 in there?

01:33:28.500 --> 01:33:30.980
<v Speaker 0>Nope. Did you not modify the deployment?

01:33:31.620 --> 01:33:32.260
<v Speaker 1>Not at all.

01:33:33.985 --> 01:33:36.225
<v Speaker 2>The daemon do we have a daemon set?

01:33:36.305 --> 01:33:37.025
<v Speaker 1>What

01:33:38.145 --> 01:33:39.985
<v Speaker 1>actually creates the container?

01:33:42.625 --> 01:33:43.665
<v Speaker 0>Container d?

01:33:45.425 --> 01:33:47.745
<v Speaker 1>And who and who provides the instructions for

01:33:47.745 --> 01:33:50.690
<v Speaker 1>that? Kubelet. Have you modified the Kubelet config

01:33:50.690 --> 01:33:52.849
<v Speaker 0>to pass it a different DNS resolver?

01:33:53.570 --> 01:33:55.409
<v Speaker 1>I don't know. Have I? Alright.

01:33:57.489 --> 01:33:58.289
<v Speaker 0>Sorry,

01:33:58.770 --> 01:34:00.050
<v Speaker 0>RJ. You could type.

01:34:00.450 --> 01:34:01.330
<v Speaker 2>Are we going to the

01:34:02.585 --> 01:34:04.985
<v Speaker 0>I have tomatoes for throwing, by the way.

01:34:04.985 --> 01:34:06.664
<v Speaker 0>I see if this wasn't virtual.

01:34:08.344 --> 01:34:09.224
<v Speaker 0>It's throwing away. The

01:34:12.585 --> 01:34:15.225
<v Speaker 1>Kubelet config is not in Etsy. Yes. And

01:34:15.225 --> 01:34:16.344
<v Speaker 0>the viral load Kubelet.

01:34:18.480 --> 01:34:19.840
<v Speaker 2>Let's see. So

01:34:21.680 --> 01:34:22.400
<v Speaker 2>yeah.

01:34:23.760 --> 01:34:24.639
<v Speaker 2>Var

01:34:25.120 --> 01:34:27.040
<v Speaker 2>what is it? Var what? Lip

01:34:27.360 --> 01:34:28.719
<v Speaker 0>slash Kuplet.

01:34:30.480 --> 01:34:31.760
<v Speaker 2>Lip or Lip? L I b.

01:34:32.725 --> 01:34:35.685
<v Speaker 2>L I b. Oh, library. Okay.

01:34:36.645 --> 01:34:38.725
<v Speaker 0>It's just my funny accent. Okay.

01:34:39.925 --> 01:34:42.565
<v Speaker 2>And then what was it at? Kubelet.

01:34:42.645 --> 01:34:44.565
<v Speaker 0>And then there should be a config dot

01:34:44.565 --> 01:34:45.045
<v Speaker 0>yaml.

01:34:52.710 --> 01:34:54.550
<v Speaker 0>That's the DNS is fine.

01:34:55.270 --> 01:34:56.870
<v Speaker 0>So he could be overriding it.

01:34:58.885 --> 01:35:00.725
<v Speaker 1>There's two other hosts in the cluster,

01:35:01.045 --> 01:35:02.725
<v Speaker 1>and the core DNS doesn't run on the

01:35:02.725 --> 01:35:04.324
<v Speaker 1>master. I

01:35:04.885 --> 01:35:06.805
<v Speaker 0>always make that mistake when I'm debugging this

01:35:06.805 --> 01:35:08.805
<v Speaker 0>and don't jump onto the workers. I get

01:35:08.805 --> 01:35:10.325
<v Speaker 0>too comfortable in a control plane.

01:35:11.740 --> 01:35:13.340
<v Speaker 2>So we get it. Alright. Do you wanna

01:35:13.340 --> 01:35:14.380
<v Speaker 0>pick one each?

01:35:15.020 --> 01:35:17.100
<v Speaker 0>I'll grab worker one, you grab worker two.

01:35:17.100 --> 01:35:18.699
<v Speaker 0>We'll check the cubic config.

01:35:19.260 --> 01:35:20.060
<v Speaker 0>Alright.

01:35:20.140 --> 01:35:22.060
<v Speaker 1>Sounds like a good idea to me.

01:35:23.020 --> 01:35:24.460
<v Speaker 2>Grab worker two.

01:35:31.095 --> 01:35:32.695
<v Speaker 0>Alright. But, hopefully,

01:35:33.335 --> 01:35:34.615
<v Speaker 0>you have better luck than I do again

01:35:34.615 --> 01:35:35.495
<v Speaker 0>onto that.

01:35:36.535 --> 01:35:37.575
<v Speaker 2>Let me see.

01:35:59.935 --> 01:36:02.094
<v Speaker 1>What? Okay. That's not expected.

01:36:02.975 --> 01:36:03.854
<v Speaker 0>Uh-huh.

01:36:05.215 --> 01:36:06.495
<v Speaker 0>And enough of your games.

01:36:15.150 --> 01:36:16.670
<v Speaker 1>Did I do something wrong?

01:36:16.989 --> 01:36:17.870
<v Speaker 1>I don't think so.

01:36:21.725 --> 01:36:24.285
<v Speaker 1>Can you try to touch a file? No.

01:36:24.285 --> 01:36:25.724
<v Speaker 0>I can't touch a file.

01:36:30.205 --> 01:36:30.605
<v Speaker 2>Oh,

01:36:34.130 --> 01:36:36.130
<v Speaker 1>okay. I don't think I did that,

01:36:37.570 --> 01:36:39.810
<v Speaker 1>which this makes us really exciting

01:36:40.130 --> 01:36:41.490
<v Speaker 1>because this is what I wanted to do

01:36:41.490 --> 01:36:42.370
<v Speaker 1>all along.

01:36:43.410 --> 01:36:45.730
<v Speaker 0>You have given me a read only root

01:36:45.730 --> 01:36:46.530
<v Speaker 0>fail system.

01:36:47.995 --> 01:36:50.475
<v Speaker 1>This happened on its own, I swear. I'm

01:36:50.475 --> 01:36:51.275
<v Speaker 1>so happy.

01:36:51.995 --> 01:36:53.755
<v Speaker 1>I was forcing this to happen, but I

01:36:53.755 --> 01:36:56.315
<v Speaker 1>recovered it every time because that broke Teleport.

01:36:56.395 --> 01:36:58.235
<v Speaker 1>But it seems like the nonsense I pulled

01:36:58.235 --> 01:36:59.835
<v Speaker 1>has actually caused a file error.

01:37:00.580 --> 01:37:01.780
<v Speaker 0>How did I change the option? So I

01:37:01.780 --> 01:37:03.460
<v Speaker 0>can't remember how to remount or rewrite. I

01:37:03.460 --> 01:37:04.900
<v Speaker 0>thought it was dash O Equals.

01:37:05.780 --> 01:37:07.460
<v Speaker 1>No. So dash o

01:37:08.180 --> 01:37:09.780
<v Speaker 1>remount comma

01:37:11.140 --> 01:37:11.780
<v Speaker 1>r w,

01:37:14.925 --> 01:37:16.364
<v Speaker 1>and then you need to

01:37:16.845 --> 01:37:19.085
<v Speaker 1>and then you need to provide the device.

01:37:23.325 --> 01:37:25.885
<v Speaker 1>So it goes device then mount point. MD

01:37:25.885 --> 01:37:28.765
<v Speaker 1>one twenty six. What are they? MD one

01:37:28.765 --> 01:37:29.245
<v Speaker 0>two six.

01:37:30.100 --> 01:37:30.740
<v Speaker 1>Yeah.

01:37:34.500 --> 01:37:36.020
<v Speaker 1>It's write protected.

01:37:37.220 --> 01:37:38.660
<v Speaker 1>I didn't do this,

01:37:39.620 --> 01:37:41.780
<v Speaker 1>but I'm so happy because this induces the

01:37:41.780 --> 01:37:43.060
<v Speaker 1>original error I wanted.

01:37:45.915 --> 01:37:47.034
<v Speaker 0>I'm getting home.

01:37:51.355 --> 01:37:53.114
<v Speaker 0>Do you know how to fix this, Andy?

01:37:55.915 --> 01:37:57.835
<v Speaker 1>Let me try something. I know we've put

01:37:57.835 --> 01:37:58.715
<v Speaker 0>in another machine.

01:37:59.580 --> 01:38:01.340
<v Speaker 0>But it would explain why I couldn't teleport

01:38:01.340 --> 01:38:02.459
<v Speaker 0>onto the session.

01:38:03.179 --> 01:38:05.739
<v Speaker 1>Right. Because teleport does that audit log, which

01:38:05.739 --> 01:38:06.540
<v Speaker 1>writes a file.

01:38:13.135 --> 01:38:15.534
<v Speaker 1>Dash t x four

01:38:16.655 --> 01:38:17.614
<v Speaker 1>label

01:38:17.614 --> 01:38:18.815
<v Speaker 1>equals root.

01:38:30.030 --> 01:38:32.350
<v Speaker 2>Hey, David. Real quickly. Worker

01:38:32.350 --> 01:38:32.909
<v Speaker 2>too.

01:38:34.110 --> 01:38:34.670
<v Speaker 2>Could

01:38:34.990 --> 01:38:37.550
<v Speaker 2>you change the cluster DNS

01:38:37.275 --> 01:38:38.874
<v Speaker 2>I guess, deleted.

01:38:40.235 --> 01:38:42.074
<v Speaker 1>You have to restart Keyblade also.

01:38:43.195 --> 01:38:43.914
<v Speaker 1>Oh,

01:38:45.275 --> 01:38:46.715
<v Speaker 2>do not see what you changed this year.

01:38:46.715 --> 01:38:48.474
<v Speaker 2>Was it '96 or '98?

01:38:48.554 --> 01:38:49.755
<v Speaker 0>'90 '6. '90 '6.

01:38:55.510 --> 01:38:56.870
<v Speaker 1>Oh, I know what to do.

01:38:57.830 --> 01:38:59.510
<v Speaker 0>Yeah. +1 096010.

01:38:59.510 --> 01:39:01.910
<v Speaker 0>That should be okay there. Okay. Okay.

01:39:03.990 --> 01:39:06.885
<v Speaker 1>On worker one, do FS check dot x

01:39:06.885 --> 01:39:07.605
<v Speaker 1>four.

01:39:11.605 --> 01:39:11.925
<v Speaker 1>Yep.

01:39:23.840 --> 01:39:26.640
<v Speaker 1>It should be the the device.

01:39:31.280 --> 01:39:32.960
<v Speaker 1>Alright. Now try to reboot.

01:39:33.600 --> 01:39:33.920
<v Speaker 1>Oh.

01:39:36.975 --> 01:39:38.494
<v Speaker 1>Yes. Yes. Yes.

01:39:44.335 --> 01:39:45.855
<v Speaker 0>K. That one's dead. But Rawkode two is

01:39:45.855 --> 01:39:47.855
<v Speaker 0>okay, so let's just get our Rawkode running

01:39:47.855 --> 01:39:48.175
<v Speaker 0>there.

01:39:49.929 --> 01:39:50.570
<v Speaker 1>Yeah.

01:39:50.730 --> 01:39:52.729
<v Speaker 1>You could quarter in that note off.

01:39:53.130 --> 01:39:54.729
<v Speaker 0>I could set up on fire.

01:39:55.290 --> 01:39:56.809
<v Speaker 0>If

01:39:59.290 --> 01:40:01.210
<v Speaker 1>you actually look at dMessage, you can see

01:40:01.210 --> 01:40:03.765
<v Speaker 1>where I forced it to mount as read

01:40:03.765 --> 01:40:05.445
<v Speaker 1>only, and then it did it on its

01:40:05.445 --> 01:40:07.605
<v Speaker 1>own a couple thousand seconds later.

01:40:09.045 --> 01:40:09.764
<v Speaker 0>Okay.

01:40:10.005 --> 01:40:13.045
<v Speaker 0>Worker one is corded. Rachel, fix the Kubla

01:40:13.045 --> 01:40:14.005
<v Speaker 0>configuration,

01:40:14.165 --> 01:40:15.844
<v Speaker 0>restarted the Kubla.

01:40:16.725 --> 01:40:17.125
<v Speaker 2>Yep.

01:40:18.850 --> 01:40:19.490
<v Speaker 2>Alright.

01:40:19.890 --> 01:40:21.810
<v Speaker 2>I think can correct.

01:40:22.130 --> 01:40:23.730
<v Speaker 0>Which means we should now be in a

01:40:23.730 --> 01:40:24.770
<v Speaker 0>position

01:40:30.695 --> 01:40:31.574
<v Speaker 2>Where

01:40:33.335 --> 01:40:35.334
<v Speaker 0>oh, that might work.

01:40:36.375 --> 01:40:38.375
<v Speaker 1>You need the pod to restart so that

01:40:38.375 --> 01:40:39.414
<v Speaker 1>it picks up.

01:40:41.735 --> 01:40:44.135
<v Speaker 1>Otherwise, Keyblade won't change the

01:40:44.454 --> 01:40:45.255
<v Speaker 1>resolve comp.

01:40:46.340 --> 01:40:46.980
<v Speaker 0>Yeah.

01:40:49.940 --> 01:40:51.380
<v Speaker 1>So if you try now because if those

01:40:51.380 --> 01:40:53.380
<v Speaker 1>are in terminating state, they're not in the

01:40:53.780 --> 01:40:54.500
<v Speaker 1>pool.

01:40:54.820 --> 01:40:57.220
<v Speaker 0>Alright. We have video one.

01:40:58.425 --> 01:41:02.425
<v Speaker 2>Okay. So Alright. Let's add our deploy. Okay.

01:41:08.905 --> 01:41:11.065
<v Speaker 2>There's only one deploy.

01:41:13.550 --> 01:41:14.750
<v Speaker 2>And

01:41:16.110 --> 01:41:17.150
<v Speaker 2>let's see.

01:41:17.790 --> 01:41:19.710
<v Speaker 0>I'm gonna need a change in career.

01:41:22.030 --> 01:41:23.950
<v Speaker 0>I think farming looks nice and simple.

01:41:26.205 --> 01:41:29.085
<v Speaker 2>It's just two. Right? David, something else in

01:41:29.085 --> 01:41:30.925
<v Speaker 2>there? Or maybe a flower arranger.

01:41:31.485 --> 01:41:32.605
<v Speaker 0>That would be quite peaceful.

01:41:44.330 --> 01:41:45.289
<v Speaker 0>Okay.

01:41:46.969 --> 01:41:48.969
<v Speaker 2>Nine seconds. Now it's over.

01:41:53.045 --> 01:41:54.965
<v Speaker 0>I think I still have the watch, but

01:41:54.965 --> 01:41:56.965
<v Speaker 0>I think that's just because my browser cache

01:41:56.965 --> 01:41:57.605
<v Speaker 0>even

01:41:59.685 --> 01:42:00.965
<v Speaker 0>though I'm telling it to do a hard

01:42:00.965 --> 01:42:01.845
<v Speaker 0>refresh.

01:42:02.485 --> 01:42:03.445
<v Speaker 0>There we go.

01:42:03.925 --> 01:42:05.125
<v Speaker 2>There we go. Is that it?

01:42:09.370 --> 01:42:10.650
<v Speaker 0>Well, that was painful.

01:42:14.810 --> 01:42:17.130
<v Speaker 1>When network stopped working, I stopped trying to,

01:42:17.130 --> 01:42:19.370
<v Speaker 1>like, write the steps to fix my cluster.

01:42:19.930 --> 01:42:20.250
<v Speaker 1>So,

01:42:21.375 --> 01:42:24.335
<v Speaker 1>yeah, that well done. I wasn't sure if

01:42:24.335 --> 01:42:26.494
<v Speaker 1>that was recoverable because what I was worried

01:42:27.055 --> 01:42:29.614
<v Speaker 1>is that when I restarted the API server,

01:42:29.615 --> 01:42:33.695
<v Speaker 1>my malicious one deleted the node from etcd.

01:42:33.695 --> 01:42:35.295
<v Speaker 1>I thought I had corrupted etcd,

01:42:36.070 --> 01:42:37.750
<v Speaker 1>which is another thing I know you hate

01:42:37.750 --> 01:42:38.630
<v Speaker 1>people doing.

01:42:38.949 --> 01:42:40.150
<v Speaker 0>Can't stand it.

01:42:41.670 --> 01:42:43.989
<v Speaker 0>Because whenever it goes to networking,

01:42:44.230 --> 01:42:44.949
<v Speaker 0>or

01:42:45.110 --> 01:42:45.909
<v Speaker 0>NCD,

01:42:46.070 --> 01:42:48.150
<v Speaker 0>like, all the tooling and experience I've got

01:42:48.150 --> 01:42:49.590
<v Speaker 0>is now useless,

01:42:49.830 --> 01:42:51.745
<v Speaker 0>and that's the challenge. But at the same

01:42:51.745 --> 01:42:54.785
<v Speaker 0>time, it's episodes like this where although it's

01:42:54.785 --> 01:42:55.985
<v Speaker 0>a bit of a challenge,

01:42:56.545 --> 01:42:58.545
<v Speaker 0>is it you learn all these new little

01:42:58.545 --> 01:43:00.385
<v Speaker 0>tools and techniques and other things. And that's

01:43:00.385 --> 01:43:01.265
<v Speaker 0>what's important.

01:43:01.905 --> 01:43:03.345
<v Speaker 0>Yeah. I mean, I don't think I'll be

01:43:03.345 --> 01:43:04.705
<v Speaker 0>having a beer with Andy anytime in the

01:43:04.705 --> 01:43:06.225
<v Speaker 0>next couple of years, but

01:43:07.480 --> 01:43:08.679
<v Speaker 0>I'm just joking. That

01:43:09.239 --> 01:43:10.840
<v Speaker 0>was that was a tough break.

01:43:11.639 --> 01:43:12.439
<v Speaker 0>But Yeah.

01:43:13.560 --> 01:43:15.560
<v Speaker 0>You made us work for that one. Thank

01:43:15.560 --> 01:43:17.239
<v Speaker 0>you. Thanks,

01:43:17.239 --> 01:43:18.599
<v Speaker 2>Andy. I learned a lot. That was cool.

01:43:19.864 --> 01:43:21.864
<v Speaker 2>I might have to physically break your cluster

01:43:21.864 --> 01:43:23.785
<v Speaker 2>next time I see you in person. I'm

01:43:23.785 --> 01:43:25.864
<v Speaker 2>just gonna put the hammer, like but

01:43:26.824 --> 01:43:28.985
<v Speaker 2>it was cool. Learned a lot on that

01:43:28.985 --> 01:43:32.185
<v Speaker 2>one. Yeah. Yeah. No. Your break I think

01:43:32.185 --> 01:43:32.745
<v Speaker 1>a lot of people

01:43:33.480 --> 01:43:35.240
<v Speaker 1>like myself look at the old episode and

01:43:35.240 --> 01:43:37.480
<v Speaker 1>go, oh, how can I be more creative?

01:43:37.880 --> 01:43:39.560
<v Speaker 1>And I like the simplicity in yours because

01:43:39.560 --> 01:43:41.160
<v Speaker 1>it's like, how well do you know your

01:43:41.160 --> 01:43:43.240
<v Speaker 1>Kubernetes? Can you just go through,

01:43:43.720 --> 01:43:46.760
<v Speaker 1>like, the from pod creation to service creation

01:43:46.760 --> 01:43:47.880
<v Speaker 1>to ingress creation?

01:43:48.685 --> 01:43:50.445
<v Speaker 1>Make sure it's all wired up because it's

01:43:50.445 --> 01:43:52.284
<v Speaker 1>a lot as like you said, it's a

01:43:52.284 --> 01:43:53.804
<v Speaker 1>lot of things developers that I work with

01:43:53.804 --> 01:43:55.804
<v Speaker 1>internally need help with just because, like, there

01:43:55.804 --> 01:43:59.005
<v Speaker 1>are moving parts and Kubernetes forces you into

01:43:59.005 --> 01:44:01.405
<v Speaker 1>a certain deployment model. And so if you

01:44:01.405 --> 01:44:03.700
<v Speaker 1>don't remember what that deployment model is, it's

01:44:03.700 --> 01:44:04.980
<v Speaker 1>really easy to

01:44:06.260 --> 01:44:07.940
<v Speaker 1>forget it. So I think I just have

01:44:07.940 --> 01:44:09.940
<v Speaker 1>lots of experience kind of going through those

01:44:10.740 --> 01:44:11.540
<v Speaker 1>primitives.

01:44:12.180 --> 01:44:14.340
<v Speaker 2>Yeah. I think it's two breaks from different

01:44:14.340 --> 01:44:16.740
<v Speaker 2>perspectives. Mine was a developer break. Yours is

01:44:16.740 --> 01:44:18.355
<v Speaker 2>more like on the platform

01:44:18.355 --> 01:44:19.155
<v Speaker 2>engineer

01:44:19.155 --> 01:44:20.195
<v Speaker 2>break.

01:44:20.195 --> 01:44:22.755
<v Speaker 2>So we got, like, breaks on both from

01:44:22.755 --> 01:44:23.955
<v Speaker 2>both perspectives.

01:44:24.195 --> 01:44:24.755
<v Speaker 2>Yeah.

01:44:25.555 --> 01:44:28.115
<v Speaker 0>Very well done, both of you. It was

01:44:28.115 --> 01:44:30.435
<v Speaker 0>a absolute pleasure working through these clusters. So

01:44:30.435 --> 01:44:32.400
<v Speaker 0>thank you for taking time, And if you're

01:44:32.400 --> 01:44:35.040
<v Speaker 0>weak for breaking them, joining me and sharing

01:44:35.040 --> 01:44:35.840
<v Speaker 0>your knowledge.

01:44:36.320 --> 01:44:38.240
<v Speaker 0>I also wanna thank Teleport for sponsoring the

01:44:38.240 --> 01:44:40.640
<v Speaker 0>show. Please check out Rawkode.liveteleport

01:44:40.640 --> 01:44:41.840
<v Speaker 0>to support the show.

01:44:42.400 --> 01:44:44.400
<v Speaker 0>I am gonna go and lie down for

01:44:44.400 --> 01:44:45.680
<v Speaker 0>a bit, but again,

01:44:46.595 --> 01:44:48.435
<v Speaker 0>thank you, everyone. Thank you for watching. The

01:44:48.435 --> 01:44:50.195
<v Speaker 0>cluster will be back next week. Have a

01:44:50.195 --> 01:44:51.635
<v Speaker 0>wonderful weekend. Bye.
