WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: cda085d3-5ee1-45d7-9da0-f993a727f1c4
Created: 2025-04-29T16:14:10.393Z
Duration: 5964.6094
Channels: 1

00:00:58.870 --> 00:01:00.870
<v Speaker 0>You know, I keep forgetting that I've left

00:01:00.870 --> 00:01:02.150
<v Speaker 0>my face in the middle of that last

00:01:02.150 --> 00:01:03.350
<v Speaker 0>scene and I never know what to do

00:01:03.350 --> 00:01:05.269
<v Speaker 0>for like that whole twenty five seconds.

00:01:05.590 --> 00:01:07.830
<v Speaker 0>So maybe not have that next time. Let's

00:01:07.830 --> 00:01:10.070
<v Speaker 0>see. Welcome back to the Rawkode Academy.

00:01:10.835 --> 00:01:12.915
<v Speaker 0>This is everybody's favorite day of the week.

00:01:12.915 --> 00:01:15.395
<v Speaker 0>This is Thursday, which means it is clustered

00:01:15.395 --> 00:01:16.035
<v Speaker 0>day.

00:01:16.275 --> 00:01:18.115
<v Speaker 0>We had no episode last week because I

00:01:18.115 --> 00:01:20.755
<v Speaker 0>was at DevOps Days in

00:01:21.635 --> 00:01:24.299
<v Speaker 0>The UK, but we're back this week and

00:01:24.299 --> 00:01:26.380
<v Speaker 0>then hopefully I get to see some of

00:01:26.380 --> 00:01:28.700
<v Speaker 0>you all live and in person

00:01:28.700 --> 00:01:31.259
<v Speaker 0>at KubeCon and Valencia next week.

00:01:31.979 --> 00:01:33.740
<v Speaker 0>Before we get started today, we have a

00:01:33.740 --> 00:01:35.500
<v Speaker 0>little bit of housekeeping.

00:01:36.825 --> 00:01:39.545
<v Speaker 0>First, it's my pleasure to thank Teleport. They

00:01:39.545 --> 00:01:41.625
<v Speaker 0>have been sponsoring a Clustered for a while

00:01:41.625 --> 00:01:43.625
<v Speaker 0>now, and we have been using Teleport

00:01:43.625 --> 00:01:46.265
<v Speaker 0>since the second episode of Clustered, and I

00:01:46.265 --> 00:01:48.185
<v Speaker 0>am continually impressed and amazed

00:01:48.740 --> 00:01:51.460
<v Speaker 0>at its wonderfulness. We are able to pair

00:01:51.460 --> 00:01:52.820
<v Speaker 0>on Kubernetes

00:01:52.820 --> 00:01:56.500
<v Speaker 0>clusters, applications, databases, and Linux systems to fix

00:01:56.500 --> 00:01:59.300
<v Speaker 0>all the broken things, which is coincidental considering

00:01:59.300 --> 00:02:00.820
<v Speaker 0>we're trying to fix all the broken things

00:02:00.820 --> 00:02:01.380
<v Speaker 0>on Azure.

00:02:01.975 --> 00:02:04.534
<v Speaker 0>So go to rockload.liveteleport

00:02:04.534 --> 00:02:06.615
<v Speaker 0>to support this show. It keeps sponsors happy

00:02:06.615 --> 00:02:08.854
<v Speaker 0>and it keeps us doing these episodes. So

00:02:08.854 --> 00:02:09.975
<v Speaker 0>thank you very much

00:02:10.294 --> 00:02:11.095
<v Speaker 0>Teleport.

00:02:12.135 --> 00:02:14.615
<v Speaker 0>I also want to thank Equinix Medal.

00:02:16.215 --> 00:02:18.540
<v Speaker 0>They have graciously provided all of the hardware

00:02:18.540 --> 00:02:20.780
<v Speaker 0>that we use for clustered for nearly eighteen

00:02:20.939 --> 00:02:22.540
<v Speaker 0>over eighteen months now.

00:02:22.780 --> 00:02:25.180
<v Speaker 0>There's been hundreds and hundreds of bare metal

00:02:25.180 --> 00:02:27.740
<v Speaker 0>machines and bare metal Kubernetes clusters.

00:02:27.819 --> 00:02:29.974
<v Speaker 0>So thank you to Equinix Metal. I could

00:02:29.974 --> 00:02:32.215
<v Speaker 0>use small virtual machines with a few cores

00:02:32.215 --> 00:02:33.974
<v Speaker 0>and a few gig of RAM, but I

00:02:33.974 --> 00:02:37.015
<v Speaker 0>don't. I use 48 core machines with 64

00:02:37.015 --> 00:02:39.015
<v Speaker 0>gig plus on each node.

00:02:39.254 --> 00:02:40.935
<v Speaker 0>Why? Well, it makes it a little bit

00:02:40.935 --> 00:02:41.334
<v Speaker 0>more fun.

00:02:42.300 --> 00:02:44.460
<v Speaker 0>So I wanna say thank you Equinix Medal.

00:02:44.460 --> 00:02:46.940
<v Speaker 0>You can actually use the code Rawkode. I'm

00:02:46.940 --> 00:02:48.940
<v Speaker 0>gonna pop that back up. Equinix Medal, can

00:02:48.940 --> 00:02:49.980
<v Speaker 0>have an extra second.

00:02:50.540 --> 00:02:52.220
<v Speaker 0>Use the code Rawkode because that will get

00:02:52.220 --> 00:02:53.340
<v Speaker 0>you $200.

00:02:53.340 --> 00:02:55.735
<v Speaker 0>So you can go to console.equinix.com,

00:02:55.735 --> 00:02:56.935
<v Speaker 0>use that code, and it means you can

00:02:56.935 --> 00:02:58.135
<v Speaker 0>spin up clusters for up to, like, a

00:02:58.135 --> 00:03:00.135
<v Speaker 0>hundred hours. And also support the show and

00:03:00.135 --> 00:03:02.614
<v Speaker 0>keep the sponsors happy by going to Rawkode.live/metal

00:03:02.614 --> 00:03:03.735
<v Speaker 0>to learn more.

00:03:04.614 --> 00:03:06.775
<v Speaker 0>Alright. Sponsor message is done. It's now time

00:03:06.775 --> 00:03:09.415
<v Speaker 0>to invite today's victims. I mean, wonderful guests.

00:03:10.690 --> 00:03:12.050
<v Speaker 0>Oh, we've lost one.

00:03:13.730 --> 00:03:15.570
<v Speaker 1>Oh, no. He's gone. Oh, he's back. There

00:03:15.570 --> 00:03:16.770
<v Speaker 0>we go. There we go.

00:03:17.730 --> 00:03:19.970
<v Speaker 0>Alright. Two wonderful guests today. I'm joined by

00:03:19.970 --> 00:03:22.210
<v Speaker 0>John and Marino. Can you both please wave

00:03:22.210 --> 00:03:22.930
<v Speaker 0>and say hello?

00:03:24.995 --> 00:03:26.035
<v Speaker 2>Hey, everyone.

00:03:26.995 --> 00:03:28.275
<v Speaker 0>Alright. Let's start with some quick

00:03:29.395 --> 00:03:31.795
<v Speaker 0>we go. Let's start with some quick interruptions.

00:03:31.795 --> 00:03:32.835
<v Speaker 0>We'll start with you, but you know, and

00:03:32.835 --> 00:03:34.515
<v Speaker 0>then we'll move over. So tell us a

00:03:34.515 --> 00:03:36.675
<v Speaker 0>little bit about yourself, please. Yeah. For sure.

00:03:36.675 --> 00:03:38.275
<v Speaker 2>Hey, everyone. My name is Marina Widje.

00:03:38.760 --> 00:03:40.520
<v Speaker 2>I am a Canadian. I am a father,

00:03:40.520 --> 00:03:42.440
<v Speaker 2>husband. I work for solo as a developer

00:03:42.440 --> 00:03:43.240
<v Speaker 2>advocate,

00:03:43.480 --> 00:03:45.800
<v Speaker 2>and I love all things networking even though

00:03:45.800 --> 00:03:47.560
<v Speaker 2>I haven't touched a switcher or router in

00:03:47.560 --> 00:03:49.080
<v Speaker 2>probably several years now.

00:03:49.480 --> 00:03:51.720
<v Speaker 2>I I work in the service mesh space

00:03:51.720 --> 00:03:52.885
<v Speaker 2>and Kubernetes,

00:03:52.885 --> 00:03:55.285
<v Speaker 2>so there's a very interesting intersection there where

00:03:55.285 --> 00:03:56.885
<v Speaker 2>networking comes into play.

00:03:57.605 --> 00:04:00.325
<v Speaker 2>I am excited for today's clustered session even

00:04:00.325 --> 00:04:02.325
<v Speaker 2>though I'm probably not sure if I'll make

00:04:02.325 --> 00:04:04.085
<v Speaker 2>it out of here, but, looking forward to

00:04:04.085 --> 00:04:04.805
<v Speaker 2>the session.

00:04:05.765 --> 00:04:06.885
<v Speaker 0>Alright. Thanks for sharing.

00:04:07.910 --> 00:04:10.870
<v Speaker 1>Yeah. And I'm John Anderson. I'm a SRE

00:04:10.870 --> 00:04:13.670
<v Speaker 1>at Zapier. I'm based out of Puerto Rico.

00:04:14.630 --> 00:04:16.790
<v Speaker 1>Clearly by my face, I'm not traditionally from

00:04:16.790 --> 00:04:18.950
<v Speaker 1>there, but it's a great place to work

00:04:18.950 --> 00:04:21.110
<v Speaker 1>on Kubernetes clusters. I live up in the

00:04:21.110 --> 00:04:21.830
<v Speaker 1>jungle.

00:04:22.150 --> 00:04:23.110
<v Speaker 1>So it's a good time.

00:04:23.955 --> 00:04:26.435
<v Speaker 1>Yeah. And so I'm excited. I walked looked

00:04:26.435 --> 00:04:29.395
<v Speaker 1>up Marino on LinkedIn and realized he is

00:04:29.395 --> 00:04:31.875
<v Speaker 1>gonna be a formidable opponent, and so I'm

00:04:31.875 --> 00:04:33.475
<v Speaker 1>kinda scared right now.

00:04:36.035 --> 00:04:36.755
<v Speaker 0>Alright. Awesome.

00:04:40.850 --> 00:04:43.330
<v Speaker 0>Alright. Well, thanks for that. And and a

00:04:43.330 --> 00:04:45.169
<v Speaker 0>quick question before we dive into fixing some

00:04:45.169 --> 00:04:47.090
<v Speaker 0>custard. Are you both gonna be in Cape

00:04:47.090 --> 00:04:48.130
<v Speaker 0>Cod Valencia next week?

00:04:50.865 --> 00:04:52.625
<v Speaker 2>I am. I will be there. I'm actually

00:04:52.625 --> 00:04:53.665
<v Speaker 2>leaving tomorrow

00:04:53.825 --> 00:04:55.905
<v Speaker 2>evening catching up, like, because I've got a

00:04:55.905 --> 00:04:59.905
<v Speaker 2>conference on Sunday, Cloud Native Rejects. Nice. Doing

00:04:59.985 --> 00:05:01.025
<v Speaker 2>a session there,

00:05:01.265 --> 00:05:03.905
<v Speaker 2>and then I'll be hanging until KubeCon starts.

00:05:03.905 --> 00:05:04.465
<v Speaker 2>So

00:05:05.440 --> 00:05:07.360
<v Speaker 2>Awesome. Yeah.

00:05:07.360 --> 00:05:09.680
<v Speaker 1>I won't be there, unfortunately. I wanted to,

00:05:09.920 --> 00:05:11.840
<v Speaker 1>but I'm in San Diego this week. And

00:05:11.840 --> 00:05:13.440
<v Speaker 1>so I was just like told my wife.

00:05:13.440 --> 00:05:14.880
<v Speaker 1>I'm like, hey. I'll go to San Diego,

00:05:14.880 --> 00:05:16.240
<v Speaker 1>then I'll go to Valencia, then I'll be

00:05:16.240 --> 00:05:19.120
<v Speaker 1>home. And she's like, gotta pick. You you're

00:05:19.120 --> 00:05:19.840
<v Speaker 1>not doing both.

00:05:22.615 --> 00:05:23.815
<v Speaker 0>Alright. Awesome.

00:05:23.975 --> 00:05:25.735
<v Speaker 0>Well, let's get this thing

00:05:26.294 --> 00:05:27.095
<v Speaker 0>started.

00:05:27.095 --> 00:05:29.255
<v Speaker 0>First up, we have

00:05:29.815 --> 00:05:31.495
<v Speaker 0>Marino. You ready?

00:05:32.294 --> 00:05:35.095
<v Speaker 2>I'm ready. I'm ready. Alright. Let me go

00:05:35.659 --> 00:05:38.460
<v Speaker 2>find the active session there. Alright. So I'm

00:05:38.460 --> 00:05:41.740
<v Speaker 0>gonna pop open a session on SonTek control

00:05:41.740 --> 00:05:42.780
<v Speaker 0>plane one.

00:05:44.219 --> 00:05:47.259
<v Speaker 0>I'm using Teleport Connect today, their new desktop

00:05:47.259 --> 00:05:49.580
<v Speaker 0>client for Teleport. Let's see how we're going

00:05:49.580 --> 00:05:50.060
<v Speaker 0>with this.

00:05:51.175 --> 00:05:53.095
<v Speaker 0>We have a session open, but, you know,

00:05:53.095 --> 00:05:54.134
<v Speaker 0>you should be able to see that and

00:05:54.134 --> 00:05:55.895
<v Speaker 0>join. And if you could just type echo

00:05:55.895 --> 00:05:57.335
<v Speaker 0>hello or anything like that to let me

00:05:57.335 --> 00:05:58.535
<v Speaker 0>know that you are there.

00:05:58.935 --> 00:05:59.975
<v Speaker 1>Alright.

00:06:00.695 --> 00:06:01.175
<v Speaker 0>Perfect.

00:06:02.070 --> 00:06:04.710
<v Speaker 0>Alright. So you have just over forty minutes.

00:06:04.710 --> 00:06:06.710
<v Speaker 0>You have to export your Kube configs to

00:06:06.710 --> 00:06:08.790
<v Speaker 0>any aliases, and best of luck.

00:06:09.270 --> 00:06:10.870
<v Speaker 2>Alright. Thank you very much.

00:06:12.070 --> 00:06:14.390
<v Speaker 2>Let's go ahead and export Kube config.

00:06:16.455 --> 00:06:18.695
<v Speaker 2>And I I gotta remember this command now

00:06:18.695 --> 00:06:20.535
<v Speaker 2>because I don't remember all these commands at

00:06:20.535 --> 00:06:22.775
<v Speaker 2>all times. I I will be honest. I

00:06:22.775 --> 00:06:23.735
<v Speaker 2>don't practice

00:06:23.895 --> 00:06:24.854
<v Speaker 2>Kubernetes

00:06:24.854 --> 00:06:25.655
<v Speaker 2>daily

00:06:25.815 --> 00:06:29.175
<v Speaker 2>or on the regular only because

00:06:28.300 --> 00:06:29.740
<v Speaker 2>I have so many other things I gotta

00:06:29.740 --> 00:06:30.540
<v Speaker 2>worry about.

00:06:31.580 --> 00:06:32.140
<v Speaker 2>But

00:06:32.540 --> 00:06:34.380
<v Speaker 2>that's not the URL.

00:06:36.300 --> 00:06:37.900
<v Speaker 2>I'm, like, trying to copy and paste, and

00:06:37.900 --> 00:06:39.180
<v Speaker 2>it's, like, so undecided.

00:06:39.500 --> 00:06:42.780
<v Speaker 0>/etc/Kubernetes/admin.com.

00:06:42.780 --> 00:06:46.795
<v Speaker 0>There we go. Alright. So let's see. Kubectl

00:06:46.795 --> 00:06:47.675
<v Speaker 2>config

00:06:47.675 --> 00:06:49.835
<v Speaker 2>view. Let's see what's going on there.

00:06:50.635 --> 00:06:51.515
<v Speaker 2>Okay.

00:06:51.515 --> 00:06:53.755
<v Speaker 2>So it looks like my cluster is

00:06:54.875 --> 00:06:57.195
<v Speaker 2>nothing's messing or messed around here, so let's

00:06:57.195 --> 00:06:58.955
<v Speaker 2>just see. Kubectl get nodes.

00:06:59.810 --> 00:07:02.610
<v Speaker 2>Okay. Okay. Things are looking good.

00:07:02.690 --> 00:07:05.170
<v Speaker 2>Let's just double check some other things. Okay.

00:07:06.530 --> 00:07:09.250
<v Speaker 2>Things are looking good. Let's see. Get

00:07:10.450 --> 00:07:10.850
<v Speaker 2>all

00:07:11.330 --> 00:07:13.090
<v Speaker 0>I'm trying to resize the window when it

00:07:13.090 --> 00:07:13.890
<v Speaker 0>was good and painful.

00:07:16.965 --> 00:07:19.125
<v Speaker 2>Container status unknown.

00:07:19.525 --> 00:07:20.885
<v Speaker 2>Okay.

00:07:21.365 --> 00:07:22.245
<v Speaker 0>Okay.

00:07:22.245 --> 00:07:22.405
<v Speaker 0>Interesting.

00:07:27.420 --> 00:07:29.260
<v Speaker 2>Alright. So what what I wanna do is

00:07:29.260 --> 00:07:31.340
<v Speaker 2>I'm actually gonna describe the container because I

00:07:31.340 --> 00:07:32.780
<v Speaker 2>just wanna know what the heck's going on

00:07:32.780 --> 00:07:34.060
<v Speaker 2>with the pod I should really take. So

00:07:34.060 --> 00:07:35.100
<v Speaker 2>let's just see

00:07:35.420 --> 00:07:37.740
<v Speaker 2>a pod that's actually not doing well.

00:07:39.260 --> 00:07:40.460
<v Speaker 2>Let's try that.

00:07:41.145 --> 00:07:43.544
<v Speaker 0>Container state is unknown. It's not an error

00:07:43.544 --> 00:07:45.625
<v Speaker 0>message we see often on clustered.

00:07:46.425 --> 00:07:48.264
<v Speaker 2>Yeah. I it's not one that I've actually

00:07:48.264 --> 00:07:49.625
<v Speaker 2>ever encountered before,

00:07:50.905 --> 00:07:52.585
<v Speaker 2>so it's, rather fascinating.

00:07:56.639 --> 00:07:58.800
<v Speaker 2>The container could not be located

00:07:58.960 --> 00:08:01.280
<v Speaker 2>when the pod was deleted. The container used

00:08:01.280 --> 00:08:02.320
<v Speaker 2>to be running.

00:08:04.639 --> 00:08:06.175
<v Speaker 2>Interesting. Okay.

00:08:06.815 --> 00:08:07.775
<v Speaker 2>Container

00:08:07.775 --> 00:08:10.575
<v Speaker 2>was low on resource, ephemeral storage.

00:08:14.735 --> 00:08:16.095
<v Speaker 2>Here. Let's find something else.

00:08:23.430 --> 00:08:25.350
<v Speaker 2>Oh, interesting. Okay.

00:08:28.229 --> 00:08:30.150
<v Speaker 2>Let's take a look at the deployment

00:08:30.629 --> 00:08:31.430
<v Speaker 2>deployment

00:08:31.430 --> 00:08:33.029
<v Speaker 2>and see what's going on there.

00:08:33.965 --> 00:08:34.685
<v Speaker 2>K.

00:08:36.525 --> 00:08:37.565
<v Speaker 2>Deployed

00:08:37.565 --> 00:08:39.325
<v Speaker 2>clustered.

00:08:40.285 --> 00:08:41.805
<v Speaker 2>And what I'm gonna do is I'm just

00:08:41.805 --> 00:08:43.165
<v Speaker 2>gonna output this to YAML and see if

00:08:43.165 --> 00:08:44.445
<v Speaker 2>there's anything wrong with the actual

00:08:49.000 --> 00:08:49.800
<v Speaker 2>image.

00:08:52.680 --> 00:08:53.320
<v Speaker 0>If

00:08:53.880 --> 00:08:55.960
<v Speaker 0>you pipe it through less or more, it

00:08:55.960 --> 00:08:57.800
<v Speaker 0>just means we can follow along with your

00:08:57.800 --> 00:08:58.200
<v Speaker 0>eyes.

00:09:04.955 --> 00:09:05.995
<v Speaker 2>Like this.

00:09:10.715 --> 00:09:11.355
<v Speaker 0>Perfect.

00:09:17.730 --> 00:09:19.330
<v Speaker 2>So

00:09:20.050 --> 00:09:22.370
<v Speaker 2>I gotta remember for a second. Is the

00:09:22.370 --> 00:09:25.490
<v Speaker 2>Google Cloud registry GCR or GHCR?

00:09:26.450 --> 00:09:29.490
<v Speaker 0>The Google Cloud registry is GCR. However, I

00:09:29.490 --> 00:09:31.865
<v Speaker 0>use the GitHub container registry for clusters. Oh,

00:09:31.865 --> 00:09:33.785
<v Speaker 0>okay. G h c r. Yeah.

00:09:34.265 --> 00:09:36.745
<v Speaker 2>Okay. Let's see if there's anything else here.

00:09:36.825 --> 00:09:37.225
<v Speaker 2>Okay.

00:09:54.100 --> 00:09:56.180
<v Speaker 2>Let's see something else here.

00:09:59.654 --> 00:10:01.975
<v Speaker 0>There's no metrics ever deployed to these customers.

00:10:01.975 --> 00:10:03.415
<v Speaker 0>That's a good idea, though. I should deploy

00:10:03.415 --> 00:10:05.015
<v Speaker 0>a metrics server to these customers.

00:10:05.574 --> 00:10:07.255
<v Speaker 0>And there was an interest in error message

00:10:07.255 --> 00:10:10.134
<v Speaker 0>and your describe pod, which I think you

00:10:10.134 --> 00:10:11.975
<v Speaker 0>may have missed that. Maybe encourage you to

00:10:11.975 --> 00:10:12.615
<v Speaker 0>look there again.

00:10:15.510 --> 00:10:17.750
<v Speaker 0>Not that the the pod. Yeah.

00:10:21.670 --> 00:10:22.550
<v Speaker 1>Alright. Darn it.

00:10:31.654 --> 00:10:32.935
<v Speaker 0>Yeah. That's fine.

00:10:33.975 --> 00:10:36.935
<v Speaker 2>Alright. Projected volume, multiple sources.

00:10:37.975 --> 00:10:40.214
<v Speaker 2>The container could not be located when the

00:10:40.214 --> 00:10:41.975
<v Speaker 2>pod was deleted. Was that the area you're

00:10:41.975 --> 00:10:44.055
<v Speaker 2>talking about or something? Or the node was

00:10:44.055 --> 00:10:45.975
<v Speaker 2>low on resources, ephemeral storage.

00:10:46.300 --> 00:10:47.260
<v Speaker 0>Yeah. That

00:10:47.580 --> 00:10:49.820
<v Speaker 0>that eviction with the message

00:10:51.020 --> 00:10:52.780
<v Speaker 0>had some information there.

00:10:53.180 --> 00:10:55.500
<v Speaker 2>Okay. So something to do with the

00:10:56.060 --> 00:10:58.460
<v Speaker 2>maybe a PVC or something like that. Well,

00:10:58.460 --> 00:10:59.660
<v Speaker 0>read the rest of that line.

00:11:03.464 --> 00:11:05.945
<v Speaker 2>Which exceeds its request of zero

00:11:07.145 --> 00:11:08.584
<v Speaker 2>using 24

00:11:08.584 --> 00:11:11.785
<v Speaker 2>kilo or is it kilobytes or kilobits? I

00:11:11.785 --> 00:11:13.225
<v Speaker 2>can't remember. That is

00:11:14.600 --> 00:11:16.920
<v Speaker 2>K. Kibibytes. That's just a small yeah. The

00:11:16.920 --> 00:11:18.920
<v Speaker 0>I. SI standards.

00:11:20.120 --> 00:11:21.880
<v Speaker 0>Otherwise, I think anyone really cares and just

00:11:21.880 --> 00:11:24.440
<v Speaker 0>calls the kilobytes anyway, but I I get

00:11:24.440 --> 00:11:26.920
<v Speaker 0>semantic over it. Or maybe pedantic is the

00:11:26.920 --> 00:11:27.800
<v Speaker 0>correct word. I'm not sure.

00:11:28.535 --> 00:11:31.255
<v Speaker 2>Maybe maybe there's something in the deployment,

00:11:31.255 --> 00:11:33.335
<v Speaker 2>yeah, that limits how much

00:11:34.295 --> 00:11:36.295
<v Speaker 2>storage I can offer.

00:11:40.055 --> 00:11:41.655
<v Speaker 2>What volume is it referring to?

00:11:56.050 --> 00:11:56.850
<v Speaker 2>This is fun.

00:11:57.735 --> 00:11:59.735
<v Speaker 1>I would read that error that's right at

00:11:59.735 --> 00:12:01.815
<v Speaker 1>the bottom of the screen. Yeah.

00:12:02.695 --> 00:12:06.375
<v Speaker 2>Internal error occurred. Failed calling webhook. Validate Kiverno.

00:12:09.810 --> 00:12:13.250
<v Speaker 2>Connection refused. Oh my gosh. Okay. Did y'all,

00:12:13.250 --> 00:12:15.010
<v Speaker 2>like, throw a network policy or something in

00:12:15.010 --> 00:12:15.570
<v Speaker 2>here?

00:12:19.490 --> 00:12:20.530
<v Speaker 1>Can I

00:12:21.730 --> 00:12:24.635
<v Speaker 2>get on my Press q two? Quite the

00:12:24.635 --> 00:12:25.274
<v Speaker 0>pager.

00:12:30.235 --> 00:12:31.355
<v Speaker 0>Just take q?

00:12:32.074 --> 00:12:33.435
<v Speaker 2>Yeah. I am.

00:12:34.635 --> 00:12:36.475
<v Speaker 2>I'm not taking There we go. Okay. I'll

00:12:36.475 --> 00:12:38.315
<v Speaker 0>I'll just do the the q type in.

00:12:38.315 --> 00:12:40.110
<v Speaker 0>That must be some sort of really weird

00:12:40.110 --> 00:12:43.310
<v Speaker 0>bug. Unless you have, like, the Chromium Vimeo

00:12:43.310 --> 00:12:44.750
<v Speaker 0>extension enabled?

00:12:45.790 --> 00:12:48.270
<v Speaker 2>No. I don't. Alright. Alright. Alright. We'll see.

00:12:48.270 --> 00:12:48.750
<v Speaker 0>Alright.

00:12:50.350 --> 00:12:52.430
<v Speaker 2>So something in that error

00:12:53.274 --> 00:12:55.274
<v Speaker 2>something in that configuration that was an error

00:12:55.274 --> 00:12:55.835
<v Speaker 2>here.

00:12:56.395 --> 00:12:58.555
<v Speaker 2>Alright. Hiberno. What does that what does Hiberno

00:12:58.555 --> 00:12:59.595
<v Speaker 2>have to do with this?

00:13:00.154 --> 00:13:02.235
<v Speaker 0>Did your cluster have Hiberno on it?

00:13:03.115 --> 00:13:05.115
<v Speaker 2>I don't recall. I don't think so.

00:13:05.879 --> 00:13:07.399
<v Speaker 0>Yeah. I think John's been a bit naughty

00:13:07.399 --> 00:13:08.279
<v Speaker 0>with that one.

00:13:09.480 --> 00:13:11.240
<v Speaker 2>I don't know. It's a deal.

00:13:12.759 --> 00:13:15.959
<v Speaker 2>Get all dash and Kyberno. Because I wanna

00:13:16.120 --> 00:13:17.079
<v Speaker 2>I need to see what the heck's going

00:13:17.079 --> 00:13:18.920
<v Speaker 2>on in this little namespace.

00:13:19.560 --> 00:13:20.199
<v Speaker 2>Pleaded

00:13:20.605 --> 00:13:21.325
<v Speaker 2>service

00:13:21.965 --> 00:13:22.845
<v Speaker 2>deployment.

00:13:23.325 --> 00:13:25.005
<v Speaker 0>Have you used Kiverno before?

00:13:25.725 --> 00:13:28.445
<v Speaker 2>No. I haven't. So I unless, like, this

00:13:28.445 --> 00:13:29.725
<v Speaker 2>is depend well,

00:13:29.965 --> 00:13:32.045
<v Speaker 2>question, you didn't deploy it into our original

00:13:32.045 --> 00:13:33.325
<v Speaker 2>clusters. Right? Because I don't have to call

00:13:33.325 --> 00:13:35.480
<v Speaker 2>everything. That is correct. This is not part

00:13:35.480 --> 00:13:38.200
<v Speaker 0>of the cluster deployment. Caverno is a policy

00:13:38.200 --> 00:13:42.040
<v Speaker 0>tool that creates validating and mutating admission controllers.

00:13:43.320 --> 00:13:45.160
<v Speaker 2>So if I go ahead and kill this,

00:13:45.160 --> 00:13:45.720
<v Speaker 2>then, basically,

00:13:46.995 --> 00:13:48.515
<v Speaker 2>I should not have to worry about my

00:13:48.515 --> 00:13:50.915
<v Speaker 2>admission issues or anything. Right? Well, I would

00:13:50.915 --> 00:13:53.315
<v Speaker 0>check for validate and mutate admission controllers first.

00:13:53.315 --> 00:13:55.235
<v Speaker 0>Because even if you remove the Caverno install,

00:13:55.235 --> 00:13:58.035
<v Speaker 0>I don't think it will remove those resources.

00:14:03.290 --> 00:14:05.210
<v Speaker 0>Alright. They're called validating

00:14:05.370 --> 00:14:08.330
<v Speaker 0>oh, what the fuck? Validating web configurations

00:14:08.330 --> 00:14:10.330
<v Speaker 0>and mutating web configurations.

00:14:12.650 --> 00:14:14.170
<v Speaker 2>Yeah. It's such a long keyword. I'm trying

00:14:14.170 --> 00:14:15.450
<v Speaker 2>to remember the actual syntax.

00:14:16.595 --> 00:14:18.035
<v Speaker 0>Yeah. I wish it was the short version

00:14:18.035 --> 00:14:19.795
<v Speaker 0>of getting them bad. I think they're good.

00:14:22.834 --> 00:14:25.315
<v Speaker 2>Jeez, John. You're you're throwing me into an

00:14:25.315 --> 00:14:27.075
<v Speaker 2>area I've never ever

00:14:30.730 --> 00:14:32.650
<v Speaker 2>Let me just take one and see what

00:14:33.130 --> 00:14:35.850
<v Speaker 2>so there's one web webhook in this one.

00:14:46.065 --> 00:14:48.065
<v Speaker 2>I have no idea what this policy is

00:14:48.065 --> 00:14:48.625
<v Speaker 2>doing.

00:14:50.305 --> 00:14:51.825
<v Speaker 2>But I imagine if I delete it and

00:14:51.825 --> 00:14:53.105
<v Speaker 2>then go ahead and delete the,

00:14:53.745 --> 00:14:57.585
<v Speaker 2>Kiberno namespace, that should resolve things. Right? I'm

00:14:57.585 --> 00:14:59.985
<v Speaker 2>hoping. I think so. Yeah. I I back

00:14:59.985 --> 00:15:00.945
<v Speaker 0>that plan and go for it.

00:15:02.170 --> 00:15:04.970
<v Speaker 1>What's that? I backed that plan 100%. Start

00:15:04.970 --> 00:15:06.010
<v Speaker 0>deleting stuff.

00:15:09.450 --> 00:15:11.930
<v Speaker 2>Hold on a second. Before I do, though,

00:15:13.685 --> 00:15:15.205
<v Speaker 2>what I wanna do is

00:15:17.445 --> 00:15:19.045
<v Speaker 2>I just wanna back these up just in

00:15:19.045 --> 00:15:20.885
<v Speaker 2>case. I don't know. Who knows what's gonna

00:15:20.885 --> 00:15:22.805
<v Speaker 2>happen? I probably only have, like, twenty minutes

00:15:22.805 --> 00:15:23.765
<v Speaker 2>left anyways.

00:15:24.565 --> 00:15:26.245
<v Speaker 0>No. You're doing good. You've you've got thirty

00:15:26.245 --> 00:15:27.845
<v Speaker 0>two minutes left. You're cruising.

00:15:28.165 --> 00:15:29.045
<v Speaker 2>Nice. Nice.

00:15:31.040 --> 00:15:31.920
<v Speaker 2>YAML

00:15:31.920 --> 00:15:32.880
<v Speaker 2>into

00:15:33.920 --> 00:15:35.760
<v Speaker 2>actually, hold on before I do that.

00:15:39.920 --> 00:15:41.360
<v Speaker 2>K. Paul

00:15:41.360 --> 00:15:42.160
<v Speaker 2>dot

00:15:42.480 --> 00:15:43.040
<v Speaker 2>YAML.

00:15:46.225 --> 00:15:47.745
<v Speaker 2>Let's take this one too,

00:15:47.905 --> 00:15:49.585
<v Speaker 2>and then I'll just output it to another

00:15:49.585 --> 00:15:51.265
<v Speaker 2>file just because

00:15:51.345 --> 00:15:52.465
<v Speaker 2>I don't know.

00:15:53.265 --> 00:15:55.505
<v Speaker 2>It doesn't hurt to review them later on.

00:15:55.985 --> 00:15:57.825
<v Speaker 0>No. It's very reserved of you.

00:16:01.500 --> 00:16:02.380
<v Speaker 2>Validating.

00:16:02.380 --> 00:16:04.459
<v Speaker 2>Actually, I gotta fill up this here.

00:16:07.819 --> 00:16:08.620
<v Speaker 2>Okay.

00:16:10.060 --> 00:16:11.180
<v Speaker 2>Delete.

00:16:13.259 --> 00:16:14.139
<v Speaker 2>Validating.

00:16:14.785 --> 00:16:16.785
<v Speaker 2>It won't it won't autocomplete a.

00:16:17.025 --> 00:16:19.185
<v Speaker 0>Yeah. We'd have to enable autocomplete.

00:16:21.585 --> 00:16:23.505
<v Speaker 0>Another thing I should do by default on

00:16:23.505 --> 00:16:24.865
<v Speaker 0>these clusters, I don't.

00:16:27.185 --> 00:16:28.860
<v Speaker 0>Okay. May maybe for next episode.

00:16:35.340 --> 00:16:36.620
<v Speaker 2>Do

00:16:38.860 --> 00:16:40.060
<v Speaker 0>you want me to load the auto complete

00:16:40.060 --> 00:16:40.460
<v Speaker 0>for you?

00:16:41.835 --> 00:16:43.755
<v Speaker 2>Yeah. If you don't mind doing it quickly,

00:16:43.755 --> 00:16:44.475
<v Speaker 2>I'll

00:16:45.195 --> 00:16:46.475
<v Speaker 2>I'll eventually

00:16:53.720 --> 00:16:55.400
<v Speaker 2>Nice. I think I always get that command

00:16:55.400 --> 00:16:57.160
<v Speaker 0>wrong too. We're we'll find out.

00:16:58.360 --> 00:17:01.000
<v Speaker 2>One quick test is if I just erase

00:17:01.000 --> 00:17:02.360
<v Speaker 2>this and do a tab. There we go.

00:17:02.360 --> 00:17:03.320
<v Speaker 2>Oh gosh.

00:17:04.920 --> 00:17:06.520
<v Speaker 2>Well, I got yeah. It pretty much got

00:17:06.520 --> 00:17:08.244
<v Speaker 2>it. Yeah. Yeah. Just just tab your way

00:17:08.244 --> 00:17:09.765
<v Speaker 0>through this cluster. That's what I do in

00:17:09.765 --> 00:17:10.565
<v Speaker 0>production as well.

00:17:21.599 --> 00:17:22.400
<v Speaker 2>Goodbye.

00:17:36.335 --> 00:17:37.934
<v Speaker 0>Delete the namespace. I think we could probably

00:17:37.934 --> 00:17:39.054
<v Speaker 0>make a coffee now.

00:17:42.895 --> 00:17:44.014
<v Speaker 2>Looks like it's gone.

00:17:44.895 --> 00:17:46.335
<v Speaker 0>Good. That was quite fast, actually.

00:17:47.600 --> 00:17:50.000
<v Speaker 0>No fanalyzer snuck in there then, John.

00:17:50.720 --> 00:17:53.040
<v Speaker 1>Yeah. I don't like, I was remembering, like,

00:17:53.040 --> 00:17:54.640
<v Speaker 2>when I was messing with the cluster yesterday,

00:17:54.640 --> 00:17:56.640
<v Speaker 2>I'm like, we're it was pretty minimal. It

00:17:56.640 --> 00:17:58.320
<v Speaker 2>wasn't that much on there. And when I

00:17:58.320 --> 00:18:00.240
<v Speaker 2>see Cuyverno there, I'm like, hold on.

00:18:00.960 --> 00:18:03.295
<v Speaker 2>Alright. Let's let's try and restart it. Actually,

00:18:03.295 --> 00:18:04.255
<v Speaker 2>you know what? Why don't I need to

00:18:04.255 --> 00:18:05.455
<v Speaker 2>why don't I need to restart? I'll just

00:18:05.455 --> 00:18:07.695
<v Speaker 2>delete the pod, and we'll just redeploy it.

00:18:07.775 --> 00:18:08.255
<v Speaker 2>So,

00:18:08.575 --> 00:18:10.654
<v Speaker 2>by re by deleting the pod,

00:18:11.055 --> 00:18:13.695
<v Speaker 2>because I already have a deployment specified,

00:18:14.655 --> 00:18:16.415
<v Speaker 2>I don't need to worry about the pod

00:18:16.415 --> 00:18:19.160
<v Speaker 2>recreation. The deployment will automatically spin up the

00:18:19.160 --> 00:18:21.559
<v Speaker 2>new pod or the new version. What?

00:18:21.799 --> 00:18:23.399
<v Speaker 0>You forgot to put pod.

00:18:23.559 --> 00:18:25.400
<v Speaker 2>Oh, yeah. There there we go. Yeah. That

00:18:25.400 --> 00:18:26.279
<v Speaker 2>does it too.

00:18:26.679 --> 00:18:28.840
<v Speaker 2>Kubectl delete pod, and the name of pod

00:18:28.840 --> 00:18:30.360
<v Speaker 2>will allow you to delete the pod. And

00:18:30.360 --> 00:18:31.480
<v Speaker 2>if I go back in,

00:18:31.720 --> 00:18:32.360
<v Speaker 2>get pods.

00:18:34.284 --> 00:18:36.205
<v Speaker 2>Okay. So it's not recreating.

00:18:36.205 --> 00:18:37.965
<v Speaker 2>Interesting. K. Let's go take a look and

00:18:37.965 --> 00:18:38.445
<v Speaker 2>see

00:18:39.005 --> 00:18:40.364
<v Speaker 2>why that might be.

00:18:40.605 --> 00:18:42.445
<v Speaker 2>I get pods dash

00:18:43.725 --> 00:18:44.445
<v Speaker 2>wide.

00:18:47.650 --> 00:18:49.650
<v Speaker 2>The quick test on

00:18:49.650 --> 00:18:52.450
<v Speaker 2>NGINX dash dash n equals NGINX. So I

00:18:52.450 --> 00:18:55.169
<v Speaker 2>just wanna make sure that it goes into

00:18:56.530 --> 00:18:59.410
<v Speaker 1>So I typed this in the chat, but

00:18:59.410 --> 00:19:01.490
<v Speaker 1>one thing I noticed is that since this

00:19:01.490 --> 00:19:02.530
<v Speaker 1>is running in Cuyverno,

00:19:02.815 --> 00:19:05.135
<v Speaker 1>we have a staging and a production cluster,

00:19:05.135 --> 00:19:07.935
<v Speaker 1>and we only deployed Kiverno in staging. And

00:19:07.935 --> 00:19:10.335
<v Speaker 1>you're supposed to be fixing the production cluster.

00:19:13.535 --> 00:19:15.455
<v Speaker 2>Oh, so I shouldn't have deleted Kiverno?

00:19:16.159 --> 00:19:17.919
<v Speaker 1>No. You should check your

00:19:19.360 --> 00:19:21.760
<v Speaker 1>config context to make sure you're working on

00:19:21.760 --> 00:19:22.479
<v Speaker 1>production.

00:19:23.360 --> 00:19:26.320
<v Speaker 2>Oh gosh. Did you create another cluster with

00:19:26.320 --> 00:19:27.039
<v Speaker 0>the same

00:19:27.360 --> 00:19:28.239
<v Speaker 0>node name?

00:19:28.559 --> 00:19:29.200
<v Speaker 1>Gosh.

00:19:29.679 --> 00:19:30.799
<v Speaker 1>I I I may have.

00:19:34.635 --> 00:19:35.675
<v Speaker 0>That's nasty.

00:19:46.760 --> 00:19:47.880
<v Speaker 1>Wow.

00:19:51.320 --> 00:19:53.400
<v Speaker 0>Well, that is a clustered first.

00:19:53.880 --> 00:19:54.840
<v Speaker 0>Nice work.

00:19:56.200 --> 00:19:56.920
<v Speaker 0>Dang.

00:19:59.015 --> 00:20:02.135
<v Speaker 2>Okay. So, so for those that are watching,

00:20:02.695 --> 00:20:04.775
<v Speaker 2>John created a new context,

00:20:04.855 --> 00:20:06.535
<v Speaker 2>and I'm logged into it, and I didn't

00:20:06.535 --> 00:20:08.455
<v Speaker 2>realize it. And this is why you should

00:20:08.455 --> 00:20:10.455
<v Speaker 2>always check your context, like, using a tool

00:20:10.455 --> 00:20:12.295
<v Speaker 2>like Kube CTX or what's the new version

00:20:12.295 --> 00:20:12.615
<v Speaker 2>of it?

00:20:14.179 --> 00:20:15.299
<v Speaker 2>Whatever it is.

00:20:18.740 --> 00:20:19.379
<v Speaker 2>K.

00:20:19.700 --> 00:20:22.179
<v Speaker 2>So I'm in the right context now, I

00:20:22.179 --> 00:20:24.340
<v Speaker 2>would assume. Let me But your engine x

00:20:24.340 --> 00:20:25.860
<v Speaker 0>pod is there, so I don't think you

00:20:25.860 --> 00:20:27.379
<v Speaker 0>have to use use context.

00:20:28.260 --> 00:20:29.380
<v Speaker 2>Oh, yeah. That's right.

00:20:30.475 --> 00:20:33.434
<v Speaker 0>Yeah. Kubi is the kubectx

00:20:33.434 --> 00:20:35.434
<v Speaker 0>flavor of the week right now. Right?

00:20:36.554 --> 00:20:37.754
<v Speaker 2>Yes.

00:20:37.755 --> 00:20:40.554
<v Speaker 2>Alright. Kubectl. I got pods.

00:20:41.034 --> 00:20:42.075
<v Speaker 2>Oh, okay.

00:20:44.190 --> 00:20:46.909
<v Speaker 0>Nodes. So where's the other cluster running, John?

00:20:47.470 --> 00:20:48.190
<v Speaker 1>Shit.

00:20:48.590 --> 00:20:51.470
<v Speaker 1>It it's actually running at EC two. And,

00:20:51.470 --> 00:20:52.349
<v Speaker 1>like, my

00:20:52.590 --> 00:20:54.909
<v Speaker 1>heart was beating because the first thing you

00:20:54.909 --> 00:20:59.164
<v Speaker 1>guys ran was kubectl config view in the

00:20:59.164 --> 00:21:01.645
<v Speaker 1>AWS stuff scrolled by. I'm like, please don't

00:21:01.645 --> 00:21:02.605
<v Speaker 1>notice that.

00:21:02.924 --> 00:21:05.004
<v Speaker 1>I didn't I understand that.

00:21:05.565 --> 00:21:07.405
<v Speaker 2>Let's go back. I never thought it either.

00:21:07.405 --> 00:21:09.645
<v Speaker 0>No. Let's do that view config again.

00:21:10.159 --> 00:21:12.399
<v Speaker 0>I've never seen anyone run view config as

00:21:12.399 --> 00:21:13.440
<v Speaker 0>well. That you got

00:21:13.840 --> 00:21:16.159
<v Speaker 0>lucky and unlucky at the same time. Yeah.

00:21:16.159 --> 00:21:18.240
<v Speaker 2>I totally didn't notice that. And, you know,

00:21:18.240 --> 00:21:20.000
<v Speaker 2>it was really weird. I was when I

00:21:20.000 --> 00:21:21.919
<v Speaker 2>was looking at my notes, I noticed AWS

00:21:21.919 --> 00:21:23.840
<v Speaker 2>somewhere. I'm like, I was pretty sure we

00:21:23.840 --> 00:21:26.275
<v Speaker 2>didn't spin this up on AWS, but

00:21:26.515 --> 00:21:28.915
<v Speaker 2>I couldn't think deeply enough about it either.

00:21:28.915 --> 00:21:30.915
<v Speaker 2>So, wow, that was that was pretty damn

00:21:30.915 --> 00:21:33.315
<v Speaker 2>good. Okay. So now my nodes are not

00:21:33.315 --> 00:21:34.434
<v Speaker 2>ready. Interesting.

00:21:36.275 --> 00:21:36.995
<v Speaker 2>Let's see.

00:21:40.880 --> 00:21:43.840
<v Speaker 2>So I'm gonna describe the node node. Actually,

00:21:44.400 --> 00:21:47.040
<v Speaker 2>yeah, let's describe the notice oh, shoot. Because

00:21:47.040 --> 00:21:49.440
<v Speaker 0>this has never happened before, technically, if you

00:21:49.440 --> 00:21:51.440
<v Speaker 0>had got clustered v two running on his

00:21:51.440 --> 00:21:53.200
<v Speaker 0>AWS cluster, you would still have succeeded.

00:21:54.145 --> 00:21:56.785
<v Speaker 2>Oh, yeah. That's true. So, actually So which

00:21:56.785 --> 00:21:58.705
<v Speaker 0>cluster is less broken, I think, the answer

00:21:58.705 --> 00:22:00.144
<v Speaker 0>you should be asking yourself.

00:22:00.385 --> 00:22:02.385
<v Speaker 0>The question you should be asking. Time to

00:22:02.385 --> 00:22:04.624
<v Speaker 1>delete that other cluster right now. Alright.

00:22:07.105 --> 00:22:07.424
<v Speaker 2>So

00:22:08.380 --> 00:22:10.140
<v Speaker 2>I've I've got the deployment here. I could

00:22:10.140 --> 00:22:11.980
<v Speaker 2>just simply do this. Kubectl

00:22:11.980 --> 00:22:12.619
<v Speaker 2>get

00:22:12.860 --> 00:22:14.860
<v Speaker 2>SVC as well. And

00:22:16.940 --> 00:22:19.580
<v Speaker 2>I could oh, it's a node port. Okay.

00:22:19.740 --> 00:22:21.340
<v Speaker 2>So I could just do this.

00:22:22.675 --> 00:22:24.995
<v Speaker 2>I'll get s v c clustered

00:22:28.675 --> 00:22:30.355
<v Speaker 2>dash o yaml

00:22:32.355 --> 00:22:32.995
<v Speaker 2>plus

00:22:33.475 --> 00:22:34.515
<v Speaker 2>clustered

00:22:35.200 --> 00:22:37.280
<v Speaker 2>s v c dot yaml.

00:22:38.000 --> 00:22:39.360
<v Speaker 2>And for the folks on the,

00:22:40.240 --> 00:22:42.800
<v Speaker 2>folks on the YouTube here listening or watching

00:22:42.800 --> 00:22:44.400
<v Speaker 2>in on YouTube, what I'm gonna try to

00:22:44.400 --> 00:22:45.920
<v Speaker 2>do is get this quickly up and running

00:22:45.920 --> 00:22:47.520
<v Speaker 2>on that cluster that we think is working.

00:22:47.505 --> 00:22:49.024
<v Speaker 2>So we'll see how that runs.

00:22:49.345 --> 00:22:50.785
<v Speaker 2>But I gotta export a whole bunch of

00:22:50.785 --> 00:22:52.465
<v Speaker 2>services so that I got files that I

00:22:52.465 --> 00:22:53.585
<v Speaker 2>can work off of.

00:22:55.825 --> 00:22:56.865
<v Speaker 2>Postgres

00:22:57.665 --> 00:23:03.790
<v Speaker 2>dash dash dash dash o vmlpg.pg

00:23:03.790 --> 00:23:05.870
<v Speaker 2>s v c dot e m l

00:23:06.350 --> 00:23:07.710
<v Speaker 2>m c t l get

00:23:08.990 --> 00:23:09.950
<v Speaker 0>deploy.

00:23:10.350 --> 00:23:12.350
<v Speaker 0>So what's wrong with the current cluster?

00:23:14.590 --> 00:23:16.190
<v Speaker 2>I'm not sure. The nodes are down,

00:23:17.655 --> 00:23:19.495
<v Speaker 2>and, I was just describing one of the

00:23:19.495 --> 00:23:20.215
<v Speaker 2>nodes.

00:23:20.615 --> 00:23:22.934
<v Speaker 2>I think I described the control plane. Node

00:23:23.335 --> 00:23:26.375
<v Speaker 2>is now has its sufficient node has sufficient

00:23:26.375 --> 00:23:27.175
<v Speaker 2>memory.

00:23:27.175 --> 00:23:29.975
<v Speaker 2>Node has no disk pressure starting Kubelet. Invalid

00:23:29.975 --> 00:23:32.455
<v Speaker 2>capacity zero on image file system.

00:23:39.600 --> 00:23:41.120
<v Speaker 0>So you may wanna jump on to that

00:23:41.120 --> 00:23:42.320
<v Speaker 0>worker node.

00:23:43.360 --> 00:23:44.080
<v Speaker 2>Yeah.

00:23:45.920 --> 00:23:46.880
<v Speaker 0>Let me open a session.

00:23:50.525 --> 00:23:51.245
<v Speaker 2>Actually,

00:23:52.525 --> 00:23:54.365
<v Speaker 2>can I SSH to it or no?

00:23:54.685 --> 00:23:56.285
<v Speaker 0>Well, I've just opened the session. So if

00:23:56.285 --> 00:23:57.805
<v Speaker 0>you go to active sessions, you'll be able

00:23:57.805 --> 00:24:00.045
<v Speaker 0>to see worker one session, and then you

00:24:00.045 --> 00:24:01.325
<v Speaker 0>can type with me there.

00:24:03.500 --> 00:24:05.899
<v Speaker 2>Okay. Let me load that up. Alright.

00:24:07.260 --> 00:24:07.979
<v Speaker 2>Hello.

00:24:08.779 --> 00:24:09.739
<v Speaker 2>K. Cool.

00:24:11.260 --> 00:24:14.220
<v Speaker 0>So it said image disk capacity is zero.

00:24:14.220 --> 00:24:15.735
<v Speaker 0>So I think we need start looking at

00:24:15.735 --> 00:24:17.255
<v Speaker 0>the disks on this machine.

00:24:18.935 --> 00:24:20.455
<v Speaker 2>How the heck do I do that?

00:24:23.815 --> 00:24:26.215
<v Speaker 0>We could use d u.

00:24:28.055 --> 00:24:29.655
<v Speaker 2>D u. Okay.

00:24:31.720 --> 00:24:33.559
<v Speaker 0>Oh, wait. That's for files. Right? D f

00:24:33.559 --> 00:24:35.000
<v Speaker 0>is the one I meant. Oh, there we

00:24:35.000 --> 00:24:35.480
<v Speaker 0>go.

00:24:41.160 --> 00:24:43.424
<v Speaker 0>Yeah. There's some pretty full disk guy stuff

00:24:43.424 --> 00:24:44.544
<v Speaker 0>going on here. Right?

00:24:45.745 --> 00:24:47.585
<v Speaker 2>Yeah. It's pretty at

00:24:48.065 --> 00:24:49.264
<v Speaker 2>oh my gosh.

00:24:50.544 --> 00:24:52.304
<v Speaker 2>What the heck can we get rid of?

00:24:54.225 --> 00:24:56.465
<v Speaker 0>Well, ironically, the first command I run could

00:24:56.465 --> 00:24:57.505
<v Speaker 0>probably help us with that.

00:24:58.340 --> 00:24:59.220
<v Speaker 0>D u.

00:24:59.860 --> 00:25:01.620
<v Speaker 0>Are you familiar with d u at all?

00:25:01.780 --> 00:25:02.740
<v Speaker 2>Not

00:25:02.740 --> 00:25:03.380
<v Speaker 2>really.

00:25:04.020 --> 00:25:04.740
<v Speaker 0>Alright.

00:25:07.460 --> 00:25:09.460
<v Speaker 0>Oh, we're not in the so d u,

00:25:09.460 --> 00:25:11.140
<v Speaker 0>we can do depth one dash eight versus

00:25:11.140 --> 00:25:12.865
<v Speaker 0>human readable size, which will give us a

00:25:12.865 --> 00:25:15.264
<v Speaker 0>rough indication of where the large thing is

00:25:15.745 --> 00:25:16.304
<v Speaker 0>are.

00:25:16.785 --> 00:25:17.424
<v Speaker 1>Mhmm.

00:25:18.304 --> 00:25:21.745
<v Speaker 0>Because see that bar has 387

00:25:21.745 --> 00:25:23.745
<v Speaker 0>gig. So then we could jump into slash

00:25:23.745 --> 00:25:25.169
<v Speaker 0>bar and kinda chase

00:25:25.730 --> 00:25:26.769
<v Speaker 0>it that way.

00:25:28.210 --> 00:25:29.809
<v Speaker 0>We could maybe also use a thing to

00:25:29.809 --> 00:25:31.809
<v Speaker 0>look for files larger than a certain size,

00:25:31.809 --> 00:25:33.250
<v Speaker 0>but I don't know if he's did a

00:25:33.250 --> 00:25:35.409
<v Speaker 0>saturation attack with many loads of small files

00:25:35.409 --> 00:25:36.450
<v Speaker 0>or if he's done something,

00:25:37.035 --> 00:25:38.795
<v Speaker 0>Maybe he just did a DD four gig

00:25:38.795 --> 00:25:40.635
<v Speaker 0>block size. Who knows? Like, I don't know

00:25:40.635 --> 00:25:42.075
<v Speaker 0>how nasty John is here.

00:25:43.515 --> 00:25:44.715
<v Speaker 2>So we

00:25:45.035 --> 00:25:46.955
<v Speaker 2>could do another, what, d

00:25:47.675 --> 00:25:49.355
<v Speaker 0>You could do a DU and change the

00:25:49.355 --> 00:25:51.309
<v Speaker 0>depth from one to two or three and

00:25:51.309 --> 00:25:52.270
<v Speaker 0>then try and get a look at the

00:25:52.270 --> 00:25:53.549
<v Speaker 0>folders and try and see if you can

00:25:53.549 --> 00:25:54.830
<v Speaker 0>work out with all this crap.

00:25:56.270 --> 00:25:57.149
<v Speaker 2>Let's try.

00:25:57.390 --> 00:25:58.990
<v Speaker 0>So one will show you the top level.

00:25:58.990 --> 00:26:00.270
<v Speaker 0>Three will break it down a bit further.

00:26:09.524 --> 00:26:12.404
<v Speaker 2>So what what what is that? Slash our

00:26:12.404 --> 00:26:14.325
<v Speaker 0>log seems to be pretty chunky.

00:26:15.845 --> 00:26:18.325
<v Speaker 2>Let me just sorry. Did you say bar

00:26:18.325 --> 00:26:20.290
<v Speaker 2>log? Yep. If you went to the log

00:26:20.290 --> 00:26:21.250
<v Speaker 0>directory.

00:26:24.130 --> 00:26:25.570
<v Speaker 2>And you see that. Where are you seeing

00:26:25.570 --> 00:26:26.050
<v Speaker 2>that?

00:26:26.530 --> 00:26:27.890
<v Speaker 0>Oh, run

00:26:27.890 --> 00:26:29.490
<v Speaker 0>your d u command again and just type

00:26:29.490 --> 00:26:31.250
<v Speaker 0>it in grep for log, and you'll get

00:26:31.250 --> 00:26:31.730
<v Speaker 0>the size.

00:26:39.515 --> 00:26:40.394
<v Speaker 0>You forgot.

00:26:41.995 --> 00:26:42.715
<v Speaker 0>We go.

00:26:45.115 --> 00:26:46.555
<v Speaker 0>Oh, this loads. But you can see the

00:26:46.555 --> 00:26:47.435
<v Speaker 0>second bottom line.

00:26:49.110 --> 00:26:50.950
<v Speaker 2>Yeah. Right there. Right? Down to that directory,

00:26:50.950 --> 00:26:52.950
<v Speaker 0>it's got, like, the 80 gig in it.

00:26:52.950 --> 00:26:55.190
<v Speaker 0>So So could I just delete that? Like,

00:26:55.190 --> 00:26:55.909
<v Speaker 2>goodbye?

00:26:56.950 --> 00:26:58.790
<v Speaker 0>I mean, you could blow away that entire

00:26:58.790 --> 00:27:00.870
<v Speaker 0>directory, but let's maybe take a look inside

00:27:00.870 --> 00:27:01.270
<v Speaker 0>it first.

00:27:06.845 --> 00:27:07.644
<v Speaker 0>Try

00:27:08.365 --> 00:27:10.364
<v Speaker 0>maybe do a directory listing with

00:27:11.005 --> 00:27:12.524
<v Speaker 0>sort by size or something.

00:27:17.245 --> 00:27:19.164
<v Speaker 0>Yeah. There's there's some chunky

00:27:19.360 --> 00:27:20.799
<v Speaker 0>and I like the naming of those big

00:27:20.799 --> 00:27:22.799
<v Speaker 0>files too. It's very appropriate.

00:27:23.039 --> 00:27:24.799
<v Speaker 0>Yeah. It's always Log four j.

00:27:25.760 --> 00:27:27.919
<v Speaker 2>Alright. Let's let's see if we can do

00:27:27.919 --> 00:27:30.159
<v Speaker 2>an RM on these bad boys.

00:27:38.975 --> 00:27:40.495
<v Speaker 2>Good lord. Why is it taking so long

00:27:40.495 --> 00:27:41.374
<v Speaker 2>to delete?

00:27:44.015 --> 00:27:45.934
<v Speaker 2>Alright. Let's see.

00:27:46.255 --> 00:27:48.989
<v Speaker 2>Oh, what? Oh, yeah. I need the arm.

00:27:53.950 --> 00:27:55.389
<v Speaker 2>Let's

00:27:55.389 --> 00:27:56.349
<v Speaker 2>see. Alright.

00:27:58.830 --> 00:28:02.429
<v Speaker 2>Maybe maybe we should be able to

00:28:05.845 --> 00:28:07.205
<v Speaker 2>well, I I wanna have to go back

00:28:07.205 --> 00:28:09.205
<v Speaker 2>to the other session. Let's just hope he's

00:28:09.205 --> 00:28:11.684
<v Speaker 0>not reformatted the desk to set FS, causing

00:28:11.684 --> 00:28:13.205
<v Speaker 0>the delete, not really to free up the

00:28:13.205 --> 00:28:15.044
<v Speaker 0>space. But I'm assuming that would be a

00:28:15.044 --> 00:28:15.684
<v Speaker 0>step too far.

00:28:16.260 --> 00:28:16.980
<v Speaker 2>Yeah.

00:28:17.220 --> 00:28:18.419
<v Speaker 2>Alright. So

00:28:18.820 --> 00:28:21.460
<v Speaker 2>node, they're still not ready. Let's describe the

00:28:21.460 --> 00:28:22.179
<v Speaker 2>node.

00:28:23.380 --> 00:28:25.220
<v Speaker 0>We'll bring you back another session.

00:28:25.700 --> 00:28:27.540
<v Speaker 2>Yeah. I'm back in the other session. Sweet.

00:28:32.255 --> 00:28:33.455
<v Speaker 2>Kubelet node

00:28:33.855 --> 00:28:35.215
<v Speaker 0>Twenty minutes to go.

00:28:35.535 --> 00:28:38.415
<v Speaker 2>Oh my gosh. Node SonTek. ProPlane one status

00:28:38.415 --> 00:28:41.054
<v Speaker 2>is now. Node has sufficient memory.

00:28:41.455 --> 00:28:44.090
<v Speaker 2>Node has no disk pressure. Where did you

00:28:44.090 --> 00:28:45.770
<v Speaker 0>run that? Sorry. I don't see that.

00:28:46.170 --> 00:28:48.010
<v Speaker 2>What's that? Can you run the command again?

00:28:48.010 --> 00:28:49.370
<v Speaker 0>Am I we yeah.

00:28:51.050 --> 00:28:52.490
<v Speaker 1>Pass it through the pager so we can

00:28:52.490 --> 00:28:54.330
<v Speaker 1>see the scroll. Yeah. There we go.

00:28:56.170 --> 00:28:57.050
<v Speaker 0>I screwed up.

00:28:57.695 --> 00:29:00.815
<v Speaker 2>Invalid disk capacity. Oh my gosh. Still?

00:29:03.455 --> 00:29:06.335
<v Speaker 2>But this is describing the control plane, though.

00:29:08.015 --> 00:29:08.735
<v Speaker 2>Is it?

00:29:09.375 --> 00:29:11.054
<v Speaker 0>I don't know. Well, hold on. Let me

00:29:11.054 --> 00:29:12.815
<v Speaker 0>see what because my skin's a bit weird.

00:29:12.930 --> 00:29:14.930
<v Speaker 0>Yeah. You described the control plane,

00:29:17.250 --> 00:29:19.330
<v Speaker 0>which may also have filters. We wanna try

00:29:19.330 --> 00:29:20.850
<v Speaker 0>describing the worker.

00:29:21.410 --> 00:29:22.130
<v Speaker 1>Mhmm.

00:29:22.530 --> 00:29:23.090
<v Speaker 1>So

00:29:24.770 --> 00:29:26.210
<v Speaker 0>let me My my screen's gone a bit

00:29:26.210 --> 00:29:28.610
<v Speaker 0>funky, so I'm just gonna take reset to

00:29:28.835 --> 00:29:30.115
<v Speaker 0>there we go. I'm

00:29:31.235 --> 00:29:31.794
<v Speaker 0>done.

00:29:34.755 --> 00:29:36.595
<v Speaker 0>Yeah. So let's describe that worker and see

00:29:36.595 --> 00:29:38.115
<v Speaker 0>if we can see at least the that

00:29:38.115 --> 00:29:39.795
<v Speaker 0>node's ready again because

00:29:41.120 --> 00:29:42.720
<v Speaker 0>that would be good step forward.

00:29:43.680 --> 00:29:44.800
<v Speaker 2>Sorry. What was that?

00:29:45.280 --> 00:29:47.280
<v Speaker 0>Describe worker one to or get a run

00:29:47.280 --> 00:29:48.800
<v Speaker 0>get node to see if it's healthy. I

00:29:48.800 --> 00:29:50.720
<v Speaker 0>would expect worker one not to be complaining

00:29:50.720 --> 00:29:52.080
<v Speaker 0>about the image capacity.

00:29:53.164 --> 00:29:54.764
<v Speaker 2>Yeah. It's still describe

00:29:56.525 --> 00:29:57.325
<v Speaker 2>some

00:29:57.405 --> 00:29:58.924
<v Speaker 2>tech worker.

00:29:59.245 --> 00:30:00.205
<v Speaker 2>Which one?

00:30:00.845 --> 00:30:02.284
<v Speaker 2>What? Node.

00:30:02.284 --> 00:30:04.125
<v Speaker 2>Yeah. It's probably the word node in there.

00:30:05.130 --> 00:30:06.169
<v Speaker 2>Oh my gosh.

00:30:06.650 --> 00:30:09.530
<v Speaker 0>Right. These cycles ago, invalid capacity zero and

00:30:09.530 --> 00:30:10.889
<v Speaker 0>image fail system.

00:30:11.530 --> 00:30:13.210
<v Speaker 1>Yeah. Can you scroll up?

00:30:13.530 --> 00:30:14.010
<v Speaker 1>I

00:30:14.650 --> 00:30:15.130
<v Speaker 1>expect

00:30:15.530 --> 00:30:17.770
<v Speaker 1>so all of those are not what the

00:30:17.770 --> 00:30:18.890
<v Speaker 1>actual problem is right now.

00:30:19.785 --> 00:30:21.225
<v Speaker 1>Expect it should tell you what the problem

00:30:21.225 --> 00:30:22.985
<v Speaker 1>is up higher, but that

00:30:24.025 --> 00:30:25.865
<v Speaker 1>it's been complaining for those for a while.

00:30:25.865 --> 00:30:27.945
<v Speaker 1>We might need to pass it through less.

00:30:28.345 --> 00:30:29.305
<v Speaker 0>Yeah. Let's do that.

00:30:32.600 --> 00:30:34.600
<v Speaker 2>Okay. Here we go. So Liam is up.

00:30:36.040 --> 00:30:37.240
<v Speaker 2>Memory pressure.

00:30:37.400 --> 00:30:38.040
<v Speaker 2>Oops.

00:30:39.800 --> 00:30:40.680
<v Speaker 2>Could've been already

00:30:41.560 --> 00:30:42.280
<v Speaker 2>let's see.

00:30:45.145 --> 00:30:46.345
<v Speaker 2>No taints.

00:30:46.505 --> 00:30:47.065
<v Speaker 2>It's

00:30:47.385 --> 00:30:49.304
<v Speaker 2>not that it's not schedulable.

00:30:53.065 --> 00:30:56.345
<v Speaker 0>That looks okay so far. The important part

00:30:56.345 --> 00:30:58.129
<v Speaker 1>there is kubelet not ready.

00:30:59.650 --> 00:31:00.850
<v Speaker 2>Ah, okay.

00:31:02.130 --> 00:31:03.730
<v Speaker 0>Then how are we getting a report on

00:31:03.730 --> 00:31:04.529
<v Speaker 0>the status?

00:31:06.770 --> 00:31:07.970
<v Speaker 0>Kubelet is ready.

00:31:10.770 --> 00:31:12.049
<v Speaker 1>That's what I want you to think.

00:31:14.655 --> 00:31:16.495
<v Speaker 0>We should check on the worker.

00:31:16.815 --> 00:31:18.255
<v Speaker 2>That's

00:31:18.255 --> 00:31:20.015
<v Speaker 2>a good point. Okay. So I'm switching over

00:31:20.015 --> 00:31:20.895
<v Speaker 2>to the worker now.

00:31:25.820 --> 00:31:26.620
<v Speaker 2>System

00:31:26.780 --> 00:31:28.059
<v Speaker 2>CTL

00:31:29.340 --> 00:31:30.140
<v Speaker 2>status

00:31:31.260 --> 00:31:32.220
<v Speaker 2>Kubelet

00:31:32.700 --> 00:31:35.340
<v Speaker 2>running too. Hold on. Wait. Let's see.

00:31:39.915 --> 00:31:42.395
<v Speaker 2>Doesn't seem to be anything wrong with it.

00:31:46.315 --> 00:31:48.315
<v Speaker 2>Am I not seeing something here?

00:31:49.995 --> 00:31:51.675
<v Speaker 0>We may have to get the logs from

00:31:51.675 --> 00:31:53.115
<v Speaker 0>the queue, but I'm not seeing anything right

00:31:53.115 --> 00:31:53.355
<v Speaker 0>now.

00:31:54.679 --> 00:31:56.840
<v Speaker 0>I'm curious about that infection hard

00:31:57.160 --> 00:31:58.359
<v Speaker 0>warning,

00:31:58.679 --> 00:31:59.960
<v Speaker 0>but I'm

00:31:59.960 --> 00:32:02.119
<v Speaker 0>not sure if that's normal or not. So

00:32:06.280 --> 00:32:08.120
<v Speaker 2>the command I just ran for those on

00:32:08.120 --> 00:32:09.000
<v Speaker 2>the

00:32:09.355 --> 00:32:11.835
<v Speaker 2>on the YouTube channel there watching in, I

00:32:11.835 --> 00:32:14.075
<v Speaker 2>ran something called journal CTL dash u kubelet,

00:32:14.075 --> 00:32:15.995
<v Speaker 2>which gives me some more logging information about

00:32:15.995 --> 00:32:17.195
<v Speaker 2>the kubelet itself

00:32:17.674 --> 00:32:19.434
<v Speaker 2>to give me some details about

00:32:19.755 --> 00:32:22.235
<v Speaker 2>maybe some files that might be misconfigured or

00:32:22.235 --> 00:32:23.355
<v Speaker 2>something along those lines.

00:32:27.980 --> 00:32:29.419
<v Speaker 0>That's I think it's interesting,

00:32:29.820 --> 00:32:31.340
<v Speaker 0>the fact that our Kubelet is using a

00:32:31.340 --> 00:32:32.859
<v Speaker 0>a memory state store.

00:32:33.179 --> 00:32:33.659
<v Speaker 0>I

00:32:34.380 --> 00:32:35.419
<v Speaker 0>don't know if that's normal.

00:32:37.225 --> 00:32:40.265
<v Speaker 2>Sorry. What was that again? It says initialized

00:32:40.265 --> 00:32:42.585
<v Speaker 0>new in memory state store, which may be

00:32:42.585 --> 00:32:44.745
<v Speaker 0>compared to normal, and I've always skipped it.

00:32:44.745 --> 00:32:47.065
<v Speaker 0>But because we're seeing memory things or disk

00:32:47.065 --> 00:32:48.424
<v Speaker 0>things, I'm curious about it.

00:32:55.660 --> 00:32:57.020
<v Speaker 0>Well, I don't spend a lot of time

00:32:57.020 --> 00:32:59.020
<v Speaker 0>in the kubit logs. Why would you?

00:33:00.540 --> 00:33:03.340
<v Speaker 2>Yeah. Okay. I don't know where else to

00:33:03.340 --> 00:33:04.220
<v Speaker 2>look now.

00:33:05.340 --> 00:33:07.180
<v Speaker 1>The the log should be the right place.

00:33:07.605 --> 00:33:09.365
<v Speaker 1>I would just say scroll through here. It

00:33:09.365 --> 00:33:10.884
<v Speaker 1>should show you what the problem is.

00:33:13.285 --> 00:33:16.725
<v Speaker 2>Waiting for nodes sync container runtime initializer,

00:33:16.804 --> 00:33:18.325
<v Speaker 2>starting to listen address.

00:33:20.245 --> 00:33:21.925
<v Speaker 2>I feel like something was wrong here.

00:33:25.960 --> 00:33:29.560
<v Speaker 2>Container runtime network is not ready. Network ready.

00:33:29.560 --> 00:33:32.440
<v Speaker 2>Network ready equals false reason. Adding debug handlers

00:33:32.440 --> 00:33:33.960
<v Speaker 2>too. What's the reason?

00:33:38.520 --> 00:33:40.495
<v Speaker 2>Yeah. Let's try running it again, seeing if

00:33:40.495 --> 00:33:42.095
<v Speaker 2>we could get some more messages.

00:33:50.175 --> 00:33:50.575
<v Speaker 2>Interesting.

00:33:51.260 --> 00:33:54.780
<v Speaker 2>Error getting node. Error node SonTek dash worker

00:33:54.780 --> 00:33:56.300
<v Speaker 2>dash one not found.

00:33:57.660 --> 00:33:59.740
<v Speaker 0>And that means it's not able to because

00:33:59.740 --> 00:34:01.820
<v Speaker 0>our kubel is not online. It's not speaking

00:34:01.820 --> 00:34:03.660
<v Speaker 0>to the API server. So I think that's

00:34:03.660 --> 00:34:04.540
<v Speaker 0>normal at the start.

00:34:08.975 --> 00:34:11.455
<v Speaker 1>Can you tail the logs? I think we're

00:34:11.455 --> 00:34:13.855
<v Speaker 1>missing the error since it's we're only getting

00:34:13.855 --> 00:34:14.415
<v Speaker 1>a

00:34:14.895 --> 00:34:16.175
<v Speaker 1>snapshot in time.

00:34:17.455 --> 00:34:19.455
<v Speaker 1>Just do, like, minus flu instead of minus

00:34:19.455 --> 00:34:21.295
<v Speaker 1>u. Just do minus f l u,

00:34:23.170 --> 00:34:25.090
<v Speaker 1>and that'll tail it so that we can

00:34:25.090 --> 00:34:25.890
<v Speaker 1>see there.

00:34:29.650 --> 00:34:30.290
<v Speaker 0>There we go.

00:34:38.054 --> 00:34:40.614
<v Speaker 2>Hold on. I'm having a hard time finding

00:34:40.614 --> 00:34:42.534
<v Speaker 2>it. Hold on. Yeah. I would kill the

00:34:42.534 --> 00:34:44.614
<v Speaker 1>tail now. Yeah. There you go.

00:34:45.574 --> 00:34:48.295
<v Speaker 2>Okay. So where did I run the tail?

00:34:50.455 --> 00:34:52.455
<v Speaker 0>So the adder's right there and

00:34:54.710 --> 00:34:57.670
<v Speaker 0>failed to start container manager, invalid node allocatable

00:34:57.670 --> 00:34:58.470
<v Speaker 0>configuration.

00:34:58.470 --> 00:35:01.190
<v Speaker 0>Resource memory has an allocatable of blah

00:35:01.270 --> 00:35:02.710
<v Speaker 0>and capacity of blah.

00:35:05.795 --> 00:35:07.955
<v Speaker 2>I'm I'm literally trying to find this message

00:35:07.955 --> 00:35:09.795
<v Speaker 2>that I cannot see because I'm looking at

00:35:09.795 --> 00:35:10.435
<v Speaker 2>a

00:35:13.955 --> 00:35:16.755
<v Speaker 2>to start container manager invalid node allocatable. Oh,

00:35:16.755 --> 00:35:17.235
<v Speaker 2>there we go.

00:35:20.370 --> 00:35:21.490
<v Speaker 2>Oh my gosh.

00:35:21.650 --> 00:35:23.330
<v Speaker 2>What does this even mean?

00:35:25.010 --> 00:35:25.730
<v Speaker 0>I

00:35:26.370 --> 00:35:28.210
<v Speaker 0>mean, I I I I don't know right

00:35:28.210 --> 00:35:28.770
<v Speaker 0>now.

00:35:29.330 --> 00:35:31.330
<v Speaker 0>I think what we need to do I'm

00:35:31.330 --> 00:35:34.355
<v Speaker 0>assuming he's modified the Kubelet configuration, which means

00:35:34.355 --> 00:35:36.915
<v Speaker 0>we wanna start looking at system control cat

00:35:36.915 --> 00:35:39.395
<v Speaker 0>kubelet and see if he's added any extra

00:35:39.395 --> 00:35:40.675
<v Speaker 0>flags to limit

00:35:40.994 --> 00:35:41.875
<v Speaker 0>capacity.

00:35:45.155 --> 00:35:47.635
<v Speaker 0>What else could this be? It could be

00:35:51.500 --> 00:35:54.460
<v Speaker 2>where is the file located at? I can't

00:35:54.460 --> 00:35:55.260
<v Speaker 2>remember now.

00:35:55.900 --> 00:35:56.860
<v Speaker 2>Here. Right?

00:35:57.820 --> 00:36:00.300
<v Speaker 0>If you're in system control cat, it'll tell

00:36:00.300 --> 00:36:01.820
<v Speaker 0>you all the config files that are used.

00:36:02.375 --> 00:36:04.775
<v Speaker 2>Sorry. What was the command again? System control

00:36:04.775 --> 00:36:07.575
<v Speaker 0>space cat space and then the unit name,

00:36:07.575 --> 00:36:08.695
<v Speaker 0>which is kubelet.

00:36:10.535 --> 00:36:11.255
<v Speaker 2>Okay.

00:36:11.494 --> 00:36:12.694
<v Speaker 2>Here we go. So this will show you

00:36:12.694 --> 00:36:14.454
<v Speaker 0>the unit file, which looks

00:36:14.829 --> 00:36:15.950
<v Speaker 0>looks clean.

00:36:16.750 --> 00:36:18.590
<v Speaker 0>And then we have the

00:36:20.030 --> 00:36:23.390
<v Speaker 0>far left kubelet config dot YAML fail here.

00:36:23.390 --> 00:36:25.869
<v Speaker 0>We have the QBDM flags ENV,

00:36:25.869 --> 00:36:27.710
<v Speaker 0>and we have the eccentric kubelet.

00:36:30.015 --> 00:36:31.855
<v Speaker 0>An interesting comment on the chat as well

00:36:31.855 --> 00:36:34.815
<v Speaker 0>from one thousand and one saying this could

00:36:34.815 --> 00:36:37.055
<v Speaker 0>potentially be container d related as well.

00:36:38.494 --> 00:36:39.455
<v Speaker 2>Container d?

00:36:41.680 --> 00:36:42.320
<v Speaker 0>Yeah.

00:36:43.120 --> 00:36:45.040
<v Speaker 0>So we should probably sanitize each of these

00:36:45.040 --> 00:36:46.480
<v Speaker 0>files and then take a look at the

00:36:46.480 --> 00:36:48.400
<v Speaker 0>container d config.

00:36:51.280 --> 00:36:53.200
<v Speaker 2>I am I am of the mindset that

00:36:53.200 --> 00:36:55.360
<v Speaker 2>we could probably

00:36:57.165 --> 00:36:58.365
<v Speaker 2>hold on a second.

00:36:59.645 --> 00:37:01.725
<v Speaker 2>The files are located here in Kubelet.

00:37:03.245 --> 00:37:03.885
<v Speaker 2>Oh.

00:37:04.605 --> 00:37:07.805
<v Speaker 0>The first one is bar lib kubelet config

00:37:07.805 --> 00:37:08.525
<v Speaker 0>dot YAML.

00:37:12.610 --> 00:37:14.450
<v Speaker 2>Lib kubelet.

00:37:16.210 --> 00:37:18.770
<v Speaker 0>Oh, yeah. Config dot yaml. Maybe just cut

00:37:18.770 --> 00:37:18.930
<v Speaker 0>that.

00:37:24.965 --> 00:37:26.245
<v Speaker 0>Now you have to try and remember what

00:37:26.245 --> 00:37:27.765
<v Speaker 0>is normal in this file.

00:37:33.685 --> 00:37:35.365
<v Speaker 2>Help find address.

00:37:37.760 --> 00:37:39.200
<v Speaker 0>I think. I

00:37:42.320 --> 00:37:43.600
<v Speaker 0>think that's okay.

00:37:45.200 --> 00:37:45.920
<v Speaker 2>Okay.

00:37:46.080 --> 00:37:47.600
<v Speaker 0>And if you run the cat again, we

00:37:47.600 --> 00:37:48.640
<v Speaker 0>can look at the next file.

00:37:54.045 --> 00:37:57.005
<v Speaker 0>Sorry. The system control cat. There's another two

00:37:57.005 --> 00:37:59.085
<v Speaker 0>conflict files. I don't remember where they are.

00:38:01.965 --> 00:38:05.050
<v Speaker 2>What's the file we wanna look at? Kubelet.

00:38:05.530 --> 00:38:06.570
<v Speaker 0>Yeah. Okay.

00:38:07.210 --> 00:38:09.130
<v Speaker 0>Yeah. Kubelet. Now we've got this

00:38:10.569 --> 00:38:11.530
<v Speaker 0>varlib

00:38:11.530 --> 00:38:13.370
<v Speaker 0>kubelet flags.

00:38:14.329 --> 00:38:15.770
<v Speaker 0>I'll just cut that.

00:38:18.250 --> 00:38:19.770
<v Speaker 0>And that looks

00:38:20.675 --> 00:38:21.235
<v Speaker 0>clean.

00:38:21.875 --> 00:38:24.115
<v Speaker 2>Yeah. That looks good to me. And then

00:38:24.115 --> 00:38:25.555
<v Speaker 2>the next file we need to look at

00:38:25.555 --> 00:38:27.235
<v Speaker 2>is the environment file.

00:38:28.355 --> 00:38:30.755
<v Speaker 0>Yeah. The Etsy default kubelet. We could take

00:38:30.755 --> 00:38:32.035
<v Speaker 0>a peek in there and see.

00:38:37.080 --> 00:38:38.200
<v Speaker 0>There we go.

00:38:40.440 --> 00:38:43.480
<v Speaker 2>We got extra args. Eviction hard memory dot

00:38:43.480 --> 00:38:45.320
<v Speaker 2>available less than a hundred gigs.

00:38:45.725 --> 00:38:47.485
<v Speaker 0>So this is telling the cubelet to evict

00:38:47.485 --> 00:38:49.565
<v Speaker 0>all pods if there's less than 100 gig

00:38:49.565 --> 00:38:50.845
<v Speaker 0>of available memory.

00:38:52.045 --> 00:38:54.925
<v Speaker 2>Wow. Okay. So we can delete that, I

00:38:54.925 --> 00:38:57.885
<v Speaker 2>guess. You can indeed delete that. Yeah.

00:38:59.880 --> 00:39:01.240
<v Speaker 0>What I'm And I will have to do

00:39:01.240 --> 00:39:02.120
<v Speaker 0>a

00:39:02.520 --> 00:39:03.480
<v Speaker 0>restart of the.

00:39:16.305 --> 00:39:18.385
<v Speaker 0>And if you jump back to the control

00:39:20.145 --> 00:39:21.664
<v Speaker 0>Jump back to control plane and try to

00:39:21.664 --> 00:39:22.704
<v Speaker 0>get nodes, and we'll see.

00:39:25.920 --> 00:39:28.640
<v Speaker 2>Still not ready. But Yeah. Let's give it

00:39:28.640 --> 00:39:29.600
<v Speaker 0>five seconds.

00:39:30.960 --> 00:39:32.240
<v Speaker 0>It's gonna be ready.

00:39:36.320 --> 00:39:38.560
<v Speaker 1>Yeah. That that's all there was for making

00:39:38.560 --> 00:39:40.400
<v Speaker 1>it not ready, so it should come back.

00:39:41.175 --> 00:39:42.135
<v Speaker 0>Hey. Hey.

00:39:43.015 --> 00:39:46.135
<v Speaker 2>The worker's good, but not the, control plane.

00:39:46.135 --> 00:39:48.295
<v Speaker 0>Oh, we don't need that control plane.

00:39:48.775 --> 00:39:50.215
<v Speaker 1>It's

00:39:50.215 --> 00:39:51.815
<v Speaker 1>not a part, but it's the same break,

00:39:51.815 --> 00:39:53.095
<v Speaker 1>so you can fix it quickly.

00:39:54.150 --> 00:39:54.869
<v Speaker 2>Okay.

00:39:54.950 --> 00:39:56.230
<v Speaker 2>Hold on. Let's

00:39:56.869 --> 00:39:58.549
<v Speaker 2>see what I did. So I actually went

00:39:58.549 --> 00:40:00.390
<v Speaker 2>into which file again?

00:40:00.630 --> 00:40:03.030
<v Speaker 0>It was u r m slash e t

00:40:03.030 --> 00:40:05.190
<v Speaker 0>c slash default slash kubelet.

00:40:05.990 --> 00:40:06.309
<v Speaker 2>Yeah.

00:40:13.485 --> 00:40:14.925
<v Speaker 2>System CTL

00:40:15.165 --> 00:40:15.885
<v Speaker 2>restart.

00:40:16.525 --> 00:40:17.885
<v Speaker 2>Kubelet.

00:40:23.280 --> 00:40:26.160
<v Speaker 2>And then kubectl get nodes.

00:40:28.000 --> 00:40:28.800
<v Speaker 2>Already.

00:40:28.960 --> 00:40:30.320
<v Speaker 2>That's a watch.

00:40:31.120 --> 00:40:32.720
<v Speaker 0>Let's wait for it to change.

00:40:33.280 --> 00:40:34.720
<v Speaker 2>Eventually, it'll change.

00:40:35.120 --> 00:40:36.320
<v Speaker 2>Hopefully, it'll change.

00:40:36.880 --> 00:40:37.520
<v Speaker 0>There we go.

00:40:39.255 --> 00:40:41.255
<v Speaker 2>Alright. Alright. Well, let's take a look at

00:40:41.255 --> 00:40:42.215
<v Speaker 2>our deployments.

00:40:42.375 --> 00:40:43.255
<v Speaker 2>Get deploy.

00:40:44.775 --> 00:40:46.295
<v Speaker 0>Why not? Available.

00:40:48.295 --> 00:40:49.335
<v Speaker 0>That's good.

00:40:50.135 --> 00:40:51.974
<v Speaker 2>K. Get SBC.

00:40:53.710 --> 00:40:55.310
<v Speaker 2>Yeah. That's a node port.

00:40:55.710 --> 00:40:56.910
<v Speaker 2>And what did you want me to upgrade

00:40:56.910 --> 00:40:58.830
<v Speaker 2>it to? Version two or something? You have

00:40:58.830 --> 00:41:01.630
<v Speaker 0>to upgrade our cluster deployment from m h

00:41:01.630 --> 00:41:03.310
<v Speaker 0>v one to m h v two.

00:41:03.790 --> 00:41:05.550
<v Speaker 2>Alright. Let me just

00:41:05.484 --> 00:41:07.165
<v Speaker 0>And you've got six and a half minutes.

00:41:07.805 --> 00:41:08.525
<v Speaker 2>Okay.

00:41:12.765 --> 00:41:14.365
<v Speaker 2>Let

00:41:14.365 --> 00:41:15.805
<v Speaker 2>it deploy

00:41:16.685 --> 00:41:17.244
<v Speaker 2>clustered.

00:41:40.945 --> 00:41:41.345
<v Speaker 0>Nothing.

00:41:46.470 --> 00:41:48.150
<v Speaker 2>Darn. Why didn't we update?

00:41:48.630 --> 00:41:50.550
<v Speaker 1>I was worried that was gonna work.

00:41:54.310 --> 00:41:55.590
<v Speaker 0>Yeah. I mean, you could try the edit

00:41:55.590 --> 00:41:57.670
<v Speaker 0>deploy again. Something tells me the edit oh,

00:41:57.670 --> 00:41:58.390
<v Speaker 0>it did go through.

00:42:02.045 --> 00:42:04.445
<v Speaker 0>Do we have a a new replica set?

00:42:04.605 --> 00:42:05.405
<v Speaker 1>We

00:42:07.645 --> 00:42:09.244
<v Speaker 0>do not. No.

00:42:11.724 --> 00:42:13.005
<v Speaker 2>Now what happened?

00:42:14.690 --> 00:42:15.970
<v Speaker 2>Could CTL

00:42:16.049 --> 00:42:18.369
<v Speaker 2>edit the flow actually, let's just get the

00:42:18.369 --> 00:42:19.170
<v Speaker 2>deploy.

00:42:20.210 --> 00:42:21.410
<v Speaker 2>Deploy.

00:42:23.329 --> 00:42:23.730
<v Speaker 2>Actually

00:42:25.410 --> 00:42:26.930
<v Speaker 1>So I can give a hint for this

00:42:26.930 --> 00:42:27.089
<v Speaker 1>one.

00:42:28.065 --> 00:42:30.704
<v Speaker 1>So the replica sets are managed by a

00:42:30.704 --> 00:42:32.945
<v Speaker 1>thing called the cube controller manager.

00:42:33.265 --> 00:42:36.385
<v Speaker 2>Yeah. And so if we're not getting new

00:42:36.385 --> 00:42:38.865
<v Speaker 1>one of those, you're gonna wanna make sure.

00:42:39.105 --> 00:42:39.745
<v Speaker 1>Yeah.

00:42:40.305 --> 00:42:42.464
<v Speaker 2>Wait. We're getting a new one of what?

00:42:43.070 --> 00:42:44.590
<v Speaker 0>Yeah. So there's

00:42:44.750 --> 00:42:45.310
<v Speaker 0>are

00:42:45.790 --> 00:42:47.870
<v Speaker 0>you familiar with the Kube controller manager?

00:42:49.230 --> 00:42:50.910
<v Speaker 2>I messed around with it, like, a long

00:42:50.910 --> 00:42:53.230
<v Speaker 2>time ago. So Yeah. If if you go

00:42:53.230 --> 00:42:55.230
<v Speaker 0>look at the static manifest, I think you'll

00:42:55.230 --> 00:42:55.630
<v Speaker 0>you'll try.

00:42:58.405 --> 00:42:59.445
<v Speaker 2>So the

00:42:59.925 --> 00:43:03.365
<v Speaker 2>one second. It's a Etsy Kubernetes manifest. Right?

00:43:03.445 --> 00:43:04.405
<v Speaker 0>That's the one.

00:43:07.125 --> 00:43:08.725
<v Speaker 0>This is one of the weirdest things about

00:43:08.725 --> 00:43:10.805
<v Speaker 0>Kubernetes. And, actually, I talk about this the

00:43:10.805 --> 00:43:12.885
<v Speaker 0>talk I did at DevOpsDays Birmingham last week.

00:43:12.885 --> 00:43:15.080
<v Speaker 0>I was talking about the KubeControlManager

00:43:15.160 --> 00:43:17.400
<v Speaker 0>how you can disable replica sets and pods.

00:43:17.400 --> 00:43:19.160
<v Speaker 0>And I'm just thinking, like why?

00:43:19.320 --> 00:43:21.400
<v Speaker 0>Why do these flags exist? But of course

00:43:21.400 --> 00:43:22.840
<v Speaker 0>there are always use cases.

00:43:23.960 --> 00:43:25.720
<v Speaker 0>But yeah, it's always a sneaky break.

00:43:33.184 --> 00:43:33.985
<v Speaker 2>Okay.

00:43:34.625 --> 00:43:35.905
<v Speaker 2>Let's see.

00:43:36.385 --> 00:43:39.585
<v Speaker 0>Oh, past it. I'll

00:43:39.585 --> 00:43:42.944
<v Speaker 1>tell you, this is sneakier than you're gonna

00:43:42.944 --> 00:43:43.345
<v Speaker 1>expect.

00:43:46.670 --> 00:43:48.830
<v Speaker 0>Oh, it is. I expected to see a

00:43:50.190 --> 00:43:52.910
<v Speaker 0>dash replica set controller thing there.

00:43:55.950 --> 00:43:59.150
<v Speaker 1>If you check the cube controller logs, it'll

00:43:59.150 --> 00:44:01.145
<v Speaker 1>at least tell you what the problem is.

00:44:03.305 --> 00:44:04.425
<v Speaker 1>Oh, gosh.

00:44:06.665 --> 00:44:08.265
<v Speaker 2>It would have been faster just to deploy

00:44:08.265 --> 00:44:10.425
<v Speaker 2>the new cluster that you create.

00:44:11.065 --> 00:44:11.865
<v Speaker 1>Start

00:44:11.865 --> 00:44:14.025
<v Speaker 1>with cube 80 every set. It's always the

00:44:14.025 --> 00:44:14.505
<v Speaker 1>best way.

00:44:15.210 --> 00:44:17.530
<v Speaker 0>Alright. Let's check the logs for this kubectroller

00:44:17.530 --> 00:44:18.890
<v Speaker 0>manager and

00:44:19.130 --> 00:44:21.930
<v Speaker 0>see what's happening because I have no idea.

00:44:28.985 --> 00:44:30.585
<v Speaker 2>Sorry. What's the command to run through the

00:44:30.585 --> 00:44:33.225
<v Speaker 2>logs again? For this, because it's a static

00:44:33.225 --> 00:44:34.825
<v Speaker 0>pod, you need to go to bar log

00:44:34.825 --> 00:44:35.705
<v Speaker 0>containers.

00:44:37.305 --> 00:44:39.625
<v Speaker 1>You can also use cube CTL logs on

00:44:39.625 --> 00:44:42.700
<v Speaker 1>it because it's inside the cube system namespace.

00:44:42.700 --> 00:44:43.820
<v Speaker 0>Oh, yeah. Oh, yeah.

00:44:44.860 --> 00:44:47.820
<v Speaker 2>Pawn station Kube system.

00:44:48.380 --> 00:44:49.900
<v Speaker 2>Kube logs.

00:44:52.780 --> 00:44:54.860
<v Speaker 0>That's a good point. Oh, yeah. Okay. I

00:44:54.860 --> 00:44:56.060
<v Speaker 2>just noticed something here.

00:44:57.954 --> 00:44:59.635
<v Speaker 0>You've got the namespace.

00:44:59.635 --> 00:45:00.115
<v Speaker 2>Yeah.

00:45:01.635 --> 00:45:02.755
<v Speaker 2>Oh my gosh.

00:45:03.875 --> 00:45:04.675
<v Speaker 0>Noise.

00:45:04.675 --> 00:45:06.115
<v Speaker 0>There's so much noise.

00:45:07.875 --> 00:45:09.075
<v Speaker 1>That's not noise.

00:45:09.555 --> 00:45:10.434
<v Speaker 1>That's information.

00:45:11.760 --> 00:45:15.280
<v Speaker 2>We're retrieving resource block system. Lease

00:45:15.520 --> 00:45:16.560
<v Speaker 2>coordination

00:45:18.080 --> 00:45:19.840
<v Speaker 2>is forbidden system.

00:45:19.840 --> 00:45:20.560
<v Speaker 2>What?

00:45:23.280 --> 00:45:23.840
<v Speaker 2>Okay.

00:45:25.875 --> 00:45:27.475
<v Speaker 2>I feel like I'm so close.

00:45:29.715 --> 00:45:30.675
<v Speaker 0>So Kubernetes

00:45:30.915 --> 00:45:32.995
<v Speaker 0>I mean, I'm guessing, and I'm I'm explaining

00:45:32.995 --> 00:45:34.275
<v Speaker 0>this to myself to see if this even

00:45:34.275 --> 00:45:35.715
<v Speaker 0>makes sense. But Kubernetes

00:45:35.715 --> 00:45:36.675
<v Speaker 0>API

00:45:36.675 --> 00:45:39.395
<v Speaker 0>supports leader elections, so the releases

00:45:39.800 --> 00:45:41.720
<v Speaker 0>thing, and it looks like

00:45:43.000 --> 00:45:45.000
<v Speaker 0>have you modified the RBAC

00:45:45.000 --> 00:45:47.080
<v Speaker 0>of the role for the controller manager to

00:45:47.080 --> 00:45:49.480
<v Speaker 0>not have access to the leases

00:45:50.040 --> 00:45:51.960
<v Speaker 0>object? Leader election was true.

00:45:52.200 --> 00:45:53.960
<v Speaker 2>Right? I made it look like I did.

00:45:56.244 --> 00:45:58.885
<v Speaker 0>You can turn the laser light off because

00:45:58.965 --> 00:45:59.925
<v Speaker 0>there's

00:45:59.925 --> 00:46:00.725
<v Speaker 0>only one.

00:46:01.525 --> 00:46:02.245
<v Speaker 0>Right?

00:46:02.885 --> 00:46:04.245
<v Speaker 0>Is that what you've done?

00:46:06.805 --> 00:46:07.845
<v Speaker 1>No. So

00:46:08.965 --> 00:46:10.645
<v Speaker 1>yeah. So since we're getting close to time.

00:46:11.090 --> 00:46:13.410
<v Speaker 1>So the way this is working

00:46:13.650 --> 00:46:14.930
<v Speaker 1>oh, we'll we'll see if he

00:46:16.450 --> 00:46:17.890
<v Speaker 1>it it's sitting right in front of you

00:46:17.890 --> 00:46:18.690
<v Speaker 1>right now.

00:46:21.170 --> 00:46:23.490
<v Speaker 1>It's right in front of you. Oh, he's

00:46:23.490 --> 00:46:24.690
<v Speaker 0>been in the wrong

00:46:24.945 --> 00:46:26.065
<v Speaker 0>authentication

00:46:26.545 --> 00:46:27.985
<v Speaker 0>for the controller manager.

00:46:28.865 --> 00:46:29.505
<v Speaker 0>Right?

00:46:29.665 --> 00:46:31.505
<v Speaker 0>You're meant in the scheduler instead of the

00:46:31.505 --> 00:46:32.545
<v Speaker 0>controller manager.

00:46:32.865 --> 00:46:34.865
<v Speaker 1>Yeah. The error is saying that the scheduler

00:46:34.865 --> 00:46:36.225
<v Speaker 1>can't get these leases.

00:46:36.385 --> 00:46:38.225
<v Speaker 1>You're not supposed to be working as scheduler.

00:46:39.130 --> 00:46:41.370
<v Speaker 0>Yeah. Go down four lines, but, you know,

00:46:42.010 --> 00:46:43.290
<v Speaker 0>that scheduler.com

00:46:43.290 --> 00:46:46.010
<v Speaker 0>should be controller-manager.com.

00:46:46.650 --> 00:46:48.010
<v Speaker 2>Control Oh.

00:46:50.010 --> 00:46:51.610
<v Speaker 0>You know, you could've given me an error.

00:46:51.610 --> 00:46:52.890
<v Speaker 0>I don't think I would've seen that.

00:46:53.545 --> 00:46:54.425
<v Speaker 1>I

00:46:54.425 --> 00:46:56.825
<v Speaker 1>tried it on two of my friends before

00:46:56.825 --> 00:46:58.265
<v Speaker 1>this to see if they figured out, and

00:46:58.265 --> 00:46:59.705
<v Speaker 1>they couldn't. So I'm like, this is a

00:46:59.705 --> 00:47:02.105
<v Speaker 1>good one. This service is really interesting.

00:47:03.465 --> 00:47:05.785
<v Speaker 0>I don't know if it's cube controller manager

00:47:05.785 --> 00:47:07.145
<v Speaker 0>or just controller manager.

00:47:07.545 --> 00:47:10.460
<v Speaker 2>I just okay. We may have to check.

00:47:10.460 --> 00:47:11.820
<v Speaker 0>But you can save it either way and

00:47:11.820 --> 00:47:13.260
<v Speaker 0>then and look in that directory and see

00:47:13.260 --> 00:47:14.460
<v Speaker 0>what file exists.

00:47:17.420 --> 00:47:19.500
<v Speaker 0>This is l s. I think it's cube

00:47:19.500 --> 00:47:20.380
<v Speaker 1>controller manager.

00:47:28.435 --> 00:47:29.955
<v Speaker 0>So you were right the first time when

00:47:29.955 --> 00:47:31.235
<v Speaker 0>you listened to me. That was your big

00:47:31.235 --> 00:47:31.955
<v Speaker 0>mistake.

00:47:33.555 --> 00:47:35.155
<v Speaker 2>Very good. Very good. Okay.

00:47:35.475 --> 00:47:36.035
<v Speaker 0>Alright.

00:47:37.830 --> 00:47:40.550
<v Speaker 0>If you restart the Kiplet, it will speed

00:47:40.550 --> 00:47:42.630
<v Speaker 0>that controller manager redeploy up.

00:47:57.664 --> 00:47:58.625
<v Speaker 0>Alright.

00:48:07.424 --> 00:48:07.744
<v Speaker 0>Done.

00:48:08.330 --> 00:48:10.170
<v Speaker 0>No. It's not. I feel like done.

00:48:10.970 --> 00:48:13.130
<v Speaker 1>Yeah. I was gonna say there's one more,

00:48:13.290 --> 00:48:14.730
<v Speaker 1>and then you're done. Sorry.

00:48:17.850 --> 00:48:20.170
<v Speaker 2>This is literally death by a thousand cuts.

00:48:21.455 --> 00:48:23.375
<v Speaker 2>Is it like okay. Here's the thing. I

00:48:23.375 --> 00:48:24.895
<v Speaker 2>don't know if it's in the deploy.

00:48:27.055 --> 00:48:28.655
<v Speaker 0>But do we have a new replica set

00:48:28.655 --> 00:48:29.215
<v Speaker 0>yet?

00:48:30.335 --> 00:48:31.535
<v Speaker 2>Actually, that's a good point.

00:48:35.210 --> 00:48:35.930
<v Speaker 0>Nope.

00:48:36.089 --> 00:48:38.410
<v Speaker 0>Alright. And did the controller manager restart if

00:48:38.410 --> 00:48:40.410
<v Speaker 0>you check the cube system namespace?

00:48:43.050 --> 00:48:44.970
<v Speaker 1>Yeah. You should have a new replica set.

00:48:44.970 --> 00:48:47.555
<v Speaker 1>Well, maybe not. Oh. No. We're crash it.

00:48:47.555 --> 00:48:49.315
<v Speaker 0>So that maybe it was controller manager, not

00:48:49.315 --> 00:48:51.555
<v Speaker 0>controller manager. Doing l s slash u t

00:48:51.555 --> 00:48:52.515
<v Speaker 0>c Kubernetes.

00:48:53.954 --> 00:48:56.195
<v Speaker 0>I'm assuming that's the fail not found error.

00:48:59.075 --> 00:49:00.435
<v Speaker 0>No. Just Kubernetes.

00:49:00.835 --> 00:49:03.290
<v Speaker 1>Yeah. Just inside Kubernetes. I'd say Kubernetes.

00:49:03.770 --> 00:49:05.130
<v Speaker 0>We're looking at the

00:49:05.770 --> 00:49:06.890
<v Speaker 0>it is Kubernetes.

00:49:08.730 --> 00:49:10.090
<v Speaker 0>Alright. You'll need to get the logs on

00:49:10.090 --> 00:49:11.610
<v Speaker 0>that control manager, and we'll see what it's

00:49:11.610 --> 00:49:13.450
<v Speaker 0>complaining about. We'll we'll go for a few

00:49:13.450 --> 00:49:14.490
<v Speaker 0>more minutes, and we'll see if we can

00:49:14.490 --> 00:49:14.970
<v Speaker 0>work it out.

00:49:17.895 --> 00:49:19.575
<v Speaker 1>Yeah. That should be working now. So you

00:49:19.575 --> 00:49:20.215
<v Speaker 1>might just have to

00:49:21.415 --> 00:49:23.095
<v Speaker 1>that was just thirty seconds ago. Yeah. So

00:49:23.095 --> 00:49:24.455
<v Speaker 1>there must be a typo on that line

00:49:24.455 --> 00:49:25.415
<v Speaker 1>we modified.

00:49:28.215 --> 00:49:30.135
<v Speaker 0>Yeah. It's not picking up that fail.

00:49:32.295 --> 00:49:35.220
<v Speaker 1>Yeah. Cat dot config. Let's figure out there

00:49:35.460 --> 00:49:37.700
<v Speaker 1>must be a missing character

00:49:37.700 --> 00:49:38.980
<v Speaker 1>or something. Cube

00:49:39.780 --> 00:49:40.580
<v Speaker 1>controller.

00:49:40.580 --> 00:49:40.980
<v Speaker 1>So

00:49:42.260 --> 00:49:44.020
<v Speaker 1>go to the top of this file. It

00:49:44.020 --> 00:49:45.220
<v Speaker 1>has the correct one.

00:49:45.940 --> 00:49:47.555
<v Speaker 1>And then we can just copy it from

00:49:47.555 --> 00:49:51.395
<v Speaker 1>there. Yeah. Right there. Oh, controller manager. Okay.

00:49:51.714 --> 00:49:53.555
<v Speaker 2>So it's not cube controller manager.

00:49:55.154 --> 00:49:56.515
<v Speaker 1>How did we look at the file system

00:49:56.515 --> 00:49:58.515
<v Speaker 1>and still think it was cube controller manager?

00:49:59.474 --> 00:50:01.954
<v Speaker 0>Don't know. Because the whole verified this.

00:50:03.040 --> 00:50:04.799
<v Speaker 1>Oh, no. We looked at the manifest. The

00:50:04.799 --> 00:50:07.119
<v Speaker 1>manifest is cube, but the actual comp is

00:50:07.119 --> 00:50:08.799
<v Speaker 1>not. Yeah. We looked at the No. We

00:50:08.799 --> 00:50:10.720
<v Speaker 0>could oh, there's two. That's why. There's the

00:50:10.720 --> 00:50:12.079
<v Speaker 0>cubecontrollermanager.com

00:50:12.079 --> 00:50:13.520
<v Speaker 0>and a controllermanager.com.

00:50:13.520 --> 00:50:13.839
<v Speaker 0>See?

00:50:18.395 --> 00:50:20.075
<v Speaker 2>No new replica set.

00:50:21.835 --> 00:50:23.515
<v Speaker 0>You may have to restart you, but I

00:50:23.515 --> 00:50:26.315
<v Speaker 0>can from that controller manager as well. Oh,

00:50:26.315 --> 00:50:27.595
<v Speaker 0>it's happy. Okay. Cool.

00:50:32.009 --> 00:50:33.290
<v Speaker 2>I'll do this.

00:50:35.769 --> 00:50:36.490
<v Speaker 2>Boom.

00:50:36.650 --> 00:50:38.490
<v Speaker 2>CTO rollout.

00:50:40.329 --> 00:50:42.635
<v Speaker 1>Alright. So give you the final hint because

00:50:42.635 --> 00:50:45.195
<v Speaker 1>we're close though we're out of time. The

00:50:45.195 --> 00:50:48.075
<v Speaker 1>scheduler is your your final issue.

00:50:48.715 --> 00:50:49.115
<v Speaker 2>Looks

00:50:51.275 --> 00:50:52.155
<v Speaker 2>but

00:50:53.435 --> 00:50:54.155
<v Speaker 2>it looks healthy.

00:50:56.160 --> 00:50:58.400
<v Speaker 1>You might see a trend with these breaks.

00:50:58.400 --> 00:51:00.160
<v Speaker 1>Everything looks healthy.

00:51:03.440 --> 00:51:04.320
<v Speaker 2>Action.

00:51:04.320 --> 00:51:05.760
<v Speaker 2>Just to see. I want it

00:51:07.920 --> 00:51:09.600
<v Speaker 2>he's not gonna tell me anything here.

00:51:12.685 --> 00:51:14.365
<v Speaker 0>Replica

00:51:14.365 --> 00:51:16.365
<v Speaker 0>sets don't need scheduled. So why do we

00:51:16.365 --> 00:51:18.445
<v Speaker 0>not have a new replica set? Oh, that's

00:51:18.445 --> 00:51:19.805
<v Speaker 1>true. We should have a new replica set

00:51:19.805 --> 00:51:20.685
<v Speaker 1>at this point.

00:51:21.165 --> 00:51:23.085
<v Speaker 1>Not the controller manager. Oh, we do know.

00:51:23.085 --> 00:51:25.405
<v Speaker 0>Alright. Okay. Okay. So how many pods do

00:51:25.405 --> 00:51:25.645
<v Speaker 0>we have?

00:51:27.280 --> 00:51:29.440
<v Speaker 0>Right. Okay. Now we can describe the new

00:51:29.440 --> 00:51:30.800
<v Speaker 0>replica set, and we can see what the

00:51:30.800 --> 00:51:32.160
<v Speaker 0>hell's going on there. Oh, it says forty

00:51:32.160 --> 00:51:34.240
<v Speaker 1>seconds. Yeah. Yeah. Yeah. Yeah. Might

00:51:34.800 --> 00:51:35.520
<v Speaker 1>be okay.

00:51:36.160 --> 00:51:38.319
<v Speaker 2>Alright. Let's just do that. Yeah.

00:51:39.765 --> 00:51:41.285
<v Speaker 2>How do I get to the okay. One

00:51:41.285 --> 00:51:43.365
<v Speaker 2>second. Could CTL get

00:51:43.684 --> 00:51:44.565
<v Speaker 2>SCC?

00:51:46.645 --> 00:51:48.484
<v Speaker 2>Or am I pasting this in to my

00:51:48.484 --> 00:51:49.365
<v Speaker 2>web browser?

00:51:50.165 --> 00:51:51.525
<v Speaker 0>You can curl

00:51:51.560 --> 00:51:53.480
<v Speaker 0>local host 30,000. It doesn't work in my

00:51:53.480 --> 00:51:55.480
<v Speaker 0>browser, but sometimes that does happen. I need

00:51:55.480 --> 00:51:56.440
<v Speaker 0>to work on that.

00:51:56.920 --> 00:51:58.920
<v Speaker 0>Yeah, local host 30,000, see if we get

00:51:58.920 --> 00:51:59.640
<v Speaker 0>v two.

00:52:00.760 --> 00:52:01.960
<v Speaker 0>We do. Nice.

00:52:03.000 --> 00:52:04.680
<v Speaker 0>There you go. Your scheduler break did not

00:52:04.680 --> 00:52:04.920
<v Speaker 0>take.

00:52:05.855 --> 00:52:08.015
<v Speaker 1>Hang on. I I did that one on

00:52:08.015 --> 00:52:09.615
<v Speaker 1>Adobe, and it didn't work out that either.

00:52:09.615 --> 00:52:10.974
<v Speaker 1>I need to get better at it.

00:52:11.934 --> 00:52:14.494
<v Speaker 2>That was good. Oh my gosh. Oh my

00:52:14.494 --> 00:52:15.295
<v Speaker 2>gosh.

00:52:15.934 --> 00:52:17.055
<v Speaker 2>Alright.

00:52:17.694 --> 00:52:18.494
<v Speaker 2>Whoo.

00:52:18.895 --> 00:52:21.135
<v Speaker 2>That was interesting. Thanks so much for that.

00:52:23.210 --> 00:52:24.250
<v Speaker 0>Yeah. That

00:52:24.970 --> 00:52:26.410
<v Speaker 0>meant in the wrong

00:52:27.530 --> 00:52:29.930
<v Speaker 0>cube config and to the container.

00:52:30.410 --> 00:52:32.010
<v Speaker 0>Gives you, like, a kill effect because it

00:52:32.010 --> 00:52:33.690
<v Speaker 0>looks like something we've seen before and then

00:52:33.690 --> 00:52:36.490
<v Speaker 0>was and and it just completely different. That

00:52:36.490 --> 00:52:37.210
<v Speaker 1>was

00:52:37.815 --> 00:52:39.015
<v Speaker 1>evil,

00:52:39.095 --> 00:52:39.575
<v Speaker 1>but

00:52:40.214 --> 00:52:42.855
<v Speaker 1>fun. I enjoyed it. Thank you so much.

00:52:43.015 --> 00:52:44.695
<v Speaker 0>Alright. Great work, Marina.

00:52:44.935 --> 00:52:46.214
<v Speaker 0>And I I love the way you were

00:52:46.214 --> 00:52:48.295
<v Speaker 0>talking and explaining things as you went as

00:52:48.295 --> 00:52:50.214
<v Speaker 0>well, which is just fantastic. So nice work.

00:52:51.160 --> 00:52:53.640
<v Speaker 0>Alright. It's time to swap hot seats. John,

00:52:53.640 --> 00:52:54.680
<v Speaker 0>you are up.

00:52:55.400 --> 00:52:57.160
<v Speaker 2>Rock and roll, man. You got this. I

00:52:57.160 --> 00:52:59.160
<v Speaker 1>I I like the other side better.

00:52:59.720 --> 00:53:01.800
<v Speaker 1>I don't want I don't wanna do this.

00:53:02.615 --> 00:53:04.215
<v Speaker 0>Alright. I have opened

00:53:04.934 --> 00:53:07.974
<v Speaker 0>well, opening an SSE session on the control

00:53:07.974 --> 00:53:09.815
<v Speaker 0>plane. Please feel free to join the session

00:53:09.815 --> 00:53:11.174
<v Speaker 0>and give me an echo or something to

00:53:11.174 --> 00:53:12.775
<v Speaker 0>let me know that you are there.

00:53:13.174 --> 00:53:15.174
<v Speaker 0>And we'll get this thing started.

00:53:20.130 --> 00:53:22.690
<v Speaker 0>Sweet. You have forty just over forty one

00:53:22.690 --> 00:53:25.890
<v Speaker 0>minutes. Export your KubeConfig, set up any aliases,

00:53:25.890 --> 00:53:27.010
<v Speaker 0>and best of luck.

00:53:29.410 --> 00:53:31.650
<v Speaker 0>Russell was waiting on the the Rawkode schedule

00:53:31.650 --> 00:53:33.010
<v Speaker 0>there. We don't need to bust that one

00:53:33.010 --> 00:53:33.490
<v Speaker 0>out today.

00:53:34.605 --> 00:53:37.165
<v Speaker 1>You're supposed to need it, though. That's

00:53:37.165 --> 00:53:38.045
<v Speaker 1>unfortunate.

00:53:41.005 --> 00:53:42.365
<v Speaker 1>Alright. So

00:53:42.525 --> 00:53:44.925
<v Speaker 1>let's look. Did you did you install a

00:53:44.925 --> 00:53:45.965
<v Speaker 2>tool just now?

00:53:46.205 --> 00:53:46.925
<v Speaker 2>I

00:53:49.405 --> 00:53:52.900
<v Speaker 1>just, you know, some small small scripts. Nothing.

00:53:52.900 --> 00:53:55.300
<v Speaker 1>Ignore. Ignore. Oh, you just saw the air.

00:53:55.300 --> 00:53:57.380
<v Speaker 1>Oh, okay. There you go. Nothing to see

00:53:57.380 --> 00:53:59.300
<v Speaker 1>here. Okay. You're on control.

00:53:59.540 --> 00:54:02.100
<v Speaker 0>You're on JK. You're on CT control. You're

00:54:02.100 --> 00:54:03.780
<v Speaker 0>on helm. You set up your alias.

00:54:04.565 --> 00:54:07.925
<v Speaker 1>Yep. So Look. You were looking for policies.

00:54:08.565 --> 00:54:09.125
<v Speaker 0>Yeah.

00:54:09.605 --> 00:54:09.845
<v Speaker 1>I

00:54:10.724 --> 00:54:12.484
<v Speaker 1>after last time, I'm like, yeah. I'm checking

00:54:12.484 --> 00:54:13.685
<v Speaker 1>for all kinds of stuff.

00:54:14.005 --> 00:54:15.125
<v Speaker 1>Alright. So

00:54:16.650 --> 00:54:19.849
<v Speaker 1>that means the API server is not up.

00:54:19.849 --> 00:54:20.490
<v Speaker 1>So

00:54:21.049 --> 00:54:22.010
<v Speaker 1>alright. Yeah. Let's

00:54:25.450 --> 00:54:27.930
<v Speaker 1>we have a kubelet, but we don't have

00:54:27.930 --> 00:54:30.445
<v Speaker 1>a kubelet API server for some reason. So

00:54:30.685 --> 00:54:32.605
<v Speaker 1>for our log containers,

00:54:35.964 --> 00:54:37.005
<v Speaker 1>why aren't you working?

00:54:41.840 --> 00:54:43.040
<v Speaker 1>Uh-oh. So

00:54:43.280 --> 00:54:44.080
<v Speaker 1>alright.

00:54:45.280 --> 00:54:46.480
<v Speaker 1>Hopefully, it's

00:54:47.280 --> 00:54:48.720
<v Speaker 1>still there.

00:54:51.360 --> 00:54:52.240
<v Speaker 1>Manifest.

00:54:52.240 --> 00:54:52.640
<v Speaker 1>Alright.

00:54:53.625 --> 00:54:56.585
<v Speaker 1>And so we should have set PKI in

00:54:56.585 --> 00:54:57.225
<v Speaker 1>there,

00:54:58.025 --> 00:54:59.945
<v Speaker 1>and they're called API server.

00:55:00.425 --> 00:55:01.145
<v Speaker 1>Okay.

00:55:01.465 --> 00:55:03.305
<v Speaker 1>So let's

00:55:03.305 --> 00:55:05.785
<v Speaker 1>see what it's what was the error? PKI

00:55:05.785 --> 00:55:07.865
<v Speaker 1>API server etcd client.

00:55:11.640 --> 00:55:12.840
<v Speaker 1>Is that different?

00:55:16.760 --> 00:55:18.280
<v Speaker 1>Yeah. So that's not there.

00:55:19.160 --> 00:55:20.600
<v Speaker 1>So what is

00:55:21.320 --> 00:55:22.200
<v Speaker 1>oh, there's two.

00:55:22.955 --> 00:55:25.355
<v Speaker 1>Yeah. There's two s's there. Okay.

00:55:27.275 --> 00:55:29.035
<v Speaker 1>That was confusing. I'm like, it looks like

00:55:29.035 --> 00:55:29.835
<v Speaker 1>it's there.

00:55:30.635 --> 00:55:32.795
<v Speaker 1>Alright. So we got two s's there.

00:55:33.835 --> 00:55:35.435
<v Speaker 1>Oh, I just deleted the wrong thing, didn't

00:55:35.435 --> 00:55:35.915
<v Speaker 1>I?

00:55:36.235 --> 00:55:36.715
<v Speaker 0>Yep.

00:55:37.440 --> 00:55:39.839
<v Speaker 1>Yep. I was I searched for two s's.

00:55:39.839 --> 00:55:41.599
<v Speaker 1>Turns out in English, you can't have two

00:55:41.599 --> 00:55:42.320
<v Speaker 1>s's.

00:55:42.640 --> 00:55:44.000
<v Speaker 0>Yeah. Quite common.

00:55:46.400 --> 00:55:47.120
<v Speaker 1>Alright.

00:55:47.680 --> 00:55:49.520
<v Speaker 1>Let's see the

00:55:49.065 --> 00:55:51.865
<v Speaker 1>CA file. Okay. So I'm there we go.

00:55:51.865 --> 00:55:52.825
<v Speaker 1>That's the right one.

00:55:53.145 --> 00:55:55.385
<v Speaker 1>I almost made things worse.

00:55:55.865 --> 00:55:57.065
<v Speaker 0>Yep. That happened.

00:55:59.065 --> 00:56:00.425
<v Speaker 1>That would've been harder to detect.

00:56:02.150 --> 00:56:02.950
<v Speaker 1>Alright.

00:56:07.430 --> 00:56:09.510
<v Speaker 1>Just give it a little poke,

00:56:09.910 --> 00:56:12.230
<v Speaker 1>and then

00:56:20.595 --> 00:56:22.435
<v Speaker 1>alright. So it hasn't changed.

00:56:22.515 --> 00:56:22.915
<v Speaker 1>So

00:56:33.609 --> 00:56:35.369
<v Speaker 0>And you'll move it and put it back,

00:56:35.369 --> 00:56:36.410
<v Speaker 0>Drake, as well.

00:56:39.770 --> 00:56:42.170
<v Speaker 0>Although the tail that you've got, the container

00:56:42.170 --> 00:56:43.050
<v Speaker 0>ID will change.

00:56:45.165 --> 00:56:47.085
<v Speaker 1>Yeah. Well, I did star, so I should've

00:56:47.085 --> 00:56:48.365
<v Speaker 1>got them all. Alright.

00:56:48.445 --> 00:56:50.045
<v Speaker 0>Oh, yeah. But the star was always at

00:56:50.045 --> 00:56:51.165
<v Speaker 0>that time.

00:56:51.805 --> 00:56:53.645
<v Speaker 0>So when then Yeah.

00:56:54.445 --> 00:56:55.005
<v Speaker 1>Interesting.

00:56:55.290 --> 00:56:56.010
<v Speaker 1>So

00:56:56.490 --> 00:56:58.010
<v Speaker 1>yeah. So it still didn't pick up that

00:56:58.010 --> 00:56:59.610
<v Speaker 1>change. Let me look back at it.

00:57:01.290 --> 00:57:03.370
<v Speaker 1>Didn't pick up my change here,

00:57:04.410 --> 00:57:05.530
<v Speaker 1>but I did save it.

00:57:08.455 --> 00:57:10.935
<v Speaker 0>Another way to get logs is varlog

00:57:11.655 --> 00:57:13.895
<v Speaker 0>pod. Mhmm. Yeah. Which just means you don't

00:57:13.895 --> 00:57:15.575
<v Speaker 0>have to worry about the container ID changing

00:57:15.575 --> 00:57:16.375
<v Speaker 0>too much.

00:57:19.575 --> 00:57:20.455
<v Speaker 1>Yeah.

00:57:20.455 --> 00:57:21.255
<v Speaker 1>No.

00:57:21.895 --> 00:57:23.810
<v Speaker 1>We got all of these, though. So I

00:57:23.810 --> 00:57:26.050
<v Speaker 1>would need to know which one. Alright.

00:57:28.690 --> 00:57:30.290
<v Speaker 0>Alright. I'll try to be helpful. I thought

00:57:30.290 --> 00:57:31.010
<v Speaker 0>you're getting.

00:57:32.690 --> 00:57:34.610
<v Speaker 1>Alright. So I have

00:57:35.890 --> 00:57:37.170
<v Speaker 1>I have a cubelet.

00:57:38.015 --> 00:57:40.575
<v Speaker 1>I'm not getting oh, what I could do

00:57:40.735 --> 00:57:41.695
<v Speaker 1>was it

00:57:43.775 --> 00:57:46.095
<v Speaker 1>so I don't have a Kube API server.

00:57:46.975 --> 00:57:49.295
<v Speaker 1>So it's still not starting it up even

00:57:49.295 --> 00:57:49.935
<v Speaker 1>though

00:57:50.175 --> 00:57:52.815
<v Speaker 1>I fixed the thing it's complaining about.

00:57:52.895 --> 00:57:53.295
<v Speaker 0>Yep.

00:57:54.660 --> 00:57:55.940
<v Speaker 1>That's annoying.

00:57:58.740 --> 00:58:00.020
<v Speaker 0>So

00:58:04.339 --> 00:58:05.380
<v Speaker 1>there's those logs.

00:58:10.815 --> 00:58:12.655
<v Speaker 1>So it's doing that because it's not starting

00:58:12.655 --> 00:58:15.375
<v Speaker 1>up. So for some reason, it's not starting.

00:58:16.415 --> 00:58:18.895
<v Speaker 1>Let's go back to the manifest

00:58:22.735 --> 00:58:23.855
<v Speaker 1>API server.

00:58:25.260 --> 00:58:27.180
<v Speaker 1>It says command QPA

00:58:27.180 --> 00:58:29.820
<v Speaker 1>API server, which is probably correct.

00:58:34.460 --> 00:58:36.540
<v Speaker 0>I feel like you're making some assumptions right

00:58:36.540 --> 00:58:36.780
<v Speaker 0>now.

00:58:40.234 --> 00:58:40.875
<v Speaker 1>So?

00:58:41.035 --> 00:58:41.835
<v Speaker 0>Yeah.

00:58:41.914 --> 00:58:44.875
<v Speaker 0>I mean, I I I'm 100% speculating, but

00:58:44.875 --> 00:58:46.714
<v Speaker 0>you've made one assumption, which I would probably

00:58:46.714 --> 00:58:48.315
<v Speaker 0>wanna confirm if I were you.

00:58:49.674 --> 00:58:51.035
<v Speaker 1>Well, I don't know what that assumption is,

00:58:51.035 --> 00:58:52.714
<v Speaker 1>but, like, what I've noticed so far is

00:58:53.090 --> 00:58:54.850
<v Speaker 1>API server is not running. Right? But I

00:58:54.850 --> 00:58:56.210
<v Speaker 1>do have a Kubelet up.

00:58:56.770 --> 00:58:59.170
<v Speaker 0>Well, if you modify a static manifest, then

00:58:59.170 --> 00:59:01.090
<v Speaker 0>you don't see that change happen.

00:59:01.490 --> 00:59:02.130
<v Speaker 1>Yeah.

00:59:02.770 --> 00:59:04.690
<v Speaker 1>Yeah. You're that is an assumption I shouldn't

00:59:04.690 --> 00:59:05.410
<v Speaker 1>be making.

00:59:05.730 --> 00:59:06.930
<v Speaker 1>You're you're right.

00:59:08.775 --> 00:59:10.135
<v Speaker 1>System CTO.

00:59:10.375 --> 00:59:12.135
<v Speaker 1>Good call. I would have been spinning my

00:59:12.135 --> 00:59:13.815
<v Speaker 1>wheels for a while if that's

00:59:16.214 --> 00:59:18.055
<v Speaker 1>let's actually look at that.

00:59:18.535 --> 00:59:21.080
<v Speaker 1>So I can't see my whole screen. I'm

00:59:21.080 --> 00:59:22.680
<v Speaker 1>gonna wiggle this so I can Yeah. Wiggle

00:59:22.680 --> 00:59:24.520
<v Speaker 0>it and type reset. Maybe it doesn't know.

00:59:24.520 --> 00:59:26.440
<v Speaker 0>Kickstart it. Yeah.

00:59:26.760 --> 00:59:27.880
<v Speaker 1>So let's

00:59:28.200 --> 00:59:29.960
<v Speaker 1>see if I can And if anyone wants

00:59:29.960 --> 00:59:32.680
<v Speaker 0>to rewrite Xterm GS, we'd all appreciate it.

00:59:32.680 --> 00:59:33.880
<v Speaker 0>That would be

00:59:35.000 --> 00:59:35.960
<v Speaker 0>that would be awesome.

00:59:40.735 --> 00:59:43.695
<v Speaker 1>That's, like, Toml. Yeah. This guy. Very.

00:59:47.455 --> 00:59:48.815
<v Speaker 1>Oh, that's a great place, though.

00:59:51.710 --> 00:59:53.470
<v Speaker 1>It's in Kubernetes manifest.

00:59:54.030 --> 00:59:54.750
<v Speaker 1>Right?

00:59:55.390 --> 00:59:56.990
<v Speaker 0>I don't know. My screen's gone a bit

00:59:56.990 --> 00:59:59.070
<v Speaker 0>funny on me now. Okay.

01:00:00.030 --> 01:00:02.350
<v Speaker 1>So, yeah, it's looking in the right place

01:00:04.430 --> 01:00:07.069
<v Speaker 1>unless there's a way to override it

01:00:07.815 --> 01:00:09.255
<v Speaker 1>outside of that

01:00:09.655 --> 01:00:11.815
<v Speaker 1>because we got static pad pad

01:00:12.215 --> 01:00:13.095
<v Speaker 1>path here,

01:00:14.615 --> 01:00:15.735
<v Speaker 1>which is correct.

01:00:17.815 --> 01:00:19.335
<v Speaker 1>Let's run that cat again.

01:00:22.030 --> 01:00:24.190
<v Speaker 1>So we can check we can check one

01:00:24.190 --> 01:00:25.070
<v Speaker 2>little hint.

01:00:26.270 --> 01:00:28.270
<v Speaker 2>Take a look at that error message when

01:00:28.270 --> 01:00:29.630
<v Speaker 2>you run that kubectl command.

01:00:33.255 --> 01:00:35.734
<v Speaker 1>Which command? But he's done a PS, and

01:00:35.734 --> 01:00:37.895
<v Speaker 0>there's no API server yet. Just

01:00:38.454 --> 01:00:41.015
<v Speaker 0>throwing that out there. Yeah. That too. Okay.

01:00:41.015 --> 01:00:42.454
<v Speaker 2>There yeah. There's something else that you'll have

01:00:42.454 --> 01:00:43.175
<v Speaker 2>to fix. But

01:00:43.575 --> 01:00:45.174
<v Speaker 0>Don't don't make it too easy on him.

01:00:45.174 --> 01:00:46.775
<v Speaker 0>Come on. You see what he did? Yeah.

01:00:46.855 --> 01:00:48.295
<v Speaker 2>That's true. Yeah. You're an s r. You

01:00:48.295 --> 01:00:48.775
<v Speaker 2>can hear me.

01:00:51.800 --> 01:00:53.640
<v Speaker 0>Alright. So you've confirmed that the static manifest

01:00:53.640 --> 01:00:55.400
<v Speaker 0>location has not been tampered with.

01:00:55.720 --> 01:00:57.480
<v Speaker 1>Alright. So we do have some extra ARGs,

01:00:57.480 --> 01:00:59.480
<v Speaker 1>which we don't want as well. So we'll

01:00:59.480 --> 01:01:00.200
<v Speaker 1>kill those off.

01:01:06.885 --> 01:01:08.645
<v Speaker 1>Which shouldn't

01:01:08.724 --> 01:01:10.725
<v Speaker 1>affect what we're doing right now.

01:01:10.885 --> 01:01:13.205
<v Speaker 1>And then I also wanna check

01:01:19.420 --> 01:01:20.860
<v Speaker 0>I just resized my window. I hope it

01:01:20.860 --> 01:01:22.700
<v Speaker 0>doesn't Nope. It's alright. It came back.

01:01:23.980 --> 01:01:25.580
<v Speaker 0>I've been trying to drag the bottom of

01:01:25.580 --> 01:01:27.500
<v Speaker 0>it for, like, the last three minutes. I

01:01:27.500 --> 01:01:28.780
<v Speaker 0>just I was just like, screw it. I'm

01:01:28.780 --> 01:01:29.740
<v Speaker 0>just gonna resize the thing.

01:01:31.674 --> 01:01:34.234
<v Speaker 1>Alright. So and all this looks okay.

01:01:37.194 --> 01:01:37.994
<v Speaker 1>Okay.

01:01:38.075 --> 01:01:40.234
<v Speaker 1>So let's

01:01:44.500 --> 01:01:45.859
<v Speaker 1>Still don't have API.

01:01:45.859 --> 01:01:47.700
<v Speaker 0>And you're not getting any logs

01:01:47.779 --> 01:01:50.260
<v Speaker 0>from it at all? Yeah. So that's what

01:01:50.260 --> 01:01:51.779
<v Speaker 1>I'm wondering. Like, if I go to bar

01:01:51.779 --> 01:01:52.660
<v Speaker 1>log

01:01:53.619 --> 01:01:54.660
<v Speaker 1>containers

01:01:56.819 --> 01:01:57.779
<v Speaker 1>and

01:01:58.345 --> 01:01:59.705
<v Speaker 1>queue API

01:01:59.705 --> 01:02:00.505
<v Speaker 1>server,

01:02:00.505 --> 01:02:02.585
<v Speaker 1>and then get all those. Yeah. So it

01:02:02.585 --> 01:02:04.665
<v Speaker 1>hasn't logged out since

01:02:05.225 --> 01:02:07.545
<v Speaker 1>that time that I Yeah. So it hasn't

01:02:07.545 --> 01:02:08.825
<v Speaker 1>even tried to start it yet.

01:02:13.079 --> 01:02:13.800
<v Speaker 1>So

01:02:15.240 --> 01:02:16.280
<v Speaker 1>what would

01:02:17.400 --> 01:02:19.400
<v Speaker 1>what would cause it to not try to

01:02:19.400 --> 01:02:21.320
<v Speaker 1>start a Kube API server?

01:02:21.800 --> 01:02:23.960
<v Speaker 0>Yeah. You even moved the file, and you

01:02:23.960 --> 01:02:26.725
<v Speaker 0>restarted to Kubler. Right? So Yep.

01:02:27.765 --> 01:02:29.925
<v Speaker 0>Yeah. Kubler's been running for one minute.

01:02:30.965 --> 01:02:32.325
<v Speaker 1>Yeah. It's user in.

01:02:33.285 --> 01:02:34.565
<v Speaker 1>Check here.

01:02:35.925 --> 01:02:37.845
<v Speaker 2>Are there any sort of, perhaps,

01:02:38.780 --> 01:02:39.740
<v Speaker 2>certificates

01:02:39.740 --> 01:02:41.020
<v Speaker 2>that might impact

01:02:41.900 --> 01:02:43.580
<v Speaker 2>how all of this might come up?

01:02:47.180 --> 01:02:49.580
<v Speaker 0>It shouldn't stop the API server for starting

01:02:49.580 --> 01:02:53.425
<v Speaker 0>because the kiblet reads the static manifest directory

01:02:53.425 --> 01:02:55.825
<v Speaker 0>and create something called a Metapod, which doesn't

01:02:55.825 --> 01:02:56.545
<v Speaker 0>require

01:02:59.665 --> 01:03:01.585
<v Speaker 0>yeah. It shouldn't require it doesn't require any

01:03:01.585 --> 01:03:03.905
<v Speaker 0>authentication. Those containers should just be created. Right?

01:03:04.760 --> 01:03:07.000
<v Speaker 1>Yeah. That's what yeah. I'm not sure. Like,

01:03:07.000 --> 01:03:08.839
<v Speaker 1>since he's given us a hint, I'm questioning

01:03:08.839 --> 01:03:09.400
<v Speaker 1>my

01:03:10.040 --> 01:03:11.720
<v Speaker 1>my assumptions here.

01:03:11.880 --> 01:03:13.720
<v Speaker 1>But my assumption would be even if it

01:03:13.720 --> 01:03:15.960
<v Speaker 1>was a certificate problem, it would try to

01:03:15.960 --> 01:03:17.400
<v Speaker 1>start it up and then

01:03:18.125 --> 01:03:19.485
<v Speaker 0>Yeah. We see logs.

01:03:19.724 --> 01:03:21.724
<v Speaker 1>Yeah. And we're not getting logs right now.

01:03:21.724 --> 01:03:23.325
<v Speaker 0>What about our Kubelet logs? Did that give

01:03:23.325 --> 01:03:24.125
<v Speaker 0>you anything?

01:03:26.525 --> 01:03:27.405
<v Speaker 1>Let's

01:03:27.885 --> 01:03:29.325
<v Speaker 1>let's

01:03:29.325 --> 01:03:29.645
<v Speaker 1>look.

01:03:30.410 --> 01:03:31.370
<v Speaker 1>There we go.

01:03:32.010 --> 01:03:34.570
<v Speaker 1>Not found. Alright. Oh, slow down.

01:03:35.050 --> 01:03:36.730
<v Speaker 0>It's usually a good idea to restart the

01:03:36.730 --> 01:03:37.930
<v Speaker 0>Kubelet and just

01:03:38.810 --> 01:03:40.810
<v Speaker 0>go through those logs so you see everything.

01:03:40.810 --> 01:03:42.010
<v Speaker 0>Because a lot of the times, you get

01:03:42.010 --> 01:03:43.530
<v Speaker 0>errors early if they never come back.

01:03:45.045 --> 01:03:46.325
<v Speaker 1>I'll just let her go for a little

01:03:46.325 --> 01:03:46.885
<v Speaker 1>bit.

01:03:47.365 --> 01:03:48.485
<v Speaker 1>Alright.

01:03:50.885 --> 01:03:52.964
<v Speaker 1>What do got here? Unable to register node

01:03:52.964 --> 01:03:54.485
<v Speaker 1>with API server.

01:03:57.925 --> 01:03:59.125
<v Speaker 1>Connection refused.

01:04:00.130 --> 01:04:01.650
<v Speaker 1>No. No. I think that was because Keybaby

01:04:01.650 --> 01:04:03.890
<v Speaker 1>BI server actually wasn't up. So some of

01:04:03.890 --> 01:04:05.490
<v Speaker 1>those errors oh, there we go.

01:04:08.130 --> 01:04:09.250
<v Speaker 1>CA certs.

01:04:17.135 --> 01:04:18.335
<v Speaker 1>Etsy PKI.

01:04:18.335 --> 01:04:20.174
<v Speaker 1>So, yeah, those are kind of interesting since

01:04:20.174 --> 01:04:22.174
<v Speaker 1>he mentioned the certificates. Right?

01:04:24.170 --> 01:04:24.970
<v Speaker 0>Mhmm.

01:04:27.610 --> 01:04:30.090
<v Speaker 1>Sure. Plan. Yeah. So,

01:04:33.050 --> 01:04:34.570
<v Speaker 1>yeah, that's the only thing I'm seeing in

01:04:34.570 --> 01:04:36.410
<v Speaker 1>there. I'll check a little bit more. But

01:04:36.490 --> 01:04:38.825
<v Speaker 1>yeah. A lot there at all. No.

01:04:40.744 --> 01:04:42.265
<v Speaker 0>But I also don't see any

01:04:42.665 --> 01:04:45.065
<v Speaker 0>header message with regards to certificate.

01:04:45.545 --> 01:04:47.224
<v Speaker 2>Hey. Did you also check to make sure

01:04:47.224 --> 01:04:48.505
<v Speaker 2>that you're right on you're on the right

01:04:48.505 --> 01:04:49.065
<v Speaker 2>context?

01:04:53.660 --> 01:04:55.180
<v Speaker 1>Did we both do that?

01:04:57.340 --> 01:04:58.860
<v Speaker 0>I don't see it.

01:04:59.100 --> 01:05:00.380
<v Speaker 0>Yeah. Yeah.

01:05:01.900 --> 01:05:03.580
<v Speaker 1>I was gonna be like, I thought I

01:05:03.580 --> 01:05:04.380
<v Speaker 1>was clever.

01:05:05.180 --> 01:05:06.220
<v Speaker 1>Alright. Alright.

01:05:08.645 --> 01:05:09.925
<v Speaker 1>Yeah. So what

01:05:10.405 --> 01:05:12.965
<v Speaker 1>let's go back to these manifests.

01:05:16.165 --> 01:05:17.845
<v Speaker 1>So because we should be starting the API

01:05:17.845 --> 01:05:19.525
<v Speaker 1>server, and you gave the hint of the

01:05:19.525 --> 01:05:20.165
<v Speaker 1>certs.

01:05:21.900 --> 01:05:23.900
<v Speaker 1>I would really expect a log for those.

01:05:23.900 --> 01:05:26.140
<v Speaker 1>So it's really interesting that it's failing to

01:05:26.140 --> 01:05:26.780
<v Speaker 1>start

01:05:27.820 --> 01:05:30.620
<v Speaker 1>the API server. I would expect log. I

01:05:31.820 --> 01:05:33.260
<v Speaker 0>mean, we don't even have any

01:05:34.380 --> 01:05:36.220
<v Speaker 0>containers or container d. Right?

01:05:37.265 --> 01:05:39.585
<v Speaker 1>Yeah. So oh, here. Let me look at

01:05:39.665 --> 01:05:40.945
<v Speaker 1>here. I'll show you. So, yeah, if you

01:05:40.945 --> 01:05:41.665
<v Speaker 1>do this,

01:05:41.985 --> 01:05:43.905
<v Speaker 1>we just don't have the Kube API server

01:05:43.905 --> 01:05:44.625
<v Speaker 1>currently.

01:05:48.385 --> 01:05:50.065
<v Speaker 1>So let's oh, here.

01:05:51.900 --> 01:05:54.380
<v Speaker 1>I I was scrolling here. I'll just pass

01:05:54.380 --> 01:05:55.500
<v Speaker 1>this to Les.

01:06:02.619 --> 01:06:04.220
<v Speaker 1>So because, yeah, these are the only things

01:06:04.220 --> 01:06:05.420
<v Speaker 1>I'm seeing, but

01:06:05.865 --> 01:06:08.105
<v Speaker 1>they don't seem like a problem.

01:06:09.545 --> 01:06:11.065
<v Speaker 0>Well, yeah, because the API server is not

01:06:11.065 --> 01:06:13.945
<v Speaker 0>running. So that's exactly, but, I mean, I

01:06:13.945 --> 01:06:16.105
<v Speaker 0>don't see it starting the matter pod either.

01:06:17.785 --> 01:06:19.225
<v Speaker 0>There's normally a line at the start of

01:06:19.225 --> 01:06:21.305
<v Speaker 0>the kubelet that says read manifest in this

01:06:21.305 --> 01:06:23.200
<v Speaker 0>location. I mean, do we have that?

01:06:24.320 --> 01:06:26.000
<v Speaker 0>Can you find manifest?

01:06:26.800 --> 01:06:28.160
<v Speaker 1>Yeah. Right there.

01:06:29.440 --> 01:06:31.280
<v Speaker 1>Let's see Kubernetes manifest. So it's looking in

01:06:31.280 --> 01:06:32.160
<v Speaker 1>the right place,

01:06:33.280 --> 01:06:34.880
<v Speaker 1>and then it's starting the kubelet.

01:06:36.185 --> 01:06:38.585
<v Speaker 0>It's still on the the volume manager.

01:06:38.744 --> 01:06:41.545
<v Speaker 1>Oh, I thought I was. Yeah. Yeah. Oh.

01:06:41.545 --> 01:06:42.665
<v Speaker 0>Yeah. It's right here. My

01:06:43.145 --> 01:06:44.825
<v Speaker 0>terminal scrolls all the way back to the

01:06:44.825 --> 01:06:46.585
<v Speaker 0>bottom. Oh, interesting. Okay.

01:06:50.330 --> 01:06:54.010
<v Speaker 1>Yeah. So all that looks correct. Runtime status.

01:06:56.090 --> 01:06:56.570
<v Speaker 1>I don't know.

01:07:04.235 --> 01:07:06.315
<v Speaker 1>Like, let's select 2379.

01:07:06.315 --> 01:07:07.915
<v Speaker 1>Is there anything in there for that?

01:07:09.115 --> 01:07:09.915
<v Speaker 1>Nope.

01:07:11.515 --> 01:07:13.435
<v Speaker 1>So because what I was wondering is, like,

01:07:13.435 --> 01:07:15.035
<v Speaker 1>do we have, like, etcd? Yeah. So we

01:07:15.035 --> 01:07:17.589
<v Speaker 1>have etcd running and everything. So it's only

01:07:17.589 --> 01:07:19.990
<v Speaker 1>the Quby API server is not starting.

01:07:20.869 --> 01:07:23.030
<v Speaker 1>So what would stop the Quby API server

01:07:23.030 --> 01:07:23.910
<v Speaker 1>from starting?

01:07:26.230 --> 01:07:28.470
<v Speaker 0>It must be missing. Oh, right here. Nope.

01:07:28.470 --> 01:07:29.590
<v Speaker 1>Wait. I see it.

01:07:30.150 --> 01:07:32.150
<v Speaker 1>So, yeah, it's gonna crash loop back off.

01:07:33.085 --> 01:07:35.565
<v Speaker 1>It it's halfway through.

01:07:35.885 --> 01:07:37.485
<v Speaker 1>I don't know if can you see

01:07:38.285 --> 01:07:39.645
<v Speaker 1>yeah. I don't know how to tell you

01:07:39.645 --> 01:07:41.325
<v Speaker 1>where I'm looking at. But there's a there's

01:07:41.325 --> 01:07:42.765
<v Speaker 1>a crash loop back off here.

01:07:44.365 --> 01:07:46.765
<v Speaker 1>But that was here. I'll just grab it

01:07:46.765 --> 01:07:47.405
<v Speaker 1>so you can see.

01:07:53.410 --> 01:07:54.370
<v Speaker 0>Alright. Okay.

01:07:54.770 --> 01:07:55.570
<v Speaker 0>There we go.

01:07:56.369 --> 01:07:58.130
<v Speaker 0>It should not be that hard to get

01:07:58.130 --> 01:08:00.690
<v Speaker 0>that lane out of that log file. Yeah.

01:08:01.170 --> 01:08:04.775
<v Speaker 1>Okay. So, yeah, it's a back off starting

01:08:04.775 --> 01:08:06.135
<v Speaker 1>QAPI server.

01:08:07.015 --> 01:08:08.775
<v Speaker 0>But, yeah, but we're running lot. Container.

01:08:09.735 --> 01:08:12.055
<v Speaker 1>Yeah. So it's failing to start it, but

01:08:13.895 --> 01:08:14.535
<v Speaker 1>why?

01:08:17.590 --> 01:08:19.189
<v Speaker 1>Let's see. Yes.

01:08:21.989 --> 01:08:24.550
<v Speaker 1>Assuming the correct thing. If not present,

01:08:24.950 --> 01:08:26.790
<v Speaker 1>I'm gonna just put this as always just

01:08:26.790 --> 01:08:27.430
<v Speaker 1>to be safe.

01:08:30.845 --> 01:08:32.925
<v Speaker 1>Yeah. I would expect a log here. Oh,

01:08:32.925 --> 01:08:34.205
<v Speaker 1>but I guess since it's failing to start

01:08:34.205 --> 01:08:35.805
<v Speaker 1>the container, it's not gonna have us a

01:08:35.805 --> 01:08:37.564
<v Speaker 1>log. Okay. That makes sense.

01:08:37.965 --> 01:08:39.725
<v Speaker 1>So I think I think that's what's happening.

01:08:39.725 --> 01:08:41.005
<v Speaker 1>Yeah. Yeah.

01:08:41.245 --> 01:08:42.205
<v Speaker 1>So

01:08:43.909 --> 01:08:46.069
<v Speaker 1>now the question is why is it failing

01:08:46.069 --> 01:08:48.149
<v Speaker 1>to start that container?

01:08:49.270 --> 01:08:51.350
<v Speaker 0>If you do a PS dash all, does

01:08:51.350 --> 01:08:53.670
<v Speaker 0>it show you nonrunning

01:08:53.670 --> 01:08:54.149
<v Speaker 0>containers?

01:08:55.015 --> 01:08:57.015
<v Speaker 0>Can I control PS dash Oh?

01:09:00.935 --> 01:09:02.855
<v Speaker 0>Alright. There we go. So we got two

01:09:02.855 --> 01:09:06.855
<v Speaker 0>x eight kubi API servers. Maybe Yeah. I'll

01:09:06.855 --> 01:09:08.535
<v Speaker 1>get the logs of Yeah.

01:09:10.399 --> 01:09:11.199
<v Speaker 1>Okay.

01:09:11.680 --> 01:09:13.280
<v Speaker 1>About a minute ago. Or even run an

01:09:13.280 --> 01:09:15.120
<v Speaker 0>inspect on that one that failed a minute

01:09:15.120 --> 01:09:16.640
<v Speaker 0>ago. Maybe useful.

01:09:17.520 --> 01:09:18.399
<v Speaker 1>Yeah. So it's

01:09:19.760 --> 01:09:21.360
<v Speaker 1>there we go. Oh, but that's the old

01:09:21.360 --> 01:09:22.239
<v Speaker 0>one. Old one.

01:09:22.800 --> 01:09:23.120
<v Speaker 1>Yeah.

01:09:23.765 --> 01:09:25.844
<v Speaker 1>So let's do this new one.

01:09:29.765 --> 01:09:32.245
<v Speaker 1>Alright. There we go. Let's see. That's a

01:09:32.245 --> 01:09:33.125
<v Speaker 1>good one. Alright.

01:09:33.445 --> 01:09:36.564
<v Speaker 1>Loaded 11, validating admission controllers successfully.

01:09:37.909 --> 01:09:41.189
<v Speaker 0>Oh. The trailing data is the the secret

01:09:41.189 --> 01:09:42.069
<v Speaker 0>sauce there.

01:09:42.550 --> 01:09:43.189
<v Speaker 1>Yeah.

01:09:43.590 --> 01:09:46.789
<v Speaker 1>So command failed, X509, trailing data.

01:09:48.550 --> 01:09:51.189
<v Speaker 1>Bowie. So one of the certificates is wrong,

01:09:51.189 --> 01:09:51.830
<v Speaker 1>but which one?

01:09:54.705 --> 01:09:55.905
<v Speaker 0>Cat them all.

01:09:57.985 --> 01:09:59.104
<v Speaker 1>Yeah. So,

01:10:04.065 --> 01:10:06.145
<v Speaker 1>c d p k I. Alright.

01:10:10.530 --> 01:10:11.250
<v Speaker 1>So

01:10:14.530 --> 01:10:16.050
<v Speaker 1>I I don't know if this is gonna

01:10:16.050 --> 01:10:16.930
<v Speaker 1>actually work,

01:10:17.890 --> 01:10:19.730
<v Speaker 1>but maybe they put something in there.

01:10:21.105 --> 01:10:22.945
<v Speaker 1>It doesn't look like they actually did put

01:10:22.945 --> 01:10:25.505
<v Speaker 1>anything in there. I'm

01:10:25.505 --> 01:10:27.185
<v Speaker 1>terrible at certs, so I don't know if

01:10:27.185 --> 01:10:28.545
<v Speaker 1>there's a way to like, I would have

01:10:28.545 --> 01:10:29.665
<v Speaker 1>to use OpenSSL's

01:10:29.665 --> 01:10:31.105
<v Speaker 1>x five zero nine to decrypt them if

01:10:31.105 --> 01:10:32.945
<v Speaker 1>we wanna actually see the data inside.

01:10:33.105 --> 01:10:34.145
<v Speaker 0>Oh, let's do

01:10:34.545 --> 01:10:34.945
<v Speaker 0>LS.

01:10:41.250 --> 01:10:43.570
<v Speaker 0>I mean, the API server entity client, those

01:10:43.570 --> 01:10:45.250
<v Speaker 0>there has been modified.

01:10:46.450 --> 01:10:47.090
<v Speaker 1>So

01:10:49.445 --> 01:10:51.605
<v Speaker 1>let's see. Seventeen forty two. Yeah. So this

01:10:51.605 --> 01:10:53.045
<v Speaker 1>is the only one that's been modified right

01:10:53.045 --> 01:10:55.364
<v Speaker 1>now. Have you opened it in

01:10:56.005 --> 01:10:57.764
<v Speaker 0>them? What was

01:10:57.765 --> 01:10:59.685
<v Speaker 1>the right thing? Okay. I opened all of

01:10:59.685 --> 01:11:00.244
<v Speaker 1>them.

01:11:02.325 --> 01:11:04.085
<v Speaker 1>Alright. So I'll get this.

01:11:06.080 --> 01:11:08.240
<v Speaker 0>Ah, look there. It's right in front of

01:11:08.240 --> 01:11:09.840
<v Speaker 0>our face. He's sneaky.

01:11:12.160 --> 01:11:13.679
<v Speaker 0>I'll give you a minute. Yeah.

01:11:14.800 --> 01:11:16.240
<v Speaker 1>It's not in front of my head, bro.

01:11:16.240 --> 01:11:17.200
<v Speaker 0>Read the last line.

01:11:19.905 --> 01:11:21.824
<v Speaker 0>The second last line. Sorry. The last line,

01:11:21.824 --> 01:11:23.905
<v Speaker 0>I think. Oh, yep. Yep. Yep. You're right.

01:11:24.304 --> 01:11:26.625
<v Speaker 0>Oh, no. Totally all of it. Oh, I

01:11:26.625 --> 01:11:27.425
<v Speaker 1>already did.

01:11:27.985 --> 01:11:30.270
<v Speaker 0>Oh, that that may be broken. That's broken

01:11:30.270 --> 01:11:30.909
<v Speaker 1>now.

01:11:32.349 --> 01:11:34.190
<v Speaker 0>I think one second. Maybe just to delete

01:11:34.190 --> 01:11:35.789
<v Speaker 0>that. I hope you find this. Yeah.

01:11:39.150 --> 01:11:39.869
<v Speaker 1>Right now.

01:11:40.429 --> 01:11:40.909
<v Speaker 1>Right.

01:11:42.065 --> 01:11:43.344
<v Speaker 1>It broke it, so I have to fix

01:11:43.344 --> 01:11:43.905
<v Speaker 1>it.

01:11:46.065 --> 01:11:46.465
<v Speaker 0>K.

01:11:47.425 --> 01:11:49.824
<v Speaker 0>It says search renew.

01:11:52.625 --> 01:11:53.585
<v Speaker 0>I figured that wrong.

01:11:54.400 --> 01:11:56.320
<v Speaker 1>No. What is it?

01:11:58.240 --> 01:11:59.920
<v Speaker 0>Yeah. Keep it in it. So it's the

01:11:59.920 --> 01:12:01.360
<v Speaker 0>phase is scarce. I don't think you need

01:12:01.360 --> 01:12:02.400
<v Speaker 0>to type phase.

01:12:03.360 --> 01:12:04.000
<v Speaker 0>No?

01:12:04.720 --> 01:12:06.000
<v Speaker 1>Thought that's what it was.

01:12:07.040 --> 01:12:07.600
<v Speaker 0>Help.

01:12:13.495 --> 01:12:15.335
<v Speaker 1>Yeah. Sercs. Sercs.

01:12:15.895 --> 01:12:17.015
<v Speaker 1>And then renew.

01:12:18.775 --> 01:12:19.975
<v Speaker 1>That's what I said.

01:12:20.455 --> 01:12:22.295
<v Speaker 1>In sub command Oh, you have to do

01:12:22.375 --> 01:12:23.975
<v Speaker 0>you have to fill it with Serc.

01:12:24.535 --> 01:12:25.900
<v Speaker 1>Yep. So

01:12:26.780 --> 01:12:28.619
<v Speaker 1>what was that one that I just broke?

01:12:29.500 --> 01:12:31.659
<v Speaker 0>API server entity client.

01:12:33.660 --> 01:12:35.740
<v Speaker 1>But is it the file name that we

01:12:35.740 --> 01:12:36.300
<v Speaker 1>do?

01:12:38.140 --> 01:12:39.500
<v Speaker 1>It's API server. Right?

01:12:40.155 --> 01:12:43.114
<v Speaker 0>Yeah. The API server dash entity dash client.

01:12:43.275 --> 01:12:44.635
<v Speaker 0>I don't think you could put

01:12:45.994 --> 01:12:46.395
<v Speaker 1>Okay.

01:12:58.050 --> 01:12:59.810
<v Speaker 1>Yeah. Upload existing You may have to remove

01:12:59.810 --> 01:13:01.570
<v Speaker 0>that one now because it Oh, yeah. Yeah.

01:13:01.570 --> 01:13:02.369
<v Speaker 0>Would it.

01:13:04.530 --> 01:13:05.489
<v Speaker 0>You made it worse.

01:13:13.034 --> 01:13:14.074
<v Speaker 1>Okay. So

01:13:14.554 --> 01:13:16.635
<v Speaker 1>I think we're good now. Right?

01:13:17.275 --> 01:13:17.914
<v Speaker 0>Nope.

01:13:18.875 --> 01:13:19.914
<v Speaker 0>We don't have our.

01:13:20.715 --> 01:13:22.954
<v Speaker 1>No. So how am I gonna regenerate that

01:13:22.954 --> 01:13:24.739
<v Speaker 1>now that I jacked it up? Oh, actually,

01:13:24.739 --> 01:13:25.380
<v Speaker 1>here. Can we

01:13:26.420 --> 01:13:27.940
<v Speaker 1>I know how we can do it.

01:13:36.660 --> 01:13:38.020
<v Speaker 1>Alright. I got this.

01:13:43.315 --> 01:13:45.075
<v Speaker 1>Which one was it? I forget. I need

01:13:45.075 --> 01:13:48.275
<v Speaker 1>to go back. API-entity-client.crt.

01:13:49.075 --> 01:13:51.395
<v Speaker 1>Yeah. So it did regenerate it. Oh, no.

01:13:51.395 --> 01:13:51.795
<v Speaker 1>Okay.

01:13:56.060 --> 01:13:56.860
<v Speaker 1>Oh,

01:14:01.580 --> 01:14:02.860
<v Speaker 0>did you scroll back up to get the

01:14:02.860 --> 01:14:03.500
<v Speaker 0>data?

01:14:03.820 --> 01:14:04.300
<v Speaker 1>Yeah.

01:14:06.825 --> 01:14:08.344
<v Speaker 1>I was like, I know I know I

01:14:08.344 --> 01:14:10.505
<v Speaker 1>can't edit before I deleted it. That was

01:14:10.505 --> 01:14:12.184
<v Speaker 1>called backup. Alright.

01:14:14.185 --> 01:14:15.625
<v Speaker 2>Good form of backup.

01:14:17.225 --> 01:14:19.385
<v Speaker 0>Never clear your screen. That's the secret here.

01:14:20.270 --> 01:14:21.070
<v Speaker 1>Alright.

01:14:21.870 --> 01:14:22.990
<v Speaker 1>So now,

01:14:23.710 --> 01:14:25.310
<v Speaker 1>we wanna do this again.

01:14:27.070 --> 01:14:27.470
<v Speaker 1>Oh,

01:14:28.110 --> 01:14:30.270
<v Speaker 1>yeah. So PS minus a.

01:14:31.630 --> 01:14:32.990
<v Speaker 1>Seven minutes ago.

01:14:33.950 --> 01:14:35.550
<v Speaker 1>So we're gonna wanna

01:14:36.025 --> 01:14:38.425
<v Speaker 1>because all we did was minus minus modify

01:14:38.425 --> 01:14:40.585
<v Speaker 1>a cert. So it's not gonna know that

01:14:40.585 --> 01:14:43.144
<v Speaker 1>we did that. Right? Yep. Twenty minutes to

01:14:43.144 --> 01:14:43.624
<v Speaker 0>go.

01:14:44.264 --> 01:14:46.585
<v Speaker 1>Alright. So now that we fixed

01:14:46.585 --> 01:14:48.744
<v Speaker 1>that, is it gonna spin one up?

01:14:48.985 --> 01:14:50.264
<v Speaker 1>Get rid of the minus a.

01:14:51.530 --> 01:14:53.210
<v Speaker 0>It did. It's running.

01:14:57.450 --> 01:14:58.410
<v Speaker 1>337.

01:14:58.410 --> 01:14:59.770
<v Speaker 1>That's not right.

01:15:01.450 --> 01:15:01.930
<v Speaker 1>Alright.

01:15:07.945 --> 01:15:09.145
<v Speaker 1>Only one place.

01:15:14.105 --> 01:15:15.304
<v Speaker 1>143.

01:15:17.785 --> 01:15:19.304
<v Speaker 1>Oh, PDO.

01:15:20.665 --> 01:15:22.969
<v Speaker 1>Right. We're getting somewhere now. You have an

01:15:22.969 --> 01:15:24.090
<v Speaker 0>API server.

01:15:30.730 --> 01:15:32.329
<v Speaker 0>You have broken things there then.

01:15:32.650 --> 01:15:35.925
<v Speaker 1>One core DNS broken, but there's one up

01:15:35.925 --> 01:15:38.805
<v Speaker 1>as well. So that's semi suspicious, and then

01:15:38.805 --> 01:15:40.645
<v Speaker 1>same thing for the serial operator. But,

01:15:41.365 --> 01:15:43.445
<v Speaker 1>we're gonna focus on the clustered

01:15:44.405 --> 01:15:44.965
<v Speaker 1>for now.

01:15:46.820 --> 01:15:49.140
<v Speaker 1>See if that's the right choice. Oh, maybe

01:15:49.140 --> 01:15:50.660
<v Speaker 1>not. Network is not ready.

01:15:51.860 --> 01:15:54.020
<v Speaker 1>CNI plugin is not initialized.

01:15:57.300 --> 01:15:58.580
<v Speaker 1>And then this one,

01:16:00.900 --> 01:16:02.580
<v Speaker 1>both of those are interesting. Right?

01:16:03.435 --> 01:16:05.034
<v Speaker 1>Failed to fetch token.

01:16:07.034 --> 01:16:07.755
<v Speaker 0>Yeah.

01:16:09.755 --> 01:16:11.915
<v Speaker 0>Curious about the age on those adders, though.

01:16:11.915 --> 01:16:12.554
<v Speaker 0>Like

01:16:13.034 --> 01:16:14.554
<v Speaker 1>Yeah. They were a while ago.

01:16:16.474 --> 01:16:17.915
<v Speaker 0>You just go straight for the update?

01:16:18.949 --> 01:16:20.949
<v Speaker 1>Yeah. Let's not debug stuff that I don't

01:16:20.949 --> 01:16:21.510
<v Speaker 1>want.

01:16:24.550 --> 01:16:26.150
<v Speaker 0>Alright. Creating.

01:16:27.830 --> 01:16:29.670
<v Speaker 0>Got a new replica set.

01:16:31.030 --> 01:16:32.790
<v Speaker 0>Something tells me that pause is never gonna

01:16:32.790 --> 01:16:33.429
<v Speaker 0>come.

01:16:33.750 --> 01:16:35.765
<v Speaker 1>Oh, Alright. So let's do

01:16:40.005 --> 01:16:40.805
<v Speaker 1>Just

01:16:41.605 --> 01:16:42.405
<v Speaker 1>to get

01:16:43.205 --> 01:16:44.485
<v Speaker 1>a clean.

01:16:45.445 --> 01:16:47.045
<v Speaker 1>Alright. Do you know you don't need to

01:16:47.045 --> 01:16:48.965
<v Speaker 0>grace period equals zero anymore? That used to

01:16:48.965 --> 01:16:50.940
<v Speaker 0>be mandatory for a force, but it's been

01:16:50.940 --> 01:16:53.100
<v Speaker 0>it's been Oh, they got rid of it.

01:16:53.100 --> 01:16:53.900
<v Speaker 1>They got rid

01:16:55.980 --> 01:16:56.780
<v Speaker 1>Alright.

01:16:57.900 --> 01:17:00.060
<v Speaker 1>So these are creating now. So it seems

01:17:00.060 --> 01:17:01.660
<v Speaker 1>like it's getting stuck in creating.

01:17:02.395 --> 01:17:04.635
<v Speaker 1>So that means, like, that pause container or

01:17:04.635 --> 01:17:05.594
<v Speaker 1>something. Right?

01:17:08.395 --> 01:17:09.675
<v Speaker 0>See what it says.

01:17:11.195 --> 01:17:14.155
<v Speaker 1>Oh, there we go. Failed

01:17:14.155 --> 01:17:15.994
<v Speaker 1>to set up network for sandbox.

01:17:16.849 --> 01:17:18.610
<v Speaker 0>Alright. I'll open a session on the worker

01:17:18.610 --> 01:17:21.249
<v Speaker 0>node for you. Assuming you want one. Yeah.

01:17:23.329 --> 01:17:24.849
<v Speaker 1>Yeah. I let's see.

01:17:32.585 --> 01:17:34.585
<v Speaker 1>You got it? Oh, there. Yeah. It's there.

01:17:35.304 --> 01:17:36.105
<v Speaker 1>Joining

01:17:36.105 --> 01:17:36.824
<v Speaker 1>now.

01:17:38.665 --> 01:17:39.465
<v Speaker 1>Okay.

01:17:41.945 --> 01:17:43.704
<v Speaker 1>Given everything's running,

01:17:44.025 --> 01:17:46.344
<v Speaker 1>so I don't know where to fix that,

01:17:46.344 --> 01:17:48.969
<v Speaker 1>though, because we're we have a real network

01:17:48.969 --> 01:17:51.130
<v Speaker 1>over here. We just need to fix what

01:17:51.130 --> 01:17:52.650
<v Speaker 1>the sandbox is doing,

01:17:53.370 --> 01:17:54.489
<v Speaker 1>but I don't know where to go for

01:17:54.489 --> 01:17:54.969
<v Speaker 1>that.

01:17:55.530 --> 01:17:57.210
<v Speaker 0>So what happens when

01:17:57.530 --> 01:18:00.575
<v Speaker 0>you deploy the CNA is it puts some

01:18:00.575 --> 01:18:03.535
<v Speaker 0>config and some binaries onto the host.

01:18:03.775 --> 01:18:04.415
<v Speaker 0>Yep.

01:18:05.295 --> 01:18:06.735
<v Speaker 0>My

01:18:06.975 --> 01:18:09.055
<v Speaker 0>thinking was maybe they had modified something in

01:18:09.055 --> 01:18:09.695
<v Speaker 0>there.

01:18:10.735 --> 01:18:12.575
<v Speaker 1>Yeah. So I can compare

01:18:13.230 --> 01:18:15.070
<v Speaker 1>the other one.

01:18:16.190 --> 01:18:17.790
<v Speaker 1>Zero three one Cilium.

01:18:19.230 --> 01:18:20.750
<v Speaker 1>Yeah. That all looks correct.

01:18:21.070 --> 01:18:23.630
<v Speaker 0>Yeah. Actually, it says incompatible CNA versions. The

01:18:23.630 --> 01:18:25.950
<v Speaker 0>config is one zero zero, and the plug

01:18:25.950 --> 01:18:28.715
<v Speaker 0>in support zero c one. So what's on

01:18:28.715 --> 01:18:30.155
<v Speaker 0>the host is right?

01:18:31.114 --> 01:18:31.675
<v Speaker 0>Alright.

01:18:33.355 --> 01:18:36.474
<v Speaker 1>One second. So go back here. Config, man?

01:18:37.275 --> 01:18:39.275
<v Speaker 1>Yeah. So config

01:18:39.275 --> 01:18:40.795
<v Speaker 1>is 100.

01:18:40.795 --> 01:18:42.554
<v Speaker 1>But yeah. So we're on 031

01:18:42.554 --> 01:18:43.195
<v Speaker 1>on ours.

01:18:43.650 --> 01:18:44.610
<v Speaker 1>So

01:18:47.810 --> 01:18:49.329
<v Speaker 0>It's system.

01:18:49.730 --> 01:18:50.449
<v Speaker 1>Ah, okay.

01:18:59.555 --> 01:19:01.715
<v Speaker 1>Now is they were doing one zero o?

01:19:02.915 --> 01:19:04.594
<v Speaker 0>I believe so.

01:19:04.915 --> 01:19:06.435
<v Speaker 1>Nothing in there.

01:19:07.235 --> 01:19:09.635
<v Speaker 1>So where else? Oh, here. Instead of editing

01:19:09.635 --> 01:19:10.035
<v Speaker 1>it.

01:19:22.610 --> 01:19:24.370
<v Speaker 1>Yeah. So where would you define

01:19:25.045 --> 01:19:27.684
<v Speaker 1>that version if it's not in

01:19:30.164 --> 01:19:31.204
<v Speaker 1>CNI?

01:19:33.125 --> 01:19:35.604
<v Speaker 1>That's our only CNI. Oh, well,

01:19:36.885 --> 01:19:38.244
<v Speaker 1>what is the correct I don't even know

01:19:38.244 --> 01:19:39.900
<v Speaker 1>what the correct version is. Like, should we

01:19:39.900 --> 01:19:41.980
<v Speaker 1>be one o, or is zero three one

01:19:41.980 --> 01:19:42.860
<v Speaker 1>the right thing?

01:19:43.260 --> 01:19:44.860
<v Speaker 0>I think c o c one is the

01:19:44.860 --> 01:19:45.660
<v Speaker 0>correct one.

01:19:46.140 --> 01:19:47.980
<v Speaker 1>Okay. So we need to find

01:19:48.300 --> 01:19:49.980
<v Speaker 0>where happening during

01:19:50.220 --> 01:19:52.140
<v Speaker 0>o. Creating a pod sandbox.

01:19:57.865 --> 01:20:00.345
<v Speaker 1>Yeah. And there's nothing in the configuration that's

01:20:00.345 --> 01:20:01.545
<v Speaker 1>defining that.

01:20:02.585 --> 01:20:04.985
<v Speaker 0>Must be either Container d. Container d or

01:20:04.985 --> 01:20:06.025
<v Speaker 0>the Kipling. Yeah.

01:20:07.870 --> 01:20:08.590
<v Speaker 1>So

01:20:09.550 --> 01:20:11.390
<v Speaker 1>what is it? Container

01:20:12.270 --> 01:20:15.230
<v Speaker 1>d Config dump. Config dump.

01:20:16.510 --> 01:20:19.310
<v Speaker 1>Nothing. So they didn't modify container d. Oh,

01:20:19.310 --> 01:20:20.910
<v Speaker 1>yep. Yep. Yep. Let's go check over there.

01:20:22.855 --> 01:20:24.855
<v Speaker 1>Alright. Going back over to the worker.

01:20:25.975 --> 01:20:26.775
<v Speaker 1>Is it over there,

01:20:28.535 --> 01:20:31.495
<v Speaker 1>So how could you modify container d or

01:20:32.535 --> 01:20:33.575
<v Speaker 1>what else could it be?

01:20:38.460 --> 01:20:39.340
<v Speaker 1>Trying to think what

01:20:41.740 --> 01:20:43.420
<v Speaker 0>So it sounds like the Kubect config is

01:20:43.420 --> 01:20:45.660
<v Speaker 0>one option, but it could be container d's

01:20:45.660 --> 01:20:48.060
<v Speaker 0>unit fail. Maybe cat is at the service.

01:20:49.065 --> 01:20:51.225
<v Speaker 0>If you think it's contingency, I'm not sure.

01:20:51.225 --> 01:20:51.864
<v Speaker 1>Yeah.

01:20:54.824 --> 01:20:56.585
<v Speaker 0>No. That's pretty vanilla. Right?

01:20:56.745 --> 01:20:58.025
<v Speaker 1>Yeah. That's pretty.

01:20:59.305 --> 01:21:01.385
<v Speaker 1>So what I was thinking is, like, inside

01:21:01.385 --> 01:21:02.105
<v Speaker 1>here,

01:21:02.425 --> 01:21:03.785
<v Speaker 1>we have, like, the plugins.

01:21:05.010 --> 01:21:05.650
<v Speaker 1>Yeah.

01:21:05.970 --> 01:21:06.610
<v Speaker 1>So,

01:21:07.010 --> 01:21:09.650
<v Speaker 1>yeah, I'm not sure what Private conflict dot

01:21:09.650 --> 01:21:10.770
<v Speaker 0>YAML. Just capture.

01:21:14.610 --> 01:21:16.210
<v Speaker 0>So not some sort of c and I

01:21:16.210 --> 01:21:16.930
<v Speaker 0>thing in here.

01:21:20.395 --> 01:21:21.115
<v Speaker 0>No.

01:21:22.315 --> 01:21:23.195
<v Speaker 1>Nothing.

01:21:28.395 --> 01:21:30.155
<v Speaker 1>Let me do that there. Let's do it

01:21:30.155 --> 01:21:30.635
<v Speaker 1>here.

01:21:33.820 --> 01:21:35.019
<v Speaker 1>Oh, so,

01:21:36.699 --> 01:21:38.539
<v Speaker 1>yeah, I'm not sure. Oh, I'm in the

01:21:38.539 --> 01:21:39.900
<v Speaker 1>wrong place now. I'm gonna go back to

01:21:39.900 --> 01:21:40.940
<v Speaker 1>the master for a second.

01:21:45.775 --> 01:21:47.935
<v Speaker 1>System. Yeah. For here, I'm not really sure

01:21:47.935 --> 01:21:49.374
<v Speaker 1>what would define

01:21:51.935 --> 01:21:54.175
<v Speaker 1>that version. I'm gonna reread that error.

01:21:55.580 --> 01:21:56.940
<v Speaker 0>Maybe describe

01:21:56.940 --> 01:21:59.420
<v Speaker 0>the daemon set for Cilium.

01:22:00.220 --> 01:22:03.420
<v Speaker 0>Could it be modifying the orgs or something?

01:22:04.220 --> 01:22:06.140
<v Speaker 1>Yeah. So it says failed to create the

01:22:06.140 --> 01:22:06.780
<v Speaker 1>sandbox,

01:22:07.625 --> 01:22:10.025
<v Speaker 1>failed to set up network for sandbox, and

01:22:10.025 --> 01:22:12.664
<v Speaker 1>then it says an incompatible CNI version.

01:22:16.265 --> 01:22:16.985
<v Speaker 0>Yeah. Tricky.

01:22:31.770 --> 01:22:33.449
<v Speaker 1>So that has some mounts in it.

01:22:43.094 --> 01:22:44.855
<v Speaker 0>I mean, it's passed an eyeball test.

01:22:46.659 --> 01:22:47.699
<v Speaker 1>Don't see I

01:22:48.099 --> 01:22:49.780
<v Speaker 1>was scrolling. I wasn't using

01:22:50.019 --> 01:22:52.260
<v Speaker 0>Yeah. I'm I'm scrolling too. I'm I'm I'm

01:22:52.260 --> 01:22:53.780
<v Speaker 0>suckered onto this. I need to know what

01:22:53.780 --> 01:22:54.419
<v Speaker 0>this is.

01:22:55.300 --> 01:22:56.739
<v Speaker 1>This is an interesting one. So I'm trying

01:22:56.739 --> 01:22:59.539
<v Speaker 1>to think of, like, when the sandbox starts

01:22:59.539 --> 01:22:59.940
<v Speaker 1>up.

01:23:02.665 --> 01:23:06.025
<v Speaker 1>There's this Yeah. Cilium custom CNI con. Oh,

01:23:06.025 --> 01:23:08.025
<v Speaker 0>that's just our config, though. So

01:23:10.025 --> 01:23:10.665
<v Speaker 1>Yeah.

01:23:11.705 --> 01:23:14.620
<v Speaker 1>Cilium custom CNI con, and it's a config

01:23:14.620 --> 01:23:17.900
<v Speaker 1>map, which oh, yeah. And we actually

01:23:18.300 --> 01:23:21.420
<v Speaker 0>We looked at that. Yeah. K. Get Centimeters.

01:23:23.740 --> 01:23:26.139
<v Speaker 1>So we've got Cilium config.

01:23:26.140 --> 01:23:27.180
<v Speaker 1>We've got yeah.

01:23:29.105 --> 01:23:30.945
<v Speaker 1>Well, we can relook at this just to

01:23:30.945 --> 01:23:32.545
<v Speaker 1>make sure we didn't miss anything.

01:23:36.065 --> 01:23:37.985
<v Speaker 1>But it doesn't seem like that's it.

01:23:38.465 --> 01:23:40.225
<v Speaker 1>I guess the question would be, is there,

01:23:40.225 --> 01:23:41.745
<v Speaker 1>like, supposed to be a default flag in

01:23:41.745 --> 01:23:43.505
<v Speaker 1>here and it, like, defaults to one o

01:23:43.505 --> 01:23:44.920
<v Speaker 1>if you don't have it, but that would

01:23:44.920 --> 01:23:45.959
<v Speaker 1>be kinda weird.

01:23:49.800 --> 01:23:52.679
<v Speaker 2>Let's see. Let's think. Pod Sandbox.

01:23:55.239 --> 01:23:56.440
<v Speaker 1>Alright. So yeah.

01:23:58.935 --> 01:24:00.454
<v Speaker 1>So pod sandbox.

01:24:01.015 --> 01:24:04.054
<v Speaker 1>Yeah. Without a container d modification, that's interesting.

01:24:04.935 --> 01:24:07.655
<v Speaker 1>I just ran container d. I've done that

01:24:07.655 --> 01:24:09.815
<v Speaker 0>so many times. Yeah. It doesn't that doesn't

01:24:09.815 --> 01:24:10.855
<v Speaker 0>respect the signals.

01:24:12.070 --> 01:24:13.190
<v Speaker 1>Yeah.

01:24:13.990 --> 01:24:15.670
<v Speaker 0>You just have to open a new session

01:24:15.670 --> 01:24:17.190
<v Speaker 0>and kill nine that. No.

01:24:19.030 --> 01:24:19.990
<v Speaker 1>I think we're I just think you can

01:24:19.990 --> 01:24:22.790
<v Speaker 0>stay there. Right? Okay. Yeah. We're good. So

01:24:22.790 --> 01:24:25.190
<v Speaker 1>I did for future reference, I did control

01:24:25.190 --> 01:24:26.390
<v Speaker 1>backslash,

01:24:26.905 --> 01:24:28.905
<v Speaker 1>which is a bigger kill than a control

01:24:28.905 --> 01:24:30.985
<v Speaker 1>c, and that seemed to The control c

01:24:30.985 --> 01:24:33.305
<v Speaker 0>is, like, in what's the backslash? Is that

01:24:33.305 --> 01:24:34.665
<v Speaker 0>straight into a sick kill?

01:24:35.065 --> 01:24:37.065
<v Speaker 1>I think so. Yeah. I I forget at

01:24:37.065 --> 01:24:38.345
<v Speaker 1>this point. I've just been using it so

01:24:38.345 --> 01:24:40.665
<v Speaker 1>long. I just when control c doesn't work,

01:24:40.665 --> 01:24:43.039
<v Speaker 1>I control backslash. I didn't know that. Fair

01:24:43.039 --> 01:24:44.239
<v Speaker 0>enough. Alright.

01:24:45.920 --> 01:24:46.479
<v Speaker 1>So

01:24:47.199 --> 01:24:47.999
<v Speaker 1>something

01:24:48.079 --> 01:24:49.359
<v Speaker 1>with the sandbox.

01:24:49.360 --> 01:24:50.959
<v Speaker 1>Trying to think. What else?

01:24:51.440 --> 01:24:53.599
<v Speaker 0>I mean, this could be completely have. A

01:24:53.599 --> 01:24:56.000
<v Speaker 0>left field, and I I maybe they're not

01:24:56.000 --> 01:24:57.995
<v Speaker 0>this nasty. Not this nasty. But can we

01:24:57.995 --> 01:24:59.755
<v Speaker 0>go into the c and I directory and

01:24:59.755 --> 01:25:01.515
<v Speaker 0>actually run the binaries for the dash dash

01:25:01.515 --> 01:25:02.235
<v Speaker 0>version?

01:25:03.755 --> 01:25:06.795
<v Speaker 0>Like, could they have recompiled anything? Which seems

01:25:07.675 --> 01:25:08.395
<v Speaker 0>I think it's a

01:25:09.515 --> 01:25:11.595
<v Speaker 0>where did they put the bins? C and

01:25:11.595 --> 01:25:11.675
<v Speaker 0>I?

01:25:12.610 --> 01:25:15.410
<v Speaker 2>So the the one hint I'll drop y'all,

01:25:15.410 --> 01:25:16.690
<v Speaker 2>right, is

01:25:17.090 --> 01:25:19.890
<v Speaker 2>think of dependencies for a second,

01:25:20.770 --> 01:25:22.370
<v Speaker 2>and then also think about release notes. And

01:25:22.370 --> 01:25:23.650
<v Speaker 2>that's all I'm gonna say.

01:25:24.530 --> 01:25:26.690
<v Speaker 0>Yeah. That's the same CNI has been recompiled.

01:25:26.690 --> 01:25:27.650
<v Speaker 1>That's been modified.

01:25:28.045 --> 01:25:29.804
<v Speaker 0>Yeah. That's Let's run a dash dash version

01:25:29.804 --> 01:25:30.604
<v Speaker 0>on that.

01:25:33.244 --> 01:25:35.084
<v Speaker 0>Like, run. Yeah.

01:25:35.244 --> 01:25:35.885
<v Speaker 1>Yeah.

01:25:38.125 --> 01:25:40.445
<v Speaker 0>That looks okay. CNI bucket at one ten.

01:25:42.530 --> 01:25:43.730
<v Speaker 1>Yeah. So

01:25:45.570 --> 01:25:47.890
<v Speaker 1>we're gonna like, what is the I wanna

01:25:47.890 --> 01:25:49.410
<v Speaker 1>just go to Cilium and, like, look. What

01:25:49.410 --> 01:25:50.850
<v Speaker 1>is the version we're supposed to be on?

01:25:50.850 --> 01:25:53.410
<v Speaker 1>Yeah. So they're one o. So that configuration,

01:25:53.410 --> 01:25:55.250
<v Speaker 1>I think I think we're chasing our tail.

01:25:55.355 --> 01:25:57.355
<v Speaker 1>I think 013

01:25:57.355 --> 01:26:00.315
<v Speaker 1>is wrong. Right? Because they're on one eleven

01:26:00.315 --> 01:26:00.954
<v Speaker 1>right now

01:26:01.594 --> 01:26:03.995
<v Speaker 1>if you look at Sillyam's release docs. So

01:26:03.995 --> 01:26:05.915
<v Speaker 0>you can remove alright. I think you can

01:26:05.915 --> 01:26:09.010
<v Speaker 0>run Rawkode, C and I, and restart the

01:26:09.010 --> 01:26:10.050
<v Speaker 0>cinemapods

01:26:10.050 --> 01:26:13.010
<v Speaker 0>if you want them to redo everything fresh,

01:26:13.090 --> 01:26:13.809
<v Speaker 0>I think.

01:26:14.610 --> 01:26:15.809
<v Speaker 1>Yeah. So

01:26:16.449 --> 01:26:17.170
<v Speaker 1>oops.

01:26:18.130 --> 01:26:21.205
<v Speaker 1>You're thinking, like, deleting the config right here?

01:26:21.205 --> 01:26:22.725
<v Speaker 0>No. I was going to delete every single

01:26:22.725 --> 01:26:24.805
<v Speaker 0>binary and opts, but I see an event

01:26:24.805 --> 01:26:26.725
<v Speaker 0>and then restart the so it

01:26:26.965 --> 01:26:28.245
<v Speaker 0>redownloads them all.

01:26:30.085 --> 01:26:32.005
<v Speaker 0>Because that's what happens when this when starts

01:26:32.005 --> 01:26:33.685
<v Speaker 0>as a daemon set, it pulls down all

01:26:33.685 --> 01:26:35.205
<v Speaker 0>the binaries that are needed for it to

01:26:35.205 --> 01:26:35.445
<v Speaker 0>work.

01:26:39.960 --> 01:26:41.400
<v Speaker 1>That was nice. I didn't get rid of

01:26:41.400 --> 01:26:42.680
<v Speaker 1>it. Okay.

01:26:42.760 --> 01:26:43.640
<v Speaker 1>And so

01:26:44.680 --> 01:26:46.200
<v Speaker 1>But did you get rid of every binary,

01:26:46.200 --> 01:26:47.320
<v Speaker 0>or did you just get rid of the

01:26:47.320 --> 01:26:47.640
<v Speaker 0>one?

01:26:48.405 --> 01:26:50.405
<v Speaker 1>Only Cilium was modified. So if you come

01:26:50.405 --> 01:26:51.925
<v Speaker 1>back here to see time stamps on the

01:26:51.925 --> 01:26:54.165
<v Speaker 0>old ones are 2020. So did they replace

01:26:54.165 --> 01:26:56.405
<v Speaker 0>them all with old version except for the

01:26:56.405 --> 01:26:57.845
<v Speaker 0>Cilium c and I, which is why we're

01:26:57.845 --> 01:26:59.685
<v Speaker 0>having the config mismatch?

01:26:59.845 --> 01:27:01.845
<v Speaker 1>That is quirky. Yeah. You're right. You're right.

01:27:03.210 --> 01:27:04.329
<v Speaker 1>Temp,

01:27:04.410 --> 01:27:05.290
<v Speaker 1>Cilium.

01:27:08.890 --> 01:27:10.889
<v Speaker 1>Alright. Let's get out of here.

01:27:12.250 --> 01:27:13.690
<v Speaker 1>And then we wanna

01:27:13.850 --> 01:27:14.090
<v Speaker 1>so

01:27:16.265 --> 01:27:18.905
<v Speaker 1>you're saying if we delete Cilium, it'll redownload

01:27:18.905 --> 01:27:21.545
<v Speaker 1>up? Yeah. Do a rule at restart DaemonSet

01:27:21.545 --> 01:27:23.065
<v Speaker 0>Cilium or something like that.

01:27:27.000 --> 01:27:29.079
<v Speaker 0>Or delete them all. Whatever way you prefer

01:27:29.079 --> 01:27:31.800
<v Speaker 0>to to restart services, you go for it.

01:27:32.760 --> 01:27:34.599
<v Speaker 2>Do y'all wanna hint?

01:27:35.000 --> 01:27:37.079
<v Speaker 0>No. No. Not yet. I think we're close.

01:27:37.079 --> 01:27:38.760
<v Speaker 0>I think we're close. I can see you

01:27:38.760 --> 01:27:40.599
<v Speaker 0>sitting there laughing, though. I'm enjoying it. I

01:27:40.599 --> 01:27:40.840
<v Speaker 2>know.

01:27:42.075 --> 01:27:43.435
<v Speaker 2>It's funny because

01:27:43.755 --> 01:27:45.675
<v Speaker 2>I I'm not gonna say anything more, but,

01:27:45.675 --> 01:27:47.595
<v Speaker 2>I mean, what you said about chasing your

01:27:47.595 --> 01:27:48.875
<v Speaker 2>tail is absolutely

01:27:48.875 --> 01:27:49.275
<v Speaker 2>right.

01:27:54.650 --> 01:27:55.769
<v Speaker 1>Alright. So,

01:27:56.409 --> 01:27:58.010
<v Speaker 1>yeah, so like this.

01:27:58.489 --> 01:28:00.090
<v Speaker 1>Oh, but the problem is,

01:28:00.250 --> 01:28:01.929
<v Speaker 1>like, now now that we did that yeah.

01:28:01.929 --> 01:28:03.449
<v Speaker 1>Let's just do this anyways.

01:28:03.770 --> 01:28:06.170
<v Speaker 1>So k get pod. I understand.

01:28:08.005 --> 01:28:10.325
<v Speaker 0>Kube system. That's our yep. Kube system.

01:28:12.885 --> 01:28:14.565
<v Speaker 1>Alright. So we wanna get rid of

01:28:15.285 --> 01:28:17.285
<v Speaker 0>So is there anything in ops c and

01:28:17.285 --> 01:28:17.765
<v Speaker 0>I bin?

01:28:24.280 --> 01:28:25.159
<v Speaker 1>No. No.

01:28:25.880 --> 01:28:28.520
<v Speaker 1>So let's see. So we wanna roll out,

01:28:29.000 --> 01:28:30.280
<v Speaker 1>and then it's

01:28:31.880 --> 01:28:33.000
<v Speaker 1>set.

01:28:33.160 --> 01:28:33.800
<v Speaker 0>Restarting.

01:28:44.495 --> 01:28:45.455
<v Speaker 1>Oh, and then

01:28:48.015 --> 01:28:48.735
<v Speaker 0>That's the one?

01:28:50.809 --> 01:28:52.730
<v Speaker 1>And you're thinking There we go. Things are

01:28:52.730 --> 01:28:53.530
<v Speaker 1>coming back.

01:28:54.329 --> 01:28:55.689
<v Speaker 1>And then let's see.

01:28:56.250 --> 01:28:58.729
<v Speaker 1>And those are better time stamps than before.

01:28:59.290 --> 01:29:01.929
<v Speaker 1>So let's do version here,

01:29:02.489 --> 01:29:02.809
<v Speaker 1>and

01:29:03.885 --> 01:29:05.324
<v Speaker 1>so that's one ten.

01:29:06.045 --> 01:29:07.964
<v Speaker 1>And so I think over here,

01:29:11.405 --> 01:29:13.164
<v Speaker 1>you don't want zero three one. Right? Like,

01:29:13.164 --> 01:29:14.604
<v Speaker 1>we want one ten whatever?

01:29:15.085 --> 01:29:17.164
<v Speaker 0>Well, no. I think that's the CNI version

01:29:17.164 --> 01:29:19.485
<v Speaker 0>versus the Oh, yeah. You're right. CNI version.

01:29:19.485 --> 01:29:19.644
<v Speaker 1>Okay.

01:29:20.440 --> 01:29:22.440
<v Speaker 1>You're right. So now I need to figure

01:29:22.440 --> 01:29:24.679
<v Speaker 1>out what is the correct CNI version.

01:29:26.920 --> 01:29:27.639
<v Speaker 1>Right?

01:29:27.880 --> 01:29:29.639
<v Speaker 0>I I don't know. Run get pods. Do

01:29:29.639 --> 01:29:30.840
<v Speaker 0>we have anything yet?

01:29:32.360 --> 01:29:33.480
<v Speaker 1>Let's see. Oops. Sorry.

01:29:34.435 --> 01:29:35.395
<v Speaker 1>Let's get out of do

01:29:36.595 --> 01:29:37.875
<v Speaker 1>can you get prod?

01:29:38.035 --> 01:29:39.715
<v Speaker 1>No. Oh, so see yeah. So we need

01:29:39.715 --> 01:29:41.875
<v Speaker 1>to figure out what that correct CNI version

01:29:41.875 --> 01:29:43.315
<v Speaker 1>is. So I'm

01:29:44.195 --> 01:29:45.795
<v Speaker 1>you can't see my screen, but I'm googling

01:29:45.795 --> 01:29:47.315
<v Speaker 1>real quick to see what the correct CNI

01:29:47.315 --> 01:29:47.795
<v Speaker 1>version is.

01:29:51.950 --> 01:29:55.070
<v Speaker 1>Because, yeah, I feel like that CNI version's

01:29:55.070 --> 01:29:56.670
<v Speaker 1>modified, and we just need to know what

01:29:56.670 --> 01:29:57.230
<v Speaker 1>the

01:29:57.630 --> 01:29:59.070
<v Speaker 1>correct version is.

01:30:01.390 --> 01:30:02.350
<v Speaker 1>03One's

01:30:02.350 --> 01:30:02.670
<v Speaker 1>correct.

01:30:05.545 --> 01:30:07.465
<v Speaker 2>Can I just say that I did not

01:30:07.465 --> 01:30:09.465
<v Speaker 2>modify the CNIs in any way, shape, or

01:30:09.465 --> 01:30:09.704
<v Speaker 2>form?

01:30:17.970 --> 01:30:20.930
<v Speaker 0>Alright. Okay. I've not modified the CLI. Okay.

01:30:23.650 --> 01:30:25.090
<v Speaker 0>Which means we probably have to do an

01:30:25.090 --> 01:30:27.730
<v Speaker 0>app to re app install dash dash reinstall

01:30:27.730 --> 01:30:30.210
<v Speaker 0>Kubelet for any missing binaries then.

01:30:32.295 --> 01:30:34.375
<v Speaker 1>Oh, well, we got the We only got

01:30:34.375 --> 01:30:36.295
<v Speaker 0>two back. Yeah. So Yeah.

01:30:36.695 --> 01:30:38.375
<v Speaker 1>But we're still getting the same error. So

01:30:38.375 --> 01:30:40.295
<v Speaker 1>this is the error we're still chasing. Failed

01:30:40.295 --> 01:30:41.255
<v Speaker 1>to set up the

01:30:41.895 --> 01:30:43.094
<v Speaker 1>network for the sandbox,

01:30:45.160 --> 01:30:46.440
<v Speaker 1>And it's saying

01:30:46.840 --> 01:30:49.560
<v Speaker 1>the config is one point oh, incompatible CNI

01:30:49.560 --> 01:30:51.320
<v Speaker 1>versions. Config is one o, but plug in

01:30:51.320 --> 01:30:52.040
<v Speaker 1>supports

01:30:52.600 --> 01:30:54.440
<v Speaker 1>oh, no. No. So it's trying to use

01:30:54.440 --> 01:30:55.880
<v Speaker 1>the wrong CNI.

01:30:56.360 --> 01:30:56.760
<v Speaker 1>Right?

01:30:58.655 --> 01:31:01.695
<v Speaker 1>Incompatible CNI versions. Config is one l,

01:31:05.055 --> 01:31:07.215
<v Speaker 1>but zero three one is what we should

01:31:07.215 --> 01:31:07.775
<v Speaker 1>be on.

01:31:12.460 --> 01:31:14.380
<v Speaker 1>So where's that config at?

01:31:16.860 --> 01:31:18.139
<v Speaker 0>Don't know. I think we may have to

01:31:18.139 --> 01:31:19.419
<v Speaker 0>take that hint in a minute.

01:31:21.579 --> 01:31:22.780
<v Speaker 1>Yeah. So

01:31:23.099 --> 01:31:24.860
<v Speaker 1>trying to think. Like, where where would we

01:31:24.860 --> 01:31:28.060
<v Speaker 1>define what CNI version it's going to use

01:31:27.705 --> 01:31:28.344
<v Speaker 1>when

01:31:28.744 --> 01:31:30.824
<v Speaker 1>it do we have more than one?

01:31:35.465 --> 01:31:36.264
<v Speaker 1>You know?

01:31:39.864 --> 01:31:41.304
<v Speaker 2>Can I drop one hint for you?

01:31:42.640 --> 01:31:44.960
<v Speaker 0>Yeah. Go for it. I may I'll speak

01:31:44.960 --> 01:31:46.640
<v Speaker 0>to John if you want a hint, John.

01:31:46.640 --> 01:31:48.159
<v Speaker 1>Yeah. Yeah. Sure. Run

01:31:48.720 --> 01:31:51.360
<v Speaker 2>a kubectl get nodes dash o y.

01:31:59.635 --> 01:32:00.755
<v Speaker 0>Oh. Did

01:32:01.715 --> 01:32:03.474
<v Speaker 0>you upgrade one of the nodes to Kubernetes

01:32:03.474 --> 01:32:04.514
<v Speaker 0>one twenty four?

01:32:06.275 --> 01:32:06.915
<v Speaker 2>Yeah. Control

01:32:07.715 --> 01:32:10.755
<v Speaker 2>I don't think I changed the node

01:32:10.250 --> 01:32:12.489
<v Speaker 2>version. Yeah. Control Blane's one twenty four right

01:32:12.489 --> 01:32:15.050
<v Speaker 1>now, and then the worker's 123. It's

01:32:15.050 --> 01:32:16.969
<v Speaker 2>strange. I don't think I upgraded the node,

01:32:16.969 --> 01:32:17.369
<v Speaker 2>though.

01:32:17.929 --> 01:32:19.210
<v Speaker 0>Oh, that I guess that could have been

01:32:19.210 --> 01:32:20.489
<v Speaker 0>me a moment. No. I looked at the

01:32:20.489 --> 01:32:22.170
<v Speaker 0>re oh, I did that at the Yeah.

01:32:22.170 --> 01:32:24.329
<v Speaker 1>You just reinstalled that. Yeah. I've just

01:32:25.295 --> 01:32:25.934
<v Speaker 1>Yep.

01:32:26.735 --> 01:32:28.494
<v Speaker 0>Should be fine, though. Yeah. It should be

01:32:28.494 --> 01:32:29.935
<v Speaker 0>alright. Although, there's not like there was any

01:32:29.935 --> 01:32:32.815
<v Speaker 0>major deprecations on 01/24. Right? Oh, yeah. Not

01:32:32.815 --> 01:32:35.455
<v Speaker 1>like or anything. You look carefully at the

01:32:35.455 --> 01:32:35.775
<v Speaker 2>output.

01:32:41.270 --> 01:32:43.349
<v Speaker 0>The container d version is different.

01:32:43.670 --> 01:32:44.469
<v Speaker 1>Yeah.

01:32:45.670 --> 01:32:46.869
<v Speaker 1>That's interesting.

01:32:48.710 --> 01:32:50.230
<v Speaker 1>So, yeah, the worker is on a different

01:32:50.230 --> 01:32:51.510
<v Speaker 1>container d version.

01:32:52.150 --> 01:32:53.030
<v Speaker 1>Could that cause

01:32:53.565 --> 01:32:56.285
<v Speaker 1>problems? I actually wouldn't expect it to, but

01:32:56.285 --> 01:32:57.885
<v Speaker 1>I guess if the CNI

01:32:58.525 --> 01:32:59.645
<v Speaker 1>like, I can go to the worker and

01:32:59.645 --> 01:33:00.445
<v Speaker 1>downgrade.

01:33:01.165 --> 01:33:02.284
<v Speaker 1>Right? But

01:33:02.925 --> 01:33:04.525
<v Speaker 0>Yeah. Let's try it. See what happens.

01:33:11.460 --> 01:33:14.580
<v Speaker 1>What version was it on? 159 is what

01:33:14.580 --> 01:33:16.660
<v Speaker 1>we want. 59

01:33:16.660 --> 01:33:17.540
<v Speaker 0>is what we want.

01:33:26.445 --> 01:33:27.645
<v Speaker 1>And if it's I think it's just one

01:33:27.645 --> 01:33:29.804
<v Speaker 1>equals. Two equals. You're right. Is that two?

01:33:29.804 --> 01:33:30.364
<v Speaker 1>Okay.

01:33:31.485 --> 01:33:32.925
<v Speaker 0>Oh, I thought it was two.

01:33:34.844 --> 01:33:36.204
<v Speaker 1>Always giving bad advice.

01:33:39.429 --> 01:33:41.190
<v Speaker 1>It's on the newest version.

01:33:45.590 --> 01:33:47.830
<v Speaker 0>After reinstall on it, maybe they just replaced

01:33:47.830 --> 01:33:48.630
<v Speaker 0>the binary.

01:33:48.949 --> 01:33:50.870
<v Speaker 1>No. It still says so. Yeah. We we

01:33:50.870 --> 01:33:52.469
<v Speaker 1>need to actually do a reinstall.

01:34:01.965 --> 01:34:05.085
<v Speaker 1>Let's do version. Alright. So now that's there.

01:34:05.085 --> 01:34:06.685
<v Speaker 1>And then do I have crack control over

01:34:06.685 --> 01:34:06.845
<v Speaker 1>here?

01:34:08.199 --> 01:34:09.480
<v Speaker 1>That's not yeah. We need to go over

01:34:09.480 --> 01:34:10.760
<v Speaker 1>the other one. Alright.

01:34:11.079 --> 01:34:12.840
<v Speaker 1>So back to control plane.

01:34:13.239 --> 01:34:15.079
<v Speaker 0>I don't think that restarted container do you

01:34:15.079 --> 01:34:17.479
<v Speaker 0>look at it. Oh, no. Nope. You're right.

01:34:19.239 --> 01:34:20.760
<v Speaker 1>I'm on the control plane. I need to

01:34:20.760 --> 01:34:21.719
<v Speaker 1>go back to Rarker.

01:34:22.760 --> 01:34:23.159
<v Speaker 1>Yep.

01:34:28.275 --> 01:34:30.354
<v Speaker 1>K. Now back.

01:34:30.994 --> 01:34:31.795
<v Speaker 0>Hey.

01:34:32.835 --> 01:34:33.795
<v Speaker 0>Running.

01:34:36.355 --> 01:34:36.915
<v Speaker 0>There you go.

01:34:38.750 --> 01:34:40.429
<v Speaker 0>Eighteen seconds to spare.

01:34:41.710 --> 01:34:42.429
<v Speaker 1>That

01:34:42.670 --> 01:34:45.230
<v Speaker 1>surfaced itself in an interesting way

01:34:45.550 --> 01:34:48.030
<v Speaker 1>because it's saying that the CNI was a

01:34:48.030 --> 01:34:49.789
<v Speaker 1>different it wasn't compatible,

01:34:50.270 --> 01:34:52.025
<v Speaker 1>but it had nothing to do with the

01:34:52.025 --> 01:34:52.905
<v Speaker 1>CNI.

01:34:52.905 --> 01:34:55.705
<v Speaker 0>So I'm assuming container d is also,

01:34:56.985 --> 01:34:59.305
<v Speaker 0>must be what specifies the CNI version, and

01:34:59.305 --> 01:35:00.825
<v Speaker 0>there must have been a bump then from

01:35:00.825 --> 01:35:01.705
<v Speaker 0>031

01:35:01.705 --> 01:35:02.905
<v Speaker 0>to 1Dot0Dot0

01:35:02.905 --> 01:35:04.985
<v Speaker 0>with container D16,

01:35:05.225 --> 01:35:08.080
<v Speaker 0>I'm assuming. So that error was was actually

01:35:08.080 --> 01:35:08.960
<v Speaker 2>intentional.

01:35:10.240 --> 01:35:12.960
<v Speaker 2>I decided to use a nonworking version of

01:35:12.960 --> 01:35:16.800
<v Speaker 2>container d against this, Tilium CNI. It was

01:35:16.800 --> 01:35:18.400
<v Speaker 2>like a known bug. So you would have

01:35:18.400 --> 01:35:20.080
<v Speaker 2>either had to go up to one six

01:35:20.080 --> 01:35:20.800
<v Speaker 2>four

01:35:21.105 --> 01:35:23.105
<v Speaker 2>or revert back to +1 59.

01:35:23.985 --> 01:35:25.345
<v Speaker 2>Glad you got there, but if I hadn't

01:35:25.345 --> 01:35:27.425
<v Speaker 2>said anything about the KUKA, I

01:35:29.425 --> 01:35:31.105
<v Speaker 2>y'all would have been chasing a little bit

01:35:31.105 --> 01:35:34.705
<v Speaker 2>longer. Yeah. We've I we would have I

01:35:33.500 --> 01:35:35.020
<v Speaker 0>mean, I have Christmas. I haven't have caught

01:35:35.020 --> 01:35:36.940
<v Speaker 0>that. So and that's really know you both

01:35:36.940 --> 01:35:39.019
<v Speaker 0>gave us customers a stop to me completely,

01:35:39.179 --> 01:35:40.540
<v Speaker 0>which is great because this is this is

01:35:40.540 --> 01:35:42.460
<v Speaker 0>how we learned to invalidate some of those

01:35:42.460 --> 01:35:44.059
<v Speaker 0>assumptions we make along the way.

01:35:45.420 --> 01:35:48.060
<v Speaker 1>Yeah. That's the most fun I've had is,

01:35:48.060 --> 01:35:50.755
<v Speaker 1>like, the, like, breaks like this where it

01:35:51.155 --> 01:35:53.635
<v Speaker 1>tells you something, but it the the problem's

01:35:53.635 --> 01:35:55.875
<v Speaker 1>completely something else. Like so, like, the one

01:35:55.875 --> 01:35:57.954
<v Speaker 1>I did where I changed the scheduler amount.

01:35:57.954 --> 01:35:59.875
<v Speaker 1>It's like, oh, RBAC's broken. You don't have

01:35:59.875 --> 01:36:01.795
<v Speaker 1>the correct permissions, and it has nothing to

01:36:01.795 --> 01:36:02.915
<v Speaker 1>do with RBAC whatsoever.

01:36:03.470 --> 01:36:05.710
<v Speaker 1>I know. We need better error messages.

01:36:06.590 --> 01:36:08.430
<v Speaker 2>Yeah. That's that that is pretty telling because

01:36:08.430 --> 01:36:10.510
<v Speaker 2>you were you were basically chasing after a

01:36:10.510 --> 01:36:13.630
<v Speaker 2>CNI related version when, in fact, like, it

01:36:13.630 --> 01:36:15.390
<v Speaker 2>was had nothing to do with it. Right?

01:36:15.390 --> 01:36:17.895
<v Speaker 2>And it was pretty interesting to see. And

01:36:17.895 --> 01:36:19.655
<v Speaker 2>even the certificate one, like, if I hadn't

01:36:19.655 --> 01:36:21.094
<v Speaker 2>said anything about that,

01:36:21.415 --> 01:36:22.775
<v Speaker 2>it could have been going on for a

01:36:22.775 --> 01:36:26.215
<v Speaker 2>while. But it's not very verbose about where

01:36:26.215 --> 01:36:28.775
<v Speaker 2>to really look. Right? And that's like, okay.

01:36:28.775 --> 01:36:30.534
<v Speaker 2>Maybe we file a bunch of PRs against

01:36:30.534 --> 01:36:31.574
<v Speaker 2>the Kubernetes

01:36:31.870 --> 01:36:33.790
<v Speaker 2>ecosystem to say, let's make this a lot

01:36:33.790 --> 01:36:35.630
<v Speaker 2>more human human readable

01:36:36.030 --> 01:36:37.790
<v Speaker 2>so that we can troubleshoot better. Right? But

01:36:37.790 --> 01:36:39.790
<v Speaker 2>then again, this is why tools like Commodore

01:36:39.790 --> 01:36:41.230
<v Speaker 2>exist and whatnot.

01:36:43.310 --> 01:36:44.110
<v Speaker 0>Definitely.

01:36:44.830 --> 01:36:46.510
<v Speaker 0>Those error messages can be very

01:36:47.105 --> 01:36:49.105
<v Speaker 0>opaque at times, and I think, yeah, maybe

01:36:49.105 --> 01:36:50.705
<v Speaker 0>we should be using clusters as a means

01:36:50.705 --> 01:36:52.865
<v Speaker 0>to fail issues against some of this stuff

01:36:52.865 --> 01:36:53.905
<v Speaker 0>and see if we can get people to

01:36:53.905 --> 01:36:55.745
<v Speaker 0>open some pro request because

01:36:56.225 --> 01:36:58.625
<v Speaker 0>this stuff is already hard with the the

01:36:58.625 --> 01:37:01.060
<v Speaker 0>tooling fight against us at times. So, you

01:37:01.060 --> 01:37:01.539
<v Speaker 0>know,

01:37:02.179 --> 01:37:03.460
<v Speaker 0>well played both of you.

01:37:04.100 --> 01:37:06.340
<v Speaker 0>Alright. We're gonna wrap this up. Thank

01:37:06.980 --> 01:37:08.900
<v Speaker 0>you both for joining me. Those were two

01:37:08.900 --> 01:37:11.780
<v Speaker 0>terribly mean clusters, but you both absolutely smashed

01:37:11.780 --> 01:37:13.699
<v Speaker 0>it. Well done working through all of those

01:37:13.699 --> 01:37:13.940
<v Speaker 0>problems.

01:37:14.795 --> 01:37:17.435
<v Speaker 0>Bringing another cluster, it was just plain krill,

01:37:17.435 --> 01:37:19.195
<v Speaker 0>John. Yeah. Marino

01:37:19.275 --> 01:37:21.435
<v Speaker 0>finds an actual bug in container d and

01:37:21.435 --> 01:37:23.115
<v Speaker 0>bringing that to the party was equally as

01:37:23.115 --> 01:37:24.875
<v Speaker 0>krill. So well done.

01:37:25.595 --> 01:37:27.355
<v Speaker 0>Thank you to Equinix Metals. Thank you to

01:37:27.355 --> 01:37:30.270
<v Speaker 0>Teleport for their continued support. And we won't

01:37:30.270 --> 01:37:31.950
<v Speaker 0>be back next week because of KubeCon, but

01:37:31.950 --> 01:37:33.150
<v Speaker 0>I hope I do get to see some

01:37:33.150 --> 01:37:34.590
<v Speaker 0>of you there, and we'll be back the

01:37:34.590 --> 01:37:36.670
<v Speaker 0>following week with cluster team.

01:37:37.150 --> 01:37:39.469
<v Speaker 0>Alright. Any last words, John, Marino?

01:37:41.230 --> 01:37:42.510
<v Speaker 1>No. I had a lot of fun.

01:37:44.094 --> 01:37:45.775
<v Speaker 2>Yeah. I'd like to say the same. I

01:37:45.775 --> 01:37:47.455
<v Speaker 2>had a great time. I learned a lot.

01:37:47.455 --> 01:37:49.135
<v Speaker 2>In fact, learning on the fly as I'm

01:37:49.135 --> 01:37:50.014
<v Speaker 2>troubleshooting,

01:37:50.175 --> 01:37:52.255
<v Speaker 2>and we've got that pressure on top where,

01:37:52.255 --> 01:37:54.014
<v Speaker 2>like, why isn't it getting why isn't it

01:37:54.014 --> 01:37:55.934
<v Speaker 2>working? And you got people in the chat.

01:37:56.014 --> 01:37:57.695
<v Speaker 2>It was it was a very great experience.

01:37:57.695 --> 01:37:59.910
<v Speaker 2>So thank you so much for for setting

01:37:59.910 --> 01:38:02.710
<v Speaker 2>this up, David. And great meeting you, John.

01:38:02.710 --> 01:38:04.870
<v Speaker 2>This was fun. Well, I do need more

01:38:04.870 --> 01:38:07.430
<v Speaker 0>victims. I mean, volunteers. So anyone watching, if

01:38:07.430 --> 01:38:09.670
<v Speaker 0>you wanna come on clustered, get in touch.

01:38:09.910 --> 01:38:11.830
<v Speaker 1>Well, I feel like now that we're acquainted,

01:38:11.830 --> 01:38:13.430
<v Speaker 1>we can be more evil with each other.

01:38:13.430 --> 01:38:15.910
<v Speaker 1>So let's just do it again

01:38:16.815 --> 01:38:18.494
<v Speaker 1>with no holds bar.

01:38:19.855 --> 01:38:20.574
<v Speaker 0>Yeah.

01:38:20.894 --> 01:38:23.295
<v Speaker 0>That's an idea for future episodes, actually. Just

01:38:23.295 --> 01:38:25.135
<v Speaker 0>getting people back and say it right. The

01:38:25.135 --> 01:38:26.655
<v Speaker 0>rules are gone. Do your work.

01:38:27.440 --> 01:38:29.520
<v Speaker 0>We'll see. Alright. Let's go to Chris. Let's

01:38:29.520 --> 01:38:31.199
<v Speaker 0>go to Thank you again both. Have a

01:38:31.199 --> 01:38:32.719
<v Speaker 0>great time and a great day, and I'll

01:38:32.719 --> 01:38:34.560
<v Speaker 0>see you soon. Adios. Bye all. See you.
