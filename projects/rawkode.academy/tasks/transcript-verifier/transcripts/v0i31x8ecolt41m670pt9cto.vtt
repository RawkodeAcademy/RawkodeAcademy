WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: 17a0d53c-17f5-4a89-bb56-f6efb4055247
Created: 2025-04-29T15:39:15.282Z
Duration: 3555.2139
Channels: 1

00:01:57.190 --> 00:01:57.909
<v Speaker 0>Hello,

00:01:58.150 --> 00:02:01.590
<v Speaker 0>and welcome back to the Rawkode Academy.

00:02:02.550 --> 00:02:04.310
<v Speaker 0>Today, we are doing

00:02:04.470 --> 00:02:07.510
<v Speaker 0>the next part of our limitless

00:02:07.590 --> 00:02:09.590
<v Speaker 0>global reach with BGP course.

00:02:10.665 --> 00:02:12.425
<v Speaker 0>That means that we are gonna be continuing

00:02:12.425 --> 00:02:14.905
<v Speaker 0>to experiment on the Equinix metal platform,

00:02:14.905 --> 00:02:18.185
<v Speaker 0>leveraging their network and BGP support in order

00:02:18.185 --> 00:02:21.465
<v Speaker 0>to build out some sample applications that are

00:02:22.105 --> 00:02:24.425
<v Speaker 0>globally available with minimal latency.

00:02:25.329 --> 00:02:27.090
<v Speaker 0>If you don't understand what that means, then

00:02:27.090 --> 00:02:28.450
<v Speaker 0>I recommend that you go back and check

00:02:28.450 --> 00:02:30.370
<v Speaker 0>part one where I was joined by Jeremy

00:02:30.370 --> 00:02:32.690
<v Speaker 0>Tanner slash Penguin on the Internet,

00:02:32.849 --> 00:02:35.010
<v Speaker 0>where we talked about what BGP is, how

00:02:35.010 --> 00:02:37.569
<v Speaker 0>it works, and why it's important to build

00:02:37.569 --> 00:02:38.530
<v Speaker 0>low latency

00:02:38.769 --> 00:02:40.450
<v Speaker 0>globally distributed applications.

00:02:41.944 --> 00:02:43.944
<v Speaker 0>Today, we're gonna build on top of the

00:02:43.944 --> 00:02:45.545
<v Speaker 0>work that we did in the first part,

00:02:45.545 --> 00:02:47.705
<v Speaker 0>and we'll be repeating some of the first

00:02:47.705 --> 00:02:49.225
<v Speaker 0>part as well. So you don't have to

00:02:49.225 --> 00:02:50.665
<v Speaker 0>go back and watch the first part right

00:02:50.665 --> 00:02:52.585
<v Speaker 0>now. I will cover the

00:02:52.665 --> 00:02:55.030
<v Speaker 0>essentials as we go because we still need

00:02:55.030 --> 00:02:57.430
<v Speaker 0>to spin up some more Equinix ML devices,

00:02:57.750 --> 00:02:59.110
<v Speaker 0>enable BGP

00:02:59.190 --> 00:03:00.630
<v Speaker 0>and deploy a workload.

00:03:01.510 --> 00:03:03.590
<v Speaker 0>What we're gonna be doing today with that

00:03:03.590 --> 00:03:05.910
<v Speaker 0>workload is running core DNS

00:03:06.025 --> 00:03:09.625
<v Speaker 0>as a DNS server in three metros or

00:03:09.625 --> 00:03:11.865
<v Speaker 0>regions, facilities, whatever you wish to call them

00:03:11.865 --> 00:03:12.985
<v Speaker 0>around the world.

00:03:13.545 --> 00:03:15.785
<v Speaker 0>We will be using The US, Europe, and

00:03:15.785 --> 00:03:17.225
<v Speaker 0>Asia, for example.

00:03:17.785 --> 00:03:20.750
<v Speaker 0>Using BGP, we can broadcast that DNS server

00:03:20.750 --> 00:03:22.430
<v Speaker 0>with a single IP address,

00:03:22.590 --> 00:03:24.670
<v Speaker 0>which will be available to anyone

00:03:25.550 --> 00:03:27.070
<v Speaker 0>via their closest

00:03:27.950 --> 00:03:28.670
<v Speaker 0>region.

00:03:29.150 --> 00:03:31.070
<v Speaker 0>This is really cool because it means you

00:03:31.070 --> 00:03:33.550
<v Speaker 0>can build at the edge platforms. So I'm

00:03:33.550 --> 00:03:34.670
<v Speaker 0>only using three

00:03:35.435 --> 00:03:36.315
<v Speaker 0>metros

00:03:36.315 --> 00:03:38.795
<v Speaker 0>today. However, there could be as many as

00:03:38.795 --> 00:03:40.475
<v Speaker 0>you need to handle

00:03:40.555 --> 00:03:41.915
<v Speaker 0>your customers

00:03:42.155 --> 00:03:44.235
<v Speaker 0>and keep them happy at the same time.

00:03:45.675 --> 00:03:48.155
<v Speaker 0>Now, before we dive into the

00:03:48.555 --> 00:03:50.555
<v Speaker 0>hands on component of which all these courses

00:03:50.555 --> 00:03:50.795
<v Speaker 0>are,

00:03:51.750 --> 00:03:53.670
<v Speaker 0>If you wanna work along and do this

00:03:53.670 --> 00:03:58.470
<v Speaker 0>on your own, there's a link below, rawkode.linkmetal.

00:03:58.470 --> 00:04:00.390
<v Speaker 0>This will take you to the Equinix Medal

00:04:00.390 --> 00:04:01.110
<v Speaker 0>homepage,

00:04:01.350 --> 00:04:03.030
<v Speaker 0>where you can sign up and use the

00:04:03.030 --> 00:04:04.150
<v Speaker 0>code, Rawkode.

00:04:05.865 --> 00:04:08.425
<v Speaker 0>This code will get you a 200 USD

00:04:08.425 --> 00:04:11.465
<v Speaker 0>in credit to experiment and play with Equinix

00:04:11.465 --> 00:04:13.305
<v Speaker 0>Medal throughout this course.

00:04:14.025 --> 00:04:15.465
<v Speaker 0>200 USD

00:04:15.785 --> 00:04:16.584
<v Speaker 0>is around

00:04:16.920 --> 00:04:19.640
<v Speaker 0>anywhere from one hundred to four hundred hours,

00:04:19.640 --> 00:04:21.960
<v Speaker 0>depending on what size of hardware you use

00:04:21.960 --> 00:04:22.920
<v Speaker 0>on your platform.

00:04:23.480 --> 00:04:25.080
<v Speaker 0>So there is plenty,

00:04:25.400 --> 00:04:28.760
<v Speaker 0>plenty of credits there for you to experiment,

00:04:28.840 --> 00:04:31.000
<v Speaker 0>have some fun and learn some cool stuff

00:04:31.000 --> 00:04:31.720
<v Speaker 0>along the way.

00:04:32.895 --> 00:04:35.695
<v Speaker 0>That being said, we're gonna dive straight over

00:04:35.855 --> 00:04:38.255
<v Speaker 0>to my screen share.

00:04:39.615 --> 00:04:40.735
<v Speaker 0>So

00:04:41.935 --> 00:04:45.215
<v Speaker 0>this course is available and really a smarter

00:04:45.215 --> 00:04:47.855
<v Speaker 0>person would have had the link available.

00:04:50.230 --> 00:04:51.350
<v Speaker 0>Where's my mouse?

00:04:53.030 --> 00:04:54.070
<v Speaker 0>There we go.

00:04:56.630 --> 00:04:58.550
<v Speaker 0>Can't even frame my mouse, so it's a

00:04:58.550 --> 00:05:01.270
<v Speaker 0>perfect start. So let's pull this window into

00:05:01.270 --> 00:05:01.750
<v Speaker 0>display.

00:05:02.815 --> 00:05:05.935
<v Speaker 0>We have the GitHub Academy,

00:05:06.095 --> 00:05:08.255
<v Speaker 0>the Rawkode Academy GitHub page

00:05:08.415 --> 00:05:11.135
<v Speaker 0>available at github.com/rawkodeacademy.

00:05:11.294 --> 00:05:13.615
<v Speaker 0>There is a repository there called courses.

00:05:13.935 --> 00:05:16.014
<v Speaker 0>You will find the global reach BGP directory

00:05:16.014 --> 00:05:17.695
<v Speaker 0>here. This is today's session

00:05:18.520 --> 00:05:21.240
<v Speaker 0>with the README and some Pulumi automation that

00:05:21.240 --> 00:05:22.600
<v Speaker 0>we'll be taking a look at

00:05:23.080 --> 00:05:23.880
<v Speaker 0>and

00:05:24.439 --> 00:05:26.360
<v Speaker 0>pretty much everything you need to do this

00:05:26.360 --> 00:05:28.360
<v Speaker 0>on your own. However, I'm going to run

00:05:28.360 --> 00:05:30.520
<v Speaker 0>through it too. So any hiccups that I

00:05:30.520 --> 00:05:32.185
<v Speaker 0>get also means that you can see how

00:05:32.185 --> 00:05:34.025
<v Speaker 0>I fix it and I get to update

00:05:34.025 --> 00:05:35.225
<v Speaker 0>the course material,

00:05:35.545 --> 00:05:36.345
<v Speaker 0>win win.

00:05:36.985 --> 00:05:40.825
<v Speaker 0>If you have any questions throughout today's session,

00:05:40.825 --> 00:05:42.425
<v Speaker 0>please feel free to drop them straight into

00:05:42.425 --> 00:05:43.785
<v Speaker 0>the comments, or if you just wanna say

00:05:43.785 --> 00:05:45.625
<v Speaker 0>hello, go for it. I'd love to say

00:05:45.625 --> 00:05:45.945
<v Speaker 0>hello.

00:05:46.590 --> 00:05:47.310
<v Speaker 0>Alright.

00:05:49.070 --> 00:05:49.710
<v Speaker 0>So

00:05:49.950 --> 00:05:51.790
<v Speaker 0>the start of this workshop

00:05:52.030 --> 00:05:53.950
<v Speaker 0>is gonna feel very similar to part one

00:05:53.950 --> 00:05:55.630
<v Speaker 0>and that we are going to need to

00:05:55.630 --> 00:05:57.630
<v Speaker 0>provision some Equinix metal devices.

00:05:58.430 --> 00:05:59.790
<v Speaker 0>Oh, we have our first hello.

00:06:01.835 --> 00:06:04.555
<v Speaker 0>Hey, Maz. Thanks for joining us. Alright.

00:06:05.835 --> 00:06:06.475
<v Speaker 0>So

00:06:06.715 --> 00:06:08.955
<v Speaker 0>we're gonna spin off some Equinix Mail devices.

00:06:08.955 --> 00:06:10.955
<v Speaker 0>We're going to configure BGP, and we're going

00:06:10.955 --> 00:06:12.555
<v Speaker 0>to do this all manually,

00:06:12.634 --> 00:06:14.950
<v Speaker 0>run and install core DNS. Of course, I

00:06:14.950 --> 00:06:16.630
<v Speaker 0>do have the Pulumi automation here, so we'll

00:06:16.630 --> 00:06:18.470
<v Speaker 0>spin that up too, so you can see

00:06:18.470 --> 00:06:20.310
<v Speaker 0>what this would look like in a fully

00:06:20.310 --> 00:06:21.670
<v Speaker 0>automated environment.

00:06:22.550 --> 00:06:24.310
<v Speaker 0>Oh, we got a few more hellos.

00:06:24.950 --> 00:06:27.270
<v Speaker 0>Hey, Rio, thank you for joining us.

00:06:27.590 --> 00:06:28.550
<v Speaker 0>And Manuel,

00:06:29.675 --> 00:06:31.835
<v Speaker 0>thank you for saying hello. I appreciate that.

00:06:32.955 --> 00:06:36.235
<v Speaker 0>Okay. So let's get started. Today, we're gonna

00:06:36.235 --> 00:06:38.875
<v Speaker 0>spin up the core DNS and three metros.

00:06:38.955 --> 00:06:40.955
<v Speaker 0>We're gonna see how this works and then

00:06:40.955 --> 00:06:42.315
<v Speaker 0>we're gonna take a look at some automation

00:06:42.315 --> 00:06:44.270
<v Speaker 0>to do it. Now, all of this takes

00:06:44.270 --> 00:06:45.790
<v Speaker 0>a little bit of time. We have to

00:06:45.790 --> 00:06:48.430
<v Speaker 0>provision some machines and we have to automate

00:06:48.430 --> 00:06:49.870
<v Speaker 0>the provision of some machines.

00:06:50.750 --> 00:06:52.510
<v Speaker 0>They all take about ten minutes. I'm gonna

00:06:52.510 --> 00:06:54.430
<v Speaker 0>kick it all off at the start and

00:06:54.430 --> 00:06:56.430
<v Speaker 0>then we will run through the rest of

00:06:56.430 --> 00:06:58.750
<v Speaker 0>today's examples and materials.

00:07:00.324 --> 00:07:01.764
<v Speaker 0>But the first thing we need to do

00:07:01.764 --> 00:07:03.525
<v Speaker 0>here is to go to the Equinix Medal

00:07:03.525 --> 00:07:04.165
<v Speaker 0>console,

00:07:04.805 --> 00:07:07.284
<v Speaker 0>first request a global IP that we can

00:07:07.284 --> 00:07:10.324
<v Speaker 0>use as our BGP advertisement around the world.

00:07:10.324 --> 00:07:12.564
<v Speaker 0>This will be advertised on all of Equinix

00:07:12.564 --> 00:07:15.580
<v Speaker 0>Medal's autonomous systems around the Internet. If you're

00:07:15.580 --> 00:07:17.420
<v Speaker 0>not familiar, Equinix has a

00:07:18.139 --> 00:07:21.020
<v Speaker 0>completely amazing backbone around the Internet. So it's

00:07:21.020 --> 00:07:22.860
<v Speaker 0>a fantastic network to build on, and in

00:07:22.860 --> 00:07:24.539
<v Speaker 0>fact, they have direct connections to all the

00:07:24.539 --> 00:07:26.620
<v Speaker 0>major cloud providers too. So

00:07:26.940 --> 00:07:29.340
<v Speaker 0>worth checking out Equinix Connect

00:07:30.514 --> 00:07:31.555
<v Speaker 0>and seeing what you can do with that

00:07:31.555 --> 00:07:33.795
<v Speaker 0>too, but that's not for today session.

00:07:34.514 --> 00:07:36.835
<v Speaker 0>So let's spin up some manual

00:07:37.235 --> 00:07:40.275
<v Speaker 0>machines first, then we'll kick off the automation.

00:07:41.315 --> 00:07:43.475
<v Speaker 0>I'm gonna click new server. Well, I have

00:07:43.475 --> 00:07:45.430
<v Speaker 0>some clustered stuff because I have an episode

00:07:45.430 --> 00:07:47.750
<v Speaker 0>of clustered tonight. So we'll ignore that.

00:07:48.710 --> 00:07:49.590
<v Speaker 0>On demand,

00:07:51.510 --> 00:07:53.430
<v Speaker 0>we'll make this bigger so you can kind

00:07:53.430 --> 00:07:54.470
<v Speaker 0>of follow along.

00:07:54.790 --> 00:07:56.389
<v Speaker 0>And let's see, we're gonna kick off our

00:07:56.389 --> 00:07:57.350
<v Speaker 0>first one

00:07:57.775 --> 00:08:00.735
<v Speaker 0>in London, just because that's where I am.

00:08:02.335 --> 00:08:04.335
<v Speaker 0>We'll do a C3 medium.

00:08:04.974 --> 00:08:06.895
<v Speaker 0>We're just gonna use Ubuntu.

00:08:07.215 --> 00:08:09.055
<v Speaker 0>I'm gonna use 22.4

00:08:09.375 --> 00:08:12.110
<v Speaker 0>because it has this wonderful little lightning bolt,

00:08:12.110 --> 00:08:13.870
<v Speaker 0>which means it's quite fast to provision, which

00:08:13.870 --> 00:08:14.670
<v Speaker 0>is great.

00:08:15.630 --> 00:08:16.750
<v Speaker 0>I don't need to change the name of

00:08:16.750 --> 00:08:18.110
<v Speaker 0>the host name. I'm happy for that to

00:08:18.110 --> 00:08:20.190
<v Speaker 0>just to be l l d blah blah

00:08:20.190 --> 00:08:20.750
<v Speaker 0>blah.

00:08:21.230 --> 00:08:22.190
<v Speaker 0>We'll hit deploy.

00:08:24.165 --> 00:08:26.325
<v Speaker 0>We all spin up, I'll maybe just do

00:08:26.325 --> 00:08:28.565
<v Speaker 0>two for now, although the automation will spin

00:08:28.565 --> 00:08:30.965
<v Speaker 0>up more. In fact, manually, I'll just do

00:08:30.965 --> 00:08:33.205
<v Speaker 0>one and the automation can spin up the

00:08:33.205 --> 00:08:34.245
<v Speaker 0>rest. So

00:08:35.259 --> 00:08:37.579
<v Speaker 0>if we come to the automation, there's a

00:08:37.579 --> 00:08:38.700
<v Speaker 0>Pulumi directory

00:08:39.419 --> 00:08:41.259
<v Speaker 0>and here you're gonna see the cloud config

00:08:41.259 --> 00:08:43.179
<v Speaker 0>that I used to automate the entire process

00:08:43.179 --> 00:08:45.740
<v Speaker 0>of installing and configuring core DNS,

00:08:46.139 --> 00:08:48.380
<v Speaker 0>as well as a Pulumi program, which I'm

00:08:48.380 --> 00:08:49.899
<v Speaker 0>using Q for today.

00:08:50.945 --> 00:08:52.545
<v Speaker 0>So if you're not familiar with q oh,

00:08:52.545 --> 00:08:54.145
<v Speaker 0>I don't have that on this machine.

00:08:54.385 --> 00:08:56.145
<v Speaker 0>I have a new machine, which is the

00:08:56.145 --> 00:08:58.225
<v Speaker 0>proven fun. My dot fails were not as

00:08:58.225 --> 00:08:59.505
<v Speaker 0>complete as I was hoping.

00:09:00.225 --> 00:09:01.905
<v Speaker 0>This q lang program

00:09:02.399 --> 00:09:03.759
<v Speaker 0>does everything that we need to do to

00:09:03.759 --> 00:09:05.040
<v Speaker 0>spin up these servers.

00:09:05.759 --> 00:09:07.360
<v Speaker 0>We can use QX port to see what

00:09:07.360 --> 00:09:11.199
<v Speaker 0>that looks like in JSON or even YAML.

00:09:12.160 --> 00:09:13.600
<v Speaker 0>Actual YAML.

00:09:15.120 --> 00:09:16.319
<v Speaker 0>How did I set YAML?

00:09:17.375 --> 00:09:19.214
<v Speaker 0>Oh, out fail. Okay.

00:09:21.535 --> 00:09:22.975
<v Speaker 0>Dash out

00:09:23.135 --> 00:09:25.135
<v Speaker 0>YAML. There we go. This is what it

00:09:25.135 --> 00:09:26.735
<v Speaker 0>looks like in YAML. This is what's actually

00:09:26.735 --> 00:09:29.055
<v Speaker 0>being run by Pulumi. And we'll go through

00:09:29.055 --> 00:09:30.654
<v Speaker 0>that in more detail once we've run through

00:09:30.654 --> 00:09:31.454
<v Speaker 0>the actual example.

00:09:31.990 --> 00:09:33.510
<v Speaker 0>All I really want to do right now

00:09:33.510 --> 00:09:35.110
<v Speaker 0>is just spin this up.

00:09:38.070 --> 00:09:39.750
<v Speaker 0>Oh, my token.

00:09:42.470 --> 00:09:44.230
<v Speaker 0>All right, let's do this in a nice,

00:09:44.230 --> 00:09:45.430
<v Speaker 0>safe and secure fashion.

00:09:47.065 --> 00:09:49.625
<v Speaker 0>Now I'll grab a token from another browser.

00:09:53.625 --> 00:09:55.625
<v Speaker 0>Too many monitors, I keep losing my mouse.

00:10:03.020 --> 00:10:03.820
<v Speaker 0>Okay.

00:10:09.020 --> 00:10:10.860
<v Speaker 0>Where did I just paste that?

00:10:12.700 --> 00:10:14.940
<v Speaker 0>Nothing is on screen. I think I'm okay.

00:10:16.675 --> 00:10:18.515
<v Speaker 0>Okay, so now we should have a password

00:10:18.515 --> 00:10:20.275
<v Speaker 0>set and we can run Pulumi up.

00:10:23.075 --> 00:10:24.675
<v Speaker 0>What we're gonna see here, let's just go

00:10:24.675 --> 00:10:26.915
<v Speaker 0>into our IP block, three devices, one in

00:10:26.915 --> 00:10:28.990
<v Speaker 0>The US, EU and Asia. We've got IP

00:10:28.990 --> 00:10:31.470
<v Speaker 0>attachments and BGP sessions for all of these

00:10:32.029 --> 00:10:33.070
<v Speaker 0>and

00:10:35.390 --> 00:10:36.590
<v Speaker 0>we'll hit go.

00:10:38.830 --> 00:10:39.550
<v Speaker 0>Right. Hopefully

00:10:41.345 --> 00:10:42.625
<v Speaker 0>that just well,

00:10:42.945 --> 00:10:44.464
<v Speaker 0>hopefully, that just works.

00:10:45.264 --> 00:10:48.545
<v Speaker 0>Invalid authentication token. Okay. So do I not

00:10:48.545 --> 00:10:49.665
<v Speaker 0>know how to paste?

00:10:52.545 --> 00:10:54.144
<v Speaker 0>Ah, I still got all the YAML on

00:10:54.144 --> 00:10:54.704
<v Speaker 0>my buffer.

00:10:56.290 --> 00:10:57.250
<v Speaker 0>There we go.

00:10:58.770 --> 00:11:00.770
<v Speaker 0>Who'd have thought it was the token that

00:11:00.770 --> 00:11:03.090
<v Speaker 0>stumped me or copied and pasted.

00:11:05.089 --> 00:11:07.410
<v Speaker 0>Let's let that go. So that should be

00:11:07.890 --> 00:11:08.529
<v Speaker 0>better now.

00:11:09.305 --> 00:11:10.985
<v Speaker 0>And I'm feeling confident, so I'm gonna go

00:11:10.985 --> 00:11:12.024
<v Speaker 0>away from here.

00:11:12.345 --> 00:11:14.264
<v Speaker 0>We'll come back to courses,

00:11:14.745 --> 00:11:16.264
<v Speaker 0>global reach part three,

00:11:19.865 --> 00:11:20.824
<v Speaker 0>create failed.

00:11:24.510 --> 00:11:26.510
<v Speaker 0>But only my Tokyo machine.

00:11:27.070 --> 00:11:28.750
<v Speaker 0>So that's probably just I've got the Metro

00:11:28.750 --> 00:11:31.230
<v Speaker 0>wrong, which I really should have

00:11:31.630 --> 00:11:33.230
<v Speaker 0>double checked it, but I'm not gonna worry

00:11:33.230 --> 00:11:35.045
<v Speaker 0>about that machine right now. We can still

00:11:35.045 --> 00:11:36.964
<v Speaker 0>work it with that. And so I'm gonna

00:11:36.964 --> 00:11:38.565
<v Speaker 0>let that spin up just now. We'll pop

00:11:38.565 --> 00:11:41.925
<v Speaker 0>back over to Versus Code and yeah. Rio.

00:11:42.725 --> 00:11:45.205
<v Speaker 0>Copy and paste is definitely an art that

00:11:46.245 --> 00:11:48.245
<v Speaker 0>I should invest in time and learning and

00:11:48.245 --> 00:11:48.725
<v Speaker 0>improving,

00:11:49.390 --> 00:11:51.550
<v Speaker 0>but not right now because we're busy. Okay.

00:11:51.550 --> 00:11:52.110
<v Speaker 0>So

00:11:54.670 --> 00:11:56.270
<v Speaker 0>we have one device.

00:11:56.830 --> 00:11:58.430
<v Speaker 0>So I've done this back here, but I

00:11:58.430 --> 00:12:00.589
<v Speaker 0>actually forgot to reserve myself a global IP.

00:12:00.589 --> 00:12:02.190
<v Speaker 0>So we're gonna come over here. We're gonna

00:12:02.190 --> 00:12:02.990
<v Speaker 0>go to IPs.

00:12:05.325 --> 00:12:07.245
<v Speaker 0>And we're gonna request a new one. You'll

00:12:07.245 --> 00:12:09.805
<v Speaker 0>see that my automation already has one, but

00:12:09.805 --> 00:12:11.885
<v Speaker 0>we're going to do one more. Now you've

00:12:11.885 --> 00:12:13.565
<v Speaker 0>got a couple of options on Equinix.

00:12:13.725 --> 00:12:16.205
<v Speaker 0>You've got public IPv4. These are announced or

00:12:16.205 --> 00:12:16.845
<v Speaker 0>advertised

00:12:18.120 --> 00:12:19.560
<v Speaker 0>only within

00:12:19.960 --> 00:12:20.920
<v Speaker 0>metros.

00:12:21.560 --> 00:12:23.560
<v Speaker 0>Now, because we want globally

00:12:23.880 --> 00:12:25.960
<v Speaker 0>available IP, which means it can be from

00:12:25.960 --> 00:12:27.640
<v Speaker 0>anywhere in the world and we're treated accordingly,

00:12:27.640 --> 00:12:28.920
<v Speaker 0>we need to go for global.

00:12:29.160 --> 00:12:31.400
<v Speaker 0>It's a little bit more expensive. But again,

00:12:31.400 --> 00:12:33.425
<v Speaker 0>if you're watching this video and you want

00:12:33.425 --> 00:12:35.745
<v Speaker 0>globally distributed service,

00:12:35.985 --> 00:12:37.745
<v Speaker 0>then it's probably gonna be worth it.

00:12:38.305 --> 00:12:39.985
<v Speaker 0>We just want one, I'm not gonna get

00:12:39.985 --> 00:12:42.145
<v Speaker 0>any more. And then I'm gonna submit my

00:12:42.145 --> 00:12:42.545
<v Speaker 0>request.

00:12:46.889 --> 00:12:50.010
<v Speaker 0>And if I refresh

00:12:55.130 --> 00:12:56.730
<v Speaker 0>oh, there we go. I thought they were

00:12:56.730 --> 00:12:57.610
<v Speaker 0>the same. They're different.

00:12:58.235 --> 00:12:59.995
<v Speaker 0>We now have forty dot twelve as well

00:12:59.995 --> 00:13:02.315
<v Speaker 0>as our automation, which got forty dot ten.

00:13:03.595 --> 00:13:06.315
<v Speaker 0>Okay. Let's jump back over here. So we've

00:13:06.315 --> 00:13:07.275
<v Speaker 0>reserved one.

00:13:08.475 --> 00:13:10.235
<v Speaker 0>We have deployed a server.

00:13:11.870 --> 00:13:13.550
<v Speaker 0>So I was supposed to be using Chicago,

00:13:13.550 --> 00:13:16.270
<v Speaker 0>London, and Sydney. I've been deviated slightly from

00:13:16.270 --> 00:13:17.870
<v Speaker 0>that, but you can use whatever metros you

00:13:17.870 --> 00:13:18.430
<v Speaker 0>want.

00:13:19.150 --> 00:13:20.750
<v Speaker 0>What we need to do now is for

00:13:20.750 --> 00:13:22.270
<v Speaker 0>each of the servers where we want to

00:13:22.270 --> 00:13:23.630
<v Speaker 0>be able to advertise

00:13:23.514 --> 00:13:25.675
<v Speaker 0>BGP address is that we have to go

00:13:25.675 --> 00:13:27.755
<v Speaker 0>on and configure a piece of software called

00:13:27.755 --> 00:13:28.475
<v Speaker 0>BERT.

00:13:28.714 --> 00:13:31.595
<v Speaker 0>BERT is a BGP advertiser.

00:13:32.875 --> 00:13:33.755
<v Speaker 0>BERT

00:13:34.074 --> 00:13:34.714
<v Speaker 0>BGP.

00:13:41.399 --> 00:13:42.360
<v Speaker 0>Here.

00:13:42.680 --> 00:13:45.399
<v Speaker 0>So it's just open source software that anyone

00:13:45.399 --> 00:13:46.519
<v Speaker 0>can use.

00:13:47.399 --> 00:13:50.279
<v Speaker 0>There are other options for advertising BGP addresses,

00:13:50.279 --> 00:13:53.005
<v Speaker 0>but I'm quite comfortable with BERT and Equinix

00:13:53.005 --> 00:13:55.005
<v Speaker 0>better provide some network helpers, which you'll see

00:13:55.005 --> 00:13:57.725
<v Speaker 0>shortly, which actually configure pretty much everything that

00:13:57.725 --> 00:13:59.565
<v Speaker 0>we need to do today. So we're gonna

00:13:59.565 --> 00:14:00.445
<v Speaker 0>stick with that.

00:14:01.085 --> 00:14:02.765
<v Speaker 0>So we are going to

00:14:04.449 --> 00:14:08.370
<v Speaker 0>apt update, apt install bert and Python three,

00:14:09.649 --> 00:14:11.089
<v Speaker 0>and then we're going to get these network

00:14:11.089 --> 00:14:12.450
<v Speaker 0>helpers. So

00:14:13.889 --> 00:14:15.570
<v Speaker 0>what do we need? We need the IP

00:14:15.570 --> 00:14:17.730
<v Speaker 0>address of our first server,

00:14:18.050 --> 00:14:19.170
<v Speaker 0>so we can come back to here.

00:14:22.345 --> 00:14:24.425
<v Speaker 0>Oh, no, I clicked on demand.

00:14:26.905 --> 00:14:29.385
<v Speaker 0>And this No, I spun up the medium

00:14:29.385 --> 00:14:30.425
<v Speaker 0>in London. Yep.

00:14:30.985 --> 00:14:32.985
<v Speaker 0>This is my automation.

00:14:32.985 --> 00:14:34.585
<v Speaker 0>So we're gonna ignore that for now.

00:14:40.950 --> 00:14:42.870
<v Speaker 0>And we are now on a machine, we

00:14:42.870 --> 00:14:44.470
<v Speaker 0>can do our apt update.

00:14:46.710 --> 00:14:49.030
<v Speaker 0>Moj says awesome Versus Code theme.

00:14:50.275 --> 00:14:52.035
<v Speaker 0>Thank you. This is

00:14:54.035 --> 00:14:56.275
<v Speaker 0>base 16 dark ocean.

00:14:57.315 --> 00:14:59.875
<v Speaker 0>I'm quite partial for the base 16 themes.

00:14:59.875 --> 00:15:02.210
<v Speaker 0>There's a whole bunch of varieties, but the

00:15:02.210 --> 00:15:04.850
<v Speaker 0>ocean one I find is there. It's quite

00:15:04.850 --> 00:15:05.890
<v Speaker 0>nice, especially

00:15:06.210 --> 00:15:09.250
<v Speaker 0>looking at code. It's it's really readable,

00:15:09.490 --> 00:15:10.370
<v Speaker 0>which is awesome.

00:15:11.010 --> 00:15:13.170
<v Speaker 0>Alright. So we've run an apt update. We

00:15:13.170 --> 00:15:14.690
<v Speaker 0>now need to install Python

00:15:15.205 --> 00:15:16.485
<v Speaker 0>pep get

00:15:16.885 --> 00:15:17.765
<v Speaker 0>bert.

00:15:21.845 --> 00:15:23.285
<v Speaker 0>Think it's just Python three actually.

00:15:34.210 --> 00:15:36.850
<v Speaker 0>Nice. Just takes a moment. These boxes have

00:15:37.890 --> 00:15:38.850
<v Speaker 0>pretty good

00:15:39.250 --> 00:15:40.210
<v Speaker 0>to interact.

00:15:40.930 --> 00:15:43.250
<v Speaker 0>And we have a question from Manuel

00:15:44.575 --> 00:15:46.335
<v Speaker 0>who asks, do you know if it's possible

00:15:46.335 --> 00:15:48.815
<v Speaker 0>to bring your own IP to Equinix Metal?

00:15:48.975 --> 00:15:50.495
<v Speaker 0>You can, actually.

00:15:51.295 --> 00:15:53.215
<v Speaker 0>You get a couple of options when it

00:15:53.215 --> 00:15:55.695
<v Speaker 0>comes to IPs and BGP with Equinix Metal.

00:15:55.695 --> 00:15:57.455
<v Speaker 0>Now I believe you do need to speak

00:15:57.455 --> 00:15:59.615
<v Speaker 0>to the support team. Not

00:16:00.230 --> 00:16:01.589
<v Speaker 0>all of what I'm about to mention is

00:16:01.589 --> 00:16:03.110
<v Speaker 0>available via the portal.

00:16:03.670 --> 00:16:05.509
<v Speaker 0>But I know that from the portal you

00:16:05.509 --> 00:16:06.230
<v Speaker 0>can

00:16:08.470 --> 00:16:10.070
<v Speaker 0>bring your own ASN

00:16:10.310 --> 00:16:13.350
<v Speaker 0>and have Equinix advertise IP addresses to it,

00:16:13.745 --> 00:16:15.105
<v Speaker 0>which is very, very cool.

00:16:15.665 --> 00:16:17.105
<v Speaker 0>It does take

00:16:17.985 --> 00:16:20.144
<v Speaker 0>this is one to two business days for

00:16:20.144 --> 00:16:21.185
<v Speaker 0>a response.

00:16:21.345 --> 00:16:23.985
<v Speaker 0>During my experimentation, it's it's been much faster,

00:16:23.985 --> 00:16:25.345
<v Speaker 0>closer to twelve hours.

00:16:25.665 --> 00:16:27.505
<v Speaker 0>So you can bring your own ASN and

00:16:27.505 --> 00:16:28.945
<v Speaker 0>and

00:16:28.360 --> 00:16:29.960
<v Speaker 0>could have a password on it, and you

00:16:29.960 --> 00:16:32.440
<v Speaker 0>can advertise to it from Equinix Metal. Very

00:16:32.440 --> 00:16:33.000
<v Speaker 0>cool.

00:16:33.320 --> 00:16:33.960
<v Speaker 0>And

00:16:34.200 --> 00:16:35.480
<v Speaker 0>if you want to bring your own IP

00:16:35.480 --> 00:16:37.560
<v Speaker 0>address, you reach out to support, and then

00:16:37.560 --> 00:16:39.560
<v Speaker 0>they can hook that up and advertise the

00:16:39.560 --> 00:16:41.720
<v Speaker 0>IP address for you once you've confirmed that

00:16:41.720 --> 00:16:44.345
<v Speaker 0>it is your IP address to advertise.

00:16:44.665 --> 00:16:47.144
<v Speaker 0>So, yes, you 100% can.

00:16:48.904 --> 00:16:51.144
<v Speaker 0>Alright. So we now have all of that

00:16:51.144 --> 00:16:53.384
<v Speaker 0>bits of software installed, so now we need

00:16:53.384 --> 00:16:54.665
<v Speaker 0>to configure our interface.

00:16:55.700 --> 00:16:58.020
<v Speaker 0>So we have this cat command here, which

00:16:58.020 --> 00:17:00.500
<v Speaker 0>is going to basically add a new IP

00:17:00.500 --> 00:17:02.580
<v Speaker 0>address to the loopback device, and we want

00:17:02.580 --> 00:17:04.659
<v Speaker 0>this here to be our BGP

00:17:04.980 --> 00:17:06.260
<v Speaker 0>global IP.

00:17:09.435 --> 00:17:11.195
<v Speaker 0>Why did I get logged out?

00:17:20.269 --> 00:17:21.069
<v Speaker 0>Strange.

00:17:22.269 --> 00:17:22.989
<v Speaker 0>Okay.

00:17:23.230 --> 00:17:25.869
<v Speaker 0>So let's grab that dot 12 IP address

00:17:25.869 --> 00:17:26.909
<v Speaker 0>so that we can

00:17:27.230 --> 00:17:29.070
<v Speaker 0>configure that as required.

00:17:29.070 --> 00:17:31.230
<v Speaker 0>So we'll just copy this, assuming I know

00:17:31.230 --> 00:17:33.629
<v Speaker 0>how to copy paste. Right. And I'll drop

00:17:33.629 --> 00:17:34.830
<v Speaker 0>this into Versus code here.

00:17:36.005 --> 00:17:37.845
<v Speaker 0>Make sure I have the right space there.

00:17:37.845 --> 00:17:40.405
<v Speaker 0>And we add this to our interfaces file.

00:17:43.045 --> 00:17:44.565
<v Speaker 0>Like so. Oh.

00:17:49.525 --> 00:17:49.845
<v Speaker 0>Nope.

00:17:51.370 --> 00:17:52.729
<v Speaker 0>Having that error

00:17:54.330 --> 00:17:55.289
<v Speaker 0>is okay.

00:17:59.130 --> 00:18:01.450
<v Speaker 0>Yes. It is. Good. So we do have

00:18:01.450 --> 00:18:02.090
<v Speaker 0>our

00:18:02.730 --> 00:18:04.730
<v Speaker 0>our IP address on the loop back to

00:18:04.730 --> 00:18:04.970
<v Speaker 0>five.

00:18:05.785 --> 00:18:06.424
<v Speaker 0>This

00:18:07.145 --> 00:18:09.305
<v Speaker 0>may be an ubuntu twenty two zero four

00:18:09.305 --> 00:18:11.225
<v Speaker 0>error. I'm gonna ignore it anyway.

00:18:11.465 --> 00:18:13.305
<v Speaker 0>My testing was all done with twenty zero

00:18:13.305 --> 00:18:14.985
<v Speaker 0>four, but I decided at the last minute

00:18:14.985 --> 00:18:16.505
<v Speaker 0>we should probably use the latest and greatest.

00:18:16.505 --> 00:18:18.585
<v Speaker 0>In fact, my automation still uses 2004, so

00:18:18.585 --> 00:18:20.745
<v Speaker 0>it's fine. But I'm gonna ignore this message.

00:18:20.745 --> 00:18:23.039
<v Speaker 0>This is, I believe, just superficial.

00:18:23.200 --> 00:18:24.720
<v Speaker 0>What we really need to see here is

00:18:24.720 --> 00:18:27.040
<v Speaker 0>that when we run IP adder, we see

00:18:27.040 --> 00:18:28.960
<v Speaker 0>our address. So I'm

00:18:29.120 --> 00:18:30.240
<v Speaker 0>happy with that.

00:18:30.799 --> 00:18:32.480
<v Speaker 0>And so that I don't commit this,

00:18:33.679 --> 00:18:34.400
<v Speaker 0>put this back.

00:18:35.375 --> 00:18:37.695
<v Speaker 0>Next, we have to use the Equinix metadata

00:18:37.935 --> 00:18:40.015
<v Speaker 0>service. So you can curl and get a

00:18:40.015 --> 00:18:41.375
<v Speaker 0>whole bunch of data

00:18:42.175 --> 00:18:47.055
<v Speaker 0>from metadata.platformequinix.com

00:18:47.055 --> 00:18:47.855
<v Speaker 0>metadata,

00:18:47.855 --> 00:18:49.295
<v Speaker 0>type that to JQ,

00:18:49.375 --> 00:18:50.575
<v Speaker 0>app install JQ.

00:18:57.440 --> 00:18:59.360
<v Speaker 0>And you get all the information about your

00:18:59.360 --> 00:19:01.920
<v Speaker 0>actual bare metal device. So you'll see that

00:19:01.920 --> 00:19:04.315
<v Speaker 0>you have information on the host name, the

00:19:04.315 --> 00:19:06.795
<v Speaker 0>operator of the system, the Metro and facilities,

00:19:06.795 --> 00:19:08.555
<v Speaker 0>SSH keys that have access.

00:19:09.035 --> 00:19:10.155
<v Speaker 0>You have

00:19:10.395 --> 00:19:12.875
<v Speaker 0>the specification for the machines, the type of

00:19:12.875 --> 00:19:15.275
<v Speaker 0>CPU, type of drives, the type of NICs.

00:19:15.929 --> 00:19:18.169
<v Speaker 0>You've got all the storage information, file system,

00:19:18.169 --> 00:19:20.010
<v Speaker 0>everything that you need to know about this

00:19:20.010 --> 00:19:20.649
<v Speaker 0>machine,

00:19:20.970 --> 00:19:22.409
<v Speaker 0>which some of it you can get just

00:19:22.409 --> 00:19:23.609
<v Speaker 0>by working with the

00:19:23.929 --> 00:19:26.409
<v Speaker 0>device file system in Linux, but it's all

00:19:26.409 --> 00:19:27.289
<v Speaker 0>available over an API.

00:19:27.784 --> 00:19:29.784
<v Speaker 0>What's really important for us right now is

00:19:29.784 --> 00:19:32.825
<v Speaker 0>that we need access to the BGP neighbors

00:19:32.825 --> 00:19:33.945
<v Speaker 0>configuration,

00:19:36.505 --> 00:19:38.345
<v Speaker 0>which we haven't enabled yet. So

00:19:38.745 --> 00:19:40.424
<v Speaker 0>if I actually run

00:19:40.985 --> 00:19:42.025
<v Speaker 0>my

00:19:43.740 --> 00:19:46.300
<v Speaker 0>terminals a bit overzealous with a copy there.

00:19:46.300 --> 00:19:47.900
<v Speaker 0>If we try and fetch out

00:19:48.380 --> 00:19:50.700
<v Speaker 0>the BGP neighbor information, we're not gonna get

00:19:50.700 --> 00:19:53.500
<v Speaker 0>anything yet. Now our automation handles as follows,

00:19:53.500 --> 00:19:55.340
<v Speaker 0>but the manual approach is that we need

00:19:55.340 --> 00:19:56.460
<v Speaker 0>to come into our servers,

00:19:57.515 --> 00:20:01.435
<v Speaker 0>click on our manual device, go to BGP,

00:20:02.475 --> 00:20:03.035
<v Speaker 0>and

00:20:07.675 --> 00:20:09.515
<v Speaker 0>I could say turn it on, but it

00:20:09.515 --> 00:20:10.795
<v Speaker 0>does appear to be on.

00:20:12.520 --> 00:20:13.799
<v Speaker 0>Did that just happen?

00:20:14.520 --> 00:20:15.159
<v Speaker 0>No.

00:20:16.600 --> 00:20:17.560
<v Speaker 0>This

00:20:17.560 --> 00:20:20.760
<v Speaker 0>was the manual. Yep. London BGP.

00:20:21.080 --> 00:20:22.520
<v Speaker 0>Let's just do a quick refresh.

00:20:24.965 --> 00:20:26.085
<v Speaker 0>That's weird.

00:20:27.845 --> 00:20:30.245
<v Speaker 0>Whenever I'm very unlucky and

00:20:30.725 --> 00:20:31.524
<v Speaker 0>there's

00:20:31.845 --> 00:20:32.965
<v Speaker 0>some issues.

00:20:34.245 --> 00:20:36.165
<v Speaker 0>Ah, there we go. We're gonna turn on

00:20:36.165 --> 00:20:37.525
<v Speaker 0>BGP for IPv4.

00:20:41.890 --> 00:20:44.610
<v Speaker 0>Someone knocking at my door. We're going to

00:20:44.610 --> 00:20:46.370
<v Speaker 0>turn on BGP IV4

00:20:46.370 --> 00:20:48.850
<v Speaker 0>for this device. Now this should be pretty

00:20:48.850 --> 00:20:49.730
<v Speaker 0>instant.

00:20:50.050 --> 00:20:51.905
<v Speaker 0>Yep. There we go. We do a curl

00:20:51.905 --> 00:20:53.985
<v Speaker 0>to the metadata service again, using GAQ to

00:20:53.985 --> 00:20:55.105
<v Speaker 0>pull it the best that we need to,

00:20:55.105 --> 00:20:57.184
<v Speaker 0>and we'll see that here's the ESN number

00:20:57.184 --> 00:20:59.265
<v Speaker 0>that we need to advertise to. Here are

00:20:59.265 --> 00:21:00.865
<v Speaker 0>the IP addresses that we can do that

00:21:00.865 --> 00:21:01.424
<v Speaker 0>with

00:21:01.665 --> 00:21:05.184
<v Speaker 0>and yeah, nothing else particularly important there. So

00:21:05.690 --> 00:21:07.850
<v Speaker 0>when you're doing this manually, just remember

00:21:08.170 --> 00:21:10.730
<v Speaker 0>to come here and turn it on for

00:21:10.730 --> 00:21:13.450
<v Speaker 0>IPv4 and IPv6, depending on what you're doing.

00:21:14.809 --> 00:21:16.090
<v Speaker 0>Right, next.

00:21:16.570 --> 00:21:17.450
<v Speaker 0>So

00:21:18.835 --> 00:21:20.114
<v Speaker 0>we need to

00:21:21.235 --> 00:21:22.594
<v Speaker 0>run this command,

00:21:24.115 --> 00:21:26.274
<v Speaker 0>which is pretty much the same. However, what

00:21:26.274 --> 00:21:29.234
<v Speaker 0>we're doing here is getting the gateway

00:21:29.875 --> 00:21:31.875
<v Speaker 0>on the management,

00:21:34.160 --> 00:21:36.240
<v Speaker 0>getting the gateway on the management interface for

00:21:36.240 --> 00:21:37.360
<v Speaker 0>IPv4,

00:21:37.840 --> 00:21:40.320
<v Speaker 0>so that we can configure the routes to

00:21:40.320 --> 00:21:41.520
<v Speaker 0>go through this.

00:21:42.720 --> 00:21:45.840
<v Speaker 0>And then we can configure the gateway IP

00:21:45.840 --> 00:21:46.800
<v Speaker 0>for these routes.

00:21:47.595 --> 00:21:49.595
<v Speaker 0>So we're gonna copy this,

00:21:50.395 --> 00:21:51.914
<v Speaker 0>come to Versus Code

00:21:54.155 --> 00:21:56.315
<v Speaker 0>and do this. And this is all handled

00:21:56.315 --> 00:21:57.755
<v Speaker 0>by the automation. If you don't like doing

00:21:57.755 --> 00:21:58.955
<v Speaker 0>this stuff manually,

00:21:59.755 --> 00:22:00.554
<v Speaker 0>it's all good.

00:22:03.440 --> 00:22:04.240
<v Speaker 0>Oops.

00:22:07.120 --> 00:22:09.039
<v Speaker 0>Oh, I forgot to add the PIN addresses.

00:22:10.560 --> 00:22:12.639
<v Speaker 0>This is why automation is important.

00:22:13.200 --> 00:22:14.559
<v Speaker 0>So we did this

00:22:15.440 --> 00:22:16.560
<v Speaker 0>and this.

00:22:20.085 --> 00:22:22.085
<v Speaker 0>And now if we run IP

00:22:22.325 --> 00:22:23.044
<v Speaker 0>routes,

00:22:23.205 --> 00:22:26.005
<v Speaker 0>you'll see that we can successfully route traffic

00:22:26.005 --> 00:22:29.205
<v Speaker 0>to the peers through the public IPv4 address.

00:22:30.405 --> 00:22:32.565
<v Speaker 0>We'll undo that, so it'll commit it

00:22:33.210 --> 00:22:35.610
<v Speaker 0>and keep going. So now that we have

00:22:35.610 --> 00:22:37.850
<v Speaker 0>the roots configured to speak to the peers,

00:22:38.490 --> 00:22:39.369
<v Speaker 0>we can

00:22:39.850 --> 00:22:41.929
<v Speaker 0>configure and install BERT. Now you don't need

00:22:41.929 --> 00:22:43.850
<v Speaker 0>to do any of this manually. The network

00:22:43.850 --> 00:22:47.495
<v Speaker 0>helpers available at github.com/packethost/network-helpers

00:22:47.495 --> 00:22:49.575
<v Speaker 0>do everything for you. They speak to the

00:22:49.575 --> 00:22:51.335
<v Speaker 0>metadata API to pull out all the peer

00:22:51.335 --> 00:22:53.174
<v Speaker 0>information to configure BERT. We'll take a look

00:22:53.174 --> 00:22:54.054
<v Speaker 0>at the config,

00:22:55.414 --> 00:22:58.294
<v Speaker 0>and BERT just starts running via system d

00:22:58.294 --> 00:22:59.255
<v Speaker 0>and everything is good.

00:23:00.070 --> 00:23:01.910
<v Speaker 0>So you'll see here, it spits that out.

00:23:01.910 --> 00:23:03.190
<v Speaker 0>We've got our

00:23:05.750 --> 00:23:07.510
<v Speaker 0>static roots configured here.

00:23:08.070 --> 00:23:09.830
<v Speaker 0>Oh, cool. I guess you don't need to

00:23:09.830 --> 00:23:11.350
<v Speaker 0>add that manually. Well, we're still gonna do

00:23:11.350 --> 00:23:11.830
<v Speaker 0>it.

00:23:12.550 --> 00:23:14.790
<v Speaker 0>Add the it's got the roots, it's got

00:23:14.790 --> 00:23:15.190
<v Speaker 0>the

00:23:15.855 --> 00:23:18.815
<v Speaker 0>neighbor and it's got the other neighbor. So

00:23:18.975 --> 00:23:20.495
<v Speaker 0>exactly what we need.

00:23:20.895 --> 00:23:22.654
<v Speaker 0>We can run a system control

00:23:22.975 --> 00:23:23.775
<v Speaker 0>status

00:23:23.775 --> 00:23:24.575
<v Speaker 0>bert.

00:23:25.934 --> 00:23:27.934
<v Speaker 0>We can see that it's running and I'm

00:23:27.934 --> 00:23:30.495
<v Speaker 0>just gonna ignore these letters. These are superficial

00:23:30.495 --> 00:23:30.895
<v Speaker 0>as well.

00:23:32.390 --> 00:23:34.070
<v Speaker 0>Next, we can run a BERT shell to

00:23:34.070 --> 00:23:35.989
<v Speaker 0>confirm that is actually working

00:23:36.070 --> 00:23:37.509
<v Speaker 0>and doing what we want.

00:23:37.909 --> 00:23:39.029
<v Speaker 0>BERT c.

00:23:41.110 --> 00:23:43.190
<v Speaker 0>And we'll

00:23:43.190 --> 00:23:45.110
<v Speaker 0>see here that our BGP state is established.

00:23:45.285 --> 00:23:46.805
<v Speaker 0>This is good. This is what we want.

00:23:46.805 --> 00:23:48.645
<v Speaker 0>We want BERT to be able to successfully

00:23:48.645 --> 00:23:51.525
<v Speaker 0>establish and talk to those peers so we

00:23:51.525 --> 00:23:52.965
<v Speaker 0>can advertise the address.

00:23:53.445 --> 00:23:55.925
<v Speaker 0>And this is not always instantaneous, but if

00:23:55.925 --> 00:23:58.725
<v Speaker 0>you need to confirm this even further, you

00:23:57.810 --> 00:24:00.690
<v Speaker 0>can go to the admin console. And if

00:24:00.690 --> 00:24:01.730
<v Speaker 0>you hit refresh,

00:24:02.210 --> 00:24:04.930
<v Speaker 0>yeah, it's not always as instantaneous, but I

00:24:05.010 --> 00:24:06.930
<v Speaker 0>updated every six hours. Let's try and force

00:24:06.930 --> 00:24:07.490
<v Speaker 0>it be update.

00:24:10.275 --> 00:24:12.435
<v Speaker 0>As we should see that this machine has

00:24:12.435 --> 00:24:13.475
<v Speaker 0>a learned route.

00:24:14.195 --> 00:24:16.115
<v Speaker 0>Yeah. Okay. We're not gonna wait for that.

00:24:16.115 --> 00:24:17.075
<v Speaker 0>So that's okay.

00:24:18.515 --> 00:24:20.275
<v Speaker 0>Alright. So BGP

00:24:20.275 --> 00:24:22.675
<v Speaker 0>is now configured on this device and ready

00:24:22.675 --> 00:24:23.155
<v Speaker 0>to go.

00:24:25.730 --> 00:24:27.570
<v Speaker 0>Next, what we wanna do is actually run

00:24:27.570 --> 00:24:28.690
<v Speaker 0>core DNS.

00:24:29.250 --> 00:24:30.929
<v Speaker 0>Now you can do the trace route here

00:24:30.929 --> 00:24:31.889
<v Speaker 0>if you want,

00:24:33.010 --> 00:24:35.250
<v Speaker 0>but it's just gonna confirm the route that

00:24:35.250 --> 00:24:37.090
<v Speaker 0>you take on your local machine or an

00:24:37.090 --> 00:24:40.210
<v Speaker 0>Equinix Mineral infrastructure back to that IP address

00:24:39.645 --> 00:24:41.404
<v Speaker 0>should be pretty

00:24:41.645 --> 00:24:43.164
<v Speaker 0>trivial, I would hope.

00:24:44.605 --> 00:24:47.005
<v Speaker 0>So next we're going to install core DNS

00:24:47.005 --> 00:24:48.044
<v Speaker 0>on this machine,

00:24:48.925 --> 00:24:50.845
<v Speaker 0>which is just a curl from the GitHub

00:24:50.845 --> 00:24:52.925
<v Speaker 0>release bayon array and then making it available

00:24:52.925 --> 00:24:53.645
<v Speaker 0>on our path,

00:24:55.429 --> 00:24:56.629
<v Speaker 0>And then doing that,

00:24:57.270 --> 00:24:59.509
<v Speaker 0>we have a question from Moz.

00:25:00.549 --> 00:25:04.230
<v Speaker 0>What advantages does BGP offer over direct routing

00:25:04.230 --> 00:25:05.990
<v Speaker 0>apart from dynamic routing?

00:25:07.270 --> 00:25:08.390
<v Speaker 0>So

00:25:08.175 --> 00:25:11.375
<v Speaker 0>BGP is what makes it possible to advertise

00:25:11.375 --> 00:25:15.055
<v Speaker 0>one IP address across the entire internet

00:25:15.695 --> 00:25:16.335
<v Speaker 0>and

00:25:16.495 --> 00:25:20.095
<v Speaker 0>route it to different machines depending on where

00:25:20.095 --> 00:25:21.855
<v Speaker 0>the source request comes from.

00:25:24.450 --> 00:25:25.489
<v Speaker 0>I don't

00:25:26.610 --> 00:25:28.049
<v Speaker 0>I don't believe

00:25:29.010 --> 00:25:31.409
<v Speaker 0>it's possible to do this with other technologies.

00:25:31.970 --> 00:25:33.490
<v Speaker 0>So what this means is if you think

00:25:33.490 --> 00:25:35.970
<v Speaker 0>about traditional networking landscape, you have an IP

00:25:35.970 --> 00:25:37.809
<v Speaker 0>address that maps to one machine. Sure. It

00:25:37.809 --> 00:25:39.524
<v Speaker 0>can go through some routers and and other

00:25:39.524 --> 00:25:40.965
<v Speaker 0>pieces of kit before it gets there, but

00:25:40.965 --> 00:25:43.044
<v Speaker 0>it's always one IP address as one machine.

00:25:43.445 --> 00:25:45.605
<v Speaker 0>BGP makes it because it works at the

00:25:45.605 --> 00:25:48.804
<v Speaker 0>AS level, the autonomous system level, that if

00:25:48.804 --> 00:25:50.804
<v Speaker 0>you come into an autonomous system, it can

00:25:50.804 --> 00:25:51.044
<v Speaker 0>actually

00:25:51.640 --> 00:25:53.799
<v Speaker 0>advertise a prefix or an IP address and

00:25:53.799 --> 00:25:55.080
<v Speaker 0>say, I know how to route this traffic

00:25:55.080 --> 00:25:56.919
<v Speaker 0>and all of those different autonomous systems can

00:25:56.919 --> 00:25:57.960
<v Speaker 0>route differently

00:25:58.120 --> 00:25:59.960
<v Speaker 0>depending on where the source traffic is coming

00:25:59.960 --> 00:26:00.440
<v Speaker 0>from.

00:26:00.840 --> 00:26:02.840
<v Speaker 0>Meaning that if you're in Australia,

00:26:02.919 --> 00:26:04.600
<v Speaker 0>then you're gonna be routed to a server

00:26:04.600 --> 00:26:06.945
<v Speaker 0>in Australia or as close to Australia as

00:26:06.945 --> 00:26:08.465
<v Speaker 0>you can get. Whereas if you're in Europe

00:26:08.465 --> 00:26:09.905
<v Speaker 0>or The US, we're gonna route you to

00:26:09.905 --> 00:26:12.145
<v Speaker 0>traffic within Europe and The US and as

00:26:12.145 --> 00:26:13.745
<v Speaker 0>minimal hops as possible.

00:26:13.905 --> 00:26:15.825
<v Speaker 0>We're just in that latency to the first

00:26:15.825 --> 00:26:18.145
<v Speaker 0>bite because that's how we build truly scalable

00:26:18.145 --> 00:26:20.304
<v Speaker 0>distributed systems on a global scale.

00:26:21.025 --> 00:26:22.600
<v Speaker 0>And I don't think it's possible to do

00:26:22.600 --> 00:26:25.720
<v Speaker 0>this without BGP. Although, I am happy to

00:26:25.720 --> 00:26:26.759
<v Speaker 0>be corrected.

00:26:26.920 --> 00:26:28.520
<v Speaker 0>So that is why we would do this

00:26:28.520 --> 00:26:29.559
<v Speaker 0>with BGP.

00:26:29.800 --> 00:26:32.040
<v Speaker 0>Now the other alternative way to do it,

00:26:32.040 --> 00:26:33.880
<v Speaker 0>which is not through a single IP address,

00:26:34.605 --> 00:26:35.644
<v Speaker 0>but just through

00:26:36.045 --> 00:26:37.325
<v Speaker 0>sharding geographically

00:26:37.325 --> 00:26:38.764
<v Speaker 0>at the DNS level,

00:26:39.165 --> 00:26:41.725
<v Speaker 0>which is having DNS servers and and edge

00:26:41.725 --> 00:26:44.525
<v Speaker 0>locations and having them route the traffic and

00:26:44.525 --> 00:26:47.005
<v Speaker 0>return different IP addresses depending on where the

00:26:47.005 --> 00:26:47.805
<v Speaker 0>request comes from.

00:26:48.980 --> 00:26:50.420
<v Speaker 0>That is not as

00:26:52.260 --> 00:26:54.020
<v Speaker 0>I I don't like it as much. There's

00:26:54.020 --> 00:26:55.860
<v Speaker 0>definitely more margin for error

00:26:55.940 --> 00:26:58.340
<v Speaker 0>and DNS caching and a whole bunch of

00:26:58.340 --> 00:26:59.700
<v Speaker 0>other things that you have to deal with,

00:26:59.700 --> 00:27:01.300
<v Speaker 0>but it is a route that cloud providers

00:27:01.300 --> 00:27:02.875
<v Speaker 0>have used. AWS

00:27:02.875 --> 00:27:05.115
<v Speaker 0>and Route 53 definitely offer this as a

00:27:05.115 --> 00:27:05.674
<v Speaker 0>feature.

00:27:06.555 --> 00:27:08.235
<v Speaker 0>But if you have access to BGP, I

00:27:08.235 --> 00:27:10.075
<v Speaker 0>really struggle to see why you just wouldn't

00:27:10.075 --> 00:27:12.235
<v Speaker 0>go down the BGP route. So I hope

00:27:12.235 --> 00:27:14.155
<v Speaker 0>that helps, Mozz. If you have any follow-up

00:27:14.155 --> 00:27:15.434
<v Speaker 0>questions, just drop them in the chat.

00:27:16.360 --> 00:27:18.360
<v Speaker 0>And a cool comment there from Manuel. Just

00:27:18.360 --> 00:27:19.960
<v Speaker 0>a reminder to everyone here who's not a

00:27:19.960 --> 00:27:22.440
<v Speaker 0>network engineer, you want BGP to be established,

00:27:22.440 --> 00:27:23.639
<v Speaker 0>not active.

00:27:24.200 --> 00:27:25.479
<v Speaker 0>Good tip. Thank you.

00:27:27.240 --> 00:27:27.799
<v Speaker 0>Cool.

00:27:28.120 --> 00:27:30.919
<v Speaker 0>Let's jump back into this. So we've got

00:27:31.245 --> 00:27:32.365
<v Speaker 0>available, but we need to be able to

00:27:32.365 --> 00:27:34.365
<v Speaker 0>configure it. And I'm going to do this

00:27:34.365 --> 00:27:35.725
<v Speaker 0>rather chaotically.

00:27:36.605 --> 00:27:38.284
<v Speaker 0>So let's just oh,

00:27:39.005 --> 00:27:40.684
<v Speaker 0>Let's do this first. So we're gonna create

00:27:40.684 --> 00:27:42.445
<v Speaker 0>a core DNS directory and we're gonna write

00:27:42.445 --> 00:27:44.045
<v Speaker 0>a fake domain to it. Of course, you

00:27:44.045 --> 00:27:45.005
<v Speaker 0>should you

00:27:45.005 --> 00:27:47.020
<v Speaker 0>should choose real domains, but because of the

00:27:47.020 --> 00:27:48.460
<v Speaker 0>way the internet works, I can use whatever

00:27:48.460 --> 00:27:49.740
<v Speaker 0>the hell I want and it will just

00:27:49.740 --> 00:27:51.899
<v Speaker 0>work because I'm gonna be directly

00:27:51.900 --> 00:27:53.980
<v Speaker 0>sending DNS requests to

00:27:54.140 --> 00:27:55.580
<v Speaker 0>this BGP address.

00:27:56.460 --> 00:27:58.780
<v Speaker 0>So what we're doing here is we're ran

00:27:59.605 --> 00:28:02.325
<v Speaker 0>we're using the core DNS file plugin, which

00:28:02.325 --> 00:28:03.284
<v Speaker 0>means that you can store all of your

00:28:03.284 --> 00:28:05.445
<v Speaker 0>DNS records inside of a file and core

00:28:05.445 --> 00:28:07.845
<v Speaker 0>DNS will load them just like bind another

00:28:07.845 --> 00:28:10.884
<v Speaker 0>DNS systems to be fair. You can hook

00:28:10.884 --> 00:28:12.484
<v Speaker 0>core DNS up to

00:28:12.804 --> 00:28:15.370
<v Speaker 0>like databases if you wanted to build it

00:28:15.370 --> 00:28:17.450
<v Speaker 0>out that way. But for today,

00:28:17.690 --> 00:28:19.450
<v Speaker 0>in fact, in general, like a drill, I

00:28:19.450 --> 00:28:21.450
<v Speaker 0>think the file plugin is is pretty spawn,

00:28:21.610 --> 00:28:23.610
<v Speaker 0>especially as you can store all these configurations

00:28:23.610 --> 00:28:24.409
<v Speaker 0>and get

00:28:24.730 --> 00:28:26.890
<v Speaker 0>sync them onto the machines, run CoreDNS,

00:28:27.394 --> 00:28:28.914
<v Speaker 0>and then set up system data to do

00:28:28.914 --> 00:28:30.835
<v Speaker 0>reloads whenever the files changes and pull new

00:28:30.835 --> 00:28:32.514
<v Speaker 0>changes from Git. So,

00:28:33.635 --> 00:28:35.875
<v Speaker 0>yeah, good way to do it. Manuel, gotta

00:28:35.875 --> 00:28:36.514
<v Speaker 0>go.

00:28:36.995 --> 00:28:38.514
<v Speaker 0>Make sure you watch later. I appreciate the

00:28:38.514 --> 00:28:38.835
<v Speaker 0>comment.

00:28:39.440 --> 00:28:41.040
<v Speaker 0>Thank you very much. I really do appreciate

00:28:41.040 --> 00:28:42.880
<v Speaker 0>that. Thank you for joining, and feel free

00:28:42.880 --> 00:28:44.080
<v Speaker 0>to comment later when you get around to

00:28:44.080 --> 00:28:45.360
<v Speaker 0>watching the rest of the video.

00:28:46.880 --> 00:28:49.360
<v Speaker 0>So we are configuring an origin or domain

00:28:49.360 --> 00:28:51.120
<v Speaker 0>here for yourfirstdomain.com.

00:28:51.485 --> 00:28:53.565
<v Speaker 0>We're setting up some store records. We can

00:28:53.565 --> 00:28:55.405
<v Speaker 0>pretty much just ignore these or copy them

00:28:55.405 --> 00:28:56.685
<v Speaker 0>from the internet, wherever you want. If you

00:28:56.685 --> 00:28:58.525
<v Speaker 0>want to do it a bit more nicely

00:28:58.525 --> 00:29:00.925
<v Speaker 0>or properly, feel free. But the only bet

00:29:00.925 --> 00:29:03.005
<v Speaker 0>I'm really concerned about right now is that

00:29:03.005 --> 00:29:03.965
<v Speaker 0>we have

00:29:04.205 --> 00:29:05.965
<v Speaker 0>two records on this domain.

00:29:06.525 --> 00:29:07.769
<v Speaker 0>One of them, we're setting up an a

00:29:07.769 --> 00:29:10.090
<v Speaker 0>record for www, which is always gonna resolve

00:29:10.090 --> 00:29:11.769
<v Speaker 0>to 127001

00:29:11.769 --> 00:29:13.370
<v Speaker 0>and an IPv6

00:29:13.370 --> 00:29:14.489
<v Speaker 0>local host

00:29:15.049 --> 00:29:17.929
<v Speaker 0>QUADI record or 40. I

00:29:18.250 --> 00:29:19.945
<v Speaker 0>don't know. I'm not sure what the proper

00:29:19.945 --> 00:29:21.144
<v Speaker 0>terminology is there.

00:29:21.465 --> 00:29:23.304
<v Speaker 0>However, this is all you need to configure

00:29:23.304 --> 00:29:25.945
<v Speaker 0>core DNS to start serving records.

00:29:27.945 --> 00:29:30.345
<v Speaker 0>Next, we need a core file, which tells

00:29:30.345 --> 00:29:32.505
<v Speaker 0>it to load this configuration. The core file

00:29:32.505 --> 00:29:34.585
<v Speaker 0>is the main configuration

00:29:34.110 --> 00:29:35.549
<v Speaker 0>for core DNS.

00:29:36.830 --> 00:29:38.029
<v Speaker 0>What we're seeing here

00:29:38.270 --> 00:29:40.429
<v Speaker 0>is that we're gonna run core DNS support

00:29:40.429 --> 00:29:42.750
<v Speaker 0>one five three instead of 53.

00:29:42.750 --> 00:29:44.350
<v Speaker 0>And that's because if we try and run

00:29:44.350 --> 00:29:46.590
<v Speaker 0>it on 53, system d resolve is gonna

00:29:46.590 --> 00:29:48.030
<v Speaker 0>yell at us. So

00:29:48.424 --> 00:29:50.585
<v Speaker 0>you don't really want system d resolve to

00:29:50.585 --> 00:29:52.105
<v Speaker 0>yell at. You could stop it.

00:29:52.665 --> 00:29:53.945
<v Speaker 0>I'll leave that up to you.

00:29:54.665 --> 00:29:56.665
<v Speaker 0>What I'm saying here is that I'm gonna

00:29:56.665 --> 00:29:59.065
<v Speaker 0>forward all unknown domains

00:29:59.065 --> 00:30:01.030
<v Speaker 0>to Google's DNS at eight dot eight dot

00:30:01.030 --> 00:30:02.550
<v Speaker 0>eight dot eight. If you wanna use Cloudflare

00:30:02.550 --> 00:30:04.230
<v Speaker 0>@ 1 1 1 1 go for it

00:30:04.230 --> 00:30:06.710
<v Speaker 0>or your own preferred service, up to you.

00:30:07.430 --> 00:30:09.430
<v Speaker 0>Next, we say that any request for your

00:30:09.430 --> 00:30:10.870
<v Speaker 0>firstdomain.com

00:30:10.870 --> 00:30:14.150
<v Speaker 0>will be loaded from the configuration file that

00:30:14.150 --> 00:30:14.870
<v Speaker 0>we wrote earlier.

00:30:17.085 --> 00:30:20.525
<v Speaker 0>Next, I've written a systemd service file that

00:30:20.525 --> 00:30:21.885
<v Speaker 0>we copy here,

00:30:23.005 --> 00:30:26.765
<v Speaker 0>which gives us core DNS handled by systemd.

00:30:26.765 --> 00:30:28.845
<v Speaker 0>We can run a daemon reload,

00:30:29.405 --> 00:30:30.284
<v Speaker 0>start

00:30:30.285 --> 00:30:31.005
<v Speaker 0>core

00:30:31.510 --> 00:30:32.309
<v Speaker 0>DNS.

00:30:33.110 --> 00:30:34.789
<v Speaker 0>Now, if we've done this correctly,

00:30:34.950 --> 00:30:36.549
<v Speaker 0>we should be able to dig

00:30:36.789 --> 00:30:37.590
<v Speaker 0>at

00:30:37.990 --> 00:30:40.149
<v Speaker 0>one hundred twenty seven thousand and one

00:30:40.470 --> 00:30:42.389
<v Speaker 0>dash P one hundred fifty three

00:30:43.510 --> 00:30:46.070
<v Speaker 0>and say google.com.

00:30:49.915 --> 00:30:50.955
<v Speaker 0>Maybe not.

00:30:51.434 --> 00:30:52.475
<v Speaker 0>CoreDNS

00:30:52.475 --> 00:30:53.434
<v Speaker 0>running.

00:30:56.315 --> 00:30:57.515
<v Speaker 0>It is not.

00:31:01.930 --> 00:31:04.090
<v Speaker 0>Alright. Guess we're debugging. So

00:31:08.570 --> 00:31:11.210
<v Speaker 0>Oh, the directory doesn't the file doesn't exist.

00:31:11.210 --> 00:31:12.650
<v Speaker 0>Twitch, core DNS.

00:31:19.005 --> 00:31:19.965
<v Speaker 0>Interesting.

00:31:19.965 --> 00:31:21.804
<v Speaker 0>I think there's something wrong with my unit

00:31:21.804 --> 00:31:22.684
<v Speaker 0>fail.

00:31:23.725 --> 00:31:24.684
<v Speaker 0>Let's fix it.

00:31:28.510 --> 00:31:30.750
<v Speaker 0>User Rawkode band. CoreDNS.

00:31:33.630 --> 00:31:35.390
<v Speaker 0>Well, this user won't exist.

00:31:45.175 --> 00:31:47.895
<v Speaker 0>So these two capabilities allow us to bind

00:31:47.895 --> 00:31:50.295
<v Speaker 0>on ports less than one zero two four.

00:31:52.695 --> 00:31:54.455
<v Speaker 0>Mean, it does look alright actually.

00:31:57.320 --> 00:31:58.919
<v Speaker 0>In fact, let's try running it.

00:31:59.320 --> 00:32:01.320
<v Speaker 0>Then core DNS

00:32:03.480 --> 00:32:04.519
<v Speaker 0>core fail.

00:32:05.799 --> 00:32:07.720
<v Speaker 0>Oh, and it's then dash c.

00:32:10.385 --> 00:32:11.825
<v Speaker 0>Nope. Dash conf.

00:32:15.904 --> 00:32:17.344
<v Speaker 0>Okay. That worked.

00:32:17.985 --> 00:32:19.505
<v Speaker 0>Restart core DNS.

00:32:23.290 --> 00:32:25.050
<v Speaker 0>Restart.

00:32:29.770 --> 00:32:31.210
<v Speaker 0>I'm not having much luck here.

00:32:34.645 --> 00:32:35.445
<v Speaker 0>Alright.

00:32:36.165 --> 00:32:36.884
<v Speaker 0>Data

00:32:37.445 --> 00:32:38.244
<v Speaker 0>for

00:32:38.405 --> 00:32:39.205
<v Speaker 0>DNS.

00:32:40.965 --> 00:32:43.684
<v Speaker 0>Yeah. I think it was just the user

00:32:44.085 --> 00:32:46.325
<v Speaker 0>pragma instead of my unit file.

00:32:46.760 --> 00:32:47.400
<v Speaker 0>So,

00:32:47.640 --> 00:32:49.240
<v Speaker 0>I mean, that's best practice, but we haven't

00:32:49.240 --> 00:32:50.520
<v Speaker 0>set up a user, so I'm gonna remove

00:32:50.520 --> 00:32:51.000
<v Speaker 0>it.

00:32:51.320 --> 00:32:52.920
<v Speaker 0>And we do have it working

00:32:53.400 --> 00:32:55.240
<v Speaker 0>and we do a dig, we get it

00:32:55.240 --> 00:32:57.000
<v Speaker 0>forward and on and we get an IP

00:32:57.000 --> 00:32:59.000
<v Speaker 0>address. So this looks good at the moment,

00:32:59.000 --> 00:33:00.920
<v Speaker 0>but we'll confirm that. Let me jump into

00:33:00.920 --> 00:33:01.560
<v Speaker 0>the comment.

00:33:02.325 --> 00:33:04.085
<v Speaker 0>So we've got one from RIO.

00:33:05.205 --> 00:33:07.044
<v Speaker 0>BGP can be fun. I remember someone able

00:33:07.044 --> 00:33:08.405
<v Speaker 0>to draw a nine cat on the right

00:33:08.405 --> 00:33:10.804
<v Speaker 0>dashboard that were in traffic different over time.

00:33:10.804 --> 00:33:11.764
<v Speaker 0>That's scary.

00:33:12.485 --> 00:33:14.565
<v Speaker 0>I'd love to see that. That sounds awesome.

00:33:14.645 --> 00:33:15.125
<v Speaker 0>Very cool.

00:33:16.650 --> 00:33:18.170
<v Speaker 0>Oh, you were trying to debug my problem

00:33:18.170 --> 00:33:20.410
<v Speaker 0>with me, chmod plus x. No, I I

00:33:20.410 --> 00:33:22.410
<v Speaker 0>think the permission was okay. The the script

00:33:22.410 --> 00:33:23.610
<v Speaker 0>that we used to install that do a

00:33:23.610 --> 00:33:24.810
<v Speaker 0>chmod anyway,

00:33:25.370 --> 00:33:26.890
<v Speaker 0>but I think it was just the user.

00:33:27.050 --> 00:33:28.890
<v Speaker 0>And the question from us, does core

00:33:29.530 --> 00:33:30.810
<v Speaker 0>DNS support caching?

00:33:31.285 --> 00:33:32.965
<v Speaker 0>It does. It has a whole bunch of

00:33:32.965 --> 00:33:34.005
<v Speaker 0>plugins actually.

00:33:35.925 --> 00:33:38.245
<v Speaker 0>So if you come here to core dns.

00:33:39.845 --> 00:33:41.125
<v Speaker 0>Go to plugins.

00:33:43.285 --> 00:33:45.125
<v Speaker 0>Well, we got here, we've got ACLs. If

00:33:45.125 --> 00:33:47.789
<v Speaker 0>you wanna control who can request records from

00:33:47.789 --> 00:33:50.190
<v Speaker 0>particular domains, if you wanna load bind files,

00:33:50.190 --> 00:33:51.789
<v Speaker 0>if you wanna work with Azure,

00:33:52.669 --> 00:33:54.669
<v Speaker 0>then there's a cache one here. So if

00:33:54.669 --> 00:33:55.710
<v Speaker 0>we click on that,

00:33:57.470 --> 00:33:58.909
<v Speaker 0>this will cache records.

00:34:01.625 --> 00:34:03.625
<v Speaker 0>Yeah. Well, the configuration or how long to

00:34:03.625 --> 00:34:05.384
<v Speaker 0>cache it for, etcetera.

00:34:07.385 --> 00:34:08.905
<v Speaker 0>Those plugins for

00:34:11.704 --> 00:34:13.625
<v Speaker 0>yeah. There's lots of stuff here. DNSSEC.

00:34:13.790 --> 00:34:15.389
<v Speaker 0>Really, I should start experimenting with that. I

00:34:15.389 --> 00:34:16.750
<v Speaker 0>keep being entered to that in my domains,

00:34:16.750 --> 00:34:18.270
<v Speaker 0>but I just haven't got around to it

00:34:18.270 --> 00:34:18.750
<v Speaker 0>yet.

00:34:19.389 --> 00:34:20.670
<v Speaker 0>STD support,

00:34:21.389 --> 00:34:22.429
<v Speaker 0>GeoIP,

00:34:22.429 --> 00:34:24.109
<v Speaker 0>if you want to go down that route,

00:34:24.109 --> 00:34:25.230
<v Speaker 0>gRPC,

00:34:25.310 --> 00:34:27.469
<v Speaker 0>headers. Yeah. There there's

00:34:28.114 --> 00:34:29.554
<v Speaker 0>there's just the support to plug ins and

00:34:29.554 --> 00:34:31.795
<v Speaker 0>then there's the external plug ins as well.

00:34:33.474 --> 00:34:35.714
<v Speaker 0>So, yeah, there's there's lots of cool stuff

00:34:35.714 --> 00:34:36.835
<v Speaker 0>here. So

00:34:38.194 --> 00:34:39.315
<v Speaker 0>core DNS is great.

00:34:42.770 --> 00:34:43.970
<v Speaker 0>So let's,

00:34:44.370 --> 00:34:46.370
<v Speaker 0>we tested Google and we've seen that that

00:34:46.370 --> 00:34:47.650
<v Speaker 0>was forwarded on

00:34:48.130 --> 00:34:49.890
<v Speaker 0>correctly, which is great.

00:34:50.449 --> 00:34:53.330
<v Speaker 0>Let's try your firstdomain.com

00:34:54.395 --> 00:34:57.515
<v Speaker 0>and we only set up www as IPv4.

00:34:58.315 --> 00:35:00.474
<v Speaker 0>So if we do that, we do get

00:35:00.474 --> 00:35:02.395
<v Speaker 0>this here, although we still, you know, we

00:35:02.395 --> 00:35:04.395
<v Speaker 0>have fake authority section here.

00:35:04.954 --> 00:35:06.395
<v Speaker 0>Don't do that in your own configuration.

00:35:06.780 --> 00:35:08.220
<v Speaker 0>This is just a demo.

00:35:09.420 --> 00:35:10.700
<v Speaker 0>But we have the

00:35:11.260 --> 00:35:12.780
<v Speaker 0>12700

00:35:12.780 --> 00:35:13.740
<v Speaker 0>here. So this

00:35:14.060 --> 00:35:15.820
<v Speaker 0>is working. We have a DNS server that

00:35:15.820 --> 00:35:16.300
<v Speaker 0>works.

00:35:16.700 --> 00:35:18.700
<v Speaker 0>I can use our BGP address now instead

00:35:18.700 --> 00:35:20.300
<v Speaker 0>of doing 127.

00:35:20.300 --> 00:35:21.740
<v Speaker 0>So I can come here

00:35:22.255 --> 00:35:22.895
<v Speaker 0>and

00:35:23.215 --> 00:35:24.655
<v Speaker 0>as you can see, I've tested this on

00:35:24.655 --> 00:35:26.335
<v Speaker 0>my own machine previously.

00:35:27.695 --> 00:35:30.335
<v Speaker 0>Our BGP address, it's similar,

00:35:30.335 --> 00:35:32.575
<v Speaker 0>but not, I know it's dot 12 and

00:35:32.575 --> 00:35:34.815
<v Speaker 0>there's something in the middle. So let's take

00:35:34.815 --> 00:35:36.015
<v Speaker 0>a look at what that is.

00:35:38.310 --> 00:35:39.430
<v Speaker 0>BGP.

00:35:43.430 --> 00:35:45.110
<v Speaker 0>Nope. BGP.

00:35:46.230 --> 00:35:48.870
<v Speaker 0>Oh, it's not completely different IP address this

00:35:48.870 --> 00:35:49.110
<v Speaker 0>time.

00:35:50.505 --> 00:35:52.025
<v Speaker 0>We're not completely different.

00:35:52.424 --> 00:35:54.265
<v Speaker 0>Okay. So we do dig at

00:35:54.505 --> 00:35:55.385
<v Speaker 0>port

00:35:56.105 --> 00:35:57.625
<v Speaker 0>and we hit it and we get one

00:35:57.625 --> 00:35:59.464
<v Speaker 0>two seven back. So this is from my

00:35:59.464 --> 00:36:01.224
<v Speaker 0>local machine. This is not with an Equinix

00:36:01.224 --> 00:36:04.425
<v Speaker 0>metal. And if we actually do a trace

00:36:04.664 --> 00:36:05.464
<v Speaker 0>route

00:36:05.960 --> 00:36:07.000
<v Speaker 0>to the type,

00:36:07.880 --> 00:36:09.560
<v Speaker 0>I've obviously got copy

00:36:09.960 --> 00:36:10.599
<v Speaker 0>on

00:36:11.240 --> 00:36:13.000
<v Speaker 0>highlight on this new machine.

00:36:13.720 --> 00:36:15.160
<v Speaker 0>And if we run the trace route, we're

00:36:15.160 --> 00:36:16.119
<v Speaker 0>gonna have to go through

00:36:16.519 --> 00:36:18.519
<v Speaker 0>this is a five g router that I'm

00:36:18.519 --> 00:36:19.799
<v Speaker 0>on in my office, believe it or not.

00:36:19.799 --> 00:36:20.839
<v Speaker 0>So we're gonna see a whole bunch of

00:36:20.839 --> 00:36:22.815
<v Speaker 0>failed hops. And I really should have set

00:36:22.815 --> 00:36:24.495
<v Speaker 0>the retry on failed hops to one, but

00:36:24.495 --> 00:36:25.855
<v Speaker 0>never gonna have to wait for five stars

00:36:25.855 --> 00:36:26.495
<v Speaker 0>on each.

00:36:26.895 --> 00:36:28.255
<v Speaker 0>But we'll see the route that this takes

00:36:28.255 --> 00:36:30.335
<v Speaker 0>to the Equinix better infrastructure, and, course, we

00:36:30.335 --> 00:36:32.575
<v Speaker 0>could run this from another machine and see

00:36:32.575 --> 00:36:34.255
<v Speaker 0>that routed slightly differently

00:36:34.335 --> 00:36:35.695
<v Speaker 0>if we had more than one server,

00:36:36.390 --> 00:36:38.230
<v Speaker 0>which is where the automation comes in. So

00:36:38.230 --> 00:36:39.349
<v Speaker 0>we can take a look at how you

00:36:39.349 --> 00:36:41.430
<v Speaker 0>take this manual process that I've done,

00:36:41.990 --> 00:36:43.910
<v Speaker 0>repeat that using Pulumi. You could also do

00:36:43.910 --> 00:36:45.430
<v Speaker 0>this with TerraForm and

00:36:46.710 --> 00:36:48.710
<v Speaker 0>deploy to as many regions as you want.

00:36:48.710 --> 00:36:49.750
<v Speaker 0>So we'll take a look at how I'm

00:36:49.750 --> 00:36:51.990
<v Speaker 0>using CURE to template out all this YAML

00:36:51.990 --> 00:36:53.485
<v Speaker 0>and hopefully give you a good idea of

00:36:53.485 --> 00:36:55.485
<v Speaker 0>how you can do something similar for yourself.

00:36:56.285 --> 00:36:58.445
<v Speaker 0>I'm going to drink this coffee and hope

00:36:58.445 --> 00:36:59.565
<v Speaker 0>that the stars disappears.

00:37:20.500 --> 00:37:21.300
<v Speaker 0>More stars.

00:37:24.395 --> 00:37:25.595
<v Speaker 0>So people

00:37:25.595 --> 00:37:26.795
<v Speaker 0>that aren't aware,

00:37:26.955 --> 00:37:29.195
<v Speaker 0>the stars on a tracer are in fact,

00:37:29.195 --> 00:37:30.795
<v Speaker 0>here's do you know how how

00:37:31.835 --> 00:37:33.355
<v Speaker 0>a tracer works?

00:37:34.555 --> 00:37:37.059
<v Speaker 0>What it does is that every time you

00:37:37.059 --> 00:37:38.900
<v Speaker 0>make a request to something on the Internet,

00:37:38.900 --> 00:37:40.660
<v Speaker 0>it goes through something called a hop. Every

00:37:40.660 --> 00:37:42.660
<v Speaker 0>device that you go past in order to

00:37:42.660 --> 00:37:44.660
<v Speaker 0>get to your target device is one hop.

00:37:45.140 --> 00:37:48.339
<v Speaker 0>As those hop respond to an ICMP ping,

00:37:48.339 --> 00:37:50.339
<v Speaker 0>then we will get information like we see

00:37:50.724 --> 00:37:51.445
<v Speaker 0>here.

00:37:52.005 --> 00:37:54.325
<v Speaker 0>If they did not respond to an ICMP

00:37:54.325 --> 00:37:54.965
<v Speaker 0>ping,

00:37:55.125 --> 00:37:56.645
<v Speaker 0>it will try it again. And I thought

00:37:56.645 --> 00:37:58.085
<v Speaker 0>it was five times, but it's three stars,

00:37:58.085 --> 00:37:59.605
<v Speaker 0>so it tries three times and the star

00:37:59.605 --> 00:38:01.045
<v Speaker 0>just means that it didn't respond.

00:38:01.925 --> 00:38:03.444
<v Speaker 0>So what we'll see here is that when

00:38:03.444 --> 00:38:04.325
<v Speaker 0>we do get information,

00:38:05.619 --> 00:38:07.540
<v Speaker 0>things are much faster, which is why a

00:38:07.540 --> 00:38:09.140
<v Speaker 0>trace route can be a little bit slow

00:38:09.140 --> 00:38:10.020
<v Speaker 0>at times.

00:38:10.900 --> 00:38:11.860
<v Speaker 0>And the way

00:38:12.820 --> 00:38:14.740
<v Speaker 0>that it works out the devices is also

00:38:14.740 --> 00:38:15.540
<v Speaker 0>kinda

00:38:15.540 --> 00:38:16.980
<v Speaker 0>crude, but really, really cool.

00:38:18.005 --> 00:38:20.725
<v Speaker 0>When you set up any request on your

00:38:20.725 --> 00:38:23.445
<v Speaker 0>machine to the Internet, you set a time

00:38:23.445 --> 00:38:24.245
<v Speaker 0>to live,

00:38:24.965 --> 00:38:26.645
<v Speaker 0>which means that every time you go through

00:38:26.645 --> 00:38:29.525
<v Speaker 0>another device, it will decrement that and when

00:38:29.660 --> 00:38:31.420
<v Speaker 0>basically, how many hops you're willing to accept

00:38:31.420 --> 00:38:33.580
<v Speaker 0>to reach or be routed to another device.

00:38:34.140 --> 00:38:36.140
<v Speaker 0>And what Tracer actually does is set that

00:38:36.140 --> 00:38:37.820
<v Speaker 0>time to left to one so that it

00:38:37.820 --> 00:38:39.740
<v Speaker 0>gets terminated at the first device and then

00:38:39.740 --> 00:38:41.420
<v Speaker 0>gets the ping back and then sets it

00:38:41.420 --> 00:38:43.020
<v Speaker 0>to two and then sets it to three

00:38:43.020 --> 00:38:45.015
<v Speaker 0>and then sets it to four until you

00:38:45.015 --> 00:38:47.335
<v Speaker 0>get to the device that correctly identifies as

00:38:47.335 --> 00:38:48.855
<v Speaker 0>the device that you're trying to reach.

00:38:49.494 --> 00:38:52.775
<v Speaker 0>Very crude, but it works really, really well.

00:38:53.734 --> 00:38:55.895
<v Speaker 0>And Rio is talking about MTR as well

00:38:55.895 --> 00:38:58.400
<v Speaker 0>in the comment. Yeah. Yeah. Definitely very cool

00:38:58.400 --> 00:39:00.960
<v Speaker 0>too. I don't believe I have MTR available.

00:39:00.960 --> 00:39:01.359
<v Speaker 0>Okay.

00:39:05.119 --> 00:39:07.279
<v Speaker 0>So there's not really much more to show

00:39:07.279 --> 00:39:08.799
<v Speaker 0>from the manual perspective.

00:39:09.085 --> 00:39:12.045
<v Speaker 0>We deployed a metal device. We hooked up

00:39:12.045 --> 00:39:13.885
<v Speaker 0>BGP via IPv4.

00:39:14.285 --> 00:39:17.085
<v Speaker 0>We deployed a configured BERT, and then

00:39:17.245 --> 00:39:20.685
<v Speaker 0>we configured core DNS using the fail plugin

00:39:20.685 --> 00:39:21.325
<v Speaker 0>to

00:39:21.485 --> 00:39:23.885
<v Speaker 0>specify the domains that we wanted to respond

00:39:23.885 --> 00:39:24.365
<v Speaker 0>for.

00:39:24.845 --> 00:39:27.140
<v Speaker 0>We have made requests from the machine itself

00:39:27.140 --> 00:39:29.859
<v Speaker 0>and from my own machine using the BGP

00:39:29.859 --> 00:39:30.580
<v Speaker 0>address.

00:39:30.819 --> 00:39:32.500
<v Speaker 0>We could see the trace route

00:39:33.859 --> 00:39:36.500
<v Speaker 0>does get there eventually. I'm not actually sure.

00:39:37.539 --> 00:39:38.500
<v Speaker 0>This must be a

00:39:39.225 --> 00:39:42.185
<v Speaker 0>BGP thing. I never actually considered it before.

00:39:42.185 --> 00:39:44.105
<v Speaker 0>This is not IP address multiple times just

00:39:44.105 --> 00:39:44.985
<v Speaker 0>means that

00:39:45.705 --> 00:39:47.865
<v Speaker 0>we're being routed through. That's just the Equinix

00:39:47.865 --> 00:39:49.545
<v Speaker 0>Mail infrastructure at that point.

00:39:50.665 --> 00:39:52.745
<v Speaker 0>Now let's see the automation.

00:39:53.390 --> 00:39:55.550
<v Speaker 0>So if we pop over here oh, okay.

00:39:55.550 --> 00:39:56.990
<v Speaker 0>Oh, I think that failed because of that

00:39:56.990 --> 00:39:58.990
<v Speaker 0>one device that I couldn't spin up,

00:39:59.390 --> 00:40:00.590
<v Speaker 0>which is a

00:40:02.590 --> 00:40:04.110
<v Speaker 0>it's just a wrong

00:40:04.110 --> 00:40:04.990
<v Speaker 0>metro.

00:40:04.990 --> 00:40:06.110
<v Speaker 0>Oh, there aren't any

00:40:06.430 --> 00:40:08.750
<v Speaker 0>servers. Alright. Okay. Let's just remove that one.

00:40:08.750 --> 00:40:10.244
<v Speaker 0>So I'm gonna modify

00:40:11.285 --> 00:40:13.125
<v Speaker 0>the automation and run it again, and then

00:40:13.125 --> 00:40:15.125
<v Speaker 0>we'll run through the automation as well.

00:40:16.164 --> 00:40:18.085
<v Speaker 0>Now let's just remove

00:40:20.805 --> 00:40:21.285
<v Speaker 0>that.

00:40:22.299 --> 00:40:24.700
<v Speaker 0>Those devices, the other two devices are already

00:40:24.700 --> 00:40:26.299
<v Speaker 0>spun up, that should be nice and fast

00:40:26.299 --> 00:40:27.740
<v Speaker 0>and we're not gonna have to wait too

00:40:27.740 --> 00:40:30.220
<v Speaker 0>long. Yeah. So now we're just doing attachments

00:40:30.220 --> 00:40:31.740
<v Speaker 0>and BGP sessions.

00:40:32.619 --> 00:40:35.579
<v Speaker 0>Okay. So this is a Pulumi YAML program.

00:40:35.579 --> 00:40:38.625
<v Speaker 0>However, I have used a custom

00:40:39.585 --> 00:40:40.465
<v Speaker 0>compiler,

00:40:41.265 --> 00:40:42.785
<v Speaker 0>which we can do with Pulumi, but I

00:40:42.785 --> 00:40:44.225
<v Speaker 0>just say instead of

00:40:44.385 --> 00:40:46.865
<v Speaker 0>we're gonna provide you YAML straight up. Instead,

00:40:46.865 --> 00:40:48.465
<v Speaker 0>we have to do some sort of compilation

00:40:48.465 --> 00:40:50.225
<v Speaker 0>step to get the YAML back out

00:40:50.820 --> 00:40:52.980
<v Speaker 0>or JSON. And for that, we're going to

00:40:52.980 --> 00:40:54.420
<v Speaker 0>use Q export

00:40:54.580 --> 00:40:57.380
<v Speaker 0>as I ran on the command line earlier.

00:40:58.180 --> 00:41:00.100
<v Speaker 0>Q actually allows us to take Q and

00:41:00.100 --> 00:41:01.860
<v Speaker 0>spit out a whole bunch of formats. We

00:41:01.860 --> 00:41:02.900
<v Speaker 0>can do JSON.

00:41:04.580 --> 00:41:05.945
<v Speaker 0>I'm sure there's more, but I'm not gonna

00:41:05.945 --> 00:41:07.465
<v Speaker 0>risk it and try and see if TOML

00:41:07.465 --> 00:41:08.505
<v Speaker 0>is supported.

00:41:09.465 --> 00:41:10.025
<v Speaker 0>So,

00:41:10.265 --> 00:41:12.665
<v Speaker 0>yeah, that's the PLUIvy program written in Q.

00:41:13.465 --> 00:41:15.785
<v Speaker 0>We're using Q because that allows us to

00:41:15.785 --> 00:41:16.825
<v Speaker 0>encapsulate

00:41:17.570 --> 00:41:20.210
<v Speaker 0>YAML into, like, definitions, which can be reused

00:41:20.210 --> 00:41:21.730
<v Speaker 0>over and over again, and we'll go through

00:41:21.730 --> 00:41:23.250
<v Speaker 0>that in just a moment. So the first

00:41:23.250 --> 00:41:24.370
<v Speaker 0>thing I need to do is set some

00:41:24.370 --> 00:41:25.090
<v Speaker 0>variables.

00:41:25.250 --> 00:41:27.410
<v Speaker 0>Now we can specify here

00:41:27.890 --> 00:41:29.010
<v Speaker 0>a project ID.

00:41:30.204 --> 00:41:32.444
<v Speaker 0>I do include the code and the repository

00:41:32.444 --> 00:41:33.964
<v Speaker 0>if you want to create the project by

00:41:33.964 --> 00:41:34.605
<v Speaker 0>yourself.

00:41:35.165 --> 00:41:37.885
<v Speaker 0>However, waiting for the approval for the global

00:41:37.885 --> 00:41:40.125
<v Speaker 0>BGP to be enabled on that, again, can

00:41:40.125 --> 00:41:42.125
<v Speaker 0>take a little bit of time. So that's

00:41:42.125 --> 00:41:43.484
<v Speaker 0>if you want to go down that route,

00:41:43.484 --> 00:41:44.285
<v Speaker 0>but you don't have to.

00:41:46.190 --> 00:41:48.670
<v Speaker 0>Next, we're using Cloud Config and here we're

00:41:48.670 --> 00:41:50.590
<v Speaker 0>just saying that we have these parts.

00:41:50.990 --> 00:41:52.990
<v Speaker 0>I've not added all the parts. In fact,

00:41:53.230 --> 00:41:54.990
<v Speaker 0>Skeptr here, I've just not added them to

00:41:54.990 --> 00:41:57.309
<v Speaker 0>the queue. I'll update that after this session.

00:41:58.275 --> 00:41:59.395
<v Speaker 0>But the first thing we want to do

00:41:59.395 --> 00:42:00.515
<v Speaker 0>is Bootstrap.

00:42:00.674 --> 00:42:02.915
<v Speaker 0>There's also setup bird and core DNS.

00:42:03.075 --> 00:42:05.155
<v Speaker 0>So these are just shell scripts that do

00:42:05.155 --> 00:42:06.355
<v Speaker 0>everything that we did

00:42:08.994 --> 00:42:10.674
<v Speaker 0>manually by SSH,

00:42:10.674 --> 00:42:12.595
<v Speaker 0>but in an automated fashion. So you'll see

00:42:12.595 --> 00:42:15.370
<v Speaker 0>here we installed JQ. We're looking and waiting,

00:42:15.370 --> 00:42:17.130
<v Speaker 0>so we're on a while loop or an

00:42:17.130 --> 00:42:19.850
<v Speaker 0>until loop until that BGP information comes through

00:42:19.850 --> 00:42:21.450
<v Speaker 0>the metadata API. So if it's not there

00:42:21.450 --> 00:42:23.130
<v Speaker 0>at first, it usually just takes a few

00:42:23.130 --> 00:42:24.170
<v Speaker 0>few seconds.

00:42:24.730 --> 00:42:26.570
<v Speaker 0>And we also write custom data to some

00:42:26.570 --> 00:42:29.055
<v Speaker 0>JSON as well. The custom data endpoint is

00:42:29.055 --> 00:42:30.895
<v Speaker 0>how we pass in the BGP address to

00:42:30.895 --> 00:42:33.615
<v Speaker 0>the machine because that is not available over

00:42:33.855 --> 00:42:35.615
<v Speaker 0>the metadata API.

00:42:36.415 --> 00:42:38.975
<v Speaker 0>Next, we set a BERT exact same commands,

00:42:38.975 --> 00:42:40.735
<v Speaker 0>and we pull the global IP address from

00:42:40.735 --> 00:42:42.710
<v Speaker 0>the custom data using JQ to get a

00:42:42.710 --> 00:42:43.589
<v Speaker 0>single value.

00:42:44.230 --> 00:42:46.309
<v Speaker 0>We configure the look back device. We get

00:42:46.309 --> 00:42:47.830
<v Speaker 0>the gateway IP address.

00:42:48.789 --> 00:42:50.390
<v Speaker 0>For each of those peers, we add a

00:42:50.390 --> 00:42:51.030
<v Speaker 0>root,

00:42:51.510 --> 00:42:53.269
<v Speaker 0>and then we install BERT and use network

00:42:53.269 --> 00:42:54.070
<v Speaker 0>helpers.

00:42:54.150 --> 00:42:57.315
<v Speaker 0>So the exact same commands almost verbatim that

00:42:57.315 --> 00:42:58.995
<v Speaker 0>we ran via SSH.

00:43:00.195 --> 00:43:02.915
<v Speaker 0>Next, have the core DNS configuration. Again,

00:43:03.315 --> 00:43:05.715
<v Speaker 0>it's pretty much the same. We download the

00:43:05.715 --> 00:43:07.635
<v Speaker 0>binary and we stuck it into a directory.

00:43:07.635 --> 00:43:08.995
<v Speaker 0>We write some configuration

00:43:10.170 --> 00:43:11.050
<v Speaker 0>and

00:43:11.050 --> 00:43:12.730
<v Speaker 0>we set up the system to the unit

00:43:12.730 --> 00:43:13.450
<v Speaker 0>file,

00:43:13.609 --> 00:43:14.890
<v Speaker 0>remove the user,

00:43:16.250 --> 00:43:17.370
<v Speaker 0>and that'll just work.

00:43:18.730 --> 00:43:20.410
<v Speaker 0>Well, actually, that's probably not working and I'm

00:43:20.410 --> 00:43:21.609
<v Speaker 0>gonna have to manually go into those two

00:43:21.609 --> 00:43:23.849
<v Speaker 0>devices, remove that user and restart it, but

00:43:23.849 --> 00:43:24.490
<v Speaker 0>maybe open.

00:43:27.265 --> 00:43:29.105
<v Speaker 0>If we go back to the queue, we

00:43:29.105 --> 00:43:31.825
<v Speaker 0>have a request for the global IP. So

00:43:31.825 --> 00:43:34.065
<v Speaker 0>we're not manually looking for a BGP address

00:43:34.065 --> 00:43:36.865
<v Speaker 0>this time. We are using the Pulumi provider.

00:43:37.105 --> 00:43:39.185
<v Speaker 0>It's saying give me a reserved IP block.

00:43:39.270 --> 00:43:41.350
<v Speaker 0>It has to be a global IPv4.

00:43:41.350 --> 00:43:43.510
<v Speaker 0>We only need one address, so slash 30

00:43:43.510 --> 00:43:44.070
<v Speaker 0>two.

00:43:44.710 --> 00:43:47.030
<v Speaker 0>Then we're using something called a core DNS

00:43:47.030 --> 00:43:47.830
<v Speaker 0>device,

00:43:48.070 --> 00:43:49.990
<v Speaker 0>which is a definition in queue, which is

00:43:49.990 --> 00:43:52.550
<v Speaker 0>how we get modularity slash reuse,

00:43:53.045 --> 00:43:55.525
<v Speaker 0>and we configure that definition. So we're saying

00:43:55.525 --> 00:43:56.245
<v Speaker 0>here,

00:43:56.405 --> 00:43:58.165
<v Speaker 0>tweak the name of the device to be

00:43:58.165 --> 00:43:59.685
<v Speaker 0>EU or US

00:43:59.925 --> 00:44:02.165
<v Speaker 0>and deploy it to different metros. This is

00:44:02.165 --> 00:44:04.085
<v Speaker 0>Dallas in The US, and this is Amsterdam

00:44:04.085 --> 00:44:04.885
<v Speaker 0>in The EU.

00:44:05.780 --> 00:44:08.180
<v Speaker 0>And we're just pulling out the resources from

00:44:08.180 --> 00:44:11.140
<v Speaker 0>that definition and to the top level plan.

00:44:12.099 --> 00:44:14.580
<v Speaker 0>The queue definition itself has the configuration values

00:44:14.580 --> 00:44:16.500
<v Speaker 0>at the top where we specify the type

00:44:16.500 --> 00:44:18.020
<v Speaker 0>that we expect, but nothing else.

00:44:18.815 --> 00:44:21.135
<v Speaker 0>Then we can define the resources for this

00:44:21.135 --> 00:44:22.895
<v Speaker 0>definition. So we have a device.

00:44:23.055 --> 00:44:24.815
<v Speaker 0>Here's supports interpolation.

00:44:24.815 --> 00:44:26.895
<v Speaker 0>So we're saying pull in the name from

00:44:26.895 --> 00:44:27.455
<v Speaker 0>here.

00:44:28.255 --> 00:44:30.495
<v Speaker 0>We spin up an Equinix model device. We're

00:44:30.495 --> 00:44:33.110
<v Speaker 0>using c three smalls with a older version

00:44:33.110 --> 00:44:34.070
<v Speaker 0>of Ubuntu

00:44:34.070 --> 00:44:36.310
<v Speaker 0>passing the project ID, the Metro,

00:44:36.630 --> 00:44:38.950
<v Speaker 0>the user data as our cloud config, but

00:44:38.950 --> 00:44:40.950
<v Speaker 0>it's the rendered version.

00:44:41.190 --> 00:44:43.670
<v Speaker 0>So we're concatenating all those different scripts together

00:44:43.670 --> 00:44:46.310
<v Speaker 0>as a multi part cloud configuration file.

00:44:47.505 --> 00:44:49.744
<v Speaker 0>And we pass in our global IP so

00:44:49.744 --> 00:44:51.904
<v Speaker 0>that we have access to that within the

00:44:51.904 --> 00:44:54.144
<v Speaker 0>cloud and its system, which is important because

00:44:54.144 --> 00:44:54.865
<v Speaker 0>we need it.

00:44:55.424 --> 00:44:57.585
<v Speaker 0>Once that device spins up, we do the

00:44:57.585 --> 00:45:00.464
<v Speaker 0>IP attachment. So we tell EquinixMetal that this

00:45:00.464 --> 00:45:04.040
<v Speaker 0>device can advertise this IP address and we

00:45:04.040 --> 00:45:06.680
<v Speaker 0>create the session. So we just say, hey,

00:45:07.000 --> 00:45:09.640
<v Speaker 0>we want to enable IPv four on this

00:45:09.640 --> 00:45:10.360
<v Speaker 0>device.

00:45:10.440 --> 00:45:12.119
<v Speaker 0>The same way we did on the interface

00:45:12.119 --> 00:45:14.040
<v Speaker 0>with the little tick box that had me

00:45:14.040 --> 00:45:15.800
<v Speaker 0>confused for half a minute.

00:45:17.694 --> 00:45:18.655
<v Speaker 0>That's it.

00:45:19.135 --> 00:45:21.215
<v Speaker 0>The Pulumi app gives us the devices.

00:45:21.375 --> 00:45:23.055
<v Speaker 0>We come to the console.

00:45:24.974 --> 00:45:27.775
<v Speaker 0>We'll see we have one machine here in

00:45:27.775 --> 00:45:28.575
<v Speaker 0>Dallas.

00:45:28.575 --> 00:45:29.775
<v Speaker 0>So let's jump onto there.

00:45:34.410 --> 00:45:35.610
<v Speaker 0>Get my finger.

00:45:37.610 --> 00:45:39.930
<v Speaker 0>Let's see if Bart is happy first.

00:45:41.130 --> 00:45:41.610
<v Speaker 0>Oh,

00:45:46.925 --> 00:45:48.365
<v Speaker 0>It's not happy,

00:45:49.005 --> 00:45:51.085
<v Speaker 0>which means something went wrong.

00:45:56.870 --> 00:45:59.270
<v Speaker 0>This is the output from my user data

00:45:59.270 --> 00:46:01.430
<v Speaker 0>script. You can see it's sleeping, sleeping, sleeping,

00:46:01.430 --> 00:46:03.590
<v Speaker 0>waiting for that BGP information. It has the

00:46:03.590 --> 00:46:06.230
<v Speaker 0>BGP information. Oh, that's why.

00:46:08.390 --> 00:46:08.870
<v Speaker 0>Because

00:46:09.425 --> 00:46:12.385
<v Speaker 0>I am silly. I even mentioned this as

00:46:12.385 --> 00:46:13.665
<v Speaker 0>I did it, but

00:46:15.505 --> 00:46:16.785
<v Speaker 0>we need to

00:46:17.984 --> 00:46:19.345
<v Speaker 0>do all the scripts. So we have just

00:46:19.345 --> 00:46:21.425
<v Speaker 0>run these ones manually that are needed. So

00:46:21.425 --> 00:46:22.465
<v Speaker 0>there's setup bert

00:46:24.359 --> 00:46:26.280
<v Speaker 0>and there is three

00:46:27.640 --> 00:46:29.000
<v Speaker 0>core DNS.

00:46:30.440 --> 00:46:32.759
<v Speaker 0>So let's just run the script

00:46:37.214 --> 00:46:38.815
<v Speaker 0>and we'll grab this script.

00:46:57.320 --> 00:46:58.760
<v Speaker 0>I think what we'll do is I'm gonna

00:46:58.760 --> 00:47:00.839
<v Speaker 0>jump onto the other machine and start pasting

00:47:00.839 --> 00:47:02.360
<v Speaker 0>these scripts in as well.

00:47:04.280 --> 00:47:05.880
<v Speaker 0>That's the core DNS one.

00:47:07.175 --> 00:47:08.055
<v Speaker 0>Woah.

00:47:12.055 --> 00:47:13.815
<v Speaker 0>I definitely angered that.

00:47:14.135 --> 00:47:16.215
<v Speaker 0>And the other server is here.

00:47:18.695 --> 00:47:21.255
<v Speaker 0>Alright. What did I copy incorrectly from here?

00:47:21.390 --> 00:47:23.390
<v Speaker 0>Oh yeah, because this is a markdown fail.

00:47:25.230 --> 00:47:26.589
<v Speaker 0>No, wait, it shouldn't be.

00:47:32.269 --> 00:47:34.190
<v Speaker 0>Oh, I have just copied this wrong.

00:47:34.430 --> 00:47:35.230
<v Speaker 0>That should be that.

00:47:37.345 --> 00:47:39.105
<v Speaker 0>There's no more of those, is there?

00:47:39.425 --> 00:47:42.385
<v Speaker 0>No, good. Okay, so that should fix the

00:47:42.705 --> 00:47:43.585
<v Speaker 0>first device.

00:47:54.030 --> 00:47:55.870
<v Speaker 0>Okay. We'll do that one by one.

00:47:56.750 --> 00:47:58.270
<v Speaker 0>Do we have core DNS?

00:48:00.510 --> 00:48:00.990
<v Speaker 0>Yeah.

00:48:03.025 --> 00:48:04.145
<v Speaker 0>Do we have

00:48:04.465 --> 00:48:05.985
<v Speaker 0>our config?

00:48:06.705 --> 00:48:07.425
<v Speaker 0>Yes.

00:48:09.505 --> 00:48:11.665
<v Speaker 0>So it's just the unit fail.

00:48:14.305 --> 00:48:15.265
<v Speaker 0>That looks alright.

00:48:17.010 --> 00:48:17.730
<v Speaker 0>Yeah.

00:48:19.170 --> 00:48:21.570
<v Speaker 0>Clearly I'm just struggling with copy and paste

00:48:21.570 --> 00:48:22.690
<v Speaker 0>again. So

00:48:23.490 --> 00:48:25.970
<v Speaker 0>let's do a restart core DNS,

00:48:26.370 --> 00:48:27.250
<v Speaker 0>status,

00:48:27.890 --> 00:48:28.130
<v Speaker 0>core

00:48:30.494 --> 00:48:32.655
<v Speaker 0>That's probably that unit fail

00:48:33.934 --> 00:48:34.734
<v Speaker 0>system

00:48:34.734 --> 00:48:36.015
<v Speaker 0>core DNS.

00:48:40.335 --> 00:48:41.295
<v Speaker 0>Of

00:48:41.295 --> 00:48:42.815
<v Speaker 0>course. Thank you, Rio.

00:48:44.970 --> 00:48:47.210
<v Speaker 0>Rio noticed that main pad will need to

00:48:47.210 --> 00:48:48.250
<v Speaker 0>be escaped.

00:48:49.690 --> 00:48:50.650
<v Speaker 0>Good call.

00:48:54.090 --> 00:48:56.730
<v Speaker 0>Because it's saying include in it, it's not

00:48:56.730 --> 00:48:57.690
<v Speaker 0>saying here.

00:48:59.475 --> 00:49:01.395
<v Speaker 0>And I can just copy it.

00:49:08.755 --> 00:49:09.395
<v Speaker 0>Alright.

00:49:09.555 --> 00:49:10.835
<v Speaker 0>Save

00:49:11.235 --> 00:49:12.275
<v Speaker 0>daemon

00:49:12.755 --> 00:49:13.155
<v Speaker 0>reload.

00:49:14.109 --> 00:49:15.070
<v Speaker 0>Restart

00:49:15.070 --> 00:49:16.350
<v Speaker 0>core DNS

00:49:16.589 --> 00:49:17.550
<v Speaker 0>status.

00:49:28.270 --> 00:49:30.325
<v Speaker 0>What? Oh, the origin hasn't been escaped either.

00:49:30.724 --> 00:49:33.125
<v Speaker 0>Ran into this. I do do some testing.

00:49:33.765 --> 00:49:36.244
<v Speaker 0>Yeah. This here is gonna be wrong. So

00:49:36.244 --> 00:49:37.285
<v Speaker 0>let's just fix that.

00:49:39.030 --> 00:49:40.630
<v Speaker 0>This is just stuff that works when it

00:49:40.630 --> 00:49:42.790
<v Speaker 0>runs through cloud in it, but not when

00:49:42.790 --> 00:49:44.630
<v Speaker 0>I'm pasting it into the terminal because the

00:49:44.630 --> 00:49:46.230
<v Speaker 0>interpretation works differently.

00:49:49.510 --> 00:49:51.030
<v Speaker 0>That's what was missing.

00:49:51.750 --> 00:49:52.870
<v Speaker 0>That actually looks alright.

00:50:06.045 --> 00:50:06.924
<v Speaker 0>Run it manually.

00:50:08.010 --> 00:50:08.730
<v Speaker 0>Okay.

00:50:09.770 --> 00:50:10.730
<v Speaker 0>Restart

00:50:10.730 --> 00:50:12.330
<v Speaker 0>core DNS.

00:50:14.330 --> 00:50:14.970
<v Speaker 0>Hopefully,

00:50:19.450 --> 00:50:21.130
<v Speaker 0>it must be running low because the port

00:50:21.130 --> 00:50:21.690
<v Speaker 0>was taken.

00:50:22.285 --> 00:50:22.925
<v Speaker 0>No.

00:50:24.765 --> 00:50:27.245
<v Speaker 0>Maybe it was restarting when it did it.

00:50:30.845 --> 00:50:33.165
<v Speaker 0>Oh, wait. Cannot serve DNS one type three

00:50:33.165 --> 00:50:34.045
<v Speaker 0>is already defined.

00:50:38.010 --> 00:50:38.970
<v Speaker 0>Computers.

00:50:44.090 --> 00:50:45.450
<v Speaker 0>And that should be the fail.

00:50:52.454 --> 00:50:53.975
<v Speaker 0>First demand.

00:50:54.454 --> 00:50:57.575
<v Speaker 0>That looks fine. Core fails probably where there's

00:50:57.575 --> 00:50:58.455
<v Speaker 0>a bug.

00:51:00.295 --> 00:51:01.015
<v Speaker 0>Oh,

00:51:03.415 --> 00:51:04.934
<v Speaker 0>because by automation, append

00:51:06.240 --> 00:51:07.360
<v Speaker 0>to the file.

00:51:08.320 --> 00:51:09.040
<v Speaker 0>Right.

00:51:10.320 --> 00:51:12.320
<v Speaker 0>Things work when I'm not being very, very

00:51:12.320 --> 00:51:12.960
<v Speaker 0>stupid.

00:51:13.200 --> 00:51:15.600
<v Speaker 0>So let's restart core DNS.

00:51:16.080 --> 00:51:18.160
<v Speaker 0>The status on this is 100% gonna be

00:51:18.160 --> 00:51:18.880
<v Speaker 0>okay now. Good.

00:51:19.665 --> 00:51:20.945
<v Speaker 0>We wanted to be able to run this

00:51:20.945 --> 00:51:22.945
<v Speaker 0>on the second machine. So we're gonna quickly

00:51:22.945 --> 00:51:25.105
<v Speaker 0>run through the set up BERT again.

00:51:25.265 --> 00:51:27.265
<v Speaker 0>I believe this just worked. There was no

00:51:27.265 --> 00:51:28.305
<v Speaker 0>errors here.

00:51:29.825 --> 00:51:31.745
<v Speaker 0>And then we'll be careful with this one.

00:51:33.810 --> 00:51:35.890
<v Speaker 0>I'm just gonna copy the whole thing,

00:51:36.290 --> 00:51:37.890
<v Speaker 0>write it to file and then execute it,

00:51:37.890 --> 00:51:38.850
<v Speaker 0>and then we don't have to worry about

00:51:38.850 --> 00:51:39.890
<v Speaker 0>the interpolation.

00:51:41.970 --> 00:51:43.650
<v Speaker 0>So Mozz asked,

00:51:44.210 --> 00:51:46.210
<v Speaker 0>is it a good idea to replace bind

00:51:46.210 --> 00:51:47.250
<v Speaker 0>with core DNS?

00:51:50.525 --> 00:51:52.445
<v Speaker 0>Depends on your use case.

00:51:52.845 --> 00:51:55.724
<v Speaker 0>I find it easier to work with core

00:51:55.724 --> 00:51:56.445
<v Speaker 0>DNS.

00:51:56.765 --> 00:51:58.125
<v Speaker 0>I like its plugins.

00:51:58.444 --> 00:52:00.685
<v Speaker 0>It's what Kubernetes uses, so I feel like

00:52:00.685 --> 00:52:02.720
<v Speaker 0>my knowledge is a bit more transferable there

00:52:02.720 --> 00:52:04.240
<v Speaker 0>than my you know, I have a lot

00:52:04.240 --> 00:52:06.720
<v Speaker 0>of Bain knowledge from the early two thousands,

00:52:06.720 --> 00:52:07.600
<v Speaker 0>late '2 thousands,

00:52:07.920 --> 00:52:08.400
<v Speaker 0>but

00:52:09.040 --> 00:52:12.320
<v Speaker 0>I think it's consolidating on more modern technology.

00:52:13.040 --> 00:52:14.960
<v Speaker 0>Even though Bain still works, it's still great.

00:52:14.960 --> 00:52:16.720
<v Speaker 0>It probably still powers most of the Internet,

00:52:17.535 --> 00:52:19.694
<v Speaker 0>I just I'm leaning more towards core team

00:52:19.694 --> 00:52:20.895
<v Speaker 0>these days.

00:52:22.415 --> 00:52:23.135
<v Speaker 0>Alright.

00:52:24.335 --> 00:52:27.455
<v Speaker 0>So let's just paste this and run this.

00:52:27.934 --> 00:52:29.295
<v Speaker 0>Oh, wait. Let's see my local.

00:52:32.120 --> 00:52:33.400
<v Speaker 0>I'm

00:52:33.400 --> 00:52:36.280
<v Speaker 0>just doing everything wrong. 40 c. Yeah. This

00:52:36.280 --> 00:52:37.400
<v Speaker 0>is a different machine.

00:52:37.640 --> 00:52:39.240
<v Speaker 0>Oh, that's my London machine.

00:52:43.000 --> 00:52:43.960
<v Speaker 0>Computers

00:52:43.960 --> 00:52:44.760
<v Speaker 0>are kicking my ass.

00:52:46.944 --> 00:52:49.505
<v Speaker 0>Alright. So fem a Sh,

00:52:50.464 --> 00:52:51.425
<v Speaker 0>what is there?

00:52:53.184 --> 00:52:55.585
<v Speaker 0>So I got exited from this

00:52:59.390 --> 00:53:00.510
<v Speaker 0>for reasons.

00:53:04.590 --> 00:53:05.710
<v Speaker 0>No. Cool.

00:53:06.350 --> 00:53:08.270
<v Speaker 0>Let's make sure there's no duplication in our

00:53:08.270 --> 00:53:10.430
<v Speaker 0>core DNS file, in our core file.

00:53:11.165 --> 00:53:12.125
<v Speaker 0>Good.

00:53:12.365 --> 00:53:13.565
<v Speaker 0>The daemon

00:53:13.724 --> 00:53:15.485
<v Speaker 0>reload. We're gonna get there

00:53:15.805 --> 00:53:17.245
<v Speaker 0>and the core DNS.

00:53:17.565 --> 00:53:19.645
<v Speaker 0>If we run a status,

00:53:22.205 --> 00:53:23.165
<v Speaker 0>it's happy. Now

00:53:25.089 --> 00:53:27.329
<v Speaker 0>where we are is we have one machine

00:53:27.329 --> 00:53:30.530
<v Speaker 0>running in Dallas, One machine running in Amsterdam,

00:53:30.770 --> 00:53:31.330
<v Speaker 0>both

00:53:32.609 --> 00:53:34.930
<v Speaker 0>handling a DNS for your first domain dot

00:53:34.930 --> 00:53:35.490
<v Speaker 0>com

00:53:36.924 --> 00:53:38.845
<v Speaker 0>via a single

00:53:38.845 --> 00:53:40.444
<v Speaker 0>global IPv

00:53:40.444 --> 00:53:41.165
<v Speaker 0>four

00:53:41.484 --> 00:53:43.244
<v Speaker 0>BGP advertised address.

00:53:44.204 --> 00:53:44.925
<v Speaker 0>Okay.

00:53:45.565 --> 00:53:46.765
<v Speaker 0>Let's grab that address.

00:53:52.260 --> 00:53:54.260
<v Speaker 0>And it's the 40 Dot 10.

00:53:56.900 --> 00:53:59.460
<v Speaker 0>And we're on my local machine.

00:53:59.700 --> 00:54:04.260
<v Speaker 0>Do a dig at -p153google.com.

00:54:05.380 --> 00:54:06.340
<v Speaker 0>Oh, on port.

00:54:08.765 --> 00:54:11.244
<v Speaker 0>So that uses the forward plugin and pushes

00:54:11.244 --> 00:54:12.045
<v Speaker 0>me on.

00:54:12.605 --> 00:54:14.765
<v Speaker 0>Your firstdomain.com

00:54:14.765 --> 00:54:17.085
<v Speaker 0>should be empty, but if we add w

00:54:17.085 --> 00:54:17.724
<v Speaker 0>w w,

00:54:19.680 --> 00:54:21.680
<v Speaker 0>we get the correct record.

00:54:22.480 --> 00:54:23.680
<v Speaker 0>So this is cool.

00:54:23.920 --> 00:54:26.240
<v Speaker 0>But where am I going? Well, let's do

00:54:26.240 --> 00:54:27.440
<v Speaker 0>a traceroute.

00:54:29.440 --> 00:54:32.319
<v Speaker 0>What's the parameters on that to do

00:54:33.995 --> 00:54:35.515
<v Speaker 0>field ping one.

00:54:44.875 --> 00:54:46.075
<v Speaker 0>Let's

00:54:46.075 --> 00:54:46.475
<v Speaker 0>try that.

00:54:56.840 --> 00:54:59.160
<v Speaker 0>Yeah. Cool. This won't take too long.

00:54:59.960 --> 00:55:01.720
<v Speaker 0>But hopefully, we see this

00:55:02.295 --> 00:55:05.815
<v Speaker 0>go through some sort of European Amsterdam

00:55:05.815 --> 00:55:09.495
<v Speaker 0>data center into Equinix Medal. We can use

00:55:09.815 --> 00:55:11.175
<v Speaker 0>like we did on part one of this

00:55:11.175 --> 00:55:13.494
<v Speaker 0>course, there's some web interfaces,

00:55:13.494 --> 00:55:15.150
<v Speaker 0>which will give you a kind of better

00:55:15.150 --> 00:55:17.630
<v Speaker 0>this traceroute actually isn't very useful whatsoever.

00:55:18.990 --> 00:55:21.390
<v Speaker 0>So let's do traceroute

00:55:22.270 --> 00:55:22.589
<v Speaker 0>web.

00:55:35.845 --> 00:55:36.645
<v Speaker 0>Maybe.

00:55:38.005 --> 00:55:38.885
<v Speaker 0>There we go.

00:55:39.365 --> 00:55:40.565
<v Speaker 0>So

00:55:42.339 --> 00:55:45.460
<v Speaker 0>we're not really getting any reverse DNS information.

00:55:48.500 --> 00:55:49.300
<v Speaker 0>Normally,

00:55:51.140 --> 00:55:52.740
<v Speaker 0>it would show you. However,

00:55:52.980 --> 00:55:53.780
<v Speaker 0>not a big deal.

00:55:54.425 --> 00:55:56.105
<v Speaker 0>What we can see here from Frankfurt is

00:55:56.105 --> 00:55:58.505
<v Speaker 0>we go through some sort of forty five

00:55:58.505 --> 00:56:01.865
<v Speaker 0>eleven network from Amsterdam is 1851,

00:56:02.185 --> 00:56:04.185
<v Speaker 0>from London is 1851,

00:56:04.825 --> 00:56:06.585
<v Speaker 0>is 19832.

00:56:06.744 --> 00:56:08.825
<v Speaker 0>Well, we don't have reverse

00:56:09.260 --> 00:56:11.740
<v Speaker 0>DNS lookup to show us, like, maybe this

00:56:11.740 --> 00:56:14.780
<v Speaker 0>comes through Amsterdam Center, Dallas Center, parts of

00:56:14.780 --> 00:56:15.900
<v Speaker 0>The US, etcetera.

00:56:16.220 --> 00:56:17.819
<v Speaker 0>And the IP addresses are all different. The

00:56:17.819 --> 00:56:19.819
<v Speaker 0>routes are being different. They are being propagated

00:56:19.819 --> 00:56:22.060
<v Speaker 0>through the Equinix metal network.

00:56:22.619 --> 00:56:22.940
<v Speaker 0>Good.

00:56:23.765 --> 00:56:26.245
<v Speaker 0>What's BGP Looking Glass do? Is that anything

00:56:26.245 --> 00:56:27.605
<v Speaker 0>cool? I don't know.

00:56:30.405 --> 00:56:32.965
<v Speaker 0>There's normally a more visual one, but it

00:56:32.965 --> 00:56:34.085
<v Speaker 0>doesn't really matter.

00:56:34.885 --> 00:56:35.925
<v Speaker 0>So that's it for today.

00:56:37.359 --> 00:56:39.520
<v Speaker 0>This repository, I'll push these updates that we've

00:56:39.520 --> 00:56:41.200
<v Speaker 0>fixed during today's session.

00:56:41.920 --> 00:56:44.800
<v Speaker 0>I hope this gives people a good understanding

00:56:44.800 --> 00:56:45.440
<v Speaker 0>of,

00:56:45.680 --> 00:56:47.600
<v Speaker 0>you know, cementing and building on the knowledge

00:56:47.600 --> 00:56:49.440
<v Speaker 0>that hopefully we transferred to part one about

00:56:49.440 --> 00:56:51.440
<v Speaker 0>what BGP is and why it's important to

00:56:51.440 --> 00:56:54.415
<v Speaker 0>a more concrete use case where you can

00:56:54.415 --> 00:56:57.215
<v Speaker 0>run your own DNS servers. Now you probably

00:56:57.615 --> 00:56:59.135
<v Speaker 0>you may, but, you know, you may not

00:56:59.135 --> 00:57:00.734
<v Speaker 0>do this with your own public domains, but

00:57:00.734 --> 00:57:03.855
<v Speaker 0>if you have certain security characteristics or constraints

00:57:03.855 --> 00:57:04.975
<v Speaker 0>in your organization,

00:57:05.295 --> 00:57:07.135
<v Speaker 0>running your own private DNS servers

00:57:07.690 --> 00:57:09.770
<v Speaker 0>using BGP could be a a good way

00:57:09.770 --> 00:57:12.170
<v Speaker 0>to navigate and handle some of those traffic.

00:57:13.930 --> 00:57:16.490
<v Speaker 0>And we're gonna build on this yet again

00:57:16.490 --> 00:57:18.490
<v Speaker 0>with the next session in this course. Let

00:57:18.490 --> 00:57:20.090
<v Speaker 0>me pop back over to face mode.

00:57:23.235 --> 00:57:23.955
<v Speaker 0>So

00:57:24.355 --> 00:57:25.955
<v Speaker 0>on the next session,

00:57:26.115 --> 00:57:29.155
<v Speaker 0>we are actually going to take this up

00:57:29.155 --> 00:57:29.875
<v Speaker 0>gear

00:57:29.955 --> 00:57:32.355
<v Speaker 0>and okay. What else is really good at

00:57:32.355 --> 00:57:34.195
<v Speaker 0>the edge in multiple locations?

00:57:34.275 --> 00:57:35.955
<v Speaker 0>We're gonna take a look at applying

00:57:36.579 --> 00:57:39.540
<v Speaker 0>a functions as a service or serverless framework

00:57:39.540 --> 00:57:42.900
<v Speaker 0>and multiple metros across Equinix Metal so that

00:57:42.900 --> 00:57:46.020
<v Speaker 0>you can have functions at the edge. Cloudflare

00:57:46.020 --> 00:57:47.700
<v Speaker 0>Workers are amazing.

00:57:47.859 --> 00:57:49.780
<v Speaker 0>They have this wonderful technology where you can

00:57:49.780 --> 00:57:52.675
<v Speaker 0>write code that gets run-in over 250 locations

00:57:52.675 --> 00:57:54.755
<v Speaker 0>as close to your customers as possible.

00:57:55.075 --> 00:57:57.315
<v Speaker 0>This is a really compelling argument for building

00:57:57.315 --> 00:57:58.995
<v Speaker 0>globally distributed applications.

00:57:59.234 --> 00:58:00.355
<v Speaker 0>So we're gonna take a look at how

00:58:00.355 --> 00:58:02.035
<v Speaker 0>we can do that using EquinixMail and some

00:58:02.035 --> 00:58:04.675
<v Speaker 0>open source software. So we will deploy functions

00:58:04.675 --> 00:58:07.140
<v Speaker 0>at the edge. We'll use a web

00:58:07.460 --> 00:58:08.340
<v Speaker 0>system

00:58:09.619 --> 00:58:10.980
<v Speaker 0>scraper to

00:58:11.220 --> 00:58:12.980
<v Speaker 0>fire off bunch of requests from a bunch

00:58:12.980 --> 00:58:14.820
<v Speaker 0>of different locations. And what we wanna be

00:58:14.820 --> 00:58:16.340
<v Speaker 0>able to see and what we will see

00:58:16.500 --> 00:58:18.500
<v Speaker 0>is that no matter where we send requests,

00:58:18.705 --> 00:58:19.905
<v Speaker 0>we're gonna see

00:58:20.145 --> 00:58:21.665
<v Speaker 0>very, very good first of

00:58:22.225 --> 00:58:24.865
<v Speaker 0>time to first bite and minimal latency across

00:58:24.865 --> 00:58:26.705
<v Speaker 0>all of those edge locations.

00:58:27.425 --> 00:58:29.105
<v Speaker 0>But until then, I will see you all

00:58:29.105 --> 00:58:30.625
<v Speaker 0>soon. If you have any questions, feel free

00:58:30.625 --> 00:58:32.385
<v Speaker 0>to leave some in the comments below. We'll

00:58:32.385 --> 00:58:34.990
<v Speaker 0>be back with the third part of this

00:58:34.990 --> 00:58:36.990
<v Speaker 0>course in two weeks. I'm at a conference

00:58:36.990 --> 00:58:38.430
<v Speaker 0>in London next week, but I will be

00:58:38.430 --> 00:58:40.589
<v Speaker 0>back the week after where we'll do and

00:58:40.589 --> 00:58:42.750
<v Speaker 0>build something fun. So until then, have a

00:58:42.750 --> 00:58:44.750
<v Speaker 0>great day. I'll see you all soon. Bye.
