WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: af121ca0-6a22-487f-bf80-28351c660e2b
Created: 2025-04-29T17:37:10.583Z
Duration: 4709.013
Channels: 1

00:01:43.750 --> 00:01:46.630
<v Speaker 0>Hello, and welcome to Clustered on the Rawkode

00:01:46.630 --> 00:01:47.510
<v Speaker 0>Academy.

00:01:47.990 --> 00:01:49.910
<v Speaker 0>I'm your host, David Flanagan,

00:01:49.910 --> 00:01:51.590
<v Speaker 0>although you will know me across the Internet

00:01:51.590 --> 00:01:52.710
<v Speaker 0>as Rawkode.

00:01:53.115 --> 00:01:54.875
<v Speaker 0>And we have a great episode of cluster

00:01:54.875 --> 00:01:56.795
<v Speaker 0>today with two fantastic guests.

00:01:57.274 --> 00:01:58.715
<v Speaker 0>Before we move on to that, there's just

00:01:58.715 --> 00:02:00.634
<v Speaker 0>a little bit of housekeeping. Please remember to

00:02:00.634 --> 00:02:02.875
<v Speaker 0>subscribe to the channel. The button is right

00:02:02.875 --> 00:02:04.555
<v Speaker 0>there. Click the bell and you will get

00:02:04.555 --> 00:02:07.034
<v Speaker 0>notifications for all new episodes of

00:02:07.515 --> 00:02:08.474
<v Speaker 0>the Rawkode Academy.

00:02:09.110 --> 00:02:11.510
<v Speaker 0>Also, have membership options available where you can

00:02:11.510 --> 00:02:13.190
<v Speaker 0>join for a modest fee and have access

00:02:13.190 --> 00:02:14.550
<v Speaker 0>to some of the new courses that are

00:02:14.550 --> 00:02:16.390
<v Speaker 0>being released on a weekly basis. We are

00:02:16.390 --> 00:02:19.190
<v Speaker 0>currently working through the influx DB complete guide.

00:02:19.590 --> 00:02:21.910
<v Speaker 0>We also have a Discord server available at

00:02:21.910 --> 00:02:23.190
<v Speaker 0>Rawkode.chat

00:02:23.015 --> 00:02:25.015
<v Speaker 0>where you can come and chat with 500

00:02:25.015 --> 00:02:27.015
<v Speaker 0>other cloud native and Kubernetes

00:02:27.015 --> 00:02:28.295
<v Speaker 0>enthusiasts.

00:02:29.415 --> 00:02:30.135
<v Speaker 0>Alright.

00:02:30.855 --> 00:02:32.295
<v Speaker 0>We're gonna say

00:02:32.694 --> 00:02:33.655
<v Speaker 0>thank you

00:02:34.135 --> 00:02:35.095
<v Speaker 0>to our sponsor.

00:02:35.670 --> 00:02:39.030
<v Speaker 0>Teleport has recently started sponsoring custard,

00:02:39.030 --> 00:02:40.709
<v Speaker 0>and it's been amazing to work with them.

00:02:40.709 --> 00:02:43.189
<v Speaker 0>We've used Teleport on custard since the very

00:02:43.189 --> 00:02:45.349
<v Speaker 0>first episode. It's an amazing tool. You're gonna

00:02:45.349 --> 00:02:47.590
<v Speaker 0>see it in action as we debug

00:02:47.590 --> 00:02:48.310
<v Speaker 0>these clusters.

00:02:48.815 --> 00:02:51.215
<v Speaker 0>So you want to support the Rawkode Academy,

00:02:51.215 --> 00:02:53.935
<v Speaker 0>you can go to Rawkode.liveteleport

00:02:54.015 --> 00:02:55.615
<v Speaker 0>and check it out. You'll have a lot

00:02:55.615 --> 00:02:57.455
<v Speaker 0>of fun. I promise you will love it.

00:02:58.415 --> 00:03:01.215
<v Speaker 0>Okay. Let's get started with some broken clusters

00:03:01.215 --> 00:03:03.775
<v Speaker 0>and introducing our wonderful guests today. I am

00:03:03.775 --> 00:03:05.560
<v Speaker 0>joined by Adam and William.

00:03:05.719 --> 00:03:07.239
<v Speaker 0>Welcome to Clustered.

00:03:07.239 --> 00:03:08.360
<v Speaker 0>How are you both doing?

00:03:09.560 --> 00:03:11.640
<v Speaker 1>Thank you. I'm great. And,

00:03:11.959 --> 00:03:15.560
<v Speaker 1>I'm Adam, and I'm working currently at GE

00:03:15.560 --> 00:03:16.280
<v Speaker 1>Healthcare.

00:03:16.439 --> 00:03:19.239
<v Speaker 1>But, probably, it's not too relevant anymore because

00:03:19.239 --> 00:03:21.195
<v Speaker 1>I just resigned today. So

00:03:23.275 --> 00:03:24.395
<v Speaker 0>Congratulations.

00:03:24.635 --> 00:03:26.875
<v Speaker 0>I mean Yeah. I guess.

00:03:27.595 --> 00:03:29.595
<v Speaker 1>I'm showing something else. So

00:03:30.715 --> 00:03:32.715
<v Speaker 0>Awesome. Thank you, Adam. And William?

00:03:35.310 --> 00:03:36.750
<v Speaker 2>Hi. I'm William Lightning.

00:03:37.629 --> 00:03:39.710
<v Speaker 2>I work for Field Medical Group,

00:03:40.269 --> 00:03:42.910
<v Speaker 2>an ENT practice consultancy across the

00:03:43.230 --> 00:03:44.270
<v Speaker 2>The US.

00:03:44.989 --> 00:03:46.909
<v Speaker 2>Our jobs are to be kind of the

00:03:46.909 --> 00:03:48.510
<v Speaker 2>best in the business, and

00:03:48.885 --> 00:03:51.205
<v Speaker 2>my job specifically here is to

00:03:52.485 --> 00:03:53.924
<v Speaker 2>I think to think of it as greasing

00:03:53.924 --> 00:03:54.565
<v Speaker 2>wheels.

00:03:54.724 --> 00:03:57.605
<v Speaker 2>People come to me with problems, especially programmers,

00:03:58.004 --> 00:03:59.444
<v Speaker 2>and I try and fix them, and I

00:03:59.444 --> 00:04:00.805
<v Speaker 2>try and get them past whatever is blocking

00:04:00.805 --> 00:04:01.605
<v Speaker 2>them. So

00:04:02.250 --> 00:04:04.010
<v Speaker 2>I've always told people, you know, my my

00:04:04.010 --> 00:04:06.410
<v Speaker 2>specialty is to fix things. And today,

00:04:06.810 --> 00:04:08.410
<v Speaker 2>I'm a little nervous because now I have

00:04:08.410 --> 00:04:09.210
<v Speaker 2>to prove it.

00:04:11.610 --> 00:04:12.410
<v Speaker 0>Alright.

00:04:12.650 --> 00:04:14.330
<v Speaker 0>So, I mean, I've never really asked anyone

00:04:14.330 --> 00:04:15.770
<v Speaker 0>this before, so I'm gonna put you both

00:04:15.770 --> 00:04:17.644
<v Speaker 0>on the spot for the first time ever.

00:04:17.644 --> 00:04:18.204
<v Speaker 0>But

00:04:18.685 --> 00:04:20.605
<v Speaker 0>is it fun breaking a cluster,

00:04:20.764 --> 00:04:22.925
<v Speaker 0>or is it scary? Like, what's your thoughts

00:04:22.925 --> 00:04:23.645
<v Speaker 0>on that?

00:04:25.884 --> 00:04:27.485
<v Speaker 0>Who wants to go first? Well, you're literally

00:04:27.485 --> 00:04:28.205
<v Speaker 0>gonna say something.

00:04:30.319 --> 00:04:32.080
<v Speaker 2>I it was it

00:04:32.160 --> 00:04:34.800
<v Speaker 2>was scary mostly because I'd never run before

00:04:34.800 --> 00:04:35.680
<v Speaker 2>this week.

00:04:37.440 --> 00:04:38.479
<v Speaker 2>But it was it was a lot of

00:04:38.479 --> 00:04:41.120
<v Speaker 2>fun once I got it going and and

00:04:41.520 --> 00:04:43.360
<v Speaker 2>gave me some respect for the the Kubernetes

00:04:43.360 --> 00:04:44.720
<v Speaker 2>developers

00:04:44.285 --> 00:04:46.685
<v Speaker 2>because it did a lot of healing itself

00:04:46.845 --> 00:04:47.965
<v Speaker 2>as I went.

00:04:49.485 --> 00:04:50.045
<v Speaker 2>So,

00:04:51.245 --> 00:04:53.165
<v Speaker 2>yeah, it's it's it's a lot of fun,

00:04:53.165 --> 00:04:55.485
<v Speaker 2>but it's it was nerve wrecking yesterday at,

00:04:55.485 --> 00:04:57.005
<v Speaker 2>like, 04:45, and I had to go home

00:04:57.005 --> 00:04:57.485
<v Speaker 2>at five,

00:04:58.139 --> 00:05:00.220
<v Speaker 2>and my cluster wasn't broken.

00:05:01.979 --> 00:05:04.139
<v Speaker 0>Well, that is a problem. I mean, most

00:05:04.139 --> 00:05:06.940
<v Speaker 0>people would celebrate that, but, of course, not

00:05:06.940 --> 00:05:08.940
<v Speaker 0>when you're coming out to cluster. What about

00:05:08.940 --> 00:05:10.620
<v Speaker 0>you, Adam? Scary or fun?

00:05:11.585 --> 00:05:13.905
<v Speaker 1>Yeah. Absolutely. I I had some idea how

00:05:13.905 --> 00:05:15.985
<v Speaker 1>to break it, but, unfortunately,

00:05:16.145 --> 00:05:18.544
<v Speaker 1>two of my ideas didn't work for a

00:05:18.544 --> 00:05:21.104
<v Speaker 1>very different reason on 1 dot 22 because

00:05:21.104 --> 00:05:23.585
<v Speaker 1>those are the current cluster. And, also, I

00:05:23.585 --> 00:05:24.785
<v Speaker 1>tried to, over the weekend,

00:05:25.530 --> 00:05:28.410
<v Speaker 1>prepare for this because we migrated away from,

00:05:28.410 --> 00:05:28.890
<v Speaker 1>like,

00:05:29.530 --> 00:05:33.130
<v Speaker 1>eighteen months from QADM based clusters, and we

00:05:33.130 --> 00:05:36.090
<v Speaker 1>used the the clusters based on Talos.

00:05:36.169 --> 00:05:38.250
<v Speaker 1>Those guys were here a few weeks ago.

00:05:38.250 --> 00:05:38.730
<v Speaker 1>So

00:05:39.525 --> 00:05:41.765
<v Speaker 1>I tried to install it in Oracle Cloud.

00:05:41.765 --> 00:05:43.045
<v Speaker 1>I failed, so

00:05:43.525 --> 00:05:44.565
<v Speaker 1>I'm not sure

00:05:45.765 --> 00:05:46.405
<v Speaker 1>how

00:05:46.645 --> 00:05:49.845
<v Speaker 1>it makes it justified that we switched. But

00:05:49.845 --> 00:05:50.565
<v Speaker 1>I guess

00:05:50.885 --> 00:05:52.885
<v Speaker 1>I I I didn't break it

00:05:53.580 --> 00:05:55.260
<v Speaker 1>that it cannot be fixed

00:05:55.580 --> 00:05:57.420
<v Speaker 1>for sure. And, also,

00:05:58.300 --> 00:06:01.340
<v Speaker 1>it could be done on Talos as well,

00:06:01.660 --> 00:06:04.300
<v Speaker 1>but it would be much easier to detect

00:06:04.300 --> 00:06:06.699
<v Speaker 1>because it's it's it's in

00:06:07.265 --> 00:06:09.665
<v Speaker 1>it has a lot much smaller attack surface

00:06:09.665 --> 00:06:11.825
<v Speaker 1>than a regular OS. So

00:06:12.145 --> 00:06:13.985
<v Speaker 0>Alright. Thank you. And also, we are shooting

00:06:13.985 --> 00:06:15.585
<v Speaker 0>that it can be fixed. That's always nice

00:06:15.585 --> 00:06:17.265
<v Speaker 0>to hear before we kick the episode off.

00:06:17.265 --> 00:06:17.665
<v Speaker 2>So

00:06:18.225 --> 00:06:21.265
<v Speaker 2>There there is there is two ways to

00:06:21.265 --> 00:06:22.225
<v Speaker 1>fix at least.

00:06:22.970 --> 00:06:24.650
<v Speaker 0>Alright. Well, the one is just yet. We're

00:06:24.650 --> 00:06:26.650
<v Speaker 0>gonna start our cluster in just a moment.

00:06:26.730 --> 00:06:28.810
<v Speaker 0>So I'll just say that every time I

00:06:28.810 --> 00:06:30.090
<v Speaker 0>reach out to people to come on and

00:06:30.090 --> 00:06:32.250
<v Speaker 0>enjoy us join us on clustered, people are

00:06:32.250 --> 00:06:33.530
<v Speaker 0>always really happy to come on and do

00:06:33.530 --> 00:06:35.690
<v Speaker 0>the tech sweep, but people that really

00:06:35.944 --> 00:06:37.785
<v Speaker 0>struggle to actually wanna be able to break

00:06:37.785 --> 00:06:39.224
<v Speaker 0>the clusters. And I always thought it'd the

00:06:39.224 --> 00:06:41.065
<v Speaker 0>other way around. It's nice to hear your

00:06:41.065 --> 00:06:42.025
<v Speaker 0>opinion there.

00:06:42.745 --> 00:06:44.824
<v Speaker 0>But enough with the pleasantries. It is now

00:06:44.824 --> 00:06:47.544
<v Speaker 0>time for clusters. So we are gonna start

00:06:47.544 --> 00:06:47.785
<v Speaker 0>with

00:06:48.800 --> 00:06:51.440
<v Speaker 0>Adam's cluster. William, you and I are up

00:06:51.440 --> 00:06:52.000
<v Speaker 0>first.

00:06:52.400 --> 00:06:54.640
<v Speaker 0>We've got a slightly different setup today. William

00:06:54.640 --> 00:06:56.720
<v Speaker 0>likes to keep notes as he debugs some

00:06:56.720 --> 00:06:59.040
<v Speaker 0>mushroom problems. You will see his notepad at

00:06:59.040 --> 00:07:01.680
<v Speaker 0>the top right. We have teleport available here.

00:07:02.284 --> 00:07:05.324
<v Speaker 0>I'm gonna connect to the control plane node.

00:07:05.324 --> 00:07:07.405
<v Speaker 0>William, if you could connect to that and

00:07:07.405 --> 00:07:08.925
<v Speaker 0>give me an echo hello to let me

00:07:08.925 --> 00:07:10.685
<v Speaker 0>know that you're there and we will get

00:07:10.685 --> 00:07:13.085
<v Speaker 0>started trying to fix Adam's cluster.

00:07:19.290 --> 00:07:20.410
<v Speaker 2>You can do it.

00:07:23.130 --> 00:07:24.810
<v Speaker 2>There we go. Yeah. But one of the

00:07:24.810 --> 00:07:26.650
<v Speaker 0>problems already. That's not there we go. Perfect.

00:07:28.075 --> 00:07:30.235
<v Speaker 0>Alright. So this is the Kubernetes cluster. I

00:07:30.235 --> 00:07:33.355
<v Speaker 0>would suggest that you export the cube config

00:07:33.355 --> 00:07:35.755
<v Speaker 0>and pick any command you like and see

00:07:35.755 --> 00:07:37.595
<v Speaker 0>if we have a control plane. It's usually

00:07:37.595 --> 00:07:38.875
<v Speaker 0>a pretty good first step.

00:07:40.810 --> 00:07:42.729
<v Speaker 0>You've already got your commands there ready to

00:07:42.729 --> 00:07:43.610
<v Speaker 0>go. Perfect.

00:07:44.009 --> 00:07:44.810
<v Speaker 2>Oh, yeah.

00:07:49.530 --> 00:07:50.250
<v Speaker 2>Oh.

00:07:50.970 --> 00:07:52.729
<v Speaker 2>Oh. Well, that's already a bad sign.

00:07:53.435 --> 00:07:54.875
<v Speaker 2>Scheduling's disabled.

00:07:55.115 --> 00:07:57.195
<v Speaker 0>But we do have a control claim. Like,

00:07:57.195 --> 00:07:59.675
<v Speaker 0>not many people are that lucky. So I'll

00:07:59.835 --> 00:08:01.275
<v Speaker 0>let's take it. That's good.

00:08:01.995 --> 00:08:03.435
<v Speaker 2>Alright. So we have

00:08:06.130 --> 00:08:09.170
<v Speaker 2>Postgres. We have the the pod there. Get

00:08:09.170 --> 00:08:10.130
<v Speaker 2>services.

00:08:13.090 --> 00:08:13.730
<v Speaker 2>Oh,

00:08:15.650 --> 00:08:16.770
<v Speaker 2>don't have my

00:08:17.730 --> 00:08:18.930
<v Speaker 2>shortcuts here.

00:08:19.730 --> 00:08:20.290
<v Speaker 2>Alright.

00:08:21.515 --> 00:08:24.075
<v Speaker 2>And we got our service. We got 3,000.

00:08:24.555 --> 00:08:27.195
<v Speaker 2>So it should be running in its current

00:08:27.195 --> 00:08:27.835
<v Speaker 2>form.

00:08:28.795 --> 00:08:30.315
<v Speaker 2>I come from a kind of a development

00:08:30.315 --> 00:08:32.875
<v Speaker 2>background, so I like to know things are

00:08:32.875 --> 00:08:35.320
<v Speaker 2>working. Would you like me to browse to

00:08:35.320 --> 00:08:37.640
<v Speaker 0>the application and check? Yeah. Would you mind?

00:08:38.199 --> 00:08:40.360
<v Speaker 0>Happy to. So we have it exposed via

00:08:40.360 --> 00:08:42.039
<v Speaker 0>Teleport secure access.

00:08:42.279 --> 00:08:44.199
<v Speaker 0>We click launch, and this should create up

00:08:44.199 --> 00:08:45.240
<v Speaker 0>a nice secure tunnel.

00:08:48.495 --> 00:08:51.535
<v Speaker 0>Our application is not working. I think Adam

00:08:51.535 --> 00:08:52.575
<v Speaker 0>has been cheeky.

00:08:53.455 --> 00:08:54.255
<v Speaker 2>Alright.

00:08:55.055 --> 00:08:58.575
<v Speaker 2>Now it's we got we got first okay.

00:08:58.575 --> 00:08:59.215
<v Speaker 2>So

00:09:00.130 --> 00:09:02.610
<v Speaker 2>let's take a look at

00:09:03.170 --> 00:09:04.769
<v Speaker 2>the cube system.

00:09:08.690 --> 00:09:10.370
<v Speaker 2>Everything's running. So we have

00:09:11.895 --> 00:09:15.495
<v Speaker 2>control plane, accordion f, Selium, API server, controller,

00:09:15.495 --> 00:09:16.455
<v Speaker 2>scheduler,

00:09:17.735 --> 00:09:21.015
<v Speaker 2>the okay. So I that's all the things

00:09:21.015 --> 00:09:22.695
<v Speaker 2>I think I'm used to seeing

00:09:23.335 --> 00:09:24.775
<v Speaker 2>as of yester

00:09:24.870 --> 00:09:26.630
<v Speaker 2>day or the day before.

00:09:27.589 --> 00:09:28.710
<v Speaker 2>Okay. So

00:09:32.390 --> 00:09:33.510
<v Speaker 0>Yeah. Things

00:09:34.150 --> 00:09:35.830
<v Speaker 0>like, even the way too easy. Are, like,

00:09:35.830 --> 00:09:37.190
<v Speaker 0>this looks way too easy. But you know

00:09:37.190 --> 00:09:38.710
<v Speaker 0>what? This is one of the most deceptive

00:09:38.710 --> 00:09:41.045
<v Speaker 0>things in cluster. Right? There's so there's so

00:09:41.045 --> 00:09:43.045
<v Speaker 0>much attack surface to break things that you

00:09:43.045 --> 00:09:45.204
<v Speaker 0>just never ever know.

00:09:46.964 --> 00:09:48.964
<v Speaker 1>Famous last words. Exactly.

00:09:49.605 --> 00:09:50.245
<v Speaker 2>So

00:09:50.805 --> 00:09:52.960
<v Speaker 0>there's no logs on the cluster. Your go

00:09:52.960 --> 00:09:55.040
<v Speaker 0>to. I'm really sorry. I'm a terrible developer.

00:09:55.040 --> 00:09:57.279
<v Speaker 0>There is no log output whatsoever on my

00:09:57.279 --> 00:09:58.960
<v Speaker 0>crappy application. Really?

00:10:00.160 --> 00:10:02.960
<v Speaker 2>Okay. Let's see. I know. I Hey. There's

00:10:02.960 --> 00:10:05.280
<v Speaker 2>there's our output. It was in

00:10:05.520 --> 00:10:06.560
<v Speaker 0>it's not my image.

00:10:09.275 --> 00:10:11.035
<v Speaker 2>Well, that might explain a lot.

00:10:11.835 --> 00:10:13.035
<v Speaker 2>Okay. So

00:10:16.235 --> 00:10:17.995
<v Speaker 2>I get pods and we'll do

00:10:22.540 --> 00:10:25.740
<v Speaker 2>Let's see. Can I tab complete? Yes. Alright.

00:10:26.540 --> 00:10:27.740
<v Speaker 2>What do we got here?

00:10:29.500 --> 00:10:32.620
<v Speaker 2>Oh, wait. Now supposedly scroll works on this.

00:10:32.620 --> 00:10:33.660
<v Speaker 2>It does.

00:10:35.100 --> 00:10:35.579
<v Speaker 2>Alright.

00:10:36.225 --> 00:10:37.665
<v Speaker 0>Are you using the web client or the

00:10:37.665 --> 00:10:38.305
<v Speaker 0>CLI?

00:10:38.785 --> 00:10:41.825
<v Speaker 2>I'm using the CLI. Nice. Okay. Cool.

00:10:45.904 --> 00:10:47.024
<v Speaker 2>Where's our image?

00:10:54.430 --> 00:10:55.470
<v Speaker 2>Image ID

00:10:56.670 --> 00:10:57.870
<v Speaker 2>clustered b.

00:11:01.069 --> 00:11:02.589
<v Speaker 2>So that doesn't seem

00:11:03.230 --> 00:11:04.190
<v Speaker 2>right to me.

00:11:05.865 --> 00:11:07.305
<v Speaker 2>Yeah. The Because

00:11:08.105 --> 00:11:08.985
<v Speaker 0>Go for it.

00:11:10.665 --> 00:11:12.185
<v Speaker 2>That's somebody else's.

00:11:17.860 --> 00:11:20.660
<v Speaker 0>Yeah. That is not the Rawkode official stamped

00:11:20.660 --> 00:11:22.340
<v Speaker 0>cluster released application.

00:11:23.460 --> 00:11:25.380
<v Speaker 2>Yeah. I'm like, that

00:11:25.460 --> 00:11:26.660
<v Speaker 2>doesn't look right.

00:11:27.540 --> 00:11:29.140
<v Speaker 0>The chat is right there with you.

00:11:32.535 --> 00:11:35.255
<v Speaker 2>But what what I have up is the

00:11:35.255 --> 00:11:36.375
<v Speaker 2>Git repo,

00:11:36.774 --> 00:11:38.615
<v Speaker 2>which does have the right image.

00:11:40.774 --> 00:11:42.935
<v Speaker 2>Yeah. It looks but, of course, our scheduler

00:11:42.935 --> 00:11:44.774
<v Speaker 2>is disabled, so I'm probably gonna break this.

00:11:46.410 --> 00:11:49.209
<v Speaker 0>Well, sometimes you gotta, you know, break it

00:11:49.209 --> 00:11:50.490
<v Speaker 0>before it gets better.

00:11:53.449 --> 00:11:54.730
<v Speaker 2>See, this is what?

00:11:55.370 --> 00:11:55.930
<v Speaker 2>Clustered.

00:11:58.764 --> 00:12:00.365
<v Speaker 2>Can I do this? Well, I would move

00:12:00.365 --> 00:12:02.365
<v Speaker 0>the size of deployment rather than the

00:12:02.925 --> 00:12:04.845
<v Speaker 0>pods. So the pod spec will be immutable,

00:12:04.845 --> 00:12:05.885
<v Speaker 0>so I don't think that will work.

00:12:11.810 --> 00:12:12.610
<v Speaker 2>Oh,

00:12:15.649 --> 00:12:17.090
<v Speaker 2>that that that's okay.

00:12:17.649 --> 00:12:19.730
<v Speaker 2>Oh, looks like somebody already applied it.

00:12:20.450 --> 00:12:21.250
<v Speaker 2>Okay.

00:12:23.890 --> 00:12:25.410
<v Speaker 2>Now this one, you'll be following me.

00:12:25.995 --> 00:12:27.755
<v Speaker 0>Mhmm. Okay. So that's

00:12:38.890 --> 00:12:41.370
<v Speaker 2>I wanna set image pull policy to always,

00:12:41.770 --> 00:12:43.850
<v Speaker 2>but I shouldn't do that. Not yet.

00:12:47.530 --> 00:12:49.930
<v Speaker 0>Oh, you're scanning for more changes.

00:12:51.875 --> 00:12:54.435
<v Speaker 2>There's a lot of stuff here that Chris,

00:12:55.635 --> 00:12:57.075
<v Speaker 2>we'll just start with that.

00:12:57.714 --> 00:12:58.915
<v Speaker 0>Yeah. I think that's a good idea.

00:13:08.250 --> 00:13:10.650
<v Speaker 2>And because we don't have a scheduler or

00:13:10.650 --> 00:13:12.490
<v Speaker 2>the scheduler is broken at least,

00:13:13.850 --> 00:13:15.370
<v Speaker 2>I don't think it'll get beyond pending.

00:13:17.834 --> 00:13:19.835
<v Speaker 0>What makes you think the scheduler's broken?

00:13:20.875 --> 00:13:22.075
<v Speaker 2>Well, in

00:13:22.635 --> 00:13:23.515
<v Speaker 2>the node,

00:13:24.235 --> 00:13:26.475
<v Speaker 2>it says scheduling disabled

00:13:26.795 --> 00:13:28.555
<v Speaker 2>for worker one and worker two there. So

00:13:28.555 --> 00:13:29.834
<v Speaker 2>I don't know if that's a scheduler broken

00:13:29.834 --> 00:13:30.714
<v Speaker 2>or if it's just tainted.

00:13:32.000 --> 00:13:34.000
<v Speaker 2>I've never I've never done anything with taint,

00:13:34.000 --> 00:13:35.040
<v Speaker 2>so this would be fun.

00:13:35.360 --> 00:13:37.440
<v Speaker 0>It's either tainted or cordoned.

00:13:38.480 --> 00:13:40.000
<v Speaker 2>Oh, good point. Yeah.

00:13:41.120 --> 00:13:42.880
<v Speaker 2>Node

00:13:44.305 --> 00:13:45.265
<v Speaker 2>worker.

00:13:46.865 --> 00:13:49.345
<v Speaker 2>I probably only need one of these.

00:13:52.945 --> 00:13:55.345
<v Speaker 2>There's well, there's a taint, cluster d app,

00:13:55.345 --> 00:13:55.985
<v Speaker 2>no schedule.

00:13:57.610 --> 00:13:58.330
<v Speaker 0>Mhmm.

00:13:58.490 --> 00:13:59.130
<v Speaker 2>So

00:14:02.490 --> 00:14:04.250
<v Speaker 0>It's also unschedulable

00:14:04.250 --> 00:14:07.770
<v Speaker 0>true, which would suggest it's potentially cordoned as

00:14:07.770 --> 00:14:08.010
<v Speaker 0>well.

00:14:13.905 --> 00:14:15.665
<v Speaker 2>Is there an idea of which

00:14:18.545 --> 00:14:19.745
<v Speaker 2>how do I remove a taint? How do

00:14:19.745 --> 00:14:21.585
<v Speaker 2>I remove a taint? That's the good question.

00:14:21.585 --> 00:14:23.840
<v Speaker 2>But this is what documentation is for. So

00:14:23.840 --> 00:14:25.440
<v Speaker 0>you can just do a cube control edit

00:14:25.440 --> 00:14:26.960
<v Speaker 0>node and then the node name to remove

00:14:26.960 --> 00:14:28.240
<v Speaker 0>the taint. Oh, sweet.

00:14:37.735 --> 00:14:41.175
<v Speaker 2>Let's see. Worker. Start with one.

00:14:41.815 --> 00:14:44.055
<v Speaker 2>That way we have second one.

00:14:47.335 --> 00:14:49.015
<v Speaker 2>Well, just a bunch of stuff here. Now

00:14:49.015 --> 00:14:51.495
<v Speaker 2>this unschedulable is not I can change that.

00:14:51.495 --> 00:14:51.655
<v Speaker 2>Right?

00:14:53.260 --> 00:14:55.339
<v Speaker 0>You can, but I'd probably run cube control

00:14:55.339 --> 00:14:58.620
<v Speaker 0>on cordon rather than modifying this back. Okay.

00:14:58.700 --> 00:15:00.540
<v Speaker 2>Yeah. So we're just gonna drop these taints

00:15:00.540 --> 00:15:01.180
<v Speaker 2>then.

00:15:04.620 --> 00:15:06.300
<v Speaker 2>Let's try that. Yeah. Go for it.

00:15:12.565 --> 00:15:13.925
<v Speaker 2>Scheduling is stable,

00:15:14.405 --> 00:15:16.245
<v Speaker 2>but that's a flag.

00:15:16.245 --> 00:15:18.005
<v Speaker 2>Okay. So kubectl

00:15:18.485 --> 00:15:19.445
<v Speaker 2>uncordon?

00:15:19.445 --> 00:15:19.845
<v Speaker 2>Mhmm.

00:15:25.949 --> 00:15:27.550
<v Speaker 0>And then just a note name.

00:15:31.870 --> 00:15:32.910
<v Speaker 0>Says,

00:15:32.910 --> 00:15:35.230
<v Speaker 0>I wish I knew Kubernetes to understand all

00:15:35.230 --> 00:15:35.629
<v Speaker 0>of this.

00:15:36.295 --> 00:15:38.135
<v Speaker 0>Well, watch a couple of them. You'll pick

00:15:38.135 --> 00:15:39.895
<v Speaker 0>it up really fast. I promise you.

00:15:40.615 --> 00:15:42.055
<v Speaker 2>Okay. That's ready,

00:15:46.295 --> 00:15:47.895
<v Speaker 2>and we're running.

00:15:49.655 --> 00:15:50.055
<v Speaker 2>So

00:15:51.670 --> 00:15:53.350
<v Speaker 2>how are we running? Are we running

00:15:54.310 --> 00:15:55.190
<v Speaker 2>alright.

00:15:55.670 --> 00:15:57.110
<v Speaker 2>If you go to the web page,

00:15:58.230 --> 00:15:59.510
<v Speaker 2>we can see something different.

00:16:03.365 --> 00:16:05.925
<v Speaker 0>You have connectivity issues. We are unable to

00:16:05.925 --> 00:16:08.405
<v Speaker 0>reach the post grads database.

00:16:08.805 --> 00:16:11.125
<v Speaker 2>Progress. We're making progress.

00:16:11.125 --> 00:16:12.805
<v Speaker 2>Okay. I'm gonna do that to the other

00:16:12.805 --> 00:16:13.445
<v Speaker 2>one,

00:16:13.925 --> 00:16:15.045
<v Speaker 2>to the other worker,

00:16:18.220 --> 00:16:19.580
<v Speaker 2>and

00:16:22.540 --> 00:16:23.420
<v Speaker 2>alright.

00:16:29.660 --> 00:16:31.900
<v Speaker 2>Let's

00:16:32.985 --> 00:16:34.265
<v Speaker 2>see. Oh, yeah. When I

00:16:37.945 --> 00:16:39.465
<v Speaker 2>okay. Let's

00:16:40.745 --> 00:16:41.385
<v Speaker 2>try that.

00:16:42.870 --> 00:16:44.630
<v Speaker 2>Oops. That's not the one I wanted.

00:16:48.950 --> 00:16:49.670
<v Speaker 2>Notes.

00:16:50.710 --> 00:16:51.990
<v Speaker 2>Let's go. I

00:16:54.150 --> 00:16:55.910
<v Speaker 2>haven't had to use my notepad much. This

00:16:55.910 --> 00:16:56.790
<v Speaker 2>is strange.

00:16:57.270 --> 00:16:57.670
<v Speaker 2>Okay.

00:17:04.585 --> 00:17:06.024
<v Speaker 2>So Postgresk,

00:17:08.265 --> 00:17:09.865
<v Speaker 2>let's see if we have any output from

00:17:09.865 --> 00:17:10.984
<v Speaker 2>post Postgresk.

00:17:11.349 --> 00:17:13.669
<v Speaker 0>I love Russell's comments. Step two of x

00:17:13.669 --> 00:17:14.469
<v Speaker 0>completed.

00:17:14.710 --> 00:17:16.309
<v Speaker 0>Because you just never know how much is

00:17:16.309 --> 00:17:18.149
<v Speaker 0>broken on this thing until you get to

00:17:18.149 --> 00:17:19.750
<v Speaker 0>the It's

00:17:19.750 --> 00:17:20.389
<v Speaker 2>true.

00:17:23.990 --> 00:17:25.750
<v Speaker 2>What do you mean pod not found? Oh,

00:17:25.750 --> 00:17:26.629
<v Speaker 2>I'm looking at services.

00:17:27.045 --> 00:17:28.085
<v Speaker 2>Wait. Was

00:17:28.484 --> 00:17:30.565
<v Speaker 2>there a service in your definition? I guess

00:17:30.565 --> 00:17:33.125
<v Speaker 2>there probably was. Okay. Yeah. The Postgres service

00:17:33.125 --> 00:17:33.845
<v Speaker 0>is there.

00:17:35.925 --> 00:17:38.725
<v Speaker 2>Get pods. That's what I'm man, I cannot

00:17:38.725 --> 00:17:39.045
<v Speaker 2>type.

00:17:39.660 --> 00:17:42.140
<v Speaker 0>Alias key. That's the greatest structure in the

00:17:42.140 --> 00:17:42.700
<v Speaker 0>world.

00:17:46.540 --> 00:17:48.620
<v Speaker 0>There we go. Like that? Yeah. And then

00:17:48.620 --> 00:17:49.580
<v Speaker 0>just key everything.

00:17:53.764 --> 00:17:55.364
<v Speaker 2>These are ones I use a lot.

00:17:59.445 --> 00:18:00.804
<v Speaker 0>And you only need to start that in

00:18:00.804 --> 00:18:01.044
<v Speaker 0>court.

00:18:08.410 --> 00:18:09.929
<v Speaker 2>This may trip me up

00:18:10.410 --> 00:18:11.130
<v Speaker 2>because

00:18:11.290 --> 00:18:13.450
<v Speaker 2>I'm so used to all my other shortcuts,

00:18:14.090 --> 00:18:16.010
<v Speaker 2>but I'm giving myself at least one.

00:18:16.490 --> 00:18:17.130
<v Speaker 2>Okay.

00:18:18.010 --> 00:18:19.290
<v Speaker 2>So we wanna do

00:18:20.375 --> 00:18:21.414
<v Speaker 2>k log

00:18:21.575 --> 00:18:23.254
<v Speaker 2>dash post grad school.

00:18:24.054 --> 00:18:24.774
<v Speaker 2>Now does ali

00:18:25.255 --> 00:18:26.614
<v Speaker 2>aliases break

00:18:26.695 --> 00:18:28.134
<v Speaker 2>tab complete, don't they?

00:18:30.615 --> 00:18:31.255
<v Speaker 0>They shouldn't.

00:18:33.550 --> 00:18:35.710
<v Speaker 2>Well, it sure didn't wanna do it. Okay.

00:18:36.510 --> 00:18:38.510
<v Speaker 2>Database was shut down. Database is ready to

00:18:38.510 --> 00:18:39.070
<v Speaker 2>accept.

00:18:43.870 --> 00:18:44.590
<v Speaker 0>That looks good.

00:18:48.275 --> 00:18:50.595
<v Speaker 2>Let's look at our definition

00:18:51.475 --> 00:18:54.115
<v Speaker 2>because this is a deployment, not a stateful

00:18:54.115 --> 00:18:54.835
<v Speaker 2>set.

00:18:56.755 --> 00:18:58.115
<v Speaker 0>Are you sure? Because

00:18:58.755 --> 00:19:00.995
<v Speaker 0>the name of the pod is dash zero,

00:19:01.740 --> 00:19:03.740
<v Speaker 0>which Oh, you're right. Just stick with it.

00:19:04.380 --> 00:19:05.659
<v Speaker 2>So we might have

00:19:06.780 --> 00:19:08.700
<v Speaker 2>pull up your thing.

00:19:09.900 --> 00:19:10.539
<v Speaker 2>Edit.

00:19:11.740 --> 00:19:12.460
<v Speaker 2>Or

00:19:16.235 --> 00:19:18.395
<v Speaker 2>k. Can I use that? No. I gotta

00:19:18.395 --> 00:19:19.835
<v Speaker 2>do STS.

00:19:20.955 --> 00:19:21.914
<v Speaker 2>STS?

00:19:22.075 --> 00:19:22.875
<v Speaker 2>Yep.

00:19:23.115 --> 00:19:25.195
<v Speaker 2>Oh, you're I'm gonna have to remember that

00:19:25.195 --> 00:19:25.355
<v Speaker 2>one.

00:19:28.110 --> 00:19:30.990
<v Speaker 2>Describe. There's not one for mutating admission controllers

00:19:30.990 --> 00:19:34.270
<v Speaker 0>or validating web controllers or configuration. Those

00:19:35.070 --> 00:19:36.750
<v Speaker 0>are dire need to I'm so glad

00:19:37.230 --> 00:19:38.750
<v Speaker 2>that we have not run into that yet

00:19:38.750 --> 00:19:40.030
<v Speaker 2>so far. Yeah.

00:19:40.350 --> 00:19:41.070
<v Speaker 0>Never too late.

00:19:41.975 --> 00:19:43.495
<v Speaker 2>Never is too late.

00:19:45.735 --> 00:19:48.135
<v Speaker 2>You know what? I'd rather describe this thing.

00:19:48.535 --> 00:19:49.735
<v Speaker 2>Let's edit it.

00:19:50.535 --> 00:19:52.375
<v Speaker 0>You're gonna edit the staple set?

00:19:53.095 --> 00:19:54.055
<v Speaker 0>Can I ask you why?

00:19:55.100 --> 00:19:56.700
<v Speaker 2>Mostly because I wanna see the YAML. I

00:19:56.700 --> 00:19:57.740
<v Speaker 2>could do git

00:19:57.980 --> 00:19:59.980
<v Speaker 2>I could do git o YAML.

00:20:02.700 --> 00:20:03.980
<v Speaker 2>Type that in the last

00:20:07.445 --> 00:20:09.045
<v Speaker 0>Are you not happy that our stateful set

00:20:09.045 --> 00:20:10.884
<v Speaker 0>is working and our pod is working?

00:20:13.925 --> 00:20:15.044
<v Speaker 2>Yeah. I mean,

00:20:16.165 --> 00:20:16.884
<v Speaker 2>kinda.

00:20:17.045 --> 00:20:18.804
<v Speaker 1>Because it's a liveliness probe.

00:20:19.045 --> 00:20:21.205
<v Speaker 2>I mean, there's something wrong with it. Of

00:20:21.205 --> 00:20:22.804
<v Speaker 2>course, I could hack into PostgresQL,

00:20:23.340 --> 00:20:25.100
<v Speaker 2>but then I'd have to install the Postgreschool

00:20:25.100 --> 00:20:27.580
<v Speaker 2>client or find the Docker container for that.

00:20:28.299 --> 00:20:30.059
<v Speaker 2>And that sounds that sounds annoying.

00:20:36.475 --> 00:20:37.595
<v Speaker 2>This should have

00:20:39.275 --> 00:20:41.595
<v Speaker 2>there's no there's no storage, though. Right?

00:20:42.075 --> 00:20:44.475
<v Speaker 0>No. So I have this configured to the

00:20:44.554 --> 00:20:46.554
<v Speaker 0>it's actually the data is bootstrapped through in

00:20:46.554 --> 00:20:47.195
<v Speaker 0>a container.

00:20:48.580 --> 00:20:50.820
<v Speaker 2>That's what I'm thinking is that the and

00:20:50.820 --> 00:20:51.779
<v Speaker 2>it's missing.

00:20:53.620 --> 00:20:55.299
<v Speaker 0>But if you think back to the error

00:20:55.299 --> 00:20:57.699
<v Speaker 0>message that we got on our browser here,

00:20:59.460 --> 00:21:01.940
<v Speaker 0>it's unable to connect and time out connecting

00:21:01.940 --> 00:21:02.820
<v Speaker 0>to the database.

00:21:06.055 --> 00:21:08.135
<v Speaker 2>Someone finally messed with IP tables?

00:21:09.015 --> 00:21:10.135
<v Speaker 0>I hope not.

00:21:15.495 --> 00:21:16.855
<v Speaker 2>There. I'm gonna put this in less so

00:21:16.855 --> 00:21:17.815
<v Speaker 2>you can see my scrolling.

00:21:20.470 --> 00:21:21.429
<v Speaker 2>Let's

00:21:21.429 --> 00:21:22.309
<v Speaker 2>see here.

00:21:27.110 --> 00:21:28.309
<v Speaker 2>Drop all anywhere.

00:21:34.875 --> 00:21:36.154
<v Speaker 2>Cube firewall.

00:21:37.115 --> 00:21:39.435
<v Speaker 2>I have a working cluster that I set

00:21:39.435 --> 00:21:41.674
<v Speaker 2>up. I'm gonna compare the output.

00:21:43.675 --> 00:21:44.794
<v Speaker 2>Is that cheating?

00:21:45.355 --> 00:21:47.434
<v Speaker 0>No. You're definitely allowed to compare it. You

00:21:47.915 --> 00:21:50.470
<v Speaker 0>you can do everyone. That's it. There's almost

00:21:50.470 --> 00:21:52.630
<v Speaker 0>no rules on cluster. Just don't break teleport.

00:21:52.630 --> 00:21:53.909
<v Speaker 0>That's pretty much it.

00:21:55.830 --> 00:21:57.350
<v Speaker 2>And you t f eight. Right?

00:21:59.510 --> 00:22:00.710
<v Speaker 0>Oh, really good. I

00:22:02.150 --> 00:22:03.110
<v Speaker 0>would suggest

00:22:03.525 --> 00:22:05.445
<v Speaker 0>maybe describing your service.

00:22:06.885 --> 00:22:08.645
<v Speaker 2>Okay. I don't think we did that yet.

00:22:08.645 --> 00:22:09.125
<v Speaker 0>Right?

00:22:09.605 --> 00:22:09.925
<v Speaker 2>No.

00:22:16.009 --> 00:22:17.609
<v Speaker 0>Because we do have endpoints,

00:22:17.690 --> 00:22:19.609
<v Speaker 0>which means the service should

00:22:20.169 --> 00:22:22.570
<v Speaker 0>be able to receive traffic on the DNS

00:22:22.570 --> 00:22:24.970
<v Speaker 0>name, on the IP address, on the port,

00:22:24.970 --> 00:22:25.690
<v Speaker 0>etcetera.

00:22:26.970 --> 00:22:28.889
<v Speaker 0>So what could block that?

00:22:33.575 --> 00:22:35.575
<v Speaker 2>K. So our selector is good.

00:22:38.695 --> 00:22:39.815
<v Speaker 2>Single stack,

00:22:41.174 --> 00:22:45.655
<v Speaker 2>54325432.

00:22:46.790 --> 00:22:47.590
<v Speaker 2>K.

00:22:51.429 --> 00:22:52.789
<v Speaker 2>I agree, Russell.

00:22:55.190 --> 00:22:57.350
<v Speaker 2>Let's

00:22:57.350 --> 00:22:57.990
<v Speaker 2>see here.

00:23:00.595 --> 00:23:04.755
<v Speaker 0>Yeah. The chat with us. No UTF,

00:23:04.755 --> 00:23:07.475
<v Speaker 0>no Unicode shenanigans, no STD shenanigans, all the

00:23:07.475 --> 00:23:08.755
<v Speaker 0>stuff that makes me cry.

00:23:09.715 --> 00:23:11.075
<v Speaker 2>See, I don't know if I can do

00:23:11.075 --> 00:23:12.435
<v Speaker 2>this from the control plane, but can I

00:23:12.435 --> 00:23:13.475
<v Speaker 2>ping these IPs?

00:23:14.490 --> 00:23:16.090
<v Speaker 0>Probably You could you should be able to

00:23:16.090 --> 00:23:18.169
<v Speaker 0>ping the pod IP. Yes.

00:23:19.370 --> 00:23:21.930
<v Speaker 2>No. That didn't work. You'll need to do

00:23:21.930 --> 00:23:23.290
<v Speaker 0>it. So you could either add a

00:23:24.250 --> 00:23:27.130
<v Speaker 0>you'd probably wanna execute inside the cluster container

00:23:27.130 --> 00:23:28.730
<v Speaker 0>to do it. Yeah. Other than setting up

00:23:28.730 --> 00:23:29.610
<v Speaker 0>your networking rules.

00:23:30.755 --> 00:23:31.634
<v Speaker 2>Throw up

00:23:34.995 --> 00:23:37.394
<v Speaker 0>Oh, no. After your e b p f

00:23:37.394 --> 00:23:39.554
<v Speaker 0>cat cat on my machine last week, that

00:23:39.554 --> 00:23:41.554
<v Speaker 0>is also banned. I'm gonna have to publish

00:23:41.554 --> 00:23:42.595
<v Speaker 0>the ban list, I think.

00:23:47.740 --> 00:23:49.900
<v Speaker 2>Is your yours is a rust application, isn't

00:23:49.900 --> 00:23:52.140
<v Speaker 2>it? It is. There there is a shell

00:23:52.140 --> 00:23:53.900
<v Speaker 0>available and the things that you should be

00:23:53.900 --> 00:23:55.500
<v Speaker 0>able to do a cube control exact dash

00:23:55.500 --> 00:23:57.660
<v Speaker 0>into the cluster pod and then you should

00:23:57.660 --> 00:24:00.425
<v Speaker 0>be able to it's Alpine so APK update

00:24:00.425 --> 00:24:03.065
<v Speaker 0>and APK install whatever you need, but ping

00:24:03.065 --> 00:24:04.745
<v Speaker 0>will be available by default.

00:24:07.865 --> 00:24:10.424
<v Speaker 2>Okay. So oh, it's it is Alpine. Okay.

00:24:12.585 --> 00:24:12.985
<v Speaker 2>Exec.

00:24:16.750 --> 00:24:18.830
<v Speaker 0>Pretty quiet there. You having fun?

00:24:20.750 --> 00:24:22.990
<v Speaker 1>Yeah. I'm I'm looking at how you try

00:24:22.990 --> 00:24:25.870
<v Speaker 1>to debug my my breaks. So

00:24:26.350 --> 00:24:28.590
<v Speaker 1>if you need any help, then I can

00:24:28.590 --> 00:24:29.630
<v Speaker 1>give some hints.

00:24:34.085 --> 00:24:36.085
<v Speaker 0>Alright. So you have a shell inside. You

00:24:36.085 --> 00:24:38.485
<v Speaker 0>should be able to run ping postgres. Oh,

00:24:38.485 --> 00:24:40.165
<v Speaker 0>no. That'll be the service. So ping the

00:24:40.165 --> 00:24:41.125
<v Speaker 0>pod IP.

00:24:42.005 --> 00:24:44.485
<v Speaker 0>Although I believe and I'm sure Noel and

00:24:44.485 --> 00:24:46.005
<v Speaker 0>Russell can help us out in the chat,

00:24:46.940 --> 00:24:49.420
<v Speaker 0>That the ability to ping a service IP

00:24:49.420 --> 00:24:51.740
<v Speaker 0>is coming and Kubernetes one twenty three or

00:24:51.740 --> 00:24:53.980
<v Speaker 0>one twenty four, which is really exciting. Oh.

00:24:54.700 --> 00:24:57.179
<v Speaker 2>Okay. Well, that ping is not returning anything.

00:24:57.740 --> 00:25:00.460
<v Speaker 0>Okay. So, yeah, you've got some sort of

00:25:00.460 --> 00:25:02.620
<v Speaker 0>policy blocking traffic to that.

00:25:05.715 --> 00:25:07.075
<v Speaker 0>Where'd you wanna look first?

00:25:10.674 --> 00:25:12.195
<v Speaker 2>I mean, Selium is the

00:25:13.475 --> 00:25:14.674
<v Speaker 0>I think that's a great idea.

00:25:18.870 --> 00:25:19.669
<v Speaker 2>Alright.

00:25:21.750 --> 00:25:23.110
<v Speaker 0>One of my former I don't if one

00:25:23.110 --> 00:25:24.870
<v Speaker 0>of one of my colleagues, former guests on

00:25:24.870 --> 00:25:26.390
<v Speaker 0>this show, gave me into trouble for leaving

00:25:26.390 --> 00:25:28.310
<v Speaker 0>Hubble on all these clusters because he said

00:25:28.310 --> 00:25:29.990
<v Speaker 0>it's it's too good a network debugging.

00:25:31.575 --> 00:25:33.254
<v Speaker 0>People still have access to it.

00:25:35.735 --> 00:25:37.495
<v Speaker 2>Let's just do this.

00:25:39.335 --> 00:25:40.774
<v Speaker 2>Path equals

00:25:42.855 --> 00:25:43.815
<v Speaker 2>path

00:25:44.215 --> 00:25:45.335
<v Speaker 2>colon

00:25:46.630 --> 00:25:47.590
<v Speaker 2>home.

00:25:50.230 --> 00:25:52.710
<v Speaker 0>Why are you putting in this Cilium NRA?

00:25:54.790 --> 00:25:57.110
<v Speaker 2>Well, that's our CNI. Right? Yeah.

00:25:58.275 --> 00:26:00.835
<v Speaker 2>And so that's I don't know. It's the

00:26:00.835 --> 00:26:02.035
<v Speaker 2>first thing I go to is what's the

00:26:02.035 --> 00:26:03.635
<v Speaker 2>tool to use for the job.

00:26:04.035 --> 00:26:04.595
<v Speaker 2>I

00:26:05.955 --> 00:26:07.395
<v Speaker 2>get rid of that. No. I don't need

00:26:08.915 --> 00:26:10.115
<v Speaker 2>but

00:26:12.440 --> 00:26:15.320
<v Speaker 2>but, of course, that's happy from there because

00:26:15.320 --> 00:26:15.480
<v Speaker 2>he

00:26:19.400 --> 00:26:20.760
<v Speaker 2>operator,

00:26:20.760 --> 00:26:21.720
<v Speaker 2>it's the versions.

00:26:31.115 --> 00:26:33.115
<v Speaker 0>Alright. We are halfway through. We got twenty

00:26:33.115 --> 00:26:34.075
<v Speaker 0>minutes left.

00:26:35.434 --> 00:26:37.835
<v Speaker 0>I'm gonna throw some suggestions out. I think

00:26:38.730 --> 00:26:40.410
<v Speaker 0>the chat said this as well, but you

00:26:40.410 --> 00:26:42.730
<v Speaker 0>should probably look for network policies on the

00:26:42.730 --> 00:26:44.009
<v Speaker 0>Kubernetes API.

00:26:45.770 --> 00:26:46.650
<v Speaker 2>Yeah. That's right.

00:26:56.675 --> 00:26:57.955
<v Speaker 2>Is that gonna be

00:26:58.755 --> 00:27:00.355
<v Speaker 0>We keep the dash e and maybe just

00:27:00.355 --> 00:27:01.315
<v Speaker 0>check on them.

00:27:04.355 --> 00:27:05.395
<v Speaker 0>Capital a starting.

00:27:06.950 --> 00:27:10.390
<v Speaker 0>Okay. So there's no basic standard Kubernetes network

00:27:10.390 --> 00:27:12.790
<v Speaker 0>policies. However, this is a silly inquisitor. So

00:27:12.790 --> 00:27:14.389
<v Speaker 0>silly has its own

00:27:14.550 --> 00:27:16.390
<v Speaker 0>types of network policies that we could check

00:27:16.390 --> 00:27:18.390
<v Speaker 0>out. I don't remember them all off the

00:27:18.390 --> 00:27:19.910
<v Speaker 0>top of my head, but you could run.

00:27:21.075 --> 00:27:23.154
<v Speaker 1>CMP and CCMP,

00:27:23.155 --> 00:27:25.635
<v Speaker 1>serial network policy sense cluster,

00:27:25.635 --> 00:27:28.275
<v Speaker 1>serial cluster network policy. Yeah. All of those.

00:27:28.275 --> 00:27:30.434
<v Speaker 0>So you could run Kube control API resources

00:27:30.434 --> 00:27:32.115
<v Speaker 0>and grep for Selium, and that'll give you

00:27:32.115 --> 00:27:33.794
<v Speaker 0>a list of all the resources available.

00:27:34.290 --> 00:27:36.130
<v Speaker 0>But Adam also just listed.

00:27:37.810 --> 00:27:38.370
<v Speaker 0>Hey,

00:27:38.770 --> 00:27:39.330
<v Speaker 0>Welcome.

00:27:39.810 --> 00:27:42.130
<v Speaker 1>Yeah. CMP and CCMP.

00:27:42.450 --> 00:27:46.130
<v Speaker 1>It's easy. CCNP.net.

00:27:46.370 --> 00:27:46.610
<v Speaker 2>Policy

00:27:48.955 --> 00:27:50.715
<v Speaker 1>And, like, network policy.

00:27:50.875 --> 00:27:52.875
<v Speaker 0>Yeah. CCNP.

00:27:53.355 --> 00:27:54.635
<v Speaker 2>Correct. Gotcha.

00:27:55.675 --> 00:27:56.315
<v Speaker 2>K.

00:27:56.955 --> 00:27:59.035
<v Speaker 0>And then there's a Cilium cluster wide network

00:27:59.035 --> 00:27:59.435
<v Speaker 0>policy.

00:28:01.010 --> 00:28:02.770
<v Speaker 1>This is the one. There is a c

00:28:02.770 --> 00:28:04.850
<v Speaker 1>c m p. That's the Selim network policy.

00:28:04.850 --> 00:28:06.370
<v Speaker 1>That's the name space code.

00:28:08.690 --> 00:28:11.090
<v Speaker 0>Yeah. Let's try and skip control API resources.

00:28:11.090 --> 00:28:12.290
<v Speaker 0>Let's just get a list of them on

00:28:12.290 --> 00:28:12.930
<v Speaker 0>and

00:28:13.890 --> 00:28:14.370
<v Speaker 0>no get.

00:28:16.395 --> 00:28:17.275
<v Speaker 2>That's right.

00:28:19.275 --> 00:28:20.715
<v Speaker 2>And that's gonna dump us a bunch of

00:28:20.715 --> 00:28:23.275
<v Speaker 2>stuff, so let's talk about Selium. Yeah.

00:28:25.595 --> 00:28:27.755
<v Speaker 0>Yeah. I'd start looking into these things. I

00:28:27.755 --> 00:28:29.595
<v Speaker 0>guess the CCNP is customer rate of our

00:28:29.595 --> 00:28:32.470
<v Speaker 0>policy. Thank you, Adam. And there's also

00:28:33.590 --> 00:28:34.470
<v Speaker 0>CMP.

00:28:41.030 --> 00:28:41.990
<v Speaker 0>CMP?

00:28:43.190 --> 00:28:43.990
<v Speaker 0>CMP?

00:28:44.070 --> 00:28:44.390
<v Speaker 0>Yeah.

00:28:55.415 --> 00:28:57.095
<v Speaker 0>I was really hoping it was

00:28:57.575 --> 00:28:59.879
<v Speaker 0>a network policy, Adam, what you did here.

00:29:00.520 --> 00:29:02.759
<v Speaker 1>Mhmm. That's obviously.

00:29:06.280 --> 00:29:08.600
<v Speaker 1>Have you if you need some hints so

00:29:08.600 --> 00:29:09.720
<v Speaker 1>I can help you out.

00:29:12.695 --> 00:29:14.615
<v Speaker 0>Okay. So let's talk about the symptoms here,

00:29:14.615 --> 00:29:17.095
<v Speaker 0>William. We've got what we believe is a

00:29:17.095 --> 00:29:19.495
<v Speaker 0>working clustered pod. We have a working post

00:29:19.495 --> 00:29:21.175
<v Speaker 0>for this pod. We have a service with

00:29:21.175 --> 00:29:22.054
<v Speaker 0>endpoints.

00:29:22.775 --> 00:29:23.655
<v Speaker 0>However,

00:29:23.655 --> 00:29:25.254
<v Speaker 0>we cannot reach

00:29:25.335 --> 00:29:27.095
<v Speaker 0>the database from the application.

00:29:28.110 --> 00:29:29.950
<v Speaker 0>We've ruled out network policies, so they have

00:29:29.950 --> 00:29:31.950
<v Speaker 0>network policies, and they're still in cluster wide

00:29:31.950 --> 00:29:33.149
<v Speaker 0>network policies.

00:29:33.710 --> 00:29:35.789
<v Speaker 2>And I and we can get in

00:29:37.070 --> 00:29:40.590
<v Speaker 2>to the the the net the the other

00:29:40.590 --> 00:29:41.230
<v Speaker 2>service. Right?

00:29:44.135 --> 00:29:45.975
<v Speaker 2>Because that's how I load the web page.

00:29:46.855 --> 00:29:49.895
<v Speaker 0>So Teleport creates a proxy and uses the

00:29:49.895 --> 00:29:51.495
<v Speaker 0>node port service. So you could do a

00:29:51.495 --> 00:29:53.895
<v Speaker 0>curl local host 30,000 and you should see

00:29:53.895 --> 00:29:54.534
<v Speaker 0>the same thing.

00:30:00.810 --> 00:30:02.730
<v Speaker 0>And that delay there means we're gonna get

00:30:02.730 --> 00:30:04.010
<v Speaker 0>the time out. Yeah.

00:30:04.890 --> 00:30:05.690
<v Speaker 2>Okay.

00:30:07.130 --> 00:30:09.210
<v Speaker 2>So that's a node port. The other ones

00:30:09.210 --> 00:30:10.570
<v Speaker 2>are cluster IPs.

00:30:13.185 --> 00:30:13.825
<v Speaker 0>Correct.

00:30:20.865 --> 00:30:22.225
<v Speaker 2>Maybe? I don't know.

00:30:23.425 --> 00:30:25.025
<v Speaker 0>So why don't?

00:30:26.980 --> 00:30:28.740
<v Speaker 2>I don't know. I'm trying to think here.

00:30:29.780 --> 00:30:31.700
<v Speaker 2>What to do next? Oh my god.

00:30:32.100 --> 00:30:33.700
<v Speaker 2>Sixteen minutes left here.

00:30:34.179 --> 00:30:36.500
<v Speaker 0>Loads of time. Loads of time. Let's edit

00:30:36.500 --> 00:30:38.179
<v Speaker 0>the cluster deployment again.

00:30:41.305 --> 00:30:43.865
<v Speaker 0>Hunch right now is are we actually

00:30:44.185 --> 00:30:46.825
<v Speaker 0>that's that's it's hard coded, isn't it? I

00:30:46.825 --> 00:30:48.665
<v Speaker 0>think I hard coded DNS lookup. I don't

00:30:48.665 --> 00:30:50.345
<v Speaker 0>think it's passed in through configuration

00:30:51.385 --> 00:30:52.905
<v Speaker 0>because I'm a terrible developer.

00:30:54.450 --> 00:30:56.050
<v Speaker 2>Alright. What am I looking at? I'm going

00:30:56.210 --> 00:30:57.649
<v Speaker 0>I have no idea. Basic

00:30:58.130 --> 00:31:00.929
<v Speaker 2>check of DNS. Is the service named properly

00:31:01.650 --> 00:31:03.490
<v Speaker 2>in the deployment for clustered?

00:31:05.330 --> 00:31:06.850
<v Speaker 0>Okay. So I think what we need, we

00:31:06.850 --> 00:31:08.745
<v Speaker 0>need some more network debugging tools. I would

00:31:08.745 --> 00:31:10.665
<v Speaker 0>expect back into the cluster pod, and we

00:31:10.665 --> 00:31:13.145
<v Speaker 0>probably wanna start playing with the deck command.

00:31:15.145 --> 00:31:16.585
<v Speaker 2>Oh, okay. You want me to get back

00:31:16.585 --> 00:31:17.305
<v Speaker 2>into

00:31:17.945 --> 00:31:19.865
<v Speaker 0>Yeah. I I I think so.

00:31:21.545 --> 00:31:22.345
<v Speaker 2>Where'd you go?

00:31:23.669 --> 00:31:24.549
<v Speaker 2>There it is.

00:31:25.669 --> 00:31:26.389
<v Speaker 2>Yep.

00:31:27.590 --> 00:31:29.669
<v Speaker 2>You said Bash was available. Right? It is.

00:31:29.669 --> 00:31:33.190
<v Speaker 0>Yeah. Sweet. Okay. Let's do a if I

00:31:33.190 --> 00:31:35.509
<v Speaker 0>just maybe a Debian, we'll do an apt

00:31:35.509 --> 00:31:36.470
<v Speaker 0>update, see if it works.

00:31:38.585 --> 00:31:40.345
<v Speaker 2>Yeah. I know that. Oh, hey.

00:31:40.745 --> 00:31:42.745
<v Speaker 2>It is Debian based. Can't remember the name

00:31:42.745 --> 00:31:44.425
<v Speaker 0>of the package, so let me I'll just

00:31:44.425 --> 00:31:47.305
<v Speaker 0>quickly guess and type. But I think

00:31:56.760 --> 00:31:59.000
<v Speaker 0>I can never remember what it's actually called.

00:31:59.000 --> 00:32:00.680
<v Speaker 0>I really should, like, take note. There we

00:32:00.680 --> 00:32:02.440
<v Speaker 0>go. The initiative. That will give you the

00:32:02.440 --> 00:32:04.040
<v Speaker 0>tech command. So now you can start to

00:32:04.040 --> 00:32:05.320
<v Speaker 0>query

00:32:05.404 --> 00:32:07.005
<v Speaker 0>core DNS and see if we're getting any

00:32:07.005 --> 00:32:07.804
<v Speaker 0>responses.

00:32:08.764 --> 00:32:09.804
<v Speaker 2>Let's check

00:32:10.524 --> 00:32:11.804
<v Speaker 2>resolve.com.

00:32:11.804 --> 00:32:13.004
<v Speaker 0>Yeah. It's a good idea.

00:32:15.965 --> 00:32:17.804
<v Speaker 2>I can't see that on my local one.

00:32:17.965 --> 00:32:19.965
<v Speaker 2>Here, let me clear this. Yeah. That that

00:32:19.965 --> 00:32:20.365
<v Speaker 0>was try.

00:32:22.940 --> 00:32:25.340
<v Speaker 2>There we go. It it some of the

00:32:25.340 --> 00:32:27.740
<v Speaker 2>the teleport bits weird stuff on my end.

00:32:27.740 --> 00:32:29.180
<v Speaker 2>Okay. So that looks good.

00:32:30.380 --> 00:32:31.580
<v Speaker 2>Big postgres.

00:32:32.220 --> 00:32:32.620
<v Speaker 0>Yep.

00:32:35.745 --> 00:32:37.505
<v Speaker 2>I'm not a Qualified,

00:32:37.505 --> 00:32:38.705
<v Speaker 0>just to be sure.

00:32:43.505 --> 00:32:44.145
<v Speaker 0>Maybe need

00:32:49.670 --> 00:32:54.070
<v Speaker 0>Yeah. That's a problem. Let's

00:32:54.070 --> 00:32:55.430
<v Speaker 2>go look at our DNS. Can I I'm

00:32:55.430 --> 00:32:57.110
<v Speaker 2>gonna pop out of this? Yep.

00:33:10.395 --> 00:33:11.275
<v Speaker 2>Q.

00:33:12.235 --> 00:33:13.915
<v Speaker 2>I do appreciate you keeping everything in the

00:33:13.915 --> 00:33:15.195
<v Speaker 2>default namespace.

00:33:15.195 --> 00:33:16.395
<v Speaker 2>It makes life easier.

00:33:18.490 --> 00:33:20.090
<v Speaker 2>We won't do a dash f.

00:33:21.930 --> 00:33:22.970
<v Speaker 2>CoreDNS.

00:33:23.210 --> 00:33:24.010
<v Speaker 0>CoreDNS

00:33:24.010 --> 00:33:25.769
<v Speaker 0>is also notoriously

00:33:25.770 --> 00:33:28.809
<v Speaker 0>quiet. It doesn't particularly log too much,

00:33:29.450 --> 00:33:31.130
<v Speaker 0>but it does have a conflict map and

00:33:31.130 --> 00:33:33.225
<v Speaker 0>a keep system namespace that we probably wanna

00:33:33.225 --> 00:33:34.024
<v Speaker 0>explore.

00:33:40.025 --> 00:33:41.785
<v Speaker 0>So I would get the conflict maps in

00:33:41.785 --> 00:33:42.505
<v Speaker 0>cube system.

00:33:47.740 --> 00:33:49.820
<v Speaker 0>And there's a core DNS one there.

00:33:59.260 --> 00:34:00.220
<v Speaker 0>I see a honk.

00:34:06.215 --> 00:34:07.255
<v Speaker 2>A honk?

00:34:08.375 --> 00:34:09.895
<v Speaker 0>Yeah. I see a break.

00:34:10.455 --> 00:34:12.135
<v Speaker 0>Got it? Mhmm.

00:34:14.695 --> 00:34:16.375
<v Speaker 2>Oh, there you go. Yep.

00:34:17.175 --> 00:34:18.739
<v Speaker 2>But if we just edit this, it'll pick

00:34:18.739 --> 00:34:19.620
<v Speaker 2>it up. Right?

00:34:20.420 --> 00:34:21.699
<v Speaker 2>Might have to go off the pod. This

00:34:21.699 --> 00:34:24.099
<v Speaker 0>wonderful thing that nobody in Kubernetes land likes.

00:34:24.099 --> 00:34:25.540
<v Speaker 0>But when you modify the conflict map, you

00:34:25.540 --> 00:34:27.060
<v Speaker 0>have to rotate the pod.

00:34:27.619 --> 00:34:28.179
<v Speaker 2>Yeah.

00:34:28.420 --> 00:34:29.060
<v Speaker 0>So annoying.

00:34:30.125 --> 00:34:31.324
<v Speaker 0>Don't know why we don't have a controller

00:34:31.324 --> 00:34:33.244
<v Speaker 0>for this shit. Or we do, if someone

00:34:33.244 --> 00:34:34.364
<v Speaker 0>can share it with us.

00:34:35.165 --> 00:34:37.005
<v Speaker 2>There is one that was presented at KubeCon

00:34:37.005 --> 00:34:37.885
<v Speaker 2>a while back.

00:34:38.605 --> 00:34:41.324
<v Speaker 2>Someone had one that that embedded the hashes.

00:34:41.804 --> 00:34:43.005
<v Speaker 0>Oh, yeah. I do see that a lot

00:34:43.005 --> 00:34:44.204
<v Speaker 0>on the Yeah.

00:34:45.609 --> 00:34:47.369
<v Speaker 2>Yeah. But there's someone who actually wrote a

00:34:47.369 --> 00:34:49.130
<v Speaker 2>controller for it way back when.

00:34:49.530 --> 00:34:52.170
<v Speaker 1>Or you can just use file system notification.

00:34:52.170 --> 00:34:54.250
<v Speaker 1>It we use it in couple of our

00:34:54.250 --> 00:34:54.969
<v Speaker 1>applications,

00:34:55.050 --> 00:34:56.570
<v Speaker 1>and it's working great. So

00:34:56.889 --> 00:34:59.050
<v Speaker 1>except that it's having a couple of false

00:34:59.050 --> 00:35:01.425
<v Speaker 1>triggering when it's syncing from HCD, so you

00:35:01.425 --> 00:35:03.265
<v Speaker 1>have to ignore a couple of file system

00:35:03.265 --> 00:35:04.145
<v Speaker 1>events for

00:35:05.905 --> 00:35:09.185
<v Speaker 1>reapplying the same permissions from HCD. So

00:35:09.825 --> 00:35:11.425
<v Speaker 1>but that's a known issue for a couple

00:35:11.425 --> 00:35:13.505
<v Speaker 1>of years, so nothing

00:35:13.665 --> 00:35:14.785
<v Speaker 1>to be unexpected.

00:35:16.730 --> 00:35:18.410
<v Speaker 0>You can always judge a person based on

00:35:18.410 --> 00:35:20.329
<v Speaker 0>how to restart the pod. I am definitely

00:35:20.329 --> 00:35:22.490
<v Speaker 0>a cube control delete all kinda guy, but

00:35:22.490 --> 00:35:24.330
<v Speaker 0>I see that William You you are.

00:35:25.369 --> 00:35:27.690
<v Speaker 0>Very a very sensible approach to doing a

00:35:27.690 --> 00:35:29.210
<v Speaker 0>rollout restart. I like it.

00:35:31.015 --> 00:35:33.095
<v Speaker 2>Yeah. Because I have to remember things like

00:35:33.095 --> 00:35:34.775
<v Speaker 2>deploy slash

00:35:34.775 --> 00:35:35.895
<v Speaker 2>or DNS.

00:35:36.455 --> 00:35:37.655
<v Speaker 0>There you go. Okay.

00:35:42.935 --> 00:35:44.535
<v Speaker 0>Yep. 50% of the time,

00:35:45.120 --> 00:35:47.360
<v Speaker 0>DNS or always DNS.

00:35:53.360 --> 00:35:54.080
<v Speaker 2>Oh.

00:35:55.600 --> 00:35:56.640
<v Speaker 2>Alright.

00:35:57.040 --> 00:36:00.000
<v Speaker 2>Ten minutes, and we've got v one working.

00:36:00.535 --> 00:36:01.735
<v Speaker 2>If you refresh.

00:36:01.895 --> 00:36:02.535
<v Speaker 2>Mhmm.

00:36:06.295 --> 00:36:08.135
<v Speaker 0>Not sure why my video is playing weird,

00:36:08.135 --> 00:36:09.735
<v Speaker 0>but we do have the watch point.

00:36:10.375 --> 00:36:11.975
<v Speaker 0>Let's try and get this upgraded.

00:36:12.695 --> 00:36:13.415
<v Speaker 2>Okay.

00:36:13.895 --> 00:36:14.375
<v Speaker 2>Alright.

00:36:18.650 --> 00:36:20.490
<v Speaker 2>I I I feel like I should check

00:36:20.490 --> 00:36:23.610
<v Speaker 2>the images on the on things, but

00:36:24.170 --> 00:36:25.930
<v Speaker 2>let's just trust it and go.

00:36:26.810 --> 00:36:27.849
<v Speaker 2>So we'll get pods.

00:36:30.105 --> 00:36:30.825
<v Speaker 2>Edit.

00:36:31.385 --> 00:36:32.265
<v Speaker 2>Oh, wait.

00:36:33.065 --> 00:36:33.865
<v Speaker 2>Deploy.

00:36:37.545 --> 00:36:38.345
<v Speaker 2>Cool.

00:36:40.345 --> 00:36:42.265
<v Speaker 2>And I'm I'm guessing we just need to

00:36:42.265 --> 00:36:44.585
<v Speaker 2>edit this v two v one to v

00:36:44.585 --> 00:36:46.080
<v Speaker 2>two? Correct.

00:36:48.720 --> 00:36:51.040
<v Speaker 2>So just change that up for a two

00:36:52.160 --> 00:36:52.960
<v Speaker 2>and

00:36:52.960 --> 00:36:54.240
<v Speaker 2>apply and free.

00:36:58.320 --> 00:36:58.880
<v Speaker 0>There you go.

00:37:00.815 --> 00:37:01.535
<v Speaker 2>Alright.

00:37:03.855 --> 00:37:05.375
<v Speaker 0>And we have the dance.

00:37:06.415 --> 00:37:07.615
<v Speaker 0>How's that, William?

00:37:08.335 --> 00:37:09.695
<v Speaker 0>Nine minutes to play. Alright.

00:37:13.694 --> 00:37:14.895
<v Speaker 0>Great job about that.

00:37:17.020 --> 00:37:19.020
<v Speaker 0>Adam, did did we get everything? Was there

00:37:19.020 --> 00:37:20.859
<v Speaker 0>anything that doesn't trigger properly, or did we

00:37:20.859 --> 00:37:23.580
<v Speaker 0>did we get Yeah. It should not work.

00:37:25.819 --> 00:37:26.380
<v Speaker 1>What the

00:37:27.500 --> 00:37:28.859
<v Speaker 1>yeah. It should not work.

00:37:31.184 --> 00:37:33.184
<v Speaker 1>Can we get the cube CTR gas ports

00:37:33.184 --> 00:37:34.145
<v Speaker 1>all wide?

00:37:37.744 --> 00:37:39.105
<v Speaker 0>I love the CDL.

00:37:39.505 --> 00:37:41.825
<v Speaker 0>Don't work. Gas ports all wide. Yeah.

00:37:47.240 --> 00:37:48.520
<v Speaker 1>This is interesting.

00:37:48.520 --> 00:37:49.800
<v Speaker 1>It should not work.

00:37:51.720 --> 00:37:53.480
<v Speaker 1>Maybe I forgot something.

00:37:54.600 --> 00:37:57.000
<v Speaker 0>Alright. Well, we look forward to the breakout

00:37:57.000 --> 00:37:58.840
<v Speaker 0>notes and the repository, and we can see

00:37:58.840 --> 00:38:01.005
<v Speaker 0>what was there. But good to go, William.

00:38:01.005 --> 00:38:02.525
<v Speaker 1>I I can I can even tell it

00:38:02.525 --> 00:38:04.445
<v Speaker 1>right now? Yeah. Go for it. What would

00:38:04.685 --> 00:38:07.005
<v Speaker 1>Yeah. So, basically, I set up a harbor

00:38:07.005 --> 00:38:07.885
<v Speaker 1>instance

00:38:08.525 --> 00:38:10.445
<v Speaker 1>somewhere. Oh. And I

00:38:10.685 --> 00:38:13.960
<v Speaker 1>changed the container, the config to trusted certificate,

00:38:13.960 --> 00:38:15.960
<v Speaker 1>and changed the at c at EC host

00:38:15.960 --> 00:38:18.120
<v Speaker 1>files on the worker nodes so it would

00:38:18.120 --> 00:38:19.640
<v Speaker 1>resolve to my IP

00:38:19.640 --> 00:38:21.320
<v Speaker 1>instead of GitHub.

00:38:21.880 --> 00:38:24.360
<v Speaker 2>So I like it. That's my kinda break.

00:38:24.360 --> 00:38:26.555
<v Speaker 1>So yeah. So you you could pull the

00:38:26.555 --> 00:38:28.075
<v Speaker 1>v two image, but it was the same

00:38:28.075 --> 00:38:29.675
<v Speaker 1>image pushed.

00:38:32.315 --> 00:38:34.315
<v Speaker 1>I'm not sure why it didn't work. Maybe

00:38:34.315 --> 00:38:36.315
<v Speaker 1>I I forgot to change something.

00:38:36.635 --> 00:38:39.830
<v Speaker 0>That's sneaky. So bad. Oh, I love it.

00:38:40.150 --> 00:38:42.710
<v Speaker 0>Yeah. But I guess you you would struggle

00:38:42.710 --> 00:38:44.390
<v Speaker 0>to find that because it would actually pull

00:38:44.390 --> 00:38:46.390
<v Speaker 0>the image, and it would look fine and

00:38:46.390 --> 00:38:49.190
<v Speaker 1>everything. Did you update the container deconfig on

00:38:49.190 --> 00:38:51.670
<v Speaker 0>worker one and two to do that redirect?

00:38:51.670 --> 00:38:53.875
<v Speaker 1>I I think I did. I I I

00:38:53.875 --> 00:38:55.875
<v Speaker 1>think maybe I forgot to change in the

00:38:55.875 --> 00:38:58.035
<v Speaker 1>worker to the at t c host. I'm

00:38:58.035 --> 00:38:58.755
<v Speaker 1>not sure.

00:39:00.194 --> 00:39:01.795
<v Speaker 0>Well, never mind.

00:39:02.035 --> 00:39:04.275
<v Speaker 0>Alright. Yeah. Let's switch clusters then.

00:39:05.820 --> 00:39:08.220
<v Speaker 0>So we're gonna kill this session.

00:39:08.620 --> 00:39:11.740
<v Speaker 2>Alright. So this and I'm gonna switch over

00:39:12.620 --> 00:39:13.340
<v Speaker 0>to

00:39:13.900 --> 00:39:15.900
<v Speaker 0>one patcher. Come on. Not now.

00:39:25.215 --> 00:39:27.455
<v Speaker 0>Alright. I'll just do that over here. I

00:39:27.455 --> 00:39:29.695
<v Speaker 0>don't trust my password into my live screen

00:39:29.695 --> 00:39:31.615
<v Speaker 0>anymore. I've flashed it too many times.

00:39:33.670 --> 00:39:35.590
<v Speaker 2>I'm gonna start my victory drink.

00:39:37.110 --> 00:39:38.150
<v Speaker 0>What have you got?

00:39:38.790 --> 00:39:41.190
<v Speaker 2>It's a just a root beer. Just a

00:39:41.190 --> 00:39:42.710
<v Speaker 2>simple mug root beer.

00:39:49.715 --> 00:39:50.435
<v Speaker 0>Alright.

00:39:50.595 --> 00:39:51.315
<v Speaker 0>I have one password.

00:40:10.540 --> 00:40:11.180
<v Speaker 0>Okay.

00:40:11.740 --> 00:40:13.180
<v Speaker 0>So this is

00:40:13.900 --> 00:40:16.619
<v Speaker 0>William's cluster. Adam, you're now pairing with me

00:40:16.619 --> 00:40:18.795
<v Speaker 0>on this. I am opening a connection to

00:40:18.795 --> 00:40:20.235
<v Speaker 0>the control plane node. If you could do

00:40:20.235 --> 00:40:22.635
<v Speaker 0>me a favor, join our active session, and

00:40:22.635 --> 00:40:25.995
<v Speaker 0>then we will check for a control plane.

00:40:26.235 --> 00:40:28.075
<v Speaker 0>I guess I I see my weird screen

00:40:28.075 --> 00:40:30.315
<v Speaker 0>flash, which means I know where we're in.

00:40:32.349 --> 00:40:33.070
<v Speaker 1>Perfect.

00:40:33.950 --> 00:40:36.910
<v Speaker 1>Okay. We are in. So let me install

00:40:36.910 --> 00:40:38.030
<v Speaker 1>k nine s.

00:40:39.230 --> 00:40:40.670
<v Speaker 0>I've seen that a lot lately. I think

00:40:40.670 --> 00:40:42.349
<v Speaker 0>that's the second time we've had someone install

00:40:42.349 --> 00:40:43.950
<v Speaker 0>k nine k nine s. I'm not sure

00:40:43.950 --> 00:40:46.510
<v Speaker 0>what the pronunciation. I accidentally catch it while

00:40:46.510 --> 00:40:48.555
<v Speaker 1>it was released, like, two days after it.

00:40:48.555 --> 00:40:50.795
<v Speaker 1>And since that time, a fan. So

00:40:51.755 --> 00:40:53.915
<v Speaker 0>Nice. It's a very cool tool.

00:40:55.515 --> 00:40:56.315
<v Speaker 1>Okay.

00:40:56.315 --> 00:40:58.235
<v Speaker 1>So let's check whether if

00:40:58.955 --> 00:40:59.755
<v Speaker 1>export.

00:41:01.115 --> 00:41:02.075
<v Speaker 1>Queue config.

00:41:05.390 --> 00:41:06.510
<v Speaker 1>Let me see.

00:41:09.950 --> 00:41:12.430
<v Speaker 1>Okay. Let's check. Kube CTI version.

00:41:13.470 --> 00:41:15.470
<v Speaker 1>Okay. It's not accessible.

00:41:15.630 --> 00:41:17.710
<v Speaker 1>So, obviously, something is going on.

00:41:18.444 --> 00:41:20.525
<v Speaker 1>And I think the even the IP address

00:41:20.525 --> 00:41:23.005
<v Speaker 1>is not correct. So let's check.

00:41:24.525 --> 00:41:26.684
<v Speaker 1>Okay. I could probably check-in my cluster, but

00:41:26.684 --> 00:41:28.525
<v Speaker 1>I assume that it should be local host

00:41:28.525 --> 00:41:30.605
<v Speaker 1>anyways. So let's check.

00:41:36.740 --> 00:41:38.340
<v Speaker 0>No. I think the IP is okay. That's

00:41:38.340 --> 00:41:41.300
<v Speaker 0>the BGP advertised IP address. Ah, okay. But

00:41:41.300 --> 00:41:43.220
<v Speaker 0>that should be okay. I think we just

00:41:43.220 --> 00:41:45.300
<v Speaker 0>don't have a a running control plan.

00:41:45.620 --> 00:41:47.460
<v Speaker 1>Okay. We can check that for sure.

00:41:50.575 --> 00:41:52.015
<v Speaker 1>Seriously,

00:41:52.015 --> 00:41:54.335
<v Speaker 1>my keyboard is messing with me. So let's

00:41:54.335 --> 00:41:55.295
<v Speaker 1>check that.

00:41:55.775 --> 00:41:57.455
<v Speaker 1>Cricityl

00:41:57.855 --> 00:41:58.895
<v Speaker 1>dash r,

00:42:00.335 --> 00:42:02.860
<v Speaker 1>and let me copy

00:42:03.420 --> 00:42:04.060
<v Speaker 1>that.

00:42:06.780 --> 00:42:07.420
<v Speaker 1>So,

00:42:08.940 --> 00:42:09.740
<v Speaker 1>bots,

00:42:09.900 --> 00:42:10.780
<v Speaker 1>I think.

00:42:13.500 --> 00:42:16.700
<v Speaker 1>Qubepi server is running, but the scheduler

00:42:16.780 --> 00:42:17.580
<v Speaker 1>was

00:42:18.115 --> 00:42:20.995
<v Speaker 1>messed with. So that's something to look for

00:42:20.995 --> 00:42:22.435
<v Speaker 1>for sure. So

00:42:23.315 --> 00:42:24.195
<v Speaker 1>I think

00:42:24.835 --> 00:42:26.755
<v Speaker 1>where are the static manifests? I think in

00:42:26.755 --> 00:42:28.755
<v Speaker 1>that, you see Kubernetes.

00:42:28.755 --> 00:42:29.555
<v Speaker 1>Right? Yep.

00:42:31.690 --> 00:42:34.090
<v Speaker 0>You need a city. Yeah. Yeah.

00:42:35.930 --> 00:42:38.330
<v Speaker 0>You always forget you're not your local setup,

00:42:38.330 --> 00:42:40.170
<v Speaker 0>and you expect some of that to City

00:42:40.170 --> 00:42:41.130
<v Speaker 1>manifest

00:42:41.130 --> 00:42:41.690
<v Speaker 1>us.

00:42:44.365 --> 00:42:47.484
<v Speaker 1>And let's check what's going on with Kube

00:42:47.484 --> 00:42:48.605
<v Speaker 1>controller manager.

00:42:56.730 --> 00:42:58.090
<v Speaker 1>The image looks right.

00:43:11.265 --> 00:43:12.785
<v Speaker 0>Yep. Looks okay to me.

00:43:13.184 --> 00:43:14.464
<v Speaker 1>Yeah. That's

00:43:15.505 --> 00:43:17.905
<v Speaker 1>so why the API server is not running?

00:43:17.905 --> 00:43:19.185
<v Speaker 1>Let's look into that.

00:43:22.785 --> 00:43:23.905
<v Speaker 1>QA server.

00:43:27.740 --> 00:43:29.420
<v Speaker 1>Okay. Bind underscore.

00:43:33.420 --> 00:43:34.300
<v Speaker 1>Fishy.

00:43:35.580 --> 00:43:38.695
<v Speaker 1>At least seems so. So something is going

00:43:38.695 --> 00:43:40.775
<v Speaker 1>on why we don't have access. So

00:43:41.175 --> 00:43:43.494
<v Speaker 1>really, I've looked into EP tables, so I

00:43:43.494 --> 00:43:45.895
<v Speaker 1>guess it might has to do with that.

00:43:45.895 --> 00:43:48.615
<v Speaker 1>I think it's e IP tables.l

00:43:48.615 --> 00:43:50.375
<v Speaker 1>or something like that. So

00:43:55.470 --> 00:43:59.310
<v Speaker 1>all drop anywhere. I think that should

00:43:59.310 --> 00:44:00.110
<v Speaker 1>not be there.

00:44:05.505 --> 00:44:07.825
<v Speaker 1>Yeah. I think that should not be there.

00:44:08.545 --> 00:44:11.105
<v Speaker 1>So I think it's how you edit.

00:44:12.145 --> 00:44:15.425
<v Speaker 1>I always forget how to edit this stuff.

00:44:16.944 --> 00:44:17.744
<v Speaker 1>So

00:44:18.650 --> 00:44:20.890
<v Speaker 0>Yeah. I'm not entirely sure how to modify

00:44:20.890 --> 00:44:23.050
<v Speaker 0>IP tables with myself. Typically,

00:44:23.050 --> 00:44:24.810
<v Speaker 0>I would just flush them all.

00:44:25.050 --> 00:44:26.730
<v Speaker 0>So anything that's not processed either, we just

00:44:26.730 --> 00:44:28.650
<v Speaker 0>delete, and then you we will lose our

00:44:28.650 --> 00:44:31.290
<v Speaker 0>Kubernetes and Solium stuff. We and we pod

00:44:31.290 --> 00:44:32.330
<v Speaker 0>restart will fix that.

00:44:34.244 --> 00:44:36.005
<v Speaker 1>Yeah. Sure. We can do that.

00:44:38.005 --> 00:44:40.244
<v Speaker 0>But then I am now infamous for breaking

00:44:40.244 --> 00:44:42.325
<v Speaker 0>customers more than I am fixing them. Yeah.

00:44:42.325 --> 00:44:43.925
<v Speaker 1>I'm just trying to figure out how to

00:44:43.925 --> 00:44:46.805
<v Speaker 1>fix IP tables because I'm not that

00:44:48.060 --> 00:44:49.980
<v Speaker 1>good with it. So

00:44:50.380 --> 00:44:52.300
<v Speaker 1>I'm trying to figure out how to

00:44:52.860 --> 00:44:55.420
<v Speaker 0>You want to flush them all? Yeah. Yeah.

00:44:55.420 --> 00:44:57.820
<v Speaker 0>We can just do IP tables slash f.

00:44:58.300 --> 00:44:58.860
<v Speaker 1>Okay.

00:44:59.595 --> 00:45:01.355
<v Speaker 0>And then when you run l again, you'll

00:45:01.355 --> 00:45:04.715
<v Speaker 0>see we have a clean setup. So Okay.

00:45:04.715 --> 00:45:06.474
<v Speaker 1>Let's check again. Yeah. Let me fix our

00:45:06.474 --> 00:45:08.315
<v Speaker 0>API server or may not. I don't know.

00:45:08.315 --> 00:45:10.315
<v Speaker 0>I can see while William's sniggling.

00:45:11.355 --> 00:45:13.275
<v Speaker 1>Yeah. Let me try to

00:45:13.740 --> 00:45:15.660
<v Speaker 1>give CTL version.

00:45:16.620 --> 00:45:18.220
<v Speaker 1>It still doesn't work.

00:45:19.340 --> 00:45:21.500
<v Speaker 1>So it's still refusing.

00:45:24.060 --> 00:45:26.060
<v Speaker 1>What else it could be? Have I played

00:45:26.060 --> 00:45:26.700
<v Speaker 0>a game, Russell?

00:45:28.745 --> 00:45:31.305
<v Speaker 0>Okay. So, yeah, that didn't work.

00:45:34.985 --> 00:45:36.425
<v Speaker 0>So we took a look at the API

00:45:36.425 --> 00:45:37.785
<v Speaker 0>server manifest. Right?

00:45:38.265 --> 00:45:39.065
<v Speaker 1>Yeah.

00:45:39.065 --> 00:45:40.425
<v Speaker 0>Do mind if I just pop it open

00:45:40.425 --> 00:45:41.065
<v Speaker 0>again?

00:45:41.305 --> 00:45:41.785
<v Speaker 1>Sure.

00:45:45.230 --> 00:45:47.550
<v Speaker 1>Ah, it was cut off. Okay. That was

00:45:47.550 --> 00:45:48.430
<v Speaker 1>weird that it's so

00:45:56.315 --> 00:45:59.355
<v Speaker 0>I don't see anything that concerns me yet.

00:45:59.595 --> 00:46:00.875
<v Speaker 0>Maybe we should take a look at the

00:46:00.875 --> 00:46:01.915
<v Speaker 0>best ever logs.

00:46:02.315 --> 00:46:04.635
<v Speaker 1>Yeah. Sure. So we can check with

00:46:05.595 --> 00:46:06.875
<v Speaker 1>guess it's

00:46:09.500 --> 00:46:10.380
<v Speaker 1>less

00:46:10.380 --> 00:46:11.020
<v Speaker 1>war

00:46:11.340 --> 00:46:12.540
<v Speaker 1>logs.

00:46:13.500 --> 00:46:13.900
<v Speaker 1>Not

00:46:14.619 --> 00:46:15.500
<v Speaker 1>Kubernetes.

00:46:15.500 --> 00:46:16.380
<v Speaker 0>Container.

00:46:17.100 --> 00:46:19.340
<v Speaker 0>Container. You can just pause, but the redirect

00:46:19.340 --> 00:46:21.180
<v Speaker 0>server tracking containers is a lot easier.

00:46:21.775 --> 00:46:23.215
<v Speaker 1>No. It's no.

00:46:23.375 --> 00:46:24.335
<v Speaker 1>Warlock.

00:46:24.575 --> 00:46:25.055
<v Speaker 1>That

00:46:26.015 --> 00:46:29.375
<v Speaker 1>was the issue. Cube system, cube API

00:46:29.375 --> 00:46:30.335
<v Speaker 1>server,

00:46:36.255 --> 00:46:37.630
<v Speaker 1>and error by dialing.

00:46:40.349 --> 00:46:42.829
<v Speaker 0>Okay. So the API server cannot keep the

00:46:42.829 --> 00:46:43.550
<v Speaker 0>HCD.

00:46:44.829 --> 00:46:45.550
<v Speaker 1>Yeah.

00:46:45.630 --> 00:46:48.029
<v Speaker 1>So maybe then something is going on with

00:46:48.029 --> 00:46:48.670
<v Speaker 1>HCD.

00:46:49.365 --> 00:46:50.805
<v Speaker 1>Let's check that.

00:46:51.285 --> 00:46:53.765
<v Speaker 0>What would grow free audience? Don't fuck with

00:46:53.765 --> 00:46:55.205
<v Speaker 0>that CD. Right? I think that's what it

00:46:55.205 --> 00:46:55.765
<v Speaker 0>was.

00:46:56.485 --> 00:46:58.565
<v Speaker 1>Yeah. That's evil.

00:47:00.005 --> 00:47:02.085
<v Speaker 1>Advertise client URL.

00:47:03.609 --> 00:47:04.890
<v Speaker 1>Maybe that's

00:47:05.530 --> 00:47:06.250
<v Speaker 1>correct.

00:47:08.650 --> 00:47:11.050
<v Speaker 0>Was that running when you did the control

00:47:11.050 --> 00:47:13.130
<v Speaker 0>command? I don't I don't I don't remember.

00:47:13.290 --> 00:47:15.130
<v Speaker 1>Yeah. We can check that for sure.

00:47:18.175 --> 00:47:19.535
<v Speaker 1>Yeah. It was running.

00:47:19.695 --> 00:47:21.455
<v Speaker 0>You're very calm, Adam.

00:47:22.335 --> 00:47:23.695
<v Speaker 0>What? You're very calm.

00:47:25.135 --> 00:47:27.615
<v Speaker 1>I'm why why I would stress more than

00:47:27.615 --> 00:47:30.119
<v Speaker 1>I need to. So I I really I

00:47:30.119 --> 00:47:32.520
<v Speaker 0>really like it. I mean, I already,

00:47:32.920 --> 00:47:35.240
<v Speaker 1>little bit pissed that my my break didn't

00:47:35.240 --> 00:47:37.160
<v Speaker 1>work as intended because that would be a

00:47:37.160 --> 00:47:38.920
<v Speaker 1>fun to watch that to figure out why

00:47:38.920 --> 00:47:41.080
<v Speaker 1>you don't find the v two part. But,

00:47:41.480 --> 00:47:42.520
<v Speaker 1>anyway, it's

00:47:42.915 --> 00:47:43.795
<v Speaker 0>Next thing.

00:47:44.435 --> 00:47:45.395
<v Speaker 1>What the fuck?

00:47:45.955 --> 00:47:46.835
<v Speaker 1>Let's

00:47:46.915 --> 00:47:48.195
<v Speaker 1>check why it's

00:47:55.020 --> 00:47:56.860
<v Speaker 1>Cube system. X c d.

00:47:59.180 --> 00:48:00.140
<v Speaker 1>Okay.

00:48:00.860 --> 00:48:02.140
<v Speaker 1>Oh, it's LS.

00:48:02.540 --> 00:48:03.580
<v Speaker 1>Stupid.

00:48:05.260 --> 00:48:06.060
<v Speaker 1>Okay.

00:48:06.060 --> 00:48:09.744
<v Speaker 1>So the recommended permission, unprevised access to data.

00:48:09.744 --> 00:48:10.785
<v Speaker 1>So I guess

00:48:11.984 --> 00:48:15.105
<v Speaker 1>it has been messed with that CD. So

00:48:16.625 --> 00:48:20.385
<v Speaker 1>the permission is 755,

00:48:20.385 --> 00:48:22.865
<v Speaker 1>but the recommended permission is 7OOO.

00:48:22.945 --> 00:48:23.585
<v Speaker 1>So

00:48:23.984 --> 00:48:24.305
<v Speaker 1>Yeah.

00:48:25.310 --> 00:48:28.270
<v Speaker 1>Okay. Let's check the h c d folder,

00:48:28.270 --> 00:48:28.910
<v Speaker 1>I guess,

00:48:29.390 --> 00:48:30.910
<v Speaker 1>which should be

00:48:31.550 --> 00:48:33.710
<v Speaker 1>okay. Where h c d stores the data.

00:48:33.710 --> 00:48:37.150
<v Speaker 1>Let's check the manifest again. So less

00:48:37.150 --> 00:48:38.350
<v Speaker 1>h c d

00:48:39.295 --> 00:48:40.095
<v Speaker 1>Yellow.

00:48:40.095 --> 00:48:41.135
<v Speaker 1>And

00:48:42.895 --> 00:48:45.055
<v Speaker 1>this is where is the data?

00:48:49.855 --> 00:48:51.935
<v Speaker 1>Am I stupid, or I just don't see

00:48:51.935 --> 00:48:53.535
<v Speaker 1>where it's storing the data?

00:48:56.070 --> 00:48:58.310
<v Speaker 1>Data. Okay.

00:49:00.950 --> 00:49:01.910
<v Speaker 1>So Alice.

00:49:10.855 --> 00:49:11.815
<v Speaker 1>Okay.

00:49:14.135 --> 00:49:16.695
<v Speaker 1>This is looks fill me up.

00:49:17.095 --> 00:49:17.815
<v Speaker 1>Oh,

00:49:18.055 --> 00:49:19.575
<v Speaker 1>this doesn't look right.

00:49:20.375 --> 00:49:22.455
<v Speaker 1>So let's remove that.

00:49:22.855 --> 00:49:24.855
<v Speaker 1>This r f

00:49:25.690 --> 00:49:28.970
<v Speaker 1>Let's

00:49:28.970 --> 00:49:30.970
<v Speaker 1>see the fill me up.

00:49:31.930 --> 00:49:32.650
<v Speaker 1>Okay.

00:49:33.690 --> 00:49:35.930
<v Speaker 0>There's a great a large file there, William.

00:49:35.930 --> 00:49:37.290
<v Speaker 0>What was that? I just had to get

00:49:37.290 --> 00:49:37.450
<v Speaker 0>there.

00:49:38.545 --> 00:49:39.905
<v Speaker 2>50 gigabytes. Yeah.

00:49:41.425 --> 00:49:43.345
<v Speaker 1>It's it's pretty nice. So

00:49:43.905 --> 00:49:47.025
<v Speaker 1>maybe now we have a running control plane.

00:49:47.025 --> 00:49:49.345
<v Speaker 1>Let's check that. Permissions are still

00:49:50.079 --> 00:49:51.600
<v Speaker 1>Oh, yeah. Sorry.

00:49:51.680 --> 00:49:52.400
<v Speaker 1>So under

00:49:53.040 --> 00:49:55.119
<v Speaker 1>guess it either could be the keys or

00:49:55.119 --> 00:49:58.400
<v Speaker 1>the content, but this folder looks okay. So

00:49:58.960 --> 00:50:01.520
<v Speaker 1>let's check under what is under member. It

00:50:01.520 --> 00:50:02.480
<v Speaker 1>still looks okay.

00:50:06.644 --> 00:50:09.685
<v Speaker 1>This does not. So we can do a

00:50:10.884 --> 00:50:12.405
<v Speaker 1>CH mode

00:50:15.045 --> 00:50:16.165
<v Speaker 1>dash r,

00:50:16.244 --> 00:50:17.444
<v Speaker 1>and I

00:50:17.444 --> 00:50:19.125
<v Speaker 1>think

00:50:18.430 --> 00:50:20.670
<v Speaker 1>it should be 700.

00:50:22.270 --> 00:50:23.230
<v Speaker 1>What

00:50:23.790 --> 00:50:25.390
<v Speaker 1>is the something

00:50:25.390 --> 00:50:25.870
<v Speaker 1>is not

00:50:28.190 --> 00:50:30.510
<v Speaker 1>Then I guess it's the wrong order of

00:50:30.510 --> 00:50:32.744
<v Speaker 1>the command. Yeah. But you're I have to

00:50:32.744 --> 00:50:34.744
<v Speaker 0>change the permissions on the files.

00:50:34.744 --> 00:50:37.625
<v Speaker 0>So 700 probably be the directory and then

00:50:37.625 --> 00:50:39.545
<v Speaker 0>600, I think, for the files.

00:50:40.984 --> 00:50:42.825
<v Speaker 0>Because you wouldn't need the executable on the

00:50:43.065 --> 00:50:43.545
<v Speaker 1>Oh, yeah.

00:50:44.460 --> 00:50:45.180
<v Speaker 1>Yeah.

00:50:47.580 --> 00:50:50.460
<v Speaker 1>So I can change it to 500. Right?

00:50:51.020 --> 00:50:53.500
<v Speaker 1>No. 600. 6. Yeah. Six.

00:50:53.820 --> 00:50:54.460
<v Speaker 0>So

00:50:55.020 --> 00:50:57.020
<v Speaker 1>let's check if it works.

00:50:57.180 --> 00:50:59.945
<v Speaker 1>Okay. That should be fine. And then there

00:50:59.945 --> 00:51:01.385
<v Speaker 1>was another folder.

00:51:01.865 --> 00:51:04.025
<v Speaker 1>What was it? Right. Had load, but I

00:51:04.025 --> 00:51:05.865
<v Speaker 1>guess that wasn't messed with. So

00:51:06.105 --> 00:51:08.985
<v Speaker 1>okay. Let's check again the and what is

00:51:09.145 --> 00:51:10.985
<v Speaker 1>what's going on with the p k five.

00:51:10.985 --> 00:51:11.465
<v Speaker 1>So

00:51:12.050 --> 00:51:15.250
<v Speaker 1>it's it's at city p k at okay.

00:51:16.369 --> 00:51:17.810
<v Speaker 1>So as

00:51:19.650 --> 00:51:21.730
<v Speaker 1>at DC.

00:51:23.730 --> 00:51:24.850
<v Speaker 1>Kubernetes

00:51:25.250 --> 00:51:25.970
<v Speaker 1>at city.

00:51:27.185 --> 00:51:27.905
<v Speaker 1>No.

00:51:29.025 --> 00:51:30.065
<v Speaker 1>What was that?

00:51:31.665 --> 00:51:32.945
<v Speaker 1>LPKI.

00:51:34.705 --> 00:51:35.745
<v Speaker 1>That's CD.

00:51:41.620 --> 00:51:42.420
<v Speaker 1>Okay.

00:51:42.580 --> 00:51:43.940
<v Speaker 1>These certificates

00:51:43.940 --> 00:51:46.580
<v Speaker 1>having two broad access as well, so let's

00:51:46.580 --> 00:51:48.100
<v Speaker 1>change them as well.

00:51:49.140 --> 00:51:49.940
<v Speaker 1>So

00:51:51.940 --> 00:51:52.660
<v Speaker 1>ETC.

00:51:53.615 --> 00:51:54.494
<v Speaker 1>Uber.

00:51:54.974 --> 00:51:57.055
<v Speaker 1>That is speaking.

00:51:58.015 --> 00:51:58.815
<v Speaker 1>Let's see the

00:52:00.255 --> 00:52:00.975
<v Speaker 1>and

00:52:02.575 --> 00:52:04.415
<v Speaker 1>yeah. That should be fine.

00:52:05.055 --> 00:52:05.695
<v Speaker 1>Okay.

00:52:06.015 --> 00:52:07.694
<v Speaker 1>That's okay as well. So

00:52:10.820 --> 00:52:12.820
<v Speaker 1>let's check maybe now.

00:52:12.900 --> 00:52:15.060
<v Speaker 1>It self healed itself or not, we can

00:52:15.060 --> 00:52:15.860
<v Speaker 1>still

00:52:18.180 --> 00:52:19.140
<v Speaker 1>refuse.

00:52:19.300 --> 00:52:22.580
<v Speaker 1>So something is still not okay. So c

00:52:22.580 --> 00:52:23.540
<v Speaker 1>r I c t o.

00:52:24.444 --> 00:52:27.165
<v Speaker 1>That's the shop. How we can restart the

00:52:27.165 --> 00:52:28.045
<v Speaker 1>container.

00:52:31.165 --> 00:52:32.765
<v Speaker 1>Maybe stop.

00:52:34.845 --> 00:52:37.085
<v Speaker 1>Okay. So Yeah. You could just also remove

00:52:37.085 --> 00:52:38.925
<v Speaker 0>it and let the kubelet set up a

00:52:38.925 --> 00:52:39.325
<v Speaker 0>new one.

00:52:40.359 --> 00:52:41.320
<v Speaker 1>Okay.

00:52:42.119 --> 00:52:44.040
<v Speaker 1>So remove RMP.

00:52:44.359 --> 00:52:46.600
<v Speaker 1>So c r I c t l.

00:52:49.240 --> 00:52:51.480
<v Speaker 1>Okay. So the pod

00:52:51.720 --> 00:52:52.760
<v Speaker 1>name is

00:52:53.720 --> 00:52:54.440
<v Speaker 1>let's see.

00:52:56.135 --> 00:52:58.055
<v Speaker 1>Okay. So copy.

00:52:59.175 --> 00:52:59.735
<v Speaker 1>And

00:53:00.615 --> 00:53:02.215
<v Speaker 1>c r I c t l.

00:53:04.615 --> 00:53:06.535
<v Speaker 1>What was it? RMP.

00:53:08.160 --> 00:53:09.440
<v Speaker 1>Okay.

00:53:14.319 --> 00:53:15.200
<v Speaker 1>So it

00:53:16.960 --> 00:53:19.040
<v Speaker 1>it didn't remove it. Or

00:53:23.075 --> 00:53:24.755
<v Speaker 1>let's check the logs.

00:53:24.835 --> 00:53:25.555
<v Speaker 1>So

00:53:28.275 --> 00:53:29.635
<v Speaker 1>less var

00:53:29.875 --> 00:53:30.595
<v Speaker 1>log

00:53:32.275 --> 00:53:33.075
<v Speaker 1>pods.

00:53:33.555 --> 00:53:34.994
<v Speaker 0>No. I think you sent in the pod

00:53:34.994 --> 00:53:36.434
<v Speaker 0>name. I don't know if that works or

00:53:36.434 --> 00:53:37.474
<v Speaker 0>if you need the pod ID.

00:53:38.270 --> 00:53:38.990
<v Speaker 1>Oh,

00:53:39.390 --> 00:53:40.270
<v Speaker 1>yeah.

00:53:43.470 --> 00:53:45.869
<v Speaker 1>Okay. So let's try with the ID.

00:53:59.025 --> 00:54:00.465
<v Speaker 1>That looks better.

00:54:01.665 --> 00:54:03.505
<v Speaker 0>Yeah. It's gone. It has

00:54:04.065 --> 00:54:06.305
<v Speaker 0>has a new I There we go. Yeah.

00:54:06.305 --> 00:54:07.185
<v Speaker 1>It has a new ID.

00:54:09.080 --> 00:54:11.880
<v Speaker 1>So let's check the logs again. So at

00:54:11.880 --> 00:54:12.600
<v Speaker 1>CD

00:54:12.760 --> 00:54:14.280
<v Speaker 1>217.

00:54:17.000 --> 00:54:18.520
<v Speaker 0>It's running. Uh-huh.

00:54:18.920 --> 00:54:21.480
<v Speaker 1>It's no space left on device still.

00:54:22.585 --> 00:54:24.745
<v Speaker 1>So what the heck is going on? The

00:54:24.745 --> 00:54:25.305
<v Speaker 1>f is

00:54:26.505 --> 00:54:29.225
<v Speaker 0>So there's this weird thing. It's so annoying.

00:54:29.225 --> 00:54:29.945
<v Speaker 0>So

00:54:30.905 --> 00:54:33.145
<v Speaker 0>With that CD and that when an alarm

00:54:33.145 --> 00:54:35.780
<v Speaker 0>goes, you have to manually clear it. So

00:54:35.780 --> 00:54:38.340
<v Speaker 0>you're gonna need to get a CT control

00:54:38.340 --> 00:54:40.500
<v Speaker 0>installed and clear the alarm.

00:54:41.060 --> 00:54:41.940
<v Speaker 1>Okay.

00:54:42.180 --> 00:54:44.420
<v Speaker 1>But it's still full. So this is something

00:54:44.420 --> 00:54:46.020
<v Speaker 1>we are going on with this mount.

00:54:48.195 --> 00:54:51.075
<v Speaker 1>It's 200 megabyte, and it's full. Or this

00:54:51.075 --> 00:54:51.315
<v Speaker 1>is

00:54:53.155 --> 00:54:56.035
<v Speaker 1>yeah. So there's something is sneaky is going

00:54:56.035 --> 00:54:58.435
<v Speaker 1>on in this list. So I guess,

00:54:58.915 --> 00:54:59.875
<v Speaker 1>let's check again.

00:55:02.099 --> 00:55:02.900
<v Speaker 1>For.

00:55:03.540 --> 00:55:05.140
<v Speaker 1>Let's see. Maybe there is a

00:55:16.865 --> 00:55:20.065
<v Speaker 1>So these files the DB is very big.

00:55:21.025 --> 00:55:23.745
<v Speaker 1>Oh, it's six megabytes. It's okay, I guess.

00:55:24.065 --> 00:55:26.385
<v Speaker 1>Let's check the write ahead logs. The write

00:55:26.385 --> 00:55:30.065
<v Speaker 1>ahead logs are are big, so

00:55:29.070 --> 00:55:31.950
<v Speaker 1>I guess we don't really need them anymore.

00:55:32.430 --> 00:55:33.790
<v Speaker 1>So let's just

00:55:34.110 --> 00:55:35.870
<v Speaker 0>Well, they may not be compacted yet. I

00:55:35.870 --> 00:55:37.390
<v Speaker 0>wouldn't delete them just yet.

00:55:38.590 --> 00:55:39.950
<v Speaker 1>Okay. If you say so.

00:55:42.515 --> 00:55:45.555
<v Speaker 0>But there was something interesting there, and I'm

00:55:45.555 --> 00:55:48.915
<v Speaker 0>not sure, but FireLab etcd was a look

00:55:48.915 --> 00:55:49.875
<v Speaker 0>back mount.

00:55:50.115 --> 00:55:52.435
<v Speaker 0>Like, we could just unmount it, I think,

00:55:53.235 --> 00:55:55.555
<v Speaker 0>to remove the 100% usage. Like, we'd have

00:55:55.555 --> 00:55:56.515
<v Speaker 0>to stop etcd,

00:55:57.450 --> 00:55:59.609
<v Speaker 0>on mount it, and hopefully, that would expose

00:55:59.609 --> 00:56:00.250
<v Speaker 0>the

00:56:00.410 --> 00:56:02.090
<v Speaker 0>directory from the Rawkode.

00:56:03.210 --> 00:56:05.369
<v Speaker 0>And that's Okay. Making some very large assumptions

00:56:05.369 --> 00:56:07.210
<v Speaker 0>because I have no idea what William's

00:56:07.450 --> 00:56:07.690
<v Speaker 0>done.

00:56:09.325 --> 00:56:10.765
<v Speaker 0>But it should I I don't believe it

00:56:10.765 --> 00:56:12.685
<v Speaker 0>should be on the back mount in there.

00:56:14.045 --> 00:56:16.285
<v Speaker 1>Okay. We can start stop.

00:56:18.925 --> 00:56:20.125
<v Speaker 1>Yeah. It's CD.

00:56:22.445 --> 00:56:24.125
<v Speaker 1>I guess it's not restarting.

00:56:28.040 --> 00:56:30.440
<v Speaker 1>Oh, it's re no. It's not restarting.

00:56:31.400 --> 00:56:32.120
<v Speaker 1>Okay.

00:56:32.360 --> 00:56:33.320
<v Speaker 1>That's good.

00:56:33.960 --> 00:56:35.080
<v Speaker 1>Yes.

00:56:35.800 --> 00:56:39.240
<v Speaker 1>So I guess it's CU mount. Right? Yeah.

00:56:40.955 --> 00:56:42.235
<v Speaker 1>And then

00:56:43.035 --> 00:56:43.595
<v Speaker 1>war

00:56:44.955 --> 00:56:45.915
<v Speaker 1>switch

00:56:46.315 --> 00:56:48.395
<v Speaker 1>back to Hungarian keyboard again.

00:56:49.755 --> 00:56:52.555
<v Speaker 1>I'm using a US English keyboard. So Oh,

00:56:52.555 --> 00:56:54.395
<v Speaker 1>alright. That this is the this is the

00:56:54.395 --> 00:56:56.000
<v Speaker 1>command? Yeah. Yeah.

00:56:56.560 --> 00:56:57.520
<v Speaker 1>Okay.

00:56:57.520 --> 00:57:01.040
<v Speaker 1>So let's check the FH again.

00:57:03.280 --> 00:57:06.480
<v Speaker 1>Okay. So nothing is full anymore.

00:57:06.720 --> 00:57:08.000
<v Speaker 0>Mhmm. So we can

00:57:08.595 --> 00:57:10.195
<v Speaker 1>we can start to

00:57:10.915 --> 00:57:13.235
<v Speaker 1>run at CT again.

00:57:14.115 --> 00:57:16.195
<v Speaker 0>So You wanna check we've got we still

00:57:16.195 --> 00:57:19.795
<v Speaker 0>got at CT database under the location?

00:57:20.675 --> 00:57:22.035
<v Speaker 1>Yeah. There was a d b file. It

00:57:22.035 --> 00:57:23.715
<v Speaker 1>was six megabytes or something like that.

00:57:26.250 --> 00:57:28.090
<v Speaker 1>But we can check again. So

00:57:30.330 --> 00:57:32.650
<v Speaker 1>what was it? And

00:57:34.170 --> 00:57:35.530
<v Speaker 1>then the number

00:57:35.610 --> 00:57:36.010
<v Speaker 1>no?

00:57:38.765 --> 00:57:40.765
<v Speaker 0>Yeah. I was worried that was gonna happen.

00:57:41.325 --> 00:57:43.244
<v Speaker 1>Yeah. So should

00:57:43.645 --> 00:57:44.285
<v Speaker 1>oh,

00:57:44.845 --> 00:57:45.484
<v Speaker 1>shit,

00:57:45.964 --> 00:57:46.765
<v Speaker 1>I guess.

00:57:48.204 --> 00:57:50.444
<v Speaker 1>So how we restore the database now?

00:57:51.020 --> 00:57:52.780
<v Speaker 0>I think we just go home and say

00:57:52.780 --> 00:57:53.500
<v Speaker 0>goodbye.

00:57:56.380 --> 00:57:58.140
<v Speaker 0>So there's gonna be a backup somewhere, and

00:57:58.140 --> 00:57:59.980
<v Speaker 0>that look back mode is gonna be on

00:57:59.980 --> 00:58:02.300
<v Speaker 0>the device somewhere. So we could go old

00:58:02.300 --> 00:58:04.060
<v Speaker 0>field and maybe run, like, a thing from

00:58:04.060 --> 00:58:06.955
<v Speaker 0>the root and look for another entity directory.

00:58:10.315 --> 00:58:12.155
<v Speaker 1>William, have the idea?

00:58:13.435 --> 00:58:14.075
<v Speaker 2>I

00:58:14.315 --> 00:58:16.555
<v Speaker 2>think I think that's a good track. I

00:58:16.555 --> 00:58:17.915
<v Speaker 2>think you'll find something at least.

00:58:20.690 --> 00:58:22.690
<v Speaker 0>Mean, most people's text stuff in temp or

00:58:22.690 --> 00:58:24.290
<v Speaker 0>slash root. So that I I would say

00:58:24.290 --> 00:58:25.890
<v Speaker 0>we look in there. People aren't very creative

00:58:25.890 --> 00:58:27.330
<v Speaker 0>when it comes to hiding stuff.

00:58:29.490 --> 00:58:29.970
<v Speaker 1>Let's

00:58:31.410 --> 00:58:32.210
<v Speaker 1>okay.

00:58:32.210 --> 00:58:32.930
<v Speaker 1>So

00:58:33.155 --> 00:58:34.595
<v Speaker 1>nothing here.

00:58:34.755 --> 00:58:36.115
<v Speaker 0>What about slash load?

00:58:40.275 --> 00:58:41.235
<v Speaker 0>Downloads.

00:58:45.075 --> 00:58:46.675
<v Speaker 1>I cannot type today.

00:58:47.310 --> 00:58:48.990
<v Speaker 1>No. Okay. That's not alright.

00:58:49.390 --> 00:58:50.270
<v Speaker 1>Not here.

00:58:50.990 --> 00:58:53.070
<v Speaker 0>I mean, mean, I know question, I had

00:58:53.070 --> 00:58:54.270
<v Speaker 0>suggested that we,

00:58:54.670 --> 00:58:55.310
<v Speaker 0>you know,

00:58:55.950 --> 00:58:58.910
<v Speaker 0>debug the loopback mode before removing it. But,

00:58:58.910 --> 00:58:59.310
<v Speaker 0>still,

00:59:00.975 --> 00:59:02.255
<v Speaker 0>we can find it.

00:59:02.575 --> 00:59:03.135
<v Speaker 0>So

00:59:04.335 --> 00:59:04.815
<v Speaker 0>Yeah.

00:59:06.735 --> 00:59:08.495
<v Speaker 0>I mean, if there's no objections, I'm just

00:59:08.495 --> 00:59:09.855
<v Speaker 0>gonna suggest that we do.

00:59:19.060 --> 00:59:19.860
<v Speaker 0>Okay.

00:59:24.980 --> 00:59:26.500
<v Speaker 1>There is one local. Yeah.

00:59:28.565 --> 00:59:30.085
<v Speaker 1>So let's

00:59:30.085 --> 00:59:31.045
<v Speaker 1>check that.

00:59:36.005 --> 00:59:38.005
<v Speaker 1>Okay. Loop back file image.

00:59:39.330 --> 00:59:40.770
<v Speaker 0>So we're gonna have to note that again

00:59:40.770 --> 00:59:42.450
<v Speaker 0>to a new location and copy the files

00:59:42.450 --> 00:59:43.090
<v Speaker 0>over.

00:59:43.570 --> 00:59:46.530
<v Speaker 1>Okay. So I need some cheat sheets for

00:59:46.530 --> 00:59:47.090
<v Speaker 1>that.

00:59:47.650 --> 00:59:48.130
<v Speaker 1>I

00:59:49.170 --> 00:59:50.530
<v Speaker 0>think we can just do

00:59:55.355 --> 00:59:57.434
<v Speaker 0>I don't know. Will this work? I I

00:59:57.434 --> 00:59:58.954
<v Speaker 0>don't I don't think I've done this before.

00:59:58.954 --> 01:00:01.275
<v Speaker 1>I'm trying it should be

01:00:01.915 --> 01:00:02.555
<v Speaker 1>mount.

01:00:03.595 --> 01:00:04.555
<v Speaker 0>There we go.

01:00:05.355 --> 01:00:05.994
<v Speaker 1>Okay.

01:00:08.390 --> 01:00:10.550
<v Speaker 1>So now we have to check that whether

01:00:10.550 --> 01:00:12.470
<v Speaker 1>we have at CD running.

01:00:12.790 --> 01:00:14.230
<v Speaker 0>Oh, well, we'll need to you.

01:00:14.630 --> 01:00:17.350
<v Speaker 1>Yeah. We have to restart it. Move member

01:00:17.350 --> 01:00:17.830
<v Speaker 0>first.

01:00:29.234 --> 01:00:31.555
<v Speaker 0>And we've now got a fresh STD started.

01:00:31.555 --> 01:00:32.835
<v Speaker 0>Okay. So we're

01:00:33.234 --> 01:00:35.075
<v Speaker 0>we're gonna have to stop the Kiplit stop

01:00:35.075 --> 01:00:35.714
<v Speaker 0>STD,

01:00:36.690 --> 01:00:40.130
<v Speaker 0>delete barlib etcd, and then restore

01:00:40.290 --> 01:00:43.410
<v Speaker 0>that member directory to the barlib etcd.

01:00:45.089 --> 01:00:45.970
<v Speaker 1>Okay.

01:00:46.130 --> 01:00:46.770
<v Speaker 1>So

01:00:47.970 --> 01:00:49.410
<v Speaker 0>yeah. Guess we

01:00:50.525 --> 01:00:52.605
<v Speaker 1>Yeah. He is absolutely

01:00:52.605 --> 01:00:53.485
<v Speaker 1>stop.

01:00:54.285 --> 01:00:55.965
<v Speaker 1>Keyblad service.

01:00:56.205 --> 01:00:57.325
<v Speaker 0>And then we have to

01:00:57.805 --> 01:01:01.485
<v Speaker 0>stop call the etcd processes or pods. Yeah.

01:01:02.580 --> 01:01:03.780
<v Speaker 1>So HCD

01:01:03.780 --> 01:01:06.660
<v Speaker 1>is running. There is two of them, actually.

01:01:06.660 --> 01:01:08.180
<v Speaker 1>So it's very good.

01:01:08.580 --> 01:01:10.420
<v Speaker 1>We have two of them. So

01:01:10.820 --> 01:01:11.700
<v Speaker 1>RMP

01:01:13.940 --> 01:01:14.900
<v Speaker 1>and then

01:01:16.035 --> 01:01:16.995
<v Speaker 1>one more.

01:01:23.474 --> 01:01:24.435
<v Speaker 1>Okay.

01:01:25.474 --> 01:01:28.515
<v Speaker 0>So now we can delete FireLab etcd.

01:01:28.994 --> 01:01:29.474
<v Speaker 1>I know.

01:01:30.510 --> 01:01:32.670
<v Speaker 0>And then or just the member director at

01:01:32.670 --> 01:01:33.950
<v Speaker 0>least and copy over.

01:01:36.430 --> 01:01:38.030
<v Speaker 0>Thanks, William. We appreciate that.

01:01:38.750 --> 01:01:40.510
<v Speaker 0>But instead of the chat, he created other

01:01:40.510 --> 01:01:42.110
<v Speaker 0>backups just in case we blew away the

01:01:42.110 --> 01:01:43.150
<v Speaker 0>lit back image.

01:01:43.950 --> 01:01:45.790
<v Speaker 1>And this was worries.

01:01:47.125 --> 01:01:49.445
<v Speaker 0>And the a directory. Yeah. So I meant

01:01:49.445 --> 01:01:51.365
<v Speaker 0>it to look back to the a directory.

01:01:51.685 --> 01:01:52.725
<v Speaker 1>Okay.

01:01:55.285 --> 01:01:58.005
<v Speaker 0>Actually, you'll need to move a member to

01:01:58.005 --> 01:01:59.445
<v Speaker 0>bar levy,

01:02:01.299 --> 01:02:02.580
<v Speaker 0>and that should

01:02:06.420 --> 01:02:09.140
<v Speaker 0>yeah. That's that should hopefully be a working

01:02:09.140 --> 01:02:11.140
<v Speaker 0>entity that we should be able to now

01:02:11.140 --> 01:02:13.585
<v Speaker 0>restart the kubelet and hope hope for the

01:02:13.585 --> 01:02:14.785
<v Speaker 0>best. We're

01:02:14.785 --> 01:02:16.945
<v Speaker 0>halfway through this, Adam. Thank thank you for

01:02:16.945 --> 01:02:19.345
<v Speaker 1>helping me out. So let's start kubelet. Maybe

01:02:19.345 --> 01:02:21.425
<v Speaker 1>we will have an actual API server now.

01:02:21.425 --> 01:02:22.625
<v Speaker 0>So I hope so.

01:02:23.745 --> 01:02:25.825
<v Speaker 1>Let's check what is running.

01:02:28.385 --> 01:02:31.590
<v Speaker 1>So at CD starting up. Let's check. Let's

01:02:31.590 --> 01:02:34.870
<v Speaker 1>be hopeful. So version.

01:02:35.990 --> 01:02:36.870
<v Speaker 1>Hey.

01:02:37.270 --> 01:02:39.350
<v Speaker 1>We have one. So we can start with

01:02:39.350 --> 01:02:41.510
<v Speaker 1>k nine s. So let's figure out what's

01:02:41.510 --> 01:02:42.550
<v Speaker 1>going on in this cluster.

01:02:43.244 --> 01:02:44.445
<v Speaker 1>Okay. So

01:02:45.565 --> 01:02:46.925
<v Speaker 1>all names. Nothing?

01:02:49.005 --> 01:02:49.484
<v Speaker 2>Okay.

01:02:52.045 --> 01:02:53.244
<v Speaker 1>This is weird.

01:02:53.565 --> 01:02:56.924
<v Speaker 1>We don't have any ports, so let's check

01:02:56.924 --> 01:02:57.404
<v Speaker 1>note

01:02:57.964 --> 01:02:58.365
<v Speaker 1>notes.

01:03:02.740 --> 01:03:04.900
<v Speaker 1>Okay. Not ready. Not ready.

01:03:05.460 --> 01:03:07.060
<v Speaker 1>That's always nice to hear.

01:03:08.900 --> 01:03:10.420
<v Speaker 1>I guess it was intentional.

01:03:12.675 --> 01:03:15.475
<v Speaker 0>So keep control get pods, all namespaces.

01:03:15.475 --> 01:03:17.395
<v Speaker 1>That's for plug in not ready. See, and

01:03:17.395 --> 01:03:18.755
<v Speaker 1>I plug in not in iOS.

01:03:19.155 --> 01:03:22.435
<v Speaker 1>Okay. So I guess he might have removed

01:03:23.315 --> 01:03:25.795
<v Speaker 1>let's let's

01:03:25.795 --> 01:03:27.075
<v Speaker 1>check on DaemonSet.

01:03:27.440 --> 01:03:28.720
<v Speaker 1>Okay. There is no,

01:03:29.040 --> 01:03:30.800
<v Speaker 1>but we also should have it in.

01:03:31.440 --> 01:03:34.240
<v Speaker 1>So is there, and it's

01:03:34.640 --> 01:03:35.280
<v Speaker 1>running

01:03:35.440 --> 01:03:37.280
<v Speaker 1>or at least seems to be.

01:03:37.760 --> 01:03:40.480
<v Speaker 1>So let's check with the control plane. So

01:03:40.800 --> 01:03:42.400
<v Speaker 1>now we have some logs.

01:03:43.194 --> 01:03:45.035
<v Speaker 1>Let's check again the notes. Maybe they are

01:03:45.035 --> 01:03:48.075
<v Speaker 1>self healing. Okay. Now we got something.

01:03:48.875 --> 01:03:51.995
<v Speaker 1>Good. Okay. So cube scheduler. I

01:03:53.194 --> 01:03:55.675
<v Speaker 1>guess something's fishy is going on it, so

01:03:55.675 --> 01:03:58.155
<v Speaker 1>I checked the config map. Maybe

01:03:58.530 --> 01:04:01.490
<v Speaker 1>I think that's fair. Okay. Let's go back

01:04:01.490 --> 01:04:02.450
<v Speaker 1>to ports

01:04:02.610 --> 01:04:04.530
<v Speaker 1>and check why it's gonna crash to back

01:04:04.530 --> 01:04:05.090
<v Speaker 1>off.

01:04:06.850 --> 01:04:08.370
<v Speaker 1>Cannot find config

01:04:08.370 --> 01:04:11.330
<v Speaker 1>to my end to okay. So I guess

01:04:11.330 --> 01:04:12.530
<v Speaker 1>it has been

01:04:12.995 --> 01:04:14.675
<v Speaker 1>messed with. So I'm

01:04:15.075 --> 01:04:18.035
<v Speaker 1>actually, don't have a cluster with me,

01:04:18.595 --> 01:04:20.835
<v Speaker 1>but it's very weird that it's expecting a

01:04:20.835 --> 01:04:21.955
<v Speaker 1>queue config.

01:04:22.595 --> 01:04:24.355
<v Speaker 1>I think it should not do that.

01:04:25.010 --> 01:04:27.329
<v Speaker 0>Yeah. We wanna go we'll probably take a

01:04:27.329 --> 01:04:29.650
<v Speaker 0>look at the static manifest. I would suspect

01:04:29.650 --> 01:04:31.250
<v Speaker 0>something Yeah. Changed.

01:04:31.809 --> 01:04:34.290
<v Speaker 1>Yeah. So let's quit and go back to

01:04:34.290 --> 01:04:35.010
<v Speaker 1>our

01:04:36.609 --> 01:04:37.570
<v Speaker 1>FTC

01:04:37.890 --> 01:04:38.930
<v Speaker 1>Kubernetes

01:04:39.730 --> 01:04:40.770
<v Speaker 1>and

01:04:42.345 --> 01:04:44.425
<v Speaker 1>where is it now? Manifest. And

01:04:45.465 --> 01:04:47.065
<v Speaker 1>then let's check.

01:04:48.985 --> 01:04:49.865
<v Speaker 1>Last

01:04:50.745 --> 01:04:52.905
<v Speaker 1>queue scheduler.

01:04:57.680 --> 01:04:59.040
<v Speaker 1>What's going on?

01:04:59.920 --> 01:05:02.640
<v Speaker 1>So it's mounting up the scheduler config. Nothing

01:05:02.640 --> 01:05:04.880
<v Speaker 1>else. And I guess it's

01:05:04.960 --> 01:05:06.720
<v Speaker 1>expecting the queue config.

01:05:07.119 --> 01:05:09.200
<v Speaker 1>So I actually should check on my

01:05:09.965 --> 01:05:12.445
<v Speaker 1>cluster because I did not break it that

01:05:13.005 --> 01:05:14.205
<v Speaker 1>what's going on.

01:05:14.605 --> 01:05:19.485
<v Speaker 0>Yeah. You can also peek into that /etc/kubernetes/scheduler.com

01:05:19.485 --> 01:05:21.005
<v Speaker 0>just to see

01:05:22.220 --> 01:05:24.140
<v Speaker 0>anything there has been tweaked or changed. Yeah.

01:05:24.700 --> 01:05:27.579
<v Speaker 0>It's it's it's it's config, so debugging it

01:05:27.579 --> 01:05:28.460
<v Speaker 0>may be a bit of a pain.

01:05:36.414 --> 01:05:37.855
<v Speaker 1>Okay. So

01:05:39.214 --> 01:05:41.135
<v Speaker 1>it cannot find this,

01:05:41.454 --> 01:05:43.694
<v Speaker 1>or this is not the right one. So

01:05:43.694 --> 01:05:44.414
<v Speaker 1>there could be

01:05:46.974 --> 01:05:47.694
<v Speaker 1>this doesn't

01:05:48.095 --> 01:05:51.480
<v Speaker 1>it looks okay. So something is going on

01:05:51.480 --> 01:05:52.360
<v Speaker 1>for sure.

01:05:52.680 --> 01:05:55.320
<v Speaker 0>Maybe just wanna check that IP address.

01:05:56.040 --> 01:05:57.960
<v Speaker 1>Yeah. We can check that. So No. No.

01:05:57.960 --> 01:06:00.360
<v Speaker 0>It's just the bank address. So maybe that's

01:06:00.360 --> 01:06:00.600
<v Speaker 0>okay.

01:06:04.244 --> 01:06:06.165
<v Speaker 1>So this is the queue config.

01:06:06.244 --> 01:06:06.724
<v Speaker 1>I

01:06:08.724 --> 01:06:10.085
<v Speaker 1>guess we can.

01:06:10.964 --> 01:06:13.125
<v Speaker 0>I mean, we don't need the working scheduler,

01:06:13.125 --> 01:06:13.925
<v Speaker 0>to be fair.

01:06:14.244 --> 01:06:16.404
<v Speaker 1>Yeah. Well, obviously, we can we can work

01:06:16.404 --> 01:06:18.484
<v Speaker 1>around that by

01:06:17.970 --> 01:06:19.250
<v Speaker 1>assigning manually.

01:06:19.250 --> 01:06:21.170
<v Speaker 1>But it would be nicer if you would

01:06:21.170 --> 01:06:22.370
<v Speaker 1>have one working.

01:06:23.490 --> 01:06:25.570
<v Speaker 1>I'm thinking what to do now.

01:06:26.290 --> 01:06:29.490
<v Speaker 1>So the scheduler doesn't work for some reason.

01:06:30.130 --> 01:06:31.170
<v Speaker 1>And that's

01:06:34.375 --> 01:06:36.535
<v Speaker 1>e t c two r to schedule. Maybe

01:06:36.535 --> 01:06:38.775
<v Speaker 1>the five permission was messed with, so we

01:06:38.775 --> 01:06:39.494
<v Speaker 1>can check that.

01:06:45.790 --> 01:06:47.950
<v Speaker 1>Wouldn't be the first one. So

01:06:48.430 --> 01:06:49.390
<v Speaker 1>this is

01:06:51.310 --> 01:06:53.390
<v Speaker 1>seems to be okay

01:06:53.869 --> 01:06:55.950
<v Speaker 1>if it's running as a root container.

01:06:57.875 --> 01:07:00.275
<v Speaker 1>Let's check that if it's running as a

01:07:00.275 --> 01:07:01.315
<v Speaker 1>root container.

01:07:02.835 --> 01:07:03.635
<v Speaker 1>So

01:07:09.430 --> 01:07:11.830
<v Speaker 0>Oh, there's an error message added clutch. So

01:07:11.830 --> 01:07:13.830
<v Speaker 0>it says cannot find the volume.

01:07:15.110 --> 01:07:16.310
<v Speaker 0>Did you see that?

01:07:16.630 --> 01:07:18.870
<v Speaker 1>Oh, I won't. The first line cannot find

01:07:18.870 --> 01:07:20.950
<v Speaker 0>volume cube config to mount out of the

01:07:20.950 --> 01:07:23.430
<v Speaker 0>container. So the static manifest must have some

01:07:23.430 --> 01:07:23.830
<v Speaker 0>sort of

01:07:24.505 --> 01:07:27.465
<v Speaker 0>volume mode mode configuration that isn't actually being

01:07:27.465 --> 01:07:28.265
<v Speaker 0>declared.

01:07:29.145 --> 01:07:29.785
<v Speaker 1>Yeah.

01:07:29.945 --> 01:07:31.145
<v Speaker 1>Interesting.

01:07:32.345 --> 01:07:32.985
<v Speaker 1>So

01:07:33.705 --> 01:07:35.145
<v Speaker 1>let's

01:07:35.145 --> 01:07:36.825
<v Speaker 1>do let's use the.

01:07:37.065 --> 01:07:39.305
<v Speaker 1>It's making more sense sometimes.

01:07:39.305 --> 01:07:39.465
<v Speaker 1>So

01:07:43.120 --> 01:07:44.240
<v Speaker 1>the mount

01:07:44.720 --> 01:07:45.520
<v Speaker 1>is

01:07:46.480 --> 01:07:48.320
<v Speaker 1>so file or create.

01:07:49.280 --> 01:07:50.160
<v Speaker 1>That's

01:07:50.160 --> 01:07:51.760
<v Speaker 1>okay, I guess.

01:07:53.600 --> 01:07:55.440
<v Speaker 1>Read only should be true.

01:07:56.325 --> 01:07:57.365
<v Speaker 1>And the volume

01:07:57.925 --> 01:07:58.885
<v Speaker 1>wait.

01:07:59.845 --> 01:08:02.805
<v Speaker 1>Volumes host pass name, queue config, and volume

01:08:02.805 --> 01:08:04.325
<v Speaker 1>month. It's

01:08:04.885 --> 01:08:07.045
<v Speaker 1>it's in the container. The name is matching

01:08:07.045 --> 01:08:08.165
<v Speaker 1>as well. So

01:08:11.010 --> 01:08:13.730
<v Speaker 1>interesting why it cannot mount the volume.

01:08:18.050 --> 01:08:20.050
<v Speaker 1>So it's it's always this.

01:08:26.935 --> 01:08:28.455
<v Speaker 1>What

01:08:30.135 --> 01:08:31.814
<v Speaker 1>the heck is going on with this?

01:08:33.495 --> 01:08:34.215
<v Speaker 1>No logs.

01:08:34.800 --> 01:08:35.919
<v Speaker 1>So only

01:08:35.920 --> 01:08:36.559
<v Speaker 1>the

01:08:37.040 --> 01:08:39.119
<v Speaker 1>so the hash is okay. The mirror port

01:08:39.119 --> 01:08:41.760
<v Speaker 1>is okay, and it should mount.

01:08:43.040 --> 01:08:45.439
<v Speaker 1>Oh, I may be and it's running on

01:08:45.439 --> 01:08:47.679
<v Speaker 1>control plane one, so that should be fine

01:08:47.679 --> 01:08:48.079
<v Speaker 1>as well.

01:08:51.415 --> 01:08:54.535
<v Speaker 0>Yeah. We've got twelve minutes. Why don't we

01:08:54.535 --> 01:08:56.535
<v Speaker 0>ignore the scheduler and focus on the work

01:08:56.535 --> 01:08:58.614
<v Speaker 0>group and then look back to the scheduler?

01:08:58.854 --> 01:09:00.055
<v Speaker 0>Yeah. Just like you said, we we can

01:09:00.055 --> 01:09:01.654
<v Speaker 0>just we can we can skip this.

01:09:02.689 --> 01:09:05.170
<v Speaker 1>So there is a hello. I guess this

01:09:05.170 --> 01:09:07.729
<v Speaker 1>is a Chrome job, so let's delete that.

01:09:09.010 --> 01:09:12.050
<v Speaker 1>We don't care about this. Sorry,

01:09:12.210 --> 01:09:12.689
<v Speaker 1>William.

01:09:16.065 --> 01:09:17.425
<v Speaker 1>Jobs. Okay.

01:09:18.145 --> 01:09:19.104
<v Speaker 1>That's okay.

01:09:19.665 --> 01:09:22.305
<v Speaker 1>Now it's cleared up. So let's check.

01:09:23.425 --> 01:09:26.145
<v Speaker 1>Not ready. Not ready. So it's not scheduled,

01:09:26.305 --> 01:09:28.865
<v Speaker 1>it's completed. So completed is not the port

01:09:28.865 --> 01:09:29.425
<v Speaker 1>status.

01:09:29.819 --> 01:09:31.979
<v Speaker 1>So I guess there should be a job

01:09:31.979 --> 01:09:33.419
<v Speaker 1>or something like that.

01:09:35.099 --> 01:09:38.300
<v Speaker 0>A pod can complete if the process exits

01:09:38.300 --> 01:09:39.260
<v Speaker 0>with a zero.

01:09:40.060 --> 01:09:42.939
<v Speaker 1>Okay. Let's check the the money first.

01:09:43.340 --> 01:09:43.659
<v Speaker 1>So

01:09:46.344 --> 01:09:47.144
<v Speaker 1>so

01:09:47.864 --> 01:09:50.904
<v Speaker 1>this is v one for sure coming from.

01:09:51.145 --> 01:09:52.505
<v Speaker 1>Okay. Let's check deployment.

01:09:58.740 --> 01:09:59.860
<v Speaker 1>I cannot type.

01:10:01.140 --> 01:10:03.620
<v Speaker 1>Okay. So describe.

01:10:06.820 --> 01:10:07.620
<v Speaker 1>No volume.

01:10:11.665 --> 01:10:13.745
<v Speaker 1>Now let's check the replica sets.

01:10:14.785 --> 01:10:16.945
<v Speaker 1>There is only a single replica set. So

01:10:16.945 --> 01:10:18.865
<v Speaker 1>it has been either cleaned up or something

01:10:18.865 --> 01:10:20.305
<v Speaker 1>else is going on.

01:10:20.945 --> 01:10:23.585
<v Speaker 1>And based on the age, something else should

01:10:23.585 --> 01:10:26.809
<v Speaker 1>be going on. Why it's not ready?

01:10:28.969 --> 01:10:31.130
<v Speaker 1>So the other nodes were fine.

01:10:32.010 --> 01:10:33.530
<v Speaker 0>Yeah. They're And

01:10:34.810 --> 01:10:36.889
<v Speaker 1>the serial port started fine.

01:10:38.595 --> 01:10:40.675
<v Speaker 1>So that should be okay.

01:10:52.699 --> 01:10:53.579
<v Speaker 1>Okay.

01:10:53.580 --> 01:10:56.060
<v Speaker 1>What the I'm not sure what's we can

01:10:58.540 --> 01:11:00.620
<v Speaker 1>why it's quitting? So do we have no

01:11:00.620 --> 01:11:02.059
<v Speaker 0>replica sets at all?

01:11:02.380 --> 01:11:04.460
<v Speaker 1>No. We have we have our replica sets.

01:11:04.460 --> 01:11:05.100
<v Speaker 1>So Okay.

01:11:06.205 --> 01:11:08.205
<v Speaker 0>So let's try just updating the image to

01:11:08.205 --> 01:11:08.925
<v Speaker 0>v two.

01:11:09.725 --> 01:11:11.325
<v Speaker 1>Sure. We can try that.

01:11:12.685 --> 01:11:14.285
<v Speaker 0>You don't feel like that. You don't feel

01:11:14.285 --> 01:11:15.725
<v Speaker 0>confident that's gonna work.

01:11:16.605 --> 01:11:18.205
<v Speaker 0>Yeah. I'm I'm mildly hopeful.

01:11:19.860 --> 01:11:21.060
<v Speaker 1>We won't.

01:11:21.540 --> 01:11:22.180
<v Speaker 1>Okay.

01:11:32.180 --> 01:11:33.700
<v Speaker 1>So let's check

01:11:33.875 --> 01:11:36.514
<v Speaker 1>Cluster pending because we don't have. So

01:11:38.195 --> 01:11:40.995
<v Speaker 1>should we directly edit the pods? Yeah. That's

01:11:40.995 --> 01:11:41.554
<v Speaker 0>it.

01:11:42.594 --> 01:11:44.275
<v Speaker 1>So where is it?

01:11:44.915 --> 01:11:46.355
<v Speaker 0>You could just add node name to the

01:11:46.355 --> 01:11:46.994
<v Speaker 0>spec.

01:11:47.635 --> 01:11:48.275
<v Speaker 1>Yeah.

01:11:48.594 --> 01:11:50.389
<v Speaker 1>Here. Right? Yep.

01:12:00.550 --> 01:12:03.429
<v Speaker 0>It's like the the last case and h.

01:12:13.575 --> 01:12:14.375
<v Speaker 1>I

01:12:15.015 --> 01:12:16.855
<v Speaker 1>cannot edit this. Yeah. We'll need to oh,

01:12:16.855 --> 01:12:18.535
<v Speaker 0>yeah. Oh, no. We should be able to

01:12:18.535 --> 01:12:19.735
<v Speaker 0>change the

01:12:20.660 --> 01:12:22.740
<v Speaker 0>I must have the field name. Oh, no.

01:12:22.740 --> 01:12:24.180
<v Speaker 0>Not not name is there.

01:12:25.860 --> 01:12:26.980
<v Speaker 1>Yeah. It's

01:12:29.700 --> 01:12:31.060
<v Speaker 1>cannot be changed.

01:12:31.620 --> 01:12:33.700
<v Speaker 1>That's what I hate about bots. Let's just

01:12:33.700 --> 01:12:34.900
<v Speaker 0>add it to the deployment

01:12:36.235 --> 01:12:37.835
<v Speaker 0>on the template spec.

01:12:38.395 --> 01:12:39.275
<v Speaker 1>Sure.

01:12:39.755 --> 01:12:41.115
<v Speaker 1>So deploy.

01:12:41.835 --> 01:12:44.395
<v Speaker 0>We're not fetching your scheduler, William. There you

01:12:44.395 --> 01:12:44.555
<v Speaker 0>go.

01:12:48.390 --> 01:12:51.510
<v Speaker 1>So let's find where is the port. So

01:12:53.190 --> 01:12:56.070
<v Speaker 1>it's here. So port's back.

01:12:58.230 --> 01:13:01.590
<v Speaker 1>That's under container. So port's back. This is

01:13:01.590 --> 01:13:01.909
<v Speaker 1>here.

01:13:04.325 --> 01:13:06.165
<v Speaker 0>I hate that them does that. So I

01:13:14.245 --> 01:13:14.885
<v Speaker 1>Ah,

01:13:15.365 --> 01:13:16.245
<v Speaker 1>always forget.

01:13:17.445 --> 01:13:18.005
<v Speaker 1>Okay.

01:13:19.720 --> 01:13:21.640
<v Speaker 1>Let's see what's happening with the bot. Here

01:13:21.640 --> 01:13:24.280
<v Speaker 0>we go. Okay. Container creating.

01:13:26.200 --> 01:13:27.960
<v Speaker 1>I could check the logs, but it's not

01:13:27.960 --> 01:13:30.360
<v Speaker 1>my NGINX container that always give back an

01:13:30.360 --> 01:13:31.800
<v Speaker 1>internal server error. So

01:13:35.545 --> 01:13:37.385
<v Speaker 0>Hopefully, it's just pulling

01:13:37.385 --> 01:13:39.385
<v Speaker 0>an image. There we go.

01:13:39.945 --> 01:13:40.824
<v Speaker 1>Okay.

01:13:40.985 --> 01:13:41.625
<v Speaker 1>So

01:13:42.025 --> 01:13:44.345
<v Speaker 1>we have okay. So we have to fix

01:13:44.345 --> 01:13:45.865
<v Speaker 1>the stateful set as well.

01:13:46.450 --> 01:13:47.090
<v Speaker 1>So

01:13:47.730 --> 01:13:49.889
<v Speaker 1>let's put it on the same note.

01:13:50.530 --> 01:13:51.969
<v Speaker 1>It should be fine.

01:13:55.890 --> 01:13:56.370
<v Speaker 1>So

01:14:11.325 --> 01:14:13.325
<v Speaker 0>I think we may have to delete that

01:14:13.325 --> 01:14:15.165
<v Speaker 0>part because it says it's a stateful set.

01:14:15.570 --> 01:14:18.530
<v Speaker 1>Yes. It's one to roll out automatically. Sure.

01:14:19.409 --> 01:14:21.250
<v Speaker 0>I'm curious how you got the completed state

01:14:21.250 --> 01:14:22.690
<v Speaker 0>on that volume. You need to you need

01:14:22.690 --> 01:14:24.849
<v Speaker 0>to share that with this one. We're done.

01:14:27.170 --> 01:14:28.849
<v Speaker 0>That that is better now. Shall I try

01:14:28.849 --> 01:14:29.730
<v Speaker 0>and merge the application?

01:14:32.535 --> 01:14:34.295
<v Speaker 1>Yeah. We can, I guess, we can check

01:14:34.295 --> 01:14:36.775
<v Speaker 1>it? Maybe it will work. Maybe it's not.

01:14:45.130 --> 01:14:46.330
<v Speaker 0>Oh, we got that.

01:14:47.450 --> 01:14:48.250
<v Speaker 2>Oh. So

01:14:50.330 --> 01:14:52.410
<v Speaker 1>I could not fix the scheduler,

01:14:52.410 --> 01:14:54.010
<v Speaker 1>but at least we got there

01:14:55.210 --> 01:14:56.250
<v Speaker 1>with some

01:14:56.730 --> 01:14:58.970
<v Speaker 1>with some almost dead cluster.

01:15:01.264 --> 01:15:02.465
<v Speaker 0>Yeah. That was I was

01:15:03.344 --> 01:15:04.624
<v Speaker 0>it was interesting.

01:15:05.824 --> 01:15:07.505
<v Speaker 0>Like, I must add are there any breaks

01:15:07.505 --> 01:15:09.505
<v Speaker 0>there that we we navigate around their volume,

01:15:09.505 --> 01:15:10.784
<v Speaker 0>or was the entity the big one?

01:15:11.600 --> 01:15:13.440
<v Speaker 2>The the XCD was the big one. Yeah.

01:15:13.440 --> 01:15:14.880
<v Speaker 2>I I figured that would be it, and

01:15:14.880 --> 01:15:16.400
<v Speaker 2>I just did a one line change on

01:15:16.400 --> 01:15:18.160
<v Speaker 2>the cube scheduler. I'm pretty sure you guys

01:15:18.160 --> 01:15:20.960
<v Speaker 2>broke it while messing with XCD, though.

01:15:22.800 --> 01:15:23.120
<v Speaker 1>Yeah.

01:15:24.305 --> 01:15:25.425
<v Speaker 1>Unfortunately,

01:15:25.425 --> 01:15:27.025
<v Speaker 1>I had a one one more idea to

01:15:27.025 --> 01:15:28.385
<v Speaker 1>to mess with your

01:15:28.625 --> 01:15:31.585
<v Speaker 1>cluster, but it did not work either because

01:15:31.585 --> 01:15:32.945
<v Speaker 1>of one dot 22.

01:15:32.945 --> 01:15:33.505
<v Speaker 1>So

01:15:34.065 --> 01:15:36.465
<v Speaker 2>I I I had some more ideas, but

01:15:37.025 --> 01:15:38.625
<v Speaker 2>I ran out of time, and that was

01:15:38.625 --> 01:15:40.065
<v Speaker 2>probably for the best given

01:15:40.560 --> 01:15:42.240
<v Speaker 2>given how long that took. This was really

01:15:42.240 --> 01:15:42.880
<v Speaker 2>great.

01:15:43.520 --> 01:15:45.520
<v Speaker 1>Yeah. May may maybe a heads up for

01:15:45.520 --> 01:15:48.240
<v Speaker 1>future. Cilium currently doesn't support, but there is

01:15:48.240 --> 01:15:50.080
<v Speaker 1>a nice service

01:15:50.880 --> 01:15:53.600
<v Speaker 1>property in one dot 22 that you can

01:15:53.600 --> 01:15:55.360
<v Speaker 1>create a service with

01:15:55.715 --> 01:15:56.514
<v Speaker 1>local,

01:15:56.835 --> 01:15:58.434
<v Speaker 1>internal traffic policy.

01:15:58.675 --> 01:16:00.434
<v Speaker 1>And if you that's why there was a

01:16:00.434 --> 01:16:02.275
<v Speaker 1>change there because I tried to do that,

01:16:02.275 --> 01:16:04.114
<v Speaker 1>but fig I figured out that CDM still

01:16:04.114 --> 01:16:05.155
<v Speaker 1>doesn't support.

01:16:05.635 --> 01:16:09.180
<v Speaker 1>And because David installed the cluster without Qproxy,

01:16:09.180 --> 01:16:12.220
<v Speaker 1>it didn't work because supposedly with Qproxy, if

01:16:12.220 --> 01:16:15.020
<v Speaker 1>I would restore that, it would respect the

01:16:15.020 --> 01:16:16.140
<v Speaker 1>the rules. So

01:16:17.020 --> 01:16:19.580
<v Speaker 0>Damn me. And my Qproxy free clusters. Sorry.

01:16:19.580 --> 01:16:21.580
<v Speaker 0>I don't Yeah. That that was a that

01:16:21.580 --> 01:16:23.500
<v Speaker 1>was a sad thing to to happen.

01:16:24.085 --> 01:16:25.925
<v Speaker 0>Alright. Well, tell me, how did you get

01:16:25.925 --> 01:16:28.485
<v Speaker 0>the completed status on the cluster of postcards

01:16:28.485 --> 01:16:29.045
<v Speaker 0>pods?

01:16:30.645 --> 01:16:31.925
<v Speaker 2>I have no idea.

01:16:32.565 --> 01:16:34.245
<v Speaker 2>That is not something I broke.

01:16:36.085 --> 01:16:41.045
<v Speaker 0>And people say Kubernetes is hard. The the

01:16:39.510 --> 01:16:42.469
<v Speaker 2>the etcd and and compressing that into

01:16:42.630 --> 01:16:43.990
<v Speaker 2>a small volume and then trying to get

01:16:43.990 --> 01:16:45.190
<v Speaker 2>it to fill the disk, that was really

01:16:45.190 --> 01:16:47.510
<v Speaker 2>hard. Etcd really didn't want to die.

01:16:47.830 --> 01:16:50.870
<v Speaker 2>And then I just I just configured the

01:16:50.870 --> 01:16:52.950
<v Speaker 2>scheduler to write its config out and die.

01:16:53.025 --> 01:16:55.025
<v Speaker 2>There's one command line option in there that

01:16:55.025 --> 01:16:57.105
<v Speaker 2>just so that's why it was dying. So

01:16:57.105 --> 01:16:58.545
<v Speaker 2>all the volume stuff, I think, was when

01:16:58.545 --> 01:17:00.304
<v Speaker 2>you guys were messing with the permissions because

01:17:00.304 --> 01:17:01.985
<v Speaker 2>I didn't mess with the permissions anywhere.

01:17:03.905 --> 01:17:06.145
<v Speaker 0>STD license is great. I guess that's what

01:17:06.145 --> 01:17:06.705
<v Speaker 0>happened there.

01:17:07.849 --> 01:17:10.329
<v Speaker 0>Alright. Well, thank you both,

01:17:10.889 --> 01:17:13.289
<v Speaker 0>Adam and William. Those were two great clusters,

01:17:13.289 --> 01:17:14.969
<v Speaker 0>and you both did really well working through

01:17:14.969 --> 01:17:16.409
<v Speaker 0>that. In fact, I I had a pretty

01:17:16.409 --> 01:17:18.730
<v Speaker 0>much hands off experience. You both absolutely smashed

01:17:18.730 --> 01:17:19.610
<v Speaker 0>that. So great job.

01:17:20.345 --> 01:17:20.985
<v Speaker 1>Was fun.

01:17:21.385 --> 01:17:22.425
<v Speaker 1>Thank you, William.

01:17:23.385 --> 01:17:25.705
<v Speaker 2>It was a lot of fun. Joining me.

01:17:25.705 --> 01:17:28.025
<v Speaker 0>Thank you to Teleport, our sponsor. Remember to

01:17:28.025 --> 01:17:29.945
<v Speaker 0>go check out Rawkode.live/Teleport.

01:17:29.945 --> 01:17:31.465
<v Speaker 0>You've seen us using it today as an

01:17:31.465 --> 01:17:33.225
<v Speaker 0>awesome product. I encourage you all to install

01:17:33.225 --> 01:17:35.010
<v Speaker 0>it in your clusters. And thank you to

01:17:35.010 --> 01:17:36.930
<v Speaker 0>everyone who's watching and your comments along the

01:17:36.930 --> 01:17:40.130
<v Speaker 0>way. We'll be back next week with a

01:17:40.130 --> 01:17:42.210
<v Speaker 0>couple of members from the Discord community. We

01:17:42.210 --> 01:17:44.210
<v Speaker 0>have Carlos and Eric. It's gonna be another

01:17:44.210 --> 01:17:46.370
<v Speaker 0>amazing episode. So once again, thank you, Adam.

01:17:46.370 --> 01:17:48.449
<v Speaker 0>Thank you, William. Have a great day. Bye.

01:17:48.850 --> 01:17:50.050
<v Speaker 1>Thank you. You too.
