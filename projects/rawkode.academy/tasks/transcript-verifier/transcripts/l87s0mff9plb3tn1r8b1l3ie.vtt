WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: c1e7868a-13db-468e-b2b3-e523f0ca5b27
Created: 2025-04-29T17:18:32.771Z
Duration: 8753.535
Channels: 1

00:02:03.310 --> 00:02:07.229
<v Speaker 0>Hello, and welcome back to the Rawkode Academy.

00:02:07.665 --> 00:02:09.505
<v Speaker 0>This is Clustered.

00:02:09.985 --> 00:02:12.705
<v Speaker 0>Today, we have another Rawkode

00:02:12.705 --> 00:02:15.505
<v Speaker 0>versus the community. Only today,

00:02:15.825 --> 00:02:18.225
<v Speaker 0>I'm not fighting alone. I will introduce my

00:02:18.225 --> 00:02:19.905
<v Speaker 0>guest in just a moment, but before I

00:02:19.905 --> 00:02:20.625
<v Speaker 0>do that,

00:02:21.025 --> 00:02:22.865
<v Speaker 0>a little bit of housekeeping.

00:02:23.780 --> 00:02:24.420
<v Speaker 0>If

00:02:25.220 --> 00:02:27.140
<v Speaker 0>you wanna win a t shirt, which of

00:02:27.140 --> 00:02:31.620
<v Speaker 0>course you do, you can go to Rawkode.live/win.

00:02:32.340 --> 00:02:33.220
<v Speaker 0>Go there,

00:02:33.700 --> 00:02:35.780
<v Speaker 0>enter the competition. We will draw the t

00:02:35.780 --> 00:02:37.860
<v Speaker 0>shirts at the end of the episode.

00:02:40.515 --> 00:02:43.475
<v Speaker 0>Next up, I wanna thank our sponsors.

00:02:43.875 --> 00:02:46.675
<v Speaker 0>We have been using Teleport since the second

00:02:46.754 --> 00:02:48.114
<v Speaker 0>I would say first, but it's actually the

00:02:48.114 --> 00:02:51.155
<v Speaker 0>second episode of Cluster, way back in January

00:02:51.155 --> 00:02:52.114
<v Speaker 0>2020.

00:02:52.770 --> 00:02:54.770
<v Speaker 0>So I I wanna thank Teleport for their

00:02:54.770 --> 00:02:57.170
<v Speaker 0>support. You should go to Rawkode.live/Teleport

00:02:57.170 --> 00:02:59.170
<v Speaker 0>to learn more. We use it every single

00:02:59.170 --> 00:03:01.250
<v Speaker 0>week. We pay our it gives us access

00:03:01.250 --> 00:03:04.210
<v Speaker 0>via GitHub authentication to SSH, to databases,

00:03:04.290 --> 00:03:05.410
<v Speaker 0>to applications.

00:03:05.650 --> 00:03:07.490
<v Speaker 0>It's truly a wonderful tool that should be

00:03:07.490 --> 00:03:10.455
<v Speaker 0>in everyone's production and maybe even non production

00:03:10.455 --> 00:03:11.335
<v Speaker 0>environments.

00:03:11.655 --> 00:03:13.974
<v Speaker 0>So go check it out and watch us

00:03:13.974 --> 00:03:15.575
<v Speaker 0>use it today. It's a whole lot of

00:03:15.575 --> 00:03:16.135
<v Speaker 0>fun.

00:03:17.415 --> 00:03:19.495
<v Speaker 0>Alright. I see the chat's having fun too.

00:03:19.495 --> 00:03:21.860
<v Speaker 0>I also want to thank Equinix Metal. You

00:03:21.860 --> 00:03:23.379
<v Speaker 0>can find out more about Equinix Medal at

00:03:23.379 --> 00:03:24.739
<v Speaker 0>Rawkode.live/metal.

00:03:24.739 --> 00:03:26.739
<v Speaker 0>Going to these links helps the sponsors and

00:03:26.739 --> 00:03:27.460
<v Speaker 0>helps me.

00:03:27.780 --> 00:03:30.820
<v Speaker 0>So go learn more about Bare Metal Cloud.

00:03:30.900 --> 00:03:32.420
<v Speaker 0>If you don't wanna pay for it, because

00:03:32.420 --> 00:03:34.420
<v Speaker 0>why should you, to check out Kicka Tires,

00:03:34.420 --> 00:03:35.700
<v Speaker 0>use the code Rawkode.

00:03:36.085 --> 00:03:38.005
<v Speaker 0>This will get you $200.

00:03:38.005 --> 00:03:40.085
<v Speaker 0>Now we use Equinix metal every single week

00:03:40.085 --> 00:03:41.845
<v Speaker 0>as well since the first episode.

00:03:42.085 --> 00:03:44.005
<v Speaker 0>Bare metal clusters are the best. We have

00:03:44.005 --> 00:03:45.845
<v Speaker 0>tons of cores, tons of RAM. It is

00:03:45.845 --> 00:03:47.685
<v Speaker 0>a whole lot of fun. Now I could

00:03:47.685 --> 00:03:50.800
<v Speaker 0>use small instances for a cluster, but it's

00:03:50.800 --> 00:03:52.160
<v Speaker 0>a lot more fun to use big chunky

00:03:52.160 --> 00:03:53.760
<v Speaker 0>ones, and maybe we'll get to see a

00:03:53.760 --> 00:03:55.280
<v Speaker 0>look at the cores and RAM later. But

00:03:55.280 --> 00:03:56.720
<v Speaker 0>that is awesome.

00:03:57.760 --> 00:04:00.160
<v Speaker 0>Alright. Thank you, sponsors. Now I said I'm

00:04:00.160 --> 00:04:02.880
<v Speaker 0>not fighting today's episode alone. I'm gonna introduce

00:04:03.045 --> 00:04:04.405
<v Speaker 0>our wonderful

00:04:04.965 --> 00:04:06.005
<v Speaker 0>I don't know if I wanna call you

00:04:06.005 --> 00:04:08.005
<v Speaker 0>a guest or a victim, but either way,

00:04:08.005 --> 00:04:10.565
<v Speaker 0>welcome, Marek. Hey, man. How's it going?

00:04:11.045 --> 00:04:12.885
<v Speaker 1>It's going well. How are you doing?

00:04:14.005 --> 00:04:16.644
<v Speaker 1>Believe victim is correct terminology, by the way.

00:04:17.399 --> 00:04:19.080
<v Speaker 0>Is it? Yeah.

00:04:19.720 --> 00:04:21.800
<v Speaker 0>Alright. Well, for I mean I'm sure people

00:04:21.800 --> 00:04:24.280
<v Speaker 0>have seen you before on this, but why

00:04:24.280 --> 00:04:26.920
<v Speaker 0>don't you give us the introduction to Marek?

00:04:27.400 --> 00:04:30.120
<v Speaker 1>Yeah. My name is Marek Houns. I'm super

00:04:30.120 --> 00:04:32.120
<v Speaker 1>humbled to get to do this with you.

00:04:32.385 --> 00:04:34.145
<v Speaker 1>I learn something new every single time I

00:04:34.145 --> 00:04:35.985
<v Speaker 1>watch one of these. I think it's fantastic

00:04:35.985 --> 00:04:38.385
<v Speaker 1>and I appreciate you doing this.

00:04:38.785 --> 00:04:40.305
<v Speaker 1>I don't know if none of you know

00:04:40.305 --> 00:04:41.985
<v Speaker 1>much about me. I'm

00:04:41.985 --> 00:04:43.505
<v Speaker 1>a fellow YouTuber.

00:04:44.385 --> 00:04:46.865
<v Speaker 1>I also try to help people but I

00:04:46.865 --> 00:04:48.759
<v Speaker 1>don't ever run a live show quite like

00:04:48.759 --> 00:04:50.440
<v Speaker 1>this one. This one is very special.

00:04:51.719 --> 00:04:52.440
<v Speaker 0>Yeah. And

00:04:52.840 --> 00:04:54.520
<v Speaker 1>I just entered to win a free t

00:04:54.520 --> 00:04:56.120
<v Speaker 1>shirt. So that's what I was doing during

00:04:56.120 --> 00:04:57.080
<v Speaker 1>that introduction.

00:04:59.560 --> 00:04:59.960
<v Speaker 0>Awesome.

00:05:00.455 --> 00:05:03.015
<v Speaker 0>Well, depending on how badly Russell and Kevin

00:05:03.015 --> 00:05:04.855
<v Speaker 0>scatters today, I may have to send you

00:05:04.855 --> 00:05:07.335
<v Speaker 0>one as a sorry anyway. So we'll see.

00:05:07.655 --> 00:05:10.215
<v Speaker 0>I do love that they're, you know, they're

00:05:10.215 --> 00:05:12.855
<v Speaker 0>all talking at the chat about Russell's

00:05:13.750 --> 00:05:16.470
<v Speaker 0>sort of build up psycho tweets over the

00:05:16.470 --> 00:05:17.430
<v Speaker 0>last three days.

00:05:17.750 --> 00:05:20.710
<v Speaker 1>Scheduled tweets are the worst thing ever. I

00:05:20.710 --> 00:05:22.470
<v Speaker 1>have come to determine that.

00:05:23.510 --> 00:05:25.430
<v Speaker 1>That's horrifying. I I got to wake up

00:05:25.430 --> 00:05:27.590
<v Speaker 1>since I'm like behind time zones. Like, that's

00:05:27.590 --> 00:05:30.435
<v Speaker 1>was my morning tweet feed was like Russell's

00:05:30.675 --> 00:05:31.795
<v Speaker 1>scheduled tweets.

00:05:31.955 --> 00:05:33.795
<v Speaker 0>Well, here's the the latest one. Not a

00:05:33.795 --> 00:05:35.635
<v Speaker 0>tweet, but a comment in the chat. There

00:05:35.635 --> 00:05:39.635
<v Speaker 0>are 23 hints for today's cluster for Russell.

00:05:40.275 --> 00:05:42.595
<v Speaker 1>I hope Russell's better at giving hints than

00:05:42.595 --> 00:05:44.710
<v Speaker 1>I am. Last time I got I got

00:05:44.710 --> 00:05:46.230
<v Speaker 1>flamed for my tweets.

00:05:46.630 --> 00:05:48.630
<v Speaker 1>Or not my tweets, but my hints. So

00:05:48.630 --> 00:05:50.310
<v Speaker 1>hopefully he's better than I am.

00:05:50.870 --> 00:05:51.510
<v Speaker 0>Yeah.

00:05:51.910 --> 00:05:54.470
<v Speaker 0>Awesome. Russell also stated Barack's content is also

00:05:54.470 --> 00:05:56.790
<v Speaker 0>awesome. Yeah. It really is. We'll get a

00:05:56.790 --> 00:05:58.150
<v Speaker 0>link to that in the comments. Feel free

00:05:58.150 --> 00:05:59.669
<v Speaker 0>to drop that in there, Matic. Share it

00:05:59.669 --> 00:06:01.145
<v Speaker 0>with the with everybody.

00:06:02.505 --> 00:06:04.665
<v Speaker 0>Alright. Well, there's no point in delaying the

00:06:04.665 --> 00:06:07.065
<v Speaker 0>inevitable. We should take a look at our

00:06:07.065 --> 00:06:08.265
<v Speaker 0>first cluster.

00:06:08.345 --> 00:06:10.985
<v Speaker 0>So let me pull my screen share up.

00:06:11.305 --> 00:06:11.865
<v Speaker 0>There we go.

00:06:12.520 --> 00:06:15.000
<v Speaker 0>We have Are we hitting Kevin's first? We

00:06:15.000 --> 00:06:17.160
<v Speaker 0>are gonna have Kevin's first. Yes. So I've

00:06:17.160 --> 00:06:19.080
<v Speaker 0>done a t s h l s. I'm

00:06:19.080 --> 00:06:21.400
<v Speaker 0>listing the notes that belong to Kevin.

00:06:21.880 --> 00:06:22.920
<v Speaker 0>I am

00:06:23.400 --> 00:06:25.240
<v Speaker 0>gonna join Kevin

00:06:25.240 --> 00:06:26.760
<v Speaker 0>control plane

00:06:26.919 --> 00:06:27.160
<v Speaker 0>one.

00:06:28.135 --> 00:06:29.975
<v Speaker 0>That session will be started in just a

00:06:29.975 --> 00:06:32.215
<v Speaker 0>second. Please join that when you are ready

00:06:32.215 --> 00:06:33.895
<v Speaker 0>and give me some sort of echo or

00:06:33.895 --> 00:06:35.255
<v Speaker 0>l s or whatever to let me know

00:06:35.255 --> 00:06:38.375
<v Speaker 0>you're there. And already we have Kelsey.

00:06:38.615 --> 00:06:40.375
<v Speaker 0>Nice touch, Kevin. Thank you very much.

00:06:41.539 --> 00:06:43.780
<v Speaker 1>Really quick question. How do I list sessions

00:06:43.780 --> 00:06:45.699
<v Speaker 1>in the command line? I'm gonna try the

00:06:45.699 --> 00:06:47.699
<v Speaker 1>command line instead of the web. Oh, you

00:06:47.699 --> 00:06:49.220
<v Speaker 0>can't. You have to get those session ID

00:06:49.220 --> 00:06:51.380
<v Speaker 0>from the web. There's a feature request to

00:06:51.380 --> 00:06:53.460
<v Speaker 0>do the session listing, but it hasn't been

00:06:53.460 --> 00:06:54.819
<v Speaker 0>done yet. And there's a good reason

00:06:55.245 --> 00:06:57.645
<v Speaker 0>that I wanna dive you know, divert off

00:06:57.645 --> 00:06:58.365
<v Speaker 0>course here.

00:06:59.645 --> 00:07:01.325
<v Speaker 0>But what you'll see is when you go

00:07:01.325 --> 00:07:03.965
<v Speaker 0>to the active sessions, it will list sessions

00:07:03.965 --> 00:07:05.965
<v Speaker 0>for all clusters, even ones you don't really

00:07:05.965 --> 00:07:07.645
<v Speaker 0>have access to. So you'll actually see the

00:07:07.725 --> 00:07:09.005
<v Speaker 0>there's some stuff I'm doing with e b

00:07:09.005 --> 00:07:11.470
<v Speaker 0>p f d for at KubeCon. Uh-uh. And

00:07:11.470 --> 00:07:13.870
<v Speaker 0>they're fixing the the scoping of this API

00:07:13.870 --> 00:07:16.430
<v Speaker 0>before they release it to the CLI. So

00:07:16.910 --> 00:07:18.510
<v Speaker 0>but you can grab the session ID from

00:07:18.510 --> 00:07:18.990
<v Speaker 0>here.

00:07:19.390 --> 00:07:20.910
<v Speaker 0>I know that's a a long answer to

00:07:20.910 --> 00:07:22.590
<v Speaker 0>what you want to do here, but there

00:07:22.590 --> 00:07:23.230
<v Speaker 0>we go.

00:07:23.950 --> 00:07:25.390
<v Speaker 0>And I'll just join it for both in

00:07:25.390 --> 00:07:26.110
<v Speaker 0>case we open them.

00:07:27.895 --> 00:07:29.655
<v Speaker 0>So did you use the the web or

00:07:29.655 --> 00:07:30.855
<v Speaker 0>did you use the CLI?

00:07:31.255 --> 00:07:32.935
<v Speaker 1>I used the web. I'm gonna flip over

00:07:32.935 --> 00:07:34.375
<v Speaker 1>to the CLI and I was gonna try

00:07:34.375 --> 00:07:36.135
<v Speaker 1>to do that in the background while

00:07:36.535 --> 00:07:39.815
<v Speaker 1>yeah. Alright. I may oh, well, let's let's

00:07:39.815 --> 00:07:41.680
<v Speaker 0>start talking around this first cluster. So this

00:07:41.680 --> 00:07:42.800
<v Speaker 0>is broken

00:07:42.960 --> 00:07:43.600
<v Speaker 0>by

00:07:44.240 --> 00:07:46.880
<v Speaker 0>Kevin, very active member in the Discord community

00:07:46.880 --> 00:07:49.120
<v Speaker 0>and also in the YouTube comments as the

00:07:49.120 --> 00:07:50.000
<v Speaker 0>fire flash.

00:07:51.040 --> 00:07:51.920
<v Speaker 0>So

00:07:53.055 --> 00:07:56.815
<v Speaker 0>let's see. I will export our kube config.

00:08:00.975 --> 00:08:03.535
<v Speaker 0>Alias k to kube control.

00:08:05.455 --> 00:08:06.975
<v Speaker 0>Just out of curiosity,

00:08:08.430 --> 00:08:09.470
<v Speaker 0>looks like

00:08:10.270 --> 00:08:11.950
<v Speaker 0>looks like that's maybe alright.

00:08:12.669 --> 00:08:14.110
<v Speaker 0>Should we cat it to see if it's

00:08:14.110 --> 00:08:16.669
<v Speaker 1>a binary? That's how I determine if something's

00:08:16.669 --> 00:08:17.470
<v Speaker 1>a binary.

00:08:17.710 --> 00:08:19.229
<v Speaker 0>Well, I mean, I don't I I don't

00:08:19.229 --> 00:08:21.870
<v Speaker 0>trust these two. Like, these two have seen

00:08:21.870 --> 00:08:23.630
<v Speaker 0>a lot of clustered episodes. They know a

00:08:23.630 --> 00:08:25.955
<v Speaker 0>lot of tricks, and I'm gonna be checking

00:08:25.955 --> 00:08:28.355
<v Speaker 0>all the basics today on everything.

00:08:28.675 --> 00:08:31.795
<v Speaker 0>But at least, like, kubectl as binary

00:08:31.955 --> 00:08:33.475
<v Speaker 0>potentially in the right location,

00:08:36.590 --> 00:08:38.669
<v Speaker 0>We have a version that looks like what

00:08:38.669 --> 00:08:41.230
<v Speaker 0>I would expect. We got a server version,

00:08:41.230 --> 00:08:42.990
<v Speaker 0>which means that our control plan may be

00:08:42.990 --> 00:08:45.150
<v Speaker 0>alright. I'll give you the owners if you

00:08:45.150 --> 00:08:47.630
<v Speaker 0>wanna pick your favorite command and hit our

00:08:47.630 --> 00:08:48.270
<v Speaker 0>control plan.

00:08:53.275 --> 00:08:53.995
<v Speaker 0>Alright.

00:08:55.115 --> 00:08:57.275
<v Speaker 0>Not too bad. Not too bad.

00:08:58.475 --> 00:09:00.795
<v Speaker 1>I'm

00:09:00.795 --> 00:09:03.195
<v Speaker 1>actually kind of worried that that worked.

00:09:03.355 --> 00:09:03.675
<v Speaker 1>Like,

00:09:04.230 --> 00:09:06.070
<v Speaker 1>this is a bad thing on my part,

00:09:06.070 --> 00:09:06.310
<v Speaker 1>but I

00:09:07.190 --> 00:09:08.790
<v Speaker 1>I'm kind of worried, like, this is, like,

00:09:08.790 --> 00:09:11.510
<v Speaker 1>some default engine x reply or something.

00:09:13.589 --> 00:09:15.670
<v Speaker 0>No. No. No. No. I don't I don't

00:09:15.670 --> 00:09:16.470
<v Speaker 0>think so.

00:09:16.870 --> 00:09:20.735
<v Speaker 0>Let's try get pods service, and endpoints.

00:09:21.855 --> 00:09:23.774
<v Speaker 0>The holy trinity. Right?

00:09:26.334 --> 00:09:27.695
<v Speaker 0>Pods look good.

00:09:28.495 --> 00:09:29.295
<v Speaker 0>Service

00:09:30.175 --> 00:09:31.375
<v Speaker 0>looks good.

00:09:32.095 --> 00:09:33.214
<v Speaker 0>Employees look good.

00:09:36.399 --> 00:09:38.640
<v Speaker 0>Is that are we being too confident here?

00:09:38.880 --> 00:09:41.040
<v Speaker 1>That's

00:09:41.040 --> 00:09:43.040
<v Speaker 1>what I'm saying. I'm feeling worried. Okay. So

00:09:43.040 --> 00:09:44.240
<v Speaker 1>maybe we should

00:09:44.880 --> 00:09:47.600
<v Speaker 0>I'm gonna open ProPlayne is not ready. So

00:09:47.600 --> 00:09:49.514
<v Speaker 1>I would actually check out cubes

00:09:50.154 --> 00:09:52.795
<v Speaker 1>the cubelet. See what why the cubelet is

00:09:52.795 --> 00:09:53.115
<v Speaker 1>not

00:09:55.514 --> 00:09:57.755
<v Speaker 0>Well, we do have the v one image.

00:09:57.915 --> 00:09:58.555
<v Speaker 0>So

00:09:58.875 --> 00:10:00.394
<v Speaker 0>that that that's a good start.

00:10:05.029 --> 00:10:06.150
<v Speaker 0>Let's go back here.

00:10:06.950 --> 00:10:08.230
<v Speaker 0>So shall we just

00:10:09.350 --> 00:10:11.110
<v Speaker 0>well, we just try updating the v two

00:10:11.110 --> 00:10:12.070
<v Speaker 0>and see what happens?

00:10:13.029 --> 00:10:13.830
<v Speaker 0>Okay. Yeah.

00:10:16.904 --> 00:10:18.825
<v Speaker 1>But the control plane isn't

00:10:18.825 --> 00:10:19.625
<v Speaker 1>healthy.

00:10:19.705 --> 00:10:21.865
<v Speaker 0>Well, the node isn't healthy, but the control

00:10:21.865 --> 00:10:23.705
<v Speaker 0>plane is responding to request.

00:10:26.024 --> 00:10:26.584
<v Speaker 1>I guess.

00:10:34.040 --> 00:10:35.560
<v Speaker 0>K. That's it.

00:10:36.520 --> 00:10:37.640
<v Speaker 0>Edit play.

00:10:39.080 --> 00:10:39.720
<v Speaker 0>Clustered.

00:10:41.625 --> 00:10:43.305
<v Speaker 0>There's that weird thing.

00:10:44.265 --> 00:10:45.465
<v Speaker 0>Told you that would come up.

00:11:04.680 --> 00:11:06.040
<v Speaker 0>Do we have a working cluster?

00:11:11.985 --> 00:11:12.705
<v Speaker 1>No.

00:11:18.865 --> 00:11:19.265
<v Speaker 0>We have a.

00:11:24.990 --> 00:11:27.150
<v Speaker 0>Kevin says, loosely, I forgot to check one

00:11:27.150 --> 00:11:28.510
<v Speaker 0>thing. Damn.

00:11:30.430 --> 00:11:31.630
<v Speaker 1>Alright.

00:11:32.910 --> 00:11:34.750
<v Speaker 0>Tell you what, Kev, feel free to jump

00:11:34.750 --> 00:11:36.110
<v Speaker 0>back in. Check what you need to check.

00:11:37.185 --> 00:11:39.985
<v Speaker 0>I will edit my deployment back.

00:11:44.225 --> 00:11:45.185
<v Speaker 0>Come here

00:11:45.985 --> 00:11:46.785
<v Speaker 0>to

00:11:48.065 --> 00:11:50.225
<v Speaker 0>right. We've rolled that back. You go make

00:11:50.225 --> 00:11:51.745
<v Speaker 0>whatever change you need to make, and we're

00:11:51.745 --> 00:11:52.305
<v Speaker 0>gonna move on.

00:11:53.980 --> 00:11:56.060
<v Speaker 0>You want me to check the kiblet?

00:12:00.620 --> 00:12:02.779
<v Speaker 0>Alright. Let's do it. Let's our mission is

00:12:02.779 --> 00:12:04.220
<v Speaker 0>not to update v two on this one.

00:12:04.220 --> 00:12:06.140
<v Speaker 0>Let's get that control plane happy.

00:12:07.175 --> 00:12:07.815
<v Speaker 0>So

00:12:09.014 --> 00:12:11.014
<v Speaker 0>we have a not ready on the control

00:12:11.014 --> 00:12:12.855
<v Speaker 0>plane nodes. Marek, what you wanna do?

00:12:15.175 --> 00:12:18.214
<v Speaker 1>Alright. So if we have not ready on

00:12:18.214 --> 00:12:20.695
<v Speaker 1>here, then what we really probably need I

00:12:20.695 --> 00:12:21.975
<v Speaker 1>would check the cubelet logs

00:12:23.800 --> 00:12:26.760
<v Speaker 1>to or maybe just systemctl,

00:12:26.760 --> 00:12:28.040
<v Speaker 1>the status there.

00:12:30.760 --> 00:12:32.120
<v Speaker 0>Will we describe

00:12:32.200 --> 00:12:33.320
<v Speaker 0>the node first?

00:12:33.720 --> 00:12:34.280
<v Speaker 0>Sure.

00:12:37.375 --> 00:12:39.454
<v Speaker 1>Yeah. I guess since it's responding, there's no

00:12:39.454 --> 00:12:41.055
<v Speaker 1>reason not to describe it.

00:12:44.254 --> 00:12:44.975
<v Speaker 1>Let's see.

00:12:51.529 --> 00:12:53.769
<v Speaker 1>So there's a bunch of unknown. So this

00:12:53.769 --> 00:12:55.690
<v Speaker 1>would say that the cubelet isn't

00:12:56.170 --> 00:12:58.250
<v Speaker 1>talking here, the node status.

00:12:58.649 --> 00:13:00.170
<v Speaker 0>Yeah. Which I think you already kind of

00:13:00.170 --> 00:13:03.145
<v Speaker 0>thought anyway. So why don't you start digging

00:13:03.145 --> 00:13:04.265
<v Speaker 0>into the cubelet?

00:13:04.985 --> 00:13:06.425
<v Speaker 1>Alright. So

00:13:12.905 --> 00:13:14.905
<v Speaker 1>Oh, there's that that's not right.

00:13:15.625 --> 00:13:17.945
<v Speaker 1>That's fantastic, by the way, but not right.

00:13:24.000 --> 00:13:25.040
<v Speaker 0>Does our kubelet just curse at Yes.

00:13:31.775 --> 00:13:34.175
<v Speaker 1>So we have a deprecated warning, but that's

00:13:34.175 --> 00:13:36.735
<v Speaker 1>not really my biggest concern. My biggest concern

00:13:36.735 --> 00:13:37.935
<v Speaker 1>here is I don't think that this is

00:13:37.935 --> 00:13:39.695
<v Speaker 1>a real cubelet.

00:13:40.415 --> 00:13:42.575
<v Speaker 0>But you ran a system control command, right?

00:13:42.575 --> 00:13:44.095
<v Speaker 0>Oh, yeah. But this is the cubelet logs.

00:13:44.220 --> 00:13:46.379
<v Speaker 0>Right? Right. This is just going to be

00:13:46.379 --> 00:13:48.300
<v Speaker 1>its logs out here. We could actually just

00:13:48.300 --> 00:13:51.420
<v Speaker 1>check the logs. Just do like a journal.

00:14:01.015 --> 00:14:03.175
<v Speaker 1>Yeah. And this actually prints it out a

00:14:03.175 --> 00:14:04.055
<v Speaker 1>little bit better.

00:14:08.215 --> 00:14:09.335
<v Speaker 0>Yeah. That's a problem.

00:14:14.550 --> 00:14:17.590
<v Speaker 1>So there's two possibilities that my mind jumps

00:14:17.590 --> 00:14:20.230
<v Speaker 1>to. First, that this is not the right

00:14:20.230 --> 00:14:21.110
<v Speaker 1>cubelet.

00:14:21.590 --> 00:14:23.110
<v Speaker 1>And we could look at

00:14:23.590 --> 00:14:25.430
<v Speaker 1>one second. I'm looking through this printed out

00:14:25.430 --> 00:14:26.070
<v Speaker 1>a bunch of

00:14:26.754 --> 00:14:27.714
<v Speaker 1>garbage.

00:14:28.915 --> 00:14:30.595
<v Speaker 1>There is the we try to figure this

00:14:30.595 --> 00:14:34.274
<v Speaker 1>out and he's injecting log messages. So it's

00:14:34.274 --> 00:14:37.074
<v Speaker 1>actually a type of attack is injecting log

00:14:37.074 --> 00:14:37.795
<v Speaker 1>messages

00:14:37.875 --> 00:14:38.514
<v Speaker 1>where

00:14:38.754 --> 00:14:41.314
<v Speaker 1>you don't sanitize user input into log messages.

00:14:41.480 --> 00:14:43.160
<v Speaker 1>I don't know that he found one of

00:14:43.160 --> 00:14:45.400
<v Speaker 1>those in the cubelet. If he did, you

00:14:45.400 --> 00:14:47.960
<v Speaker 1>should actually be reporting that. So my hunch

00:14:47.960 --> 00:14:51.080
<v Speaker 1>is that he actually just compiled his own.

00:14:57.835 --> 00:14:59.595
<v Speaker 1>Compiled his own cubelet.

00:15:00.795 --> 00:15:02.795
<v Speaker 0>Okay. So how can we Cool. Convert that.

00:15:07.435 --> 00:15:08.795
<v Speaker 0>I mean, we could search on a cubelet

00:15:08.795 --> 00:15:10.610
<v Speaker 0>version, right? Yeah.

00:15:10.770 --> 00:15:12.290
<v Speaker 1>Yeah. Cubelet version.

00:15:22.965 --> 00:15:24.325
<v Speaker 0>That was like a cubelet.

00:15:26.725 --> 00:15:28.245
<v Speaker 0>Don't think it is a cubelet.

00:15:28.805 --> 00:15:30.325
<v Speaker 1>No. I don't either.

00:15:30.725 --> 00:15:32.085
<v Speaker 0>Where's that beta ring?

00:15:33.685 --> 00:15:34.325
<v Speaker 1>I don't know.

00:15:44.920 --> 00:15:47.160
<v Speaker 1>We could check when it was last messed

00:15:47.160 --> 00:15:49.399
<v Speaker 1>with. It should be the same age as

00:15:49.399 --> 00:15:50.279
<v Speaker 1>the machine.

00:15:51.000 --> 00:15:51.480
<v Speaker 0>Uh-huh.

00:15:51.894 --> 00:15:52.935
<v Speaker 0>Let's do that.

00:16:04.935 --> 00:16:05.735
<v Speaker 0>X-ray.

00:16:05.815 --> 00:16:06.055
<v Speaker 0>Yeah.

00:16:08.770 --> 00:16:10.130
<v Speaker 1>Alright. So everything

00:16:10.370 --> 00:16:11.090
<v Speaker 1>oh.

00:16:12.450 --> 00:16:14.930
<v Speaker 1>This is interesting. Things have been messed with,

00:16:15.010 --> 00:16:15.490
<v Speaker 1>I think.

00:16:19.345 --> 00:16:21.665
<v Speaker 1>I shouldn't have printed out the entire directory.

00:16:21.665 --> 00:16:22.865
<v Speaker 1>That was kind of dumb.

00:16:23.985 --> 00:16:25.905
<v Speaker 0>Well, looks like CAF was working on this

00:16:25.905 --> 00:16:27.985
<v Speaker 0>just forty minutes ago. Nothing like a last

00:16:27.985 --> 00:16:28.625
<v Speaker 0>minute break.

00:16:38.980 --> 00:16:40.180
<v Speaker 1>So 07/2006

00:16:40.340 --> 00:16:42.580
<v Speaker 1>or seventeen o six, April twentieth.

00:16:47.215 --> 00:16:50.095
<v Speaker 0>I'm

00:16:50.095 --> 00:16:52.095
<v Speaker 0>curious of the strings command. Well, I mean,

00:16:52.095 --> 00:16:53.935
<v Speaker 0>I expected to put it as cozy, but

00:16:53.935 --> 00:16:54.655
<v Speaker 0>I wanna see it.

00:16:58.650 --> 00:16:59.450
<v Speaker 0>Yeah.

00:17:03.450 --> 00:17:04.650
<v Speaker 0>It's not a binary.

00:17:06.730 --> 00:17:09.050
<v Speaker 1>I should have cat it. Like, I I'm

00:17:09.050 --> 00:17:10.570
<v Speaker 1>telling you, this is what I did last

00:17:10.570 --> 00:17:12.010
<v Speaker 1>time. I was like, it's not a binary.

00:17:12.010 --> 00:17:13.565
<v Speaker 1>I'm just gonna cat it.

00:17:14.045 --> 00:17:15.645
<v Speaker 1>And then I cat it a binary.

00:17:18.685 --> 00:17:21.165
<v Speaker 0>It's a mooplit. He's he's given us a

00:17:21.165 --> 00:17:21.964
<v Speaker 0>mooplit.

00:17:24.685 --> 00:17:25.244
<v Speaker 1>Very nice.

00:17:29.620 --> 00:17:31.140
<v Speaker 1>So can we just go pull?

00:17:32.820 --> 00:17:34.740
<v Speaker 0>Let's just do an app to just reinstall.

00:17:50.605 --> 00:17:51.005
<v Speaker 0>Well.

00:17:53.210 --> 00:17:54.810
<v Speaker 0>Is that not work? No. Don't don't cat

00:17:54.810 --> 00:17:57.210
<v Speaker 1>it. Don't Do your string. Do string.

00:18:01.610 --> 00:18:03.450
<v Speaker 0>Oh, yeah. String's always gonna do.

00:18:04.170 --> 00:18:05.050
<v Speaker 0>Yeah. That's better.

00:18:08.024 --> 00:18:10.105
<v Speaker 0>So why did the restart

00:18:11.625 --> 00:18:14.024
<v Speaker 0>Maybe it's just a hangover. Nope. It's not

00:18:14.024 --> 00:18:14.824
<v Speaker 0>a hangover.

00:18:16.024 --> 00:18:17.544
<v Speaker 1>You Wait. Do we need to do like

00:18:17.544 --> 00:18:20.344
<v Speaker 1>a daemon reload on system CTL?

00:18:20.664 --> 00:18:23.530
<v Speaker 0>Only when you modify the the unit fail.

00:18:23.530 --> 00:18:24.250
<v Speaker 1>Right.

00:18:25.530 --> 00:18:27.210
<v Speaker 1>I would have thought at least.

00:18:28.490 --> 00:18:31.450
<v Speaker 0>But all our system control commands are. He's

00:18:31.450 --> 00:18:33.850
<v Speaker 0>not just modified Kiplit. That's the problem here.

00:18:34.330 --> 00:18:35.850
<v Speaker 1>Did he actually modify

00:18:36.625 --> 00:18:37.745
<v Speaker 1>the system c

00:18:39.184 --> 00:18:40.304
<v Speaker 1>system d?

00:18:41.904 --> 00:18:44.544
<v Speaker 1>Or did he do the system files?

00:18:46.304 --> 00:18:48.865
<v Speaker 0>Oh, look. System control was compiled today at

00:18:48.865 --> 00:18:49.585
<v Speaker 0>five past five.

00:18:54.400 --> 00:18:55.120
<v Speaker 0>I've

00:18:56.880 --> 00:18:59.200
<v Speaker 0>never reinstalled this DNLive system before.

00:19:06.455 --> 00:19:08.934
<v Speaker 0>Surely that's gonna blow up. Right? No?

00:19:11.735 --> 00:19:12.774
<v Speaker 0>There we go.

00:19:16.615 --> 00:19:19.049
<v Speaker 0>Do you wanna run? Get notes. You think

00:19:19.049 --> 00:19:19.929
<v Speaker 0>it's happy?

00:19:21.210 --> 00:19:22.490
<v Speaker 0>Or are we gonna have to list every

00:19:22.490 --> 00:19:24.329
<v Speaker 0>binary modified in the last ever?

00:19:24.649 --> 00:19:25.690
<v Speaker 1>It's not

00:19:25.850 --> 00:19:28.009
<v Speaker 1>we might have to list every binary that's

00:19:28.009 --> 00:19:29.690
<v Speaker 1>been modified. It still says not ready, but

00:19:29.690 --> 00:19:30.889
<v Speaker 1>it might take it a second

00:19:31.645 --> 00:19:32.524
<v Speaker 1>sometimes.

00:19:32.684 --> 00:19:36.205
<v Speaker 0>Let's define user ben dash m

00:19:37.005 --> 00:19:39.325
<v Speaker 0>three six o t

00:19:41.405 --> 00:19:42.045
<v Speaker 0>fail.

00:19:44.650 --> 00:19:46.330
<v Speaker 0>I just did a modified time. I thought

00:19:46.330 --> 00:19:48.650
<v Speaker 0>it was just seconds.

00:19:54.730 --> 00:19:56.890
<v Speaker 1>I don't know, actually. Let me go Google

00:19:56.890 --> 00:19:58.090
<v Speaker 1>it. I'll Google it.

00:20:11.335 --> 00:20:14.055
<v Speaker 1>It's dash m time space.

00:20:16.620 --> 00:20:17.820
<v Speaker 0>M time.

00:20:20.860 --> 00:20:22.540
<v Speaker 0>And that's just type f.

00:20:22.780 --> 00:20:23.660
<v Speaker 0>Okay.

00:20:24.220 --> 00:20:25.900
<v Speaker 0>Oh, and then that's a

00:20:26.380 --> 00:20:29.260
<v Speaker 0>forward predicate, so maybe. Yeah. Like negative.

00:20:30.145 --> 00:20:31.905
<v Speaker 0>Yeah. I don't think he's compared to all

00:20:31.905 --> 00:20:32.465
<v Speaker 0>those.

00:20:33.985 --> 00:20:35.905
<v Speaker 0>Alright. He's in the chat. We found all

00:20:35.905 --> 00:20:36.784
<v Speaker 0>the binaries.

00:20:37.345 --> 00:20:38.784
<v Speaker 0>Alright. So our

00:20:39.505 --> 00:20:41.745
<v Speaker 0>kubelets should be posted in a status at

00:20:41.745 --> 00:20:42.544
<v Speaker 0>least there.

00:20:44.385 --> 00:20:44.865
<v Speaker 1>Should be.

00:20:45.470 --> 00:20:49.150
<v Speaker 1>Let's see. It still says kubelet stop posting

00:20:49.150 --> 00:20:50.429
<v Speaker 1>node status.

00:20:53.070 --> 00:20:54.590
<v Speaker 0>We have a kubelet running.

00:20:56.030 --> 00:20:57.070
<v Speaker 0>No. We don't.

00:20:59.265 --> 00:21:01.665
<v Speaker 1>So now we should probably just get its

00:21:01.665 --> 00:21:03.745
<v Speaker 1>logs from it now. I I would do

00:21:03.745 --> 00:21:04.865
<v Speaker 1>you mind if I type real quick? No.

00:21:04.865 --> 00:21:05.825
<v Speaker 0>Go for it. Alright.

00:21:09.585 --> 00:21:09.985
<v Speaker 1>Let's see.

00:21:15.539 --> 00:21:16.899
<v Speaker 0>Yeah. It looks like it's starting.

00:21:29.995 --> 00:21:32.155
<v Speaker 0>I think the daemon reload mod is only

00:21:32.155 --> 00:21:34.795
<v Speaker 0>needed when you modify the unit fails. Oh,

00:21:34.795 --> 00:21:37.035
<v Speaker 1>actually I I had a misspelling

00:21:37.035 --> 00:21:38.155
<v Speaker 1>of cubelet

00:21:38.155 --> 00:21:39.835
<v Speaker 1>when I did the logs anyways.

00:21:47.890 --> 00:21:48.770
<v Speaker 1>So

00:21:48.770 --> 00:21:50.530
<v Speaker 1>I do believe that there's some

00:21:51.490 --> 00:21:53.570
<v Speaker 1>this isn't your typical thing that you get

00:21:53.570 --> 00:21:55.409
<v Speaker 1>exported out in logs here.

00:21:55.730 --> 00:21:58.850
<v Speaker 1>I think possibly the system

00:21:58.395 --> 00:22:00.635
<v Speaker 1>file has been updated with how it runs.

00:22:00.635 --> 00:22:01.434
<v Speaker 1>Let's see.

00:22:04.075 --> 00:22:06.794
<v Speaker 1>Let's see. Its exec start here is

00:22:06.795 --> 00:22:07.915
<v Speaker 1>the kubelet,

00:22:07.915 --> 00:22:09.035
<v Speaker 1>kubect config args.

00:22:12.139 --> 00:22:14.059
<v Speaker 1>That almost seems right.

00:22:22.059 --> 00:22:23.820
<v Speaker 1>Wait. Wait. Insecure values.

00:22:28.025 --> 00:22:30.105
<v Speaker 1>Maybe we should check its

00:22:30.424 --> 00:22:33.785
<v Speaker 1>configuration file. Well, mean, the environment fail is

00:22:33.785 --> 00:22:35.384
<v Speaker 0>pointing to the mid blitz though.

00:22:36.424 --> 00:22:37.065
<v Speaker 1>Oh.

00:22:37.385 --> 00:22:38.985
<v Speaker 1>Oh, sorry. I hadn't scrolled back down to

00:22:38.985 --> 00:22:39.465
<v Speaker 1>where you were.

00:22:44.100 --> 00:22:45.860
<v Speaker 0>Let's take a look at the mid bloop.

00:22:50.820 --> 00:22:51.780
<v Speaker 0>Run once.

00:22:53.940 --> 00:22:55.860
<v Speaker 0>Oh, that I knew that was gonna make

00:22:55.860 --> 00:22:56.820
<v Speaker 0>another

00:22:56.820 --> 00:22:58.340
<v Speaker 0>appearance after the last day.

00:23:00.164 --> 00:23:02.085
<v Speaker 1>Wonderful. I have hurt myself.

00:23:02.804 --> 00:23:03.924
<v Speaker 1>Past Merrick

00:23:04.005 --> 00:23:06.004
<v Speaker 1>hurt current Merrick.

00:23:07.285 --> 00:23:10.485
<v Speaker 0>Well, we still have the Etsy kubelet files.

00:23:10.485 --> 00:23:12.965
<v Speaker 0>So I guess if we go to

00:23:14.570 --> 00:23:16.490
<v Speaker 0>systemd system

00:23:17.610 --> 00:23:18.570
<v Speaker 0>kuplit,

00:23:19.610 --> 00:23:20.890
<v Speaker 0>where was the fail?

00:23:24.730 --> 00:23:25.210
<v Speaker 0>Here.

00:23:30.495 --> 00:23:31.934
<v Speaker 0>No. This is configured

00:23:32.015 --> 00:23:34.094
<v Speaker 0>here. Yeah. That is the right one.

00:23:36.015 --> 00:23:36.734
<v Speaker 0>And

00:23:42.790 --> 00:23:44.630
<v Speaker 0>No more mooblets in here. Right?

00:23:45.910 --> 00:23:48.070
<v Speaker 1>We should have just started a find on

00:23:48.070 --> 00:23:50.309
<v Speaker 1>the file system for mooblets.

00:23:51.750 --> 00:23:52.230
<v Speaker 1>Alright.

00:24:00.965 --> 00:24:02.244
<v Speaker 0>Still not QIPLET.

00:24:04.085 --> 00:24:05.125
<v Speaker 0>That was unexpected.

00:24:24.750 --> 00:24:26.830
<v Speaker 0>Okay. So it's on this roll and restart

00:24:26.830 --> 00:24:29.275
<v Speaker 0>thing. It does have a restart ten seconds

00:24:29.275 --> 00:24:30.715
<v Speaker 0>in the config.

00:24:31.995 --> 00:24:33.355
<v Speaker 0>So it's not getting enough.

00:24:34.155 --> 00:24:36.795
<v Speaker 1>Oh, sorry? It's not getting enough config to

00:24:36.795 --> 00:24:38.555
<v Speaker 0>start by the looks of it. Or it's

00:24:38.555 --> 00:24:41.115
<v Speaker 0>getting a dodgy flag which we're probably skipping

00:24:41.115 --> 00:24:42.555
<v Speaker 0>because of all scroll.

00:24:44.710 --> 00:24:46.230
<v Speaker 1>Yeah. I was looking through this. I I

00:24:46.230 --> 00:24:49.110
<v Speaker 1>actually absolutely love the cubelet service failed with

00:24:49.110 --> 00:24:51.029
<v Speaker 1>the result exit code.

00:24:53.350 --> 00:24:54.870
<v Speaker 1>Perfect. That that was so helpful.

00:24:55.684 --> 00:24:57.525
<v Speaker 0>Yeah. I can't think of the start and

00:24:57.525 --> 00:24:58.725
<v Speaker 0>all this mess. Let's

00:25:00.725 --> 00:25:03.125
<v Speaker 1>I was scrolling through it. Let's create some

00:25:03.125 --> 00:25:05.845
<v Speaker 0>blank blank space because blank space is good.

00:25:05.845 --> 00:25:06.965
<v Speaker 0>There's a new restart.

00:25:12.350 --> 00:25:13.790
<v Speaker 0>Where's my black space?

00:25:13.950 --> 00:25:15.070
<v Speaker 0>Oh, there we go.

00:25:15.790 --> 00:25:19.870
<v Speaker 0>Okay. So restart counter is it's restarting 8,000

00:25:19.870 --> 00:25:20.750
<v Speaker 0>times.

00:25:21.070 --> 00:25:23.150
<v Speaker 1>There's some deprecated flags.

00:25:23.434 --> 00:25:25.674
<v Speaker 1>I don't wait. Failed to parse

00:25:25.835 --> 00:25:28.154
<v Speaker 1>a kubelet flag. Invalid argument.

00:25:28.155 --> 00:25:30.075
<v Speaker 1>File check frequency. Okay.

00:25:32.475 --> 00:25:34.155
<v Speaker 1>Yeah. You're looking at the same thing. Yeah.

00:25:37.740 --> 00:25:40.860
<v Speaker 0>Alright. Let's find that failed check frequency.

00:25:46.540 --> 00:25:48.299
<v Speaker 0>Assuming it's not in the

00:25:48.620 --> 00:25:49.420
<v Speaker 0>kubelet.

00:25:49.420 --> 00:25:50.220
<v Speaker 0>It is.

00:25:53.125 --> 00:25:53.925
<v Speaker 0>Oh,

00:25:53.925 --> 00:25:55.525
<v Speaker 0>in fact, even our Kuplet fail has a

00:25:55.525 --> 00:25:57.445
<v Speaker 0>run once. You sneaky devil.

00:25:58.725 --> 00:26:00.085
<v Speaker 0>The mid blot was just to throw his

00:26:00.085 --> 00:26:02.805
<v Speaker 0>off as set. So he definitely watched last

00:26:02.805 --> 00:26:03.045
<v Speaker 1>one.

00:26:06.230 --> 00:26:07.750
<v Speaker 0>I don't need to do a daemon reload,

00:26:07.750 --> 00:26:09.110
<v Speaker 0>but I'm gonna do one because now I've

00:26:09.110 --> 00:26:09.989
<v Speaker 0>got this here.

00:26:11.909 --> 00:26:14.549
<v Speaker 0>And that restart took a bit longer. So

00:26:16.710 --> 00:26:17.029
<v Speaker 0>hey.

00:26:24.525 --> 00:26:26.685
<v Speaker 0>Alright. Let's give that thirty seconds. See if

00:26:26.685 --> 00:26:27.885
<v Speaker 0>we get a ready status.

00:26:30.605 --> 00:26:31.405
<v Speaker 0>Alright.

00:26:31.725 --> 00:26:32.445
<v Speaker 0>Here we go.

00:26:33.740 --> 00:26:34.859
<v Speaker 0>Thank you, Kevin.

00:26:35.340 --> 00:26:36.299
<v Speaker 0>That was fun.

00:26:36.779 --> 00:26:37.739
<v Speaker 0>That was good.

00:26:40.220 --> 00:26:42.460
<v Speaker 0>Alright. I feel vindicated that if I had

00:26:42.460 --> 00:26:45.019
<v Speaker 1>been typing, I would have cat ed the

00:26:45.019 --> 00:26:45.659
<v Speaker 1>cubelet.

00:26:49.035 --> 00:26:50.875
<v Speaker 1>So thank you, Kevin. I feel better about

00:26:50.875 --> 00:26:52.155
<v Speaker 1>myself as

00:26:52.555 --> 00:26:53.115
<v Speaker 1>yeah.

00:26:54.475 --> 00:26:55.675
<v Speaker 0>Alright. Well,

00:26:58.235 --> 00:27:00.315
<v Speaker 0>let me close

00:27:02.080 --> 00:27:03.119
<v Speaker 0>that session.

00:27:04.320 --> 00:27:04.720
<v Speaker 0>And,

00:27:05.200 --> 00:27:07.679
<v Speaker 0>let's see. Kevin's saying,

00:27:08.480 --> 00:27:11.279
<v Speaker 0>kinda sad that one break didn't stick.

00:27:11.360 --> 00:27:13.200
<v Speaker 0>It should have been a system resolved the

00:27:13.200 --> 00:27:13.520
<v Speaker 0>break.

00:27:14.044 --> 00:27:14.845
<v Speaker 0>Well,

00:27:14.845 --> 00:27:16.125
<v Speaker 0>that just means you've got a break for

00:27:16.125 --> 00:27:18.445
<v Speaker 0>next time. Right? So it's all good.

00:27:18.924 --> 00:27:21.085
<v Speaker 0>And Kevin has already posted a link to

00:27:21.085 --> 00:27:23.405
<v Speaker 0>his GitLab repository with the breaks, so and

00:27:23.405 --> 00:27:25.164
<v Speaker 0>the Discord server. So if you wanna know

00:27:25.164 --> 00:27:26.524
<v Speaker 0>more, go check it out.

00:27:27.804 --> 00:27:30.230
<v Speaker 0>Alright. Let's jump over. I I don't know

00:27:30.230 --> 00:27:32.630
<v Speaker 0>if Russell's taunting us or not. These guys

00:27:32.630 --> 00:27:35.430
<v Speaker 0>are obviously pros, but we're gonna tackle Russell's

00:27:35.430 --> 00:27:36.310
<v Speaker 0>cluster now.

00:27:36.630 --> 00:27:39.030
<v Speaker 0>He's been hyping this up. So I'm expecting

00:27:39.030 --> 00:27:39.990
<v Speaker 0>great,

00:27:39.990 --> 00:27:40.870
<v Speaker 0>great things.

00:27:40.950 --> 00:27:43.430
<v Speaker 1>I've woken up each morning to a series

00:27:43.430 --> 00:27:44.070
<v Speaker 1>of tweets

00:27:44.455 --> 00:27:47.095
<v Speaker 1>taunting us. So I have his tweets up

00:27:47.095 --> 00:27:48.455
<v Speaker 1>just so that we can go through them

00:27:48.455 --> 00:27:50.295
<v Speaker 1>as reference material for, you know

00:27:54.375 --> 00:27:55.015
<v Speaker 1>Yeah.

00:27:56.535 --> 00:27:57.015
<v Speaker 0>Alright.

00:27:58.159 --> 00:28:00.559
<v Speaker 0>We've landed into a speak and spell.

00:28:02.000 --> 00:28:02.879
<v Speaker 0>Wait.

00:28:05.360 --> 00:28:08.240
<v Speaker 1>Do we have root? I'm concerned we don't

00:28:08.240 --> 00:28:10.240
<v Speaker 1>have root. Well, right now, I think our

00:28:10.240 --> 00:28:12.480
<v Speaker 0>shell has been replaced by

00:28:12.995 --> 00:28:14.195
<v Speaker 0>something else.

00:28:15.235 --> 00:28:16.675
<v Speaker 0>We're probably gonna have to try and get

00:28:16.675 --> 00:28:17.635
<v Speaker 0>out of it

00:28:18.355 --> 00:28:19.715
<v Speaker 0>if we wanna get

00:28:20.195 --> 00:28:21.155
<v Speaker 0>access.

00:28:23.075 --> 00:28:25.075
<v Speaker 1>Alright. I'm joining.

00:28:25.155 --> 00:28:25.875
<v Speaker 1>I'm in.

00:28:27.040 --> 00:28:28.559
<v Speaker 0>Oh, I just killed it.

00:28:30.720 --> 00:28:32.320
<v Speaker 0>I control c to to see if it

00:28:32.320 --> 00:28:33.039
<v Speaker 0>would just

00:28:33.600 --> 00:28:35.120
<v Speaker 0>give me a proper shell.

00:28:37.520 --> 00:28:39.920
<v Speaker 0>Assuming maybe he just modified the bash profile

00:28:39.920 --> 00:28:41.360
<v Speaker 0>to run another command immediately.

00:28:41.875 --> 00:28:43.474
<v Speaker 1>Can we just type exit?

00:28:47.075 --> 00:28:47.715
<v Speaker 1>Oh.

00:28:48.755 --> 00:28:50.434
<v Speaker 1>What noise did Hoot.

00:28:50.835 --> 00:28:51.235
<v Speaker 1>Oh.

00:28:54.010 --> 00:28:54.809
<v Speaker 0>Us.

00:28:59.289 --> 00:29:00.169
<v Speaker 0>Us.

00:29:03.850 --> 00:29:06.010
<v Speaker 1>I don't trust that we're still in the

00:29:08.275 --> 00:29:10.035
<v Speaker 1>I was gonna say, I don't actually trust

00:29:10.035 --> 00:29:10.995
<v Speaker 1>that we're in

00:29:15.875 --> 00:29:17.475
<v Speaker 1>in Bash right now.

00:29:20.590 --> 00:29:22.749
<v Speaker 0>Yeah. We're not think we're still I

00:29:23.789 --> 00:29:25.709
<v Speaker 1>think we're still in the

00:29:26.110 --> 00:29:26.749
<v Speaker 1>game.

00:29:27.549 --> 00:29:29.469
<v Speaker 0>I think we're still in the game too.

00:29:31.309 --> 00:29:32.110
<v Speaker 0>We run Bash?

00:29:33.185 --> 00:29:35.185
<v Speaker 1>Okay. So Rust said you'll both love it.

00:29:35.185 --> 00:29:36.945
<v Speaker 1>It's written in Rust. So we all know

00:29:36.945 --> 00:29:38.304
<v Speaker 1>that Rust is the

00:29:38.545 --> 00:29:40.304
<v Speaker 0>I got it. Superior language.

00:29:43.505 --> 00:29:45.985
<v Speaker 1>You're just running bash inside of whatever this

00:29:45.985 --> 00:29:46.225
<v Speaker 1>is?

00:29:48.780 --> 00:29:50.220
<v Speaker 0>It would appear so.

00:29:50.460 --> 00:29:52.540
<v Speaker 0>I'm not contained. We have access to the

00:29:52.540 --> 00:29:53.260
<v Speaker 0>host.

00:29:55.900 --> 00:29:56.220
<v Speaker 0>Quick.

00:30:03.415 --> 00:30:04.535
<v Speaker 1>What's happening?

00:30:06.295 --> 00:30:08.055
<v Speaker 0>Oh, yeah. Let me reset the clock. Good

00:30:08.055 --> 00:30:12.295
<v Speaker 0>call. So whenever I do shift a key,

00:30:14.215 --> 00:30:15.255
<v Speaker 0>something breaks.

00:30:19.600 --> 00:30:20.320
<v Speaker 0>Export.

00:30:32.735 --> 00:30:34.815
<v Speaker 1>Oh, that's interesting. Our bash.

00:30:35.215 --> 00:30:37.215
<v Speaker 1>So I don't know that you're in bash.

00:30:38.495 --> 00:30:39.775
<v Speaker 0>Russell bash.

00:30:40.575 --> 00:30:42.590
<v Speaker 1>Right. I I think that you're in a

00:30:42.590 --> 00:30:43.310
<v Speaker 1>special.

00:30:44.830 --> 00:30:46.590
<v Speaker 1>You're in a special.

00:30:49.470 --> 00:30:50.190
<v Speaker 1>Okay.

00:30:51.470 --> 00:30:52.430
<v Speaker 0>Where? So

00:30:55.705 --> 00:30:57.945
<v Speaker 0>I love that there's a user code victim,

00:30:57.945 --> 00:30:59.705
<v Speaker 0>which I'm assuming we may have ended up

00:30:59.865 --> 00:31:01.624
<v Speaker 0>oh, there we go. There's error.

00:31:02.424 --> 00:31:04.424
<v Speaker 0>So let's set the crap out of this.

00:31:04.424 --> 00:31:04.984
<v Speaker 0>Right?

00:31:07.065 --> 00:31:08.344
<v Speaker 0>So end line

00:31:09.700 --> 00:31:10.740
<v Speaker 0>And I see it's just had

00:31:11.460 --> 00:31:12.900
<v Speaker 0>we have ah,

00:31:13.460 --> 00:31:14.100
<v Speaker 0>open.

00:31:18.500 --> 00:31:19.940
<v Speaker 0>Oh, I need to go to the terminal

00:31:19.940 --> 00:31:21.220
<v Speaker 0>here because that's annoying.

00:31:24.925 --> 00:31:27.325
<v Speaker 0>I can't open Vim. Right? So

00:31:30.685 --> 00:31:32.285
<v Speaker 1>Can you escape Vim?

00:31:33.485 --> 00:31:36.045
<v Speaker 0>He's made it so that oh, I'm assuming

00:31:36.330 --> 00:31:37.929
<v Speaker 0>he's taken over a read line and when

00:31:37.929 --> 00:31:39.769
<v Speaker 0>I do a single exclamation mark in Vim,

00:31:39.769 --> 00:31:40.890
<v Speaker 0>it was done too, but that could have

00:31:40.890 --> 00:31:42.730
<v Speaker 0>been a side effect. So we can open

00:31:42.730 --> 00:31:44.889
<v Speaker 0>Vim, which means we can edit

00:31:48.490 --> 00:31:49.289
<v Speaker 0>password d.

00:31:53.055 --> 00:31:55.455
<v Speaker 0>And this is probably just Ben Bash. Right?

00:31:59.455 --> 00:32:00.975
<v Speaker 0>I would have thought so.

00:32:05.930 --> 00:32:07.769
<v Speaker 0>It's an interesting place for Bash.

00:32:10.170 --> 00:32:11.690
<v Speaker 1>Well, aren't we still in?

00:32:12.330 --> 00:32:14.649
<v Speaker 0>So we've modified the password for now.

00:32:15.050 --> 00:32:16.169
<v Speaker 0>I'm assuming

00:32:16.250 --> 00:32:18.410
<v Speaker 0>we can get out of his game

00:32:20.855 --> 00:32:23.495
<v Speaker 0>with a new session. And reconnect with a

00:32:23.495 --> 00:32:24.054
<v Speaker 1>new session.

00:32:33.070 --> 00:32:34.669
<v Speaker 0>Alright. So that was

00:32:35.710 --> 00:32:37.389
<v Speaker 0>that didn't get me where I wanted.

00:32:39.230 --> 00:32:40.989
<v Speaker 0>I could your code, Russell.

00:32:42.990 --> 00:32:44.830
<v Speaker 0>Yeah. Oh, okay.

00:32:45.230 --> 00:32:46.429
<v Speaker 0>I will

00:32:50.185 --> 00:32:51.065
<v Speaker 0>gaggle.

00:32:54.185 --> 00:32:55.785
<v Speaker 0>No. Rip it.

00:32:59.785 --> 00:33:00.265
<v Speaker 0>Weak.

00:33:03.679 --> 00:33:06.000
<v Speaker 0>Alright. Now we're back in this dodgy r

00:33:06.000 --> 00:33:06.720
<v Speaker 0>bash.

00:33:07.440 --> 00:33:09.600
<v Speaker 0>If we look at passwords

00:33:12.400 --> 00:33:14.880
<v Speaker 1>It's back. It's back. Right. Okay. So

00:33:17.065 --> 00:33:19.384
<v Speaker 1>Did we validate that we actually saved it?

00:33:19.465 --> 00:33:21.144
<v Speaker 1>Just as a like

00:33:22.424 --> 00:33:24.504
<v Speaker 1>is what we did correct?

00:33:25.225 --> 00:33:27.145
<v Speaker 1>Or did he revert it? I think that's

00:33:27.145 --> 00:33:28.919
<v Speaker 1>two different problems.

00:33:30.760 --> 00:33:34.759
<v Speaker 1>I feel, knowing Russell, that he reverted it.

00:33:34.840 --> 00:33:35.080
<v Speaker 1>But

00:33:40.760 --> 00:33:42.039
<v Speaker 0>Yeah. It's not saved.

00:33:43.245 --> 00:33:43.965
<v Speaker 1>Okay.

00:33:51.325 --> 00:33:53.645
<v Speaker 0>Let's see what our fail system looks like.

00:34:00.070 --> 00:34:02.309
<v Speaker 1>What permissions do we have?

00:34:03.190 --> 00:34:04.629
<v Speaker 1>Do we have

00:34:06.070 --> 00:34:06.869
<v Speaker 1>I mean,

00:34:07.510 --> 00:34:09.270
<v Speaker 1>says that we're root, but I actually don't

00:34:09.270 --> 00:34:10.310
<v Speaker 1>believe that we're root.

00:34:11.135 --> 00:34:13.295
<v Speaker 1>I'm kind of wondering if we're like, our

00:34:13.295 --> 00:34:14.574
<v Speaker 1>bashes root.

00:34:18.574 --> 00:34:20.175
<v Speaker 1>No. I don't know. I mean, we can

00:34:20.175 --> 00:34:21.135
<v Speaker 0>do cat,

00:34:21.135 --> 00:34:21.935
<v Speaker 0>proc,

00:34:22.094 --> 00:34:22.895
<v Speaker 0>self,

00:34:25.454 --> 00:34:26.175
<v Speaker 0>c grip.

00:34:30.180 --> 00:34:32.820
<v Speaker 0>And what else do we want? I mean,

00:34:32.820 --> 00:34:34.180
<v Speaker 0>the fact that I'm even in a profile

00:34:34.180 --> 00:34:35.620
<v Speaker 0>system, I think

00:34:36.500 --> 00:34:37.699
<v Speaker 0>I do believe we are root.

00:34:39.474 --> 00:34:41.875
<v Speaker 1>But is this the system's profile system or

00:34:41.875 --> 00:34:43.795
<v Speaker 1>is this some container that you're in?

00:34:46.994 --> 00:34:49.395
<v Speaker 0>This this is not a container.

00:34:50.915 --> 00:34:52.835
<v Speaker 0>This is his shell

00:34:52.835 --> 00:34:55.349
<v Speaker 0>on the root of the host. And our

00:34:55.349 --> 00:34:56.630
<v Speaker 0>bashes are part of the real thing. He

00:34:56.630 --> 00:34:57.589
<v Speaker 0>didn't make it.

00:34:57.990 --> 00:34:58.630
<v Speaker 0>So

00:34:58.869 --> 00:35:00.309
<v Speaker 0>but I'm not gonna look that up right

00:35:00.309 --> 00:35:02.950
<v Speaker 0>now. I'm gonna focus on destroying it with

00:35:02.950 --> 00:35:03.589
<v Speaker 0>fire.

00:35:03.829 --> 00:35:04.390
<v Speaker 0>So

00:35:09.954 --> 00:35:12.835
<v Speaker 1>Oh, it's the restricted bash shell.

00:35:13.875 --> 00:35:15.395
<v Speaker 1>Okay. So

00:35:16.355 --> 00:35:18.035
<v Speaker 1>our bash is a real thing.

00:35:19.635 --> 00:35:21.954
<v Speaker 1>I didn't realize this was it. Okay. So

00:35:21.954 --> 00:35:24.355
<v Speaker 1>one second. If we're in the restricted

00:35:26.040 --> 00:35:28.120
<v Speaker 0>Well, can we just open a normal bash?

00:35:28.440 --> 00:35:29.640
<v Speaker 0>No. Okay. So

00:35:30.040 --> 00:35:32.840
<v Speaker 0>now specify slash and command names, but can

00:35:32.840 --> 00:35:35.320
<v Speaker 0>I move to the directory? No. Okay. No.

00:35:35.400 --> 00:35:37.640
<v Speaker 0>Can set plus r maybe.

00:35:41.505 --> 00:35:43.345
<v Speaker 1>I think it's plus r if you do

00:35:43.825 --> 00:35:45.265
<v Speaker 1>here, I'll type really quickly.

00:35:55.720 --> 00:35:57.480
<v Speaker 0>Do we have access to sudo?

00:36:05.880 --> 00:36:08.040
<v Speaker 0>Wait. Wait. Okay. We're done. That's it.

00:36:09.675 --> 00:36:11.835
<v Speaker 0>Okay. I can see the and I can

00:36:11.835 --> 00:36:12.475
<v Speaker 0>open

00:36:12.795 --> 00:36:14.395
<v Speaker 0>binaries with a slash.

00:36:16.795 --> 00:36:17.355
<v Speaker 0>So

00:36:18.155 --> 00:36:20.795
<v Speaker 0>we currently have real root.

00:36:21.595 --> 00:36:22.315
<v Speaker 1>Okay.

00:36:23.035 --> 00:36:26.235
<v Speaker 0>Because we had access because sudo is a

00:36:25.550 --> 00:36:27.070
<v Speaker 0>set uid binary.

00:36:28.190 --> 00:36:28.750
<v Speaker 0>So

00:36:29.070 --> 00:36:30.670
<v Speaker 0>well, at least I'm assuming so right now.

00:36:30.670 --> 00:36:32.670
<v Speaker 0>I I don't really know what Russell's got

00:36:32.670 --> 00:36:34.110
<v Speaker 0>in store for us, but

00:36:34.670 --> 00:36:37.950
<v Speaker 0>I really wanna focus on this password fail

00:36:38.225 --> 00:36:40.145
<v Speaker 0>because I want my normal shell back.

00:36:41.505 --> 00:36:43.505
<v Speaker 0>So what I'm gonna do is

00:36:46.305 --> 00:36:48.065
<v Speaker 0>grab for that speak shit.

00:36:48.705 --> 00:36:50.465
<v Speaker 0>I'm gonna stick bash over the top of

00:36:50.465 --> 00:36:51.025
<v Speaker 0>it.

00:36:52.225 --> 00:36:52.865
<v Speaker 0>That makes sense?

00:36:53.870 --> 00:36:56.190
<v Speaker 0>Let's stick this to temp. It should just

00:36:56.190 --> 00:36:58.190
<v Speaker 1>be bin bash. Right? Yeah. We we just

00:36:58.190 --> 00:37:00.750
<v Speaker 0>want bin bash. We don't want his dodgy

00:37:00.750 --> 00:37:01.470
<v Speaker 0>bash.

00:37:04.830 --> 00:37:07.310
<v Speaker 0>Oh. There's some weird input things going on

00:37:07.310 --> 00:37:07.710
<v Speaker 0>right now.

00:37:14.775 --> 00:37:16.855
<v Speaker 0>Yes. It really doesn't like me entering a

00:37:16.855 --> 00:37:17.255
<v Speaker 0>key.

00:37:22.329 --> 00:37:23.609
<v Speaker 0>So copy

00:37:23.609 --> 00:37:25.770
<v Speaker 0>binbash. I'm gonna try and copy and paste

00:37:25.770 --> 00:37:26.570
<v Speaker 0>this then.

00:37:32.170 --> 00:37:32.890
<v Speaker 0>So annoying.

00:37:42.985 --> 00:37:44.265
<v Speaker 0>Okay. We need to find a way to

00:37:44.265 --> 00:37:46.585
<v Speaker 0>do it. That's the key. Although, let me

00:37:46.585 --> 00:37:48.025
<v Speaker 0>move it out of the way, didn't it?

00:37:48.025 --> 00:37:49.865
<v Speaker 0>I moved it to

00:37:56.140 --> 00:37:58.940
<v Speaker 0>oh, so if I auto complete it. So

00:37:59.580 --> 00:38:01.260
<v Speaker 0>temp BeaconShell

00:38:01.980 --> 00:38:03.740
<v Speaker 0>and then come back

00:38:05.355 --> 00:38:07.035
<v Speaker 0>to user bin

00:38:08.395 --> 00:38:09.835
<v Speaker 0>and copy

00:38:09.915 --> 00:38:11.915
<v Speaker 0>bin bash to that location.

00:38:12.715 --> 00:38:13.515
<v Speaker 0>Alright.

00:38:17.035 --> 00:38:18.875
<v Speaker 0>So

00:38:17.930 --> 00:38:20.330
<v Speaker 0>let's restart our shell and see if we

00:38:20.330 --> 00:38:22.890
<v Speaker 0>get presented with that annoying fucking quiz.

00:38:28.250 --> 00:38:29.370
<v Speaker 0>Oh, we're back to them now.

00:38:32.855 --> 00:38:36.695
<v Speaker 0>Stage two. Rawkode success. Oh, auto logout.

00:38:46.135 --> 00:38:47.255
<v Speaker 1>That's

00:38:47.255 --> 00:38:47.734
<v Speaker 1>interesting.

00:38:49.550 --> 00:38:52.190
<v Speaker 1>I bet you were back in the Speakeasy.

00:38:55.390 --> 00:38:57.070
<v Speaker 0>Alright. So I think we just have to

00:38:57.070 --> 00:39:00.110
<v Speaker 0>take commands every fourteen seconds or whatever stupid

00:39:00.110 --> 00:39:01.150
<v Speaker 0>release got for us.

00:39:04.934 --> 00:39:05.974
<v Speaker 0>Oh, no. It it just

00:39:06.615 --> 00:39:07.494
<v Speaker 0>there we go.

00:39:09.335 --> 00:39:11.335
<v Speaker 0>Russell, that's that's annoying. You need to log

00:39:11.335 --> 00:39:13.494
<v Speaker 1>in and hit the hints really quickly.

00:39:14.055 --> 00:39:15.494
<v Speaker 0>Well, no. We don't want the hints. We're

00:39:15.494 --> 00:39:17.415
<v Speaker 0>we're just heading level two. Come on. Alright.

00:39:20.080 --> 00:39:23.120
<v Speaker 1>So one second. You're in home victim.

00:39:24.640 --> 00:39:28.080
<v Speaker 1>Okay. So my guess is that there's something

00:39:28.080 --> 00:39:30.320
<v Speaker 1>in the like bash sh

00:39:33.185 --> 00:39:34.465
<v Speaker 1>for the profile.

00:39:35.265 --> 00:39:36.865
<v Speaker 0>Yeah. I kinda wish I had to speak

00:39:36.865 --> 00:39:38.865
<v Speaker 0>easy. The speak and spell back for a

00:39:38.865 --> 00:39:39.425
<v Speaker 0>minute.

00:39:41.585 --> 00:39:42.865
<v Speaker 0>Let's install a new shell.

00:39:52.420 --> 00:39:53.220
<v Speaker 0>Oh, good.

00:39:57.300 --> 00:39:58.340
<v Speaker 0>I'll just keep typing.

00:40:01.965 --> 00:40:04.125
<v Speaker 0>Alright. We don't have at.

00:40:06.285 --> 00:40:08.285
<v Speaker 0>Yeah. Russell up the time. Come on.

00:40:12.285 --> 00:40:13.965
<v Speaker 0>Okay. So you think it's in the bash

00:40:13.965 --> 00:40:14.365
<v Speaker 0>RC?

00:40:16.349 --> 00:40:18.030
<v Speaker 1>Don't know that it is.

00:40:19.789 --> 00:40:20.750
<v Speaker 0>I think you as

00:40:21.789 --> 00:40:23.070
<v Speaker 0>I think you might be right.

00:40:26.670 --> 00:40:28.589
<v Speaker 1>I mean, with that aggressive of a timeline,

00:40:28.589 --> 00:40:30.245
<v Speaker 1>it tells me that it's something he thinks

00:40:30.245 --> 00:40:31.445
<v Speaker 1>we can get to quickly.

00:40:43.160 --> 00:40:45.000
<v Speaker 0>Well, that's the infective's

00:40:45.000 --> 00:40:46.680
<v Speaker 0>bash r c, so that's useless.

00:41:00.954 --> 00:41:03.115
<v Speaker 0>Okay. Cat profile.

00:41:03.755 --> 00:41:06.315
<v Speaker 1>It's either in the bash RC or bash

00:41:06.315 --> 00:41:08.474
<v Speaker 1>profile where I've seen the time out. Yeah.

00:41:08.474 --> 00:41:09.914
<v Speaker 0>There's here we go. So

00:41:11.890 --> 00:41:12.930
<v Speaker 0>we've got

00:41:14.210 --> 00:41:15.890
<v Speaker 0>he's used the profile

00:41:16.050 --> 00:41:17.730
<v Speaker 0>to fuck with us. Okay.

00:41:18.290 --> 00:41:20.210
<v Speaker 0>So in theory, we can just remove that

00:41:20.210 --> 00:41:20.690
<v Speaker 0>profile.

00:41:24.255 --> 00:41:24.975
<v Speaker 1>Or

00:41:25.535 --> 00:41:27.055
<v Speaker 1>delete that really quickly.

00:41:30.015 --> 00:41:31.615
<v Speaker 1>You got twenty seconds.

00:41:32.575 --> 00:41:32.895
<v Speaker 1>Go.

00:41:36.570 --> 00:41:38.570
<v Speaker 0>Okay. So now, hopefully.

00:41:39.770 --> 00:41:41.130
<v Speaker 0>No. We're still a victim.

00:41:42.570 --> 00:41:43.690
<v Speaker 1>Sure. We didn't

00:41:44.170 --> 00:41:45.930
<v Speaker 1>but hopefully we just don't get logged out

00:41:45.930 --> 00:41:46.330
<v Speaker 1>quickly.

00:41:53.615 --> 00:41:56.335
<v Speaker 0>I think we will. The fact because that

00:41:56.335 --> 00:41:57.535
<v Speaker 0>temp that

00:41:57.775 --> 00:41:59.855
<v Speaker 0>temp profile is what I thought was making

00:41:59.855 --> 00:42:00.575
<v Speaker 0>us the victim.

00:42:08.920 --> 00:42:11.480
<v Speaker 1>Wait. Can we just switch users to root?

00:42:14.765 --> 00:42:17.485
<v Speaker 0>Yeah. But I'm pretty sure our session is

00:42:17.485 --> 00:42:19.405
<v Speaker 0>still gonna get cut off. Let's see.

00:42:25.565 --> 00:42:27.565
<v Speaker 1>But if you switch to root and you

00:42:27.565 --> 00:42:29.430
<v Speaker 1>don't keep the current session

00:42:29.750 --> 00:42:31.910
<v Speaker 0>Yeah. That seems alright. Good call.

00:42:37.750 --> 00:42:38.470
<v Speaker 0>Okay.

00:42:41.109 --> 00:42:42.390
<v Speaker 0>And I can type k now.

00:42:43.085 --> 00:42:44.365
<v Speaker 0>Would you look at that?

00:42:54.365 --> 00:42:55.005
<v Speaker 0>Oh, well.

00:42:57.180 --> 00:42:57.980
<v Speaker 0>Alright.

00:42:58.060 --> 00:42:58.860
<v Speaker 0>Whatever.

00:42:59.099 --> 00:43:01.740
<v Speaker 0>Level three, maybe? We don't have a control

00:43:01.740 --> 00:43:02.380
<v Speaker 0>plane.

00:43:03.339 --> 00:43:05.020
<v Speaker 1>We don't have a control plane. This this

00:43:05.020 --> 00:43:07.820
<v Speaker 1>I can deal with better than the previous.

00:43:08.140 --> 00:43:10.300
<v Speaker 0>Well, I'm gonna install my my my tool

00:43:10.300 --> 00:43:11.099
<v Speaker 0>chain now.

00:43:11.605 --> 00:43:13.205
<v Speaker 0>No. I think I've actually got a real

00:43:13.205 --> 00:43:13.925
<v Speaker 0>shell.

00:43:14.885 --> 00:43:17.605
<v Speaker 0>I prepared my Rawkode. Live. Oh, fuck.

00:43:18.245 --> 00:43:19.045
<v Speaker 0>Script.

00:43:21.925 --> 00:43:22.965
<v Speaker 0>No curl.

00:43:23.125 --> 00:43:25.610
<v Speaker 1>Okay. But but check this out. Look at

00:43:25.610 --> 00:43:28.090
<v Speaker 1>where that was. That was user local sbin

00:43:28.090 --> 00:43:28.970
<v Speaker 1>bash.

00:43:35.530 --> 00:43:37.050
<v Speaker 1>Did he uninstall

00:43:37.930 --> 00:43:38.490
<v Speaker 1>apt?

00:43:41.684 --> 00:43:42.885
<v Speaker 1>Alright. One sec.

00:43:44.405 --> 00:43:46.565
<v Speaker 1>Could you check what are what we're in?

00:43:46.565 --> 00:43:47.765
<v Speaker 1>Are we actually in bash?

00:43:54.430 --> 00:43:57.310
<v Speaker 1>That shell at the top makes me hurt.

00:44:09.345 --> 00:44:11.585
<v Speaker 0>So Ben Bash looks legit.

00:44:12.385 --> 00:44:13.185
<v Speaker 0>Is it?

00:44:13.505 --> 00:44:15.585
<v Speaker 0>Let's try it. Is Bash not just another

00:44:15.585 --> 00:44:16.865
<v Speaker 1>Speakeasy shell?

00:44:17.665 --> 00:44:19.585
<v Speaker 0>I I don't think so because the time

00:44:19.665 --> 00:44:21.345
<v Speaker 0>oh, I mean, could've changed the timestamp, but

00:44:21.345 --> 00:44:23.025
<v Speaker 0>it depends on his his sneaky thing.

00:44:24.369 --> 00:44:26.370
<v Speaker 0>Let's see if that saves this time.

00:44:34.609 --> 00:44:35.810
<v Speaker 0>Yeah. That's not saving.

00:44:39.155 --> 00:44:41.235
<v Speaker 1>It almost feels like we're in an immutable

00:44:41.235 --> 00:44:42.275
<v Speaker 1>file system.

00:44:43.395 --> 00:44:45.555
<v Speaker 0>Oh, yeah. Russell says we copied bash to

00:44:45.555 --> 00:44:47.955
<v Speaker 0>his beacon shell. So he's right. We did

00:44:47.955 --> 00:44:49.875
<v Speaker 0>do that. Which means the only way that

00:44:49.875 --> 00:44:52.035
<v Speaker 0>he could be modifying our environment now is

00:44:52.035 --> 00:44:52.435
<v Speaker 0>through

00:44:54.670 --> 00:44:56.430
<v Speaker 0>the profile stuff here,

00:44:56.510 --> 00:44:57.870
<v Speaker 0>which we removed.

00:44:58.750 --> 00:45:00.990
<v Speaker 1>Or by a rogue process.

00:45:01.950 --> 00:45:03.390
<v Speaker 0>And he may just have fucked with the

00:45:03.390 --> 00:45:03.710
<v Speaker 0>path.

00:45:11.525 --> 00:45:13.045
<v Speaker 0>Oh, yeah. There's no apt.

00:45:19.365 --> 00:45:20.245
<v Speaker 0>We've been to.

00:45:21.800 --> 00:45:23.560
<v Speaker 0>We do have d p q g,

00:45:24.280 --> 00:45:26.280
<v Speaker 0>and he didn't remove apt get.

00:45:26.600 --> 00:45:27.480
<v Speaker 0>Alright.

00:45:28.280 --> 00:45:29.880
<v Speaker 0>I'm gonna install

00:45:30.200 --> 00:45:31.080
<v Speaker 0>Carl this way.

00:45:33.535 --> 00:45:35.695
<v Speaker 1>Can you install apt that way? I don't

00:45:35.695 --> 00:45:37.615
<v Speaker 1>know. I've never tried. Well, I think it's

00:45:38.815 --> 00:45:39.855
<v Speaker 0>well, actually,

00:45:40.975 --> 00:45:42.415
<v Speaker 0>curl is already installed.

00:45:52.450 --> 00:45:54.050
<v Speaker 0>So he's hidden them.

00:45:56.609 --> 00:45:57.810
<v Speaker 1>Interestingly though,

00:45:57.970 --> 00:45:58.610
<v Speaker 1>where

00:45:59.730 --> 00:46:01.330
<v Speaker 1>apt get is looking,

00:46:01.410 --> 00:46:03.090
<v Speaker 1>it knows that it's already installed.

00:46:06.745 --> 00:46:08.985
<v Speaker 0>Or he Yeah. So there's a varlib

00:46:08.985 --> 00:46:10.265
<v Speaker 0>cache.

00:46:13.465 --> 00:46:14.345
<v Speaker 0>Var cache.

00:46:16.500 --> 00:46:19.220
<v Speaker 0>And then we could go into

00:46:20.420 --> 00:46:20.740
<v Speaker 0>at

00:46:22.180 --> 00:46:24.100
<v Speaker 0>and then we have the archives.

00:46:25.380 --> 00:46:26.820
<v Speaker 0>We have a whole bunch of devs here,

00:46:26.820 --> 00:46:28.740
<v Speaker 0>but the curl one is not there, unfortunately,

00:46:28.740 --> 00:46:29.940
<v Speaker 0>because that's not been as that was part

00:46:29.940 --> 00:46:31.060
<v Speaker 0>of the base image.

00:46:38.795 --> 00:46:40.075
<v Speaker 0>No aliases.

00:46:42.154 --> 00:46:43.914
<v Speaker 0>I mean, we could try unset curl.

00:46:45.570 --> 00:46:47.090
<v Speaker 0>Yeah. It's not installed.

00:46:52.690 --> 00:46:55.090
<v Speaker 0>I'm curious, Russell. Did did you just delete

00:46:55.090 --> 00:46:55.970
<v Speaker 0>the binaries?

00:46:58.050 --> 00:46:59.650
<v Speaker 0>Because it feels like you've just deleted the

00:46:59.650 --> 00:47:00.210
<v Speaker 0>binaries,

00:47:01.105 --> 00:47:01.985
<v Speaker 0>which means

00:47:03.105 --> 00:47:04.945
<v Speaker 0>But then how did Okay. He's moved it.

00:47:04.945 --> 00:47:06.865
<v Speaker 0>That's what he he's moved it. Okay.

00:47:07.505 --> 00:47:09.265
<v Speaker 0>We don't need Carl. We we'll we'll make

00:47:09.265 --> 00:47:11.265
<v Speaker 0>do with that. I can get my tools.

00:47:11.345 --> 00:47:11.985
<v Speaker 0>So

00:47:13.250 --> 00:47:15.010
<v Speaker 1>But apt get

00:47:20.130 --> 00:47:21.170
<v Speaker 0>What

00:47:21.170 --> 00:47:23.170
<v Speaker 0>I want is my

00:47:24.930 --> 00:47:25.650
<v Speaker 0>these.

00:47:27.490 --> 00:47:28.530
<v Speaker 0>OS query.

00:47:30.715 --> 00:47:32.555
<v Speaker 0>Need to add the repository for that. That

00:47:32.555 --> 00:47:33.915
<v Speaker 0>may be a pain in the ass.

00:47:35.435 --> 00:47:37.435
<v Speaker 0>May as well show people my script.

00:47:38.155 --> 00:47:39.835
<v Speaker 0>Since he's made it, so that I can't

00:47:39.835 --> 00:47:40.235
<v Speaker 0>use it.

00:47:48.010 --> 00:47:49.690
<v Speaker 0>And I can I can still run these

00:47:49.690 --> 00:47:50.330
<v Speaker 0>ones?

00:47:53.770 --> 00:47:55.130
<v Speaker 0>Was it still doing something?

00:48:00.435 --> 00:48:01.795
<v Speaker 0>Although you told me that we don't think

00:48:01.795 --> 00:48:03.395
<v Speaker 0>Russell's used after

00:48:03.395 --> 00:48:04.755
<v Speaker 0>though. Right? So maybe I don't even need

00:48:04.755 --> 00:48:05.715
<v Speaker 0>all these tools.

00:48:07.395 --> 00:48:09.234
<v Speaker 1>Well, I don't know. Russell's also the type

00:48:09.234 --> 00:48:10.755
<v Speaker 1>to make you think that he didn't use

00:48:10.755 --> 00:48:12.355
<v Speaker 1>something, so you don't check it.

00:48:14.400 --> 00:48:17.119
<v Speaker 1>Although I haven't seen anything that makes me

00:48:17.119 --> 00:48:19.200
<v Speaker 1>think that. Although I guess a lot of

00:48:19.200 --> 00:48:21.840
<v Speaker 1>times I think eBPF is used for networking,

00:48:21.840 --> 00:48:23.840
<v Speaker 1>but that's not entirely the case.

00:48:24.240 --> 00:48:26.915
<v Speaker 1>You could do something else with it.

00:48:35.795 --> 00:48:38.435
<v Speaker 0>Sure. I did the last query, right? Can

00:48:38.435 --> 00:48:39.315
<v Speaker 1>you ping Google?

00:48:46.230 --> 00:48:47.910
<v Speaker 0>Yeah. Well, I mean, I'm heading to Bintas

00:48:47.910 --> 00:48:48.790
<v Speaker 0>repositories

00:48:48.790 --> 00:48:50.550
<v Speaker 0>and stuff. Okay. Yeah. Yeah. Never mind.

00:48:59.775 --> 00:49:01.135
<v Speaker 0>Alright. At least I've got some of my

00:49:01.135 --> 00:49:01.455
<v Speaker 0>tools.

00:49:11.210 --> 00:49:13.930
<v Speaker 1>You have been What just happened? Why have

00:49:14.250 --> 00:49:14.970
<v Speaker 0>I got nine, Kat?

00:49:21.414 --> 00:49:23.734
<v Speaker 1>It actually shows up better on my screen,

00:49:23.815 --> 00:49:24.615
<v Speaker 1>by the way.

00:49:26.615 --> 00:49:28.615
<v Speaker 1>It actually shows up properly. Yeah.

00:49:34.454 --> 00:49:35.174
<v Speaker 0>That's annoying.

00:49:39.950 --> 00:49:41.870
<v Speaker 0>Alright. Let's just get rid of that.

00:49:45.550 --> 00:49:48.910
<v Speaker 0>Wherever the nightcap was, it was ignoring the

00:49:49.615 --> 00:49:52.335
<v Speaker 0>control c signal, but I managed to control

00:49:52.335 --> 00:49:54.335
<v Speaker 0>z to suspend it. We seem to be

00:49:54.335 --> 00:49:56.095
<v Speaker 0>okay. Which I'm assuming I can bring it

00:49:56.095 --> 00:49:57.535
<v Speaker 0>back whenever I want. So

00:49:58.575 --> 00:49:59.935
<v Speaker 0>just for the laughs.

00:50:00.735 --> 00:50:01.455
<v Speaker 0>Okay.

00:50:01.535 --> 00:50:02.815
<v Speaker 0>Did I get my OS query?

00:50:07.160 --> 00:50:08.040
<v Speaker 1>No.

00:50:08.040 --> 00:50:08.840
<v Speaker 1>I did.

00:50:09.560 --> 00:50:11.640
<v Speaker 1>Oh, you did? Oh, never mind. Sorry.

00:50:13.319 --> 00:50:15.960
<v Speaker 0>It's really funky on this screen, but we

00:50:15.960 --> 00:50:17.240
<v Speaker 0>do have it if we need it. Okay.

00:50:18.115 --> 00:50:20.835
<v Speaker 0>WestQuery is a great tool. You can query

00:50:20.835 --> 00:50:22.995
<v Speaker 0>everything with SQL syntax.

00:50:23.155 --> 00:50:24.035
<v Speaker 0>Pretty sweet.

00:50:26.275 --> 00:50:27.715
<v Speaker 0>Alright. Where were we?

00:50:28.835 --> 00:50:29.795
<v Speaker 0>No control plane.

00:50:34.180 --> 00:50:35.780
<v Speaker 0>Okay. Let's fix that.

00:50:37.300 --> 00:50:38.660
<v Speaker 1>Is that the IP address?

00:50:39.140 --> 00:50:40.660
<v Speaker 1>It's the right port number.

00:50:42.180 --> 00:50:44.420
<v Speaker 1>Well well, one second. It's the default port

00:50:44.420 --> 00:50:45.540
<v Speaker 1>number. I don't know if it's the right

00:50:45.540 --> 00:50:46.740
<v Speaker 1>port number port number.

00:50:48.525 --> 00:50:49.725
<v Speaker 0>It looks alright.

00:50:50.685 --> 00:50:52.365
<v Speaker 0>We're pointing it to

00:50:53.645 --> 00:50:54.925
<v Speaker 0>admin.com.

00:50:58.765 --> 00:50:59.645
<v Speaker 1>What is

00:51:00.125 --> 00:51:02.045
<v Speaker 1>is it configured to

00:51:03.820 --> 00:51:05.820
<v Speaker 1>bind to? So like, we could check the

00:51:06.220 --> 00:51:07.900
<v Speaker 1>API server config.

00:51:08.780 --> 00:51:10.140
<v Speaker 0>Yeah, good idea.

00:51:15.900 --> 00:51:17.820
<v Speaker 0>Let's use less or shared picture.

00:51:20.675 --> 00:51:22.115
<v Speaker 1>Alright. So

00:51:24.035 --> 00:51:27.475
<v Speaker 1>he has it bound to 1072147

00:51:27.475 --> 00:51:28.515
<v Speaker 1>here

00:51:30.210 --> 00:51:31.730
<v Speaker 1>as the advertise.

00:51:32.770 --> 00:51:34.690
<v Speaker 1>And then okay. I don't wait. Wait. Wait.

00:51:34.690 --> 00:51:35.730
<v Speaker 1>Wait. Wait. The

00:51:35.730 --> 00:51:37.090
<v Speaker 1>etcd server.

00:51:39.089 --> 00:51:40.130
<v Speaker 0>Yeah. That's okay.

00:51:40.530 --> 00:51:43.490
<v Speaker 1>Yeah. Can we actually just look at

00:51:44.005 --> 00:51:45.845
<v Speaker 1>the container run time, see what

00:51:46.165 --> 00:51:47.445
<v Speaker 1>run is running?

00:51:48.325 --> 00:51:50.405
<v Speaker 1>Just because we don't act can't access it

00:51:50.405 --> 00:51:52.005
<v Speaker 1>doesn't mean it's not running.

00:51:52.244 --> 00:51:54.085
<v Speaker 0>Well, let's see if the kubelet's running first.

00:52:00.190 --> 00:52:00.910
<v Speaker 0>Thanks.

00:52:01.790 --> 00:52:02.510
<v Speaker 0>Thanks, Crystal.

00:52:12.775 --> 00:52:15.735
<v Speaker 0>Kubelet is loaded, but not active and running.

00:52:16.375 --> 00:52:17.815
<v Speaker 1>Can we just enable it?

00:52:18.295 --> 00:52:20.055
<v Speaker 0>Well, it has an exit code from six

00:52:20.055 --> 00:52:22.695
<v Speaker 0>seconds ago, so I'm assuming it's crashing.

00:52:23.415 --> 00:52:24.855
<v Speaker 1>Oh, but it doesn't have any logs.

00:52:35.190 --> 00:52:35.910
<v Speaker 0>Perfect.

00:52:36.790 --> 00:52:39.110
<v Speaker 0>I'm gonna change the path ordering to get

00:52:39.110 --> 00:52:40.310
<v Speaker 0>rid of that nonsense.

00:52:40.755 --> 00:52:41.474
<v Speaker 0>So

00:52:46.035 --> 00:52:48.195
<v Speaker 0>let's reexport our path

00:52:48.275 --> 00:52:48.994
<v Speaker 0>with

00:52:52.674 --> 00:52:53.555
<v Speaker 0>equals

00:52:53.555 --> 00:52:54.194
<v Speaker 0>Ben,

00:52:55.569 --> 00:52:56.850
<v Speaker 0>user Ben,

00:52:57.650 --> 00:52:59.970
<v Speaker 0>user local Ben.

00:53:00.690 --> 00:53:03.410
<v Speaker 1>Now anybody that's just watching, I want to

00:53:03.410 --> 00:53:05.410
<v Speaker 1>assure you this is not your normal breaks

00:53:05.410 --> 00:53:05.890
<v Speaker 1>that you see.

00:53:09.954 --> 00:53:11.155
<v Speaker 0>So that should

00:53:12.035 --> 00:53:13.075
<v Speaker 0>allow us to do

00:53:14.115 --> 00:53:15.795
<v Speaker 0>yeah. Okay. So

00:53:16.755 --> 00:53:19.395
<v Speaker 0>I failed to construct a cubelet, unable to

00:53:19.395 --> 00:53:20.595
<v Speaker 0>load the CA.

00:53:20.595 --> 00:53:22.835
<v Speaker 0>Alright. So we're messing some certs.

00:53:23.780 --> 00:53:25.540
<v Speaker 1>Oh, you messed with the certs. I thought

00:53:25.540 --> 00:53:28.020
<v Speaker 1>that that's worse than messing with our shell.

00:53:28.099 --> 00:53:29.700
<v Speaker 1>Don't mess with our certs.

00:53:31.540 --> 00:53:33.220
<v Speaker 1>Can you check the permissions on it maybe?

00:53:37.955 --> 00:53:39.075
<v Speaker 1>I don't know.

00:53:45.555 --> 00:53:48.275
<v Speaker 0>Sorry. Kupla is saying it cannot open at

00:53:48.275 --> 00:53:50.835
<v Speaker 0>the Kubernetes p kica.c

00:53:50.835 --> 00:53:51.235
<v Speaker 0>r t.

00:53:55.849 --> 00:53:56.650
<v Speaker 0>Appears

00:53:57.450 --> 00:53:59.210
<v Speaker 0>that that fail is fine.

00:54:09.535 --> 00:54:11.615
<v Speaker 0>He set a temporary fail system to read

00:54:11.615 --> 00:54:14.175
<v Speaker 0>only on the slash etsy directory.

00:54:14.494 --> 00:54:15.055
<v Speaker 0>Sneaky.

00:54:17.980 --> 00:54:20.380
<v Speaker 1>I do believe somebody said like twenty minutes

00:54:20.380 --> 00:54:21.420
<v Speaker 1>ago, it felt like we were on a

00:54:21.420 --> 00:54:23.100
<v Speaker 1>read only file system.

00:54:25.820 --> 00:54:27.660
<v Speaker 0>That looks to be the only change.

00:54:33.155 --> 00:54:34.755
<v Speaker 0>It's nice to be able to run commands

00:54:34.755 --> 00:54:36.675
<v Speaker 0>without getting nine c metrics.

00:54:37.555 --> 00:54:39.555
<v Speaker 0>Just I'm just throwing that out there. It

00:54:39.555 --> 00:54:42.115
<v Speaker 0>feels nice. I don't know. I kind of

00:54:42.115 --> 00:54:44.995
<v Speaker 1>wish my terminal just randomly every once in

00:54:44.995 --> 00:54:46.515
<v Speaker 1>a while threw it out there while it

00:54:46.515 --> 00:54:47.970
<v Speaker 1>was working. You know?

00:54:48.930 --> 00:54:50.850
<v Speaker 1>Actually, okay. So that's a new project. We

00:54:50.850 --> 00:54:52.370
<v Speaker 1>need a a Rawkode

00:54:52.370 --> 00:54:54.130
<v Speaker 1>project is like every

00:54:54.210 --> 00:54:54.850
<v Speaker 1>hour,

00:54:55.090 --> 00:54:57.250
<v Speaker 1>your terminal the next command will give you

00:54:57.250 --> 00:54:59.570
<v Speaker 1>a nine cat just to like get you

00:54:59.570 --> 00:55:00.210
<v Speaker 1>up and moving.

00:55:02.805 --> 00:55:04.245
<v Speaker 1>I think it's a feature.

00:55:09.125 --> 00:55:10.885
<v Speaker 0>Didn't seem to fix it.

00:55:14.885 --> 00:55:15.845
<v Speaker 0>Oh, it's still there.

00:55:22.110 --> 00:55:24.190
<v Speaker 0>Oh, you get the tool. Shit.

00:55:24.990 --> 00:55:26.350
<v Speaker 0>It came back. We're gonna go back to

00:55:26.350 --> 00:55:27.390
<v Speaker 1>it. It feels like we're on a read

00:55:27.390 --> 00:55:28.670
<v Speaker 1>only file system.

00:55:34.105 --> 00:55:36.425
<v Speaker 1>One second. I have a command.

00:55:39.785 --> 00:55:42.825
<v Speaker 0>Yeah. So it's not making that modification.

00:55:44.105 --> 00:55:45.944
<v Speaker 1>This is what we had with the password

00:55:45.944 --> 00:55:46.424
<v Speaker 1>file.

00:55:59.460 --> 00:56:01.540
<v Speaker 1>Can you do a

00:56:02.904 --> 00:56:04.345
<v Speaker 1>d h dash

00:56:04.345 --> 00:56:05.865
<v Speaker 1>capital t f?

00:56:08.505 --> 00:56:10.825
<v Speaker 1>T f t, sorry. T.

00:56:12.025 --> 00:56:14.664
<v Speaker 1>Oh. Oh. D h isn't found. Sorry. Never

00:56:14.664 --> 00:56:16.184
<v Speaker 1>mind. That won't that won't change anything.

00:56:27.079 --> 00:56:29.000
<v Speaker 0>Our file system looks alright.

00:56:29.800 --> 00:56:30.520
<v Speaker 0>And in fact,

00:56:32.105 --> 00:56:34.265
<v Speaker 0>I can rate files. So either of them

00:56:34.265 --> 00:56:35.465
<v Speaker 0>is compromised.

00:56:36.825 --> 00:56:39.385
<v Speaker 1>Did did he just recompile them?

00:56:48.770 --> 00:56:51.090
<v Speaker 0>I have something running out there.

00:56:52.770 --> 00:56:55.010
<v Speaker 0>Oh, my OS query seems to have

00:56:58.450 --> 00:57:00.450
<v Speaker 0>landed a second state.

00:57:04.995 --> 00:57:06.835
<v Speaker 0>Alright. I need to admit the lock fail.

00:57:19.170 --> 00:57:21.010
<v Speaker 0>Good thing I know Damian alright.

00:57:21.650 --> 00:57:23.250
<v Speaker 0>Although, maybe not well enough.

00:57:23.650 --> 00:57:25.010
<v Speaker 0>No. I know it's telling me it wants

00:57:25.010 --> 00:57:26.530
<v Speaker 0>the path to have that. I don't want

00:57:26.530 --> 00:57:27.410
<v Speaker 0>the path to have that.

00:57:30.435 --> 00:57:32.195
<v Speaker 0>I'm gonna assume he's he

00:57:32.435 --> 00:57:33.955
<v Speaker 0>says he's not recompiled

00:57:34.115 --> 00:57:34.755
<v Speaker 0>them.

00:57:35.715 --> 00:57:38.355
<v Speaker 1>Oh, okay. And this is recompile?

00:57:39.475 --> 00:57:41.475
<v Speaker 0>Yeah. I think our is okay.

00:57:42.435 --> 00:57:44.435
<v Speaker 1>Alright. So then how would he

00:57:45.420 --> 00:57:48.540
<v Speaker 1>keep us from changing the file system? If

00:57:48.540 --> 00:57:50.460
<v Speaker 1>the file system isn't a read only file

00:57:50.460 --> 00:57:51.180
<v Speaker 1>system,

00:57:51.500 --> 00:57:52.940
<v Speaker 1>and Vim is okay.

00:57:58.059 --> 00:58:01.135
<v Speaker 0>Do I still have? And Vim complains if

00:58:01.135 --> 00:58:03.855
<v Speaker 1>you don't have the permissions to change it.

00:58:05.214 --> 00:58:08.815
<v Speaker 1>It doesn't just silently fail, generally. Generally speaking.

00:58:10.494 --> 00:58:12.815
<v Speaker 0>Well, let's try editing it with another command

00:58:12.815 --> 00:58:14.095
<v Speaker 0>and see if that works.

00:58:18.240 --> 00:58:19.440
<v Speaker 0>So set

00:58:19.440 --> 00:58:20.560
<v Speaker 0>and lane

00:58:21.599 --> 00:58:23.200
<v Speaker 0>and we want to remove

00:58:23.520 --> 00:58:24.240
<v Speaker 0>what was the

00:58:25.359 --> 00:58:27.599
<v Speaker 1>It was the run once. Tempest Oh, no.

00:58:27.599 --> 00:58:29.039
<v Speaker 1>It's the file system. Sorry.

00:58:30.275 --> 00:58:31.395
<v Speaker 1>The read only.

00:58:34.915 --> 00:58:37.555
<v Speaker 0>Okay. So we wanna do s

00:58:37.635 --> 00:58:38.595
<v Speaker 0>search.

00:58:39.875 --> 00:58:41.635
<v Speaker 1>You have a capital y. Star

00:58:42.710 --> 00:58:44.790
<v Speaker 0>or dot star slash

00:58:44.950 --> 00:58:45.990
<v Speaker 0>remove

00:58:52.950 --> 00:58:54.789
<v Speaker 0>is it I e I?

00:58:59.325 --> 00:59:01.005
<v Speaker 0>Maybe we don't need to search.

00:59:04.685 --> 00:59:06.845
<v Speaker 0>Used to be okay with this third nonsense.

00:59:06.845 --> 00:59:08.525
<v Speaker 0>Don't make me bust it peril.

00:59:09.325 --> 00:59:10.205
<v Speaker 0>Third.

00:59:10.445 --> 00:59:11.885
<v Speaker 0>Yeah. Let's just look it up. I don't

00:59:11.885 --> 00:59:12.205
<v Speaker 0>need to.

00:59:13.930 --> 00:59:15.370
<v Speaker 0>Set replace.

00:59:15.450 --> 00:59:17.450
<v Speaker 0>That delete lane. There's not I'm sure there's

00:59:17.450 --> 00:59:18.970
<v Speaker 0>a nice easy way to do that.

00:59:28.375 --> 00:59:29.815
<v Speaker 0>So we can just tell it the lane

00:59:29.815 --> 00:59:30.535
<v Speaker 0>number.

00:59:31.015 --> 00:59:33.015
<v Speaker 0>That's nice. I didn't know that.

00:59:33.575 --> 00:59:34.295
<v Speaker 0>So

00:59:34.535 --> 00:59:35.495
<v Speaker 0>kubelet

00:59:35.815 --> 00:59:36.215
<v Speaker 0>said,

00:59:38.330 --> 00:59:43.370
<v Speaker 0>And it's Lane 12345678910,

00:59:43.370 --> 00:59:43.850
<v Speaker 0>D,

00:59:44.730 --> 00:59:45.530
<v Speaker 0>Kiblet.

00:59:48.010 --> 00:59:49.610
<v Speaker 0>Nice. And now we need it to be

00:59:49.610 --> 00:59:50.090
<v Speaker 0>in lane.

00:59:55.965 --> 00:59:57.325
<v Speaker 0>Take that, Russell.

00:59:58.925 --> 00:59:59.725
<v Speaker 0>Nice. Yeah.

01:00:07.010 --> 01:00:08.370
<v Speaker 1>The

01:00:09.730 --> 01:00:11.890
<v Speaker 1>file attributes. He could have put the immutable

01:00:11.890 --> 01:00:13.970
<v Speaker 1>file attribute on it. That was I was

01:00:13.970 --> 01:00:15.810
<v Speaker 1>trying to go through the ideas of

01:00:16.610 --> 01:00:19.170
<v Speaker 0>Yeah. The attributes look alright.

01:00:19.730 --> 01:00:20.130
<v Speaker 1>Okay.

01:00:20.635 --> 01:00:22.155
<v Speaker 0>Alright. Do you think we have a cubelet

01:00:22.155 --> 01:00:22.715
<v Speaker 0>yet?

01:00:23.275 --> 01:00:23.915
<v Speaker 0>No.

01:00:26.875 --> 01:00:29.355
<v Speaker 1>Oh, I I stand corrected.

01:00:29.755 --> 01:00:30.395
<v Speaker 1>Maybe.

01:00:31.915 --> 01:00:33.675
<v Speaker 0>Do we have an API server?

01:00:35.190 --> 01:00:37.270
<v Speaker 0>No. Do we have anything, QB?

01:00:38.230 --> 01:00:39.270
<v Speaker 0>The kubelet.

01:00:39.910 --> 01:00:42.869
<v Speaker 1>Can you check if we have etcd?

01:00:48.215 --> 01:00:50.455
<v Speaker 0>We don't seem to have any static manifest

01:00:50.455 --> 01:00:51.175
<v Speaker 0>yet.

01:00:54.615 --> 01:00:56.455
<v Speaker 1>So we can check the kubelet config to

01:00:56.455 --> 01:00:57.895
<v Speaker 1>see if he screwed with the path that

01:00:57.895 --> 01:00:59.895
<v Speaker 1>it looks for the static manifests.

01:00:59.895 --> 01:01:00.535
<v Speaker 0>Do you wanna check?

01:01:02.170 --> 01:01:03.770
<v Speaker 0>Pardon? Do you wanna check?

01:01:04.090 --> 01:01:04.890
<v Speaker 1>Sure.

01:01:05.450 --> 01:01:07.370
<v Speaker 1>Let's see. We're going to run

01:01:08.970 --> 01:01:11.690
<v Speaker 1>where is the config file for etcd?

01:01:11.690 --> 01:01:12.570
<v Speaker 0>Barleb

01:01:12.570 --> 01:01:14.090
<v Speaker 0>kubelet config dot yaml.

01:01:16.085 --> 01:01:17.365
<v Speaker 1>Where did you say? Sorry. I was not

01:01:17.365 --> 01:01:20.565
<v Speaker 1>listening. Barlib kubelet config dot yaml. Alright.

01:01:22.724 --> 01:01:24.885
<v Speaker 0>You're gonna use Vim? Brave.

01:01:25.605 --> 01:01:28.085
<v Speaker 1>True. I'm just gonna add it because it's

01:01:28.085 --> 01:01:28.964
<v Speaker 1>probably a binary.

01:01:32.430 --> 01:01:33.950
<v Speaker 0>If he does that to you, I'm I'm

01:01:33.950 --> 01:01:35.150
<v Speaker 0>not gonna stop laughing.

01:01:35.790 --> 01:01:36.990
<v Speaker 0>But I'm sure he wouldn't.

01:01:37.310 --> 01:01:39.390
<v Speaker 0>And James said maybe Vem is just a

01:01:39.390 --> 01:01:40.910
<v Speaker 0>read only quote. I don't know how you

01:01:40.910 --> 01:01:43.070
<v Speaker 0>would do that, but

01:01:43.415 --> 01:01:45.255
<v Speaker 0>maybe. I have no idea. I don't know

01:01:45.255 --> 01:01:46.775
<v Speaker 0>what's going on with them, to be honest.

01:01:51.974 --> 01:01:53.815
<v Speaker 0>Do we not have a viral kubelet? Maybe

01:01:53.815 --> 01:01:54.375
<v Speaker 0>there. Cool.

01:01:56.040 --> 01:01:56.840
<v Speaker 1>So

01:01:57.640 --> 01:01:58.600
<v Speaker 1>fig.yaml

01:01:58.600 --> 01:01:59.240
<v Speaker 1>here.

01:02:00.440 --> 01:02:01.640
<v Speaker 1>This looks

01:02:01.720 --> 01:02:02.920
<v Speaker 1>acceptable,

01:02:03.240 --> 01:02:04.680
<v Speaker 1>but let's look through that.

01:02:05.480 --> 01:02:06.440
<v Speaker 1>Wait. Wait. Wait. Wait.

01:02:13.825 --> 01:02:14.705
<v Speaker 0>Where

01:02:17.905 --> 01:02:20.705
<v Speaker 1>is the okay. Here's Etsy Kubernetes manifest. So

01:02:20.705 --> 01:02:22.465
<v Speaker 1>this is the static pod path, the thing

01:02:22.465 --> 01:02:24.640
<v Speaker 1>we were looking for, is correct.

01:02:29.120 --> 01:02:31.280
<v Speaker 0>Yeah. This looks about right. I'm happy with

01:02:31.280 --> 01:02:33.200
<v Speaker 0>that. Do we do we have do we

01:02:33.200 --> 01:02:34.640
<v Speaker 0>have any Kube stuff yet?

01:02:35.040 --> 01:02:37.280
<v Speaker 1>The search file here is fine.

01:02:42.625 --> 01:02:44.945
<v Speaker 1>I think this looks fine to me.

01:02:45.905 --> 01:02:47.585
<v Speaker 0>Maybe we're just impatient.

01:02:47.825 --> 01:02:49.585
<v Speaker 0>No. We weren't. Is the v one beta

01:02:49.585 --> 01:02:51.905
<v Speaker 1>one actually the is it still not in

01:02:51.905 --> 01:02:53.585
<v Speaker 1>v one, the Kubelet config?

01:02:53.905 --> 01:02:54.305
<v Speaker 0>No.

01:02:56.880 --> 01:02:58.640
<v Speaker 0>We do have a kubelet,

01:02:58.640 --> 01:02:59.520
<v Speaker 0>although

01:03:00.240 --> 01:03:02.160
<v Speaker 0>that's been running for a couple of days.

01:03:02.240 --> 01:03:02.880
<v Speaker 0>So

01:03:03.839 --> 01:03:05.440
<v Speaker 0>maybe we need to look at the maybe

01:03:05.440 --> 01:03:06.640
<v Speaker 0>these manifests aren't real.

01:03:08.365 --> 01:03:10.925
<v Speaker 1>The kubelet should did we check the logs?

01:03:10.925 --> 01:03:12.605
<v Speaker 1>Like, a journal CTL of the log? Because

01:03:12.605 --> 01:03:15.005
<v Speaker 1>the kubelet should complain if there's a parsing

01:03:15.005 --> 01:03:15.405
<v Speaker 1>error.

01:03:22.180 --> 01:03:25.140
<v Speaker 1>Okay. So it says if not present. I

01:03:25.140 --> 01:03:27.300
<v Speaker 1>don't know. Maybe we wanna image pool policy

01:03:27.300 --> 01:03:28.260
<v Speaker 1>of always.

01:03:28.980 --> 01:03:31.700
<v Speaker 1>But the image image looks correct here.

01:03:35.315 --> 01:03:37.955
<v Speaker 0>Russell says he made two changes,

01:03:37.955 --> 01:03:39.955
<v Speaker 0>and we only caught one. So let's cut

01:03:39.955 --> 01:03:41.475
<v Speaker 0>that unit fail again.

01:03:44.035 --> 01:03:45.955
<v Speaker 0>We've obviously missed something here.

01:03:50.579 --> 01:03:51.940
<v Speaker 0>We have eight minutes.

01:03:55.059 --> 01:03:56.740
<v Speaker 0>Let's check the flags.

01:03:57.299 --> 01:03:58.740
<v Speaker 0>Oh, look at that.

01:04:01.140 --> 01:04:01.619
<v Speaker 1>Oh.

01:04:03.474 --> 01:04:04.195
<v Speaker 1>Oh.

01:04:07.155 --> 01:04:08.675
<v Speaker 1>Okay. So we just need to delete that

01:04:08.675 --> 01:04:09.715
<v Speaker 1>without Vim.

01:04:11.315 --> 01:04:13.075
<v Speaker 0>How would you cat with lane numbers again?

01:04:13.075 --> 01:04:14.035
<v Speaker 0>Does it dash n?

01:04:16.070 --> 01:04:19.190
<v Speaker 0>Yeah. And then this said I delete

01:04:19.910 --> 01:04:20.630
<v Speaker 0>70

01:04:21.110 --> 01:04:24.150
<v Speaker 1>crap. Did you screw up Vim that way?

01:04:24.150 --> 01:04:26.230
<v Speaker 1>If you didn't he said he didn't recompile

01:04:26.230 --> 01:04:26.550
<v Speaker 1>Vim.

01:04:27.605 --> 01:04:28.724
<v Speaker 1>I need to know.

01:04:29.045 --> 01:04:30.885
<v Speaker 0>Well, let's check out the

01:04:31.444 --> 01:04:32.565
<v Speaker 0>the RC.

01:04:34.565 --> 01:04:36.885
<v Speaker 0>So he's over he's changed.

01:04:37.285 --> 01:04:37.845
<v Speaker 0>Oh.

01:04:41.365 --> 01:04:42.630
<v Speaker 0>Oh. Hey, that's gone.

01:04:44.310 --> 01:04:45.910
<v Speaker 0>Let's restart the computer. We

01:04:46.790 --> 01:04:49.110
<v Speaker 1>should have looked there. Yeah, we should have.

01:04:49.750 --> 01:04:51.430
<v Speaker 0>But we assumed the worst. We assumed he

01:04:51.430 --> 01:04:53.590
<v Speaker 0>had compiled his own Vim. So

01:04:55.109 --> 01:04:57.965
<v Speaker 1>Okay. So anybody that doesn't know, I went

01:04:57.965 --> 01:05:01.645
<v Speaker 1>against Russell one time and he basically recompiled

01:05:01.885 --> 01:05:02.765
<v Speaker 1>everything.

01:05:02.845 --> 01:05:05.005
<v Speaker 1>So whenever I think of Russell, I think

01:05:05.005 --> 01:05:08.205
<v Speaker 1>that he's recompiled stuff, which he probably used

01:05:08.205 --> 01:05:08.845
<v Speaker 1>against me.

01:05:14.180 --> 01:05:16.740
<v Speaker 0>Alright. It's not starting.

01:05:19.380 --> 01:05:21.460
<v Speaker 0>Our static manifest still.

01:05:33.545 --> 01:05:37.145
<v Speaker 1>Error getting node generally is just that etcd

01:05:37.145 --> 01:05:38.744
<v Speaker 1>hasn't

01:05:38.049 --> 01:05:39.490
<v Speaker 1>connected yet. Right?

01:05:39.890 --> 01:05:42.289
<v Speaker 0>Yeah. Well, it's failing to start the scheduler.

01:05:52.725 --> 01:05:55.045
<v Speaker 0>Well, there's no API servers. Maybe that's all

01:05:55.045 --> 01:05:56.805
<v Speaker 0>maybe it kind of expected.

01:05:58.805 --> 01:06:00.645
<v Speaker 1>Right. Because the API server is the only

01:06:00.645 --> 01:06:02.805
<v Speaker 1>thing that's gonna touch etcd, which is where

01:06:02.805 --> 01:06:03.925
<v Speaker 1>it's gonna find its node.

01:06:08.390 --> 01:06:10.310
<v Speaker 0>And we've got an event here.

01:06:12.470 --> 01:06:14.550
<v Speaker 1>Connect connection refused.

01:06:15.990 --> 01:06:18.470
<v Speaker 1>Unable to register node with API server.

01:06:20.870 --> 01:06:22.150
<v Speaker 0>I'm not seeing anything.

01:06:32.265 --> 01:06:33.545
<v Speaker 0>Okay.

01:06:33.545 --> 01:06:34.185
<v Speaker 0>So

01:06:36.905 --> 01:06:39.119
<v Speaker 0>we we we can do this. It's not

01:06:39.119 --> 01:06:40.880
<v Speaker 0>starting our API server. We don't even know

01:06:40.880 --> 01:06:42.960
<v Speaker 0>if it's trying to start our API server.

01:06:52.964 --> 01:06:55.845
<v Speaker 0>Passing glance on that manifest tells me that

01:06:55.845 --> 01:06:56.725
<v Speaker 0>it's

01:06:57.924 --> 01:06:59.205
<v Speaker 0>it's alright.

01:07:03.204 --> 01:07:04.085
<v Speaker 0>Run to default.

01:07:06.780 --> 01:07:08.380
<v Speaker 1>The yeah. It looks

01:07:10.140 --> 01:07:11.340
<v Speaker 1>I I mean, yeah, I don't know the

01:07:11.340 --> 01:07:12.940
<v Speaker 1>whole manifest file, but it looks fine to

01:07:12.940 --> 01:07:13.420
<v Speaker 1>me.

01:07:16.220 --> 01:07:17.900
<v Speaker 0>I feel like we're missing something in the

01:07:17.900 --> 01:07:20.060
<v Speaker 0>kubelet start up, so I'm gonna restart it.

01:07:22.705 --> 01:07:24.465
<v Speaker 0>There must be an error message.

01:07:31.744 --> 01:07:33.905
<v Speaker 1>Kubelet has to have an error message on

01:07:33.905 --> 01:07:36.305
<v Speaker 1>why it's not

01:07:35.780 --> 01:07:36.900
<v Speaker 1>starting it.

01:07:43.540 --> 01:07:46.500
<v Speaker 0>Okay. So here's this. I'll stop scrolling.

01:07:47.619 --> 01:07:48.980
<v Speaker 0>Should have passed through a pager.

01:07:49.545 --> 01:07:51.785
<v Speaker 1>One second. One second. Failed to create container

01:07:51.785 --> 01:07:55.625
<v Speaker 1>d task. Failed to create shim. OCI runtime

01:07:55.944 --> 01:07:58.184
<v Speaker 1>caused unknown container ID.

01:08:02.310 --> 01:08:04.390
<v Speaker 1>So it's failing to

01:08:04.870 --> 01:08:06.870
<v Speaker 1>talk to the OCI runtime.

01:08:07.990 --> 01:08:09.910
<v Speaker 0>I can't I can't see

01:08:09.910 --> 01:08:11.990
<v Speaker 0>it. I'm just gonna restart. It still starts

01:08:11.990 --> 01:08:14.070
<v Speaker 0>being on me again. I hope that's alright.

01:08:15.225 --> 01:08:18.024
<v Speaker 1>That's fine. Go for it. Alright. Control c.

01:08:18.024 --> 01:08:18.904
<v Speaker 0>Let's see.

01:08:20.905 --> 01:08:23.064
<v Speaker 0>So you see something about container d in

01:08:23.064 --> 01:08:23.625
<v Speaker 0>here?

01:08:24.104 --> 01:08:24.984
<v Speaker 1>Yeah. Yeah.

01:08:26.425 --> 01:08:28.505
<v Speaker 1>I've never actually seen this error before, but

01:08:28.505 --> 01:08:29.785
<v Speaker 1>it's saying the

01:08:30.185 --> 01:08:33.510
<v Speaker 1>let's see. The kubelet is playing start container

01:08:33.510 --> 01:08:35.590
<v Speaker 1>from runtime service failed,

01:08:35.830 --> 01:08:38.070
<v Speaker 1>failed to create container tasks, failed to create

01:08:38.070 --> 01:08:38.790
<v Speaker 1>shim,

01:08:38.950 --> 01:08:40.470
<v Speaker 1>OCI runtime

01:08:40.470 --> 01:08:44.390
<v Speaker 1>create failed contain starting container process caused

01:08:45.314 --> 01:08:48.034
<v Speaker 1>getting the final child's PID from

01:08:48.354 --> 01:08:51.234
<v Speaker 1>pipe caused end of file unknown,

01:08:51.795 --> 01:08:53.074
<v Speaker 1>container ID,

01:08:53.234 --> 01:08:53.875
<v Speaker 1>UID.

01:08:58.050 --> 01:08:59.969
<v Speaker 1>Do we have any containers running in the

01:08:59.969 --> 01:09:02.050
<v Speaker 1>container runtime? Can we like

01:09:03.409 --> 01:09:05.169
<v Speaker 0>I mean, is container d running?

01:09:06.050 --> 01:09:08.290
<v Speaker 1>Wait. Wait. Wait. Okay. There is a read

01:09:08.290 --> 01:09:11.729
<v Speaker 1>only true here in volume mount. Oh, no.

01:09:11.729 --> 01:09:12.689
<v Speaker 1>This is fine. Never mind.

01:09:26.104 --> 01:09:26.585
<v Speaker 0>Alright.

01:09:29.000 --> 01:09:30.200
<v Speaker 0>Let's try.

01:09:32.040 --> 01:09:33.960
<v Speaker 1>That that error almost seems to be the

01:09:33.960 --> 01:09:36.520
<v Speaker 1>controller manager, though, not the

01:09:37.800 --> 01:09:39.240
<v Speaker 0>I see that for as

01:09:39.400 --> 01:09:39.560
<v Speaker 0>well.

01:09:41.265 --> 01:09:41.984
<v Speaker 0>So

01:09:47.024 --> 01:09:48.465
<v Speaker 0>so we do have some

01:09:49.505 --> 01:09:50.784
<v Speaker 0>two days ago.

01:09:56.800 --> 01:09:58.880
<v Speaker 0>C t r c l s.

01:09:59.440 --> 01:10:02.240
<v Speaker 0>No containers whatsoever on container d.

01:10:06.880 --> 01:10:08.080
<v Speaker 0>We only have one image.

01:10:10.655 --> 01:10:12.655
<v Speaker 0>Let's check the container DLOG. Something.

01:10:26.880 --> 01:10:28.719
<v Speaker 1>Failed to create shim. Why would it fail

01:10:28.719 --> 01:10:31.119
<v Speaker 1>to create the shim? OTSCI runtime create failed.

01:10:33.465 --> 01:10:53.385
<v Speaker 1>So

01:10:50.330 --> 01:10:52.010
<v Speaker 1>getting the final child pid

01:10:52.570 --> 01:10:55.530
<v Speaker 1>child's pid from pipe caused end of file

01:10:55.530 --> 01:10:56.489
<v Speaker 1>unknown.

01:10:57.450 --> 01:11:00.730
<v Speaker 0>Well, container d doesn't have any configuration.

01:11:00.730 --> 01:11:02.650
<v Speaker 0>So this is a standard container d.

01:11:03.915 --> 01:11:06.074
<v Speaker 1>Can you search the files in the manifest

01:11:06.074 --> 01:11:07.275
<v Speaker 1>for the word unknown?

01:11:16.950 --> 01:11:17.670
<v Speaker 1>Okay.

01:11:19.910 --> 01:11:22.630
<v Speaker 1>Just a thought. I'm gonna restart container d.

01:11:28.405 --> 01:11:30.485
<v Speaker 1>Could we actually, we could check for a

01:11:30.485 --> 01:11:31.604
<v Speaker 1>container d

01:11:31.925 --> 01:11:34.645
<v Speaker 1>configuration file. There shouldn't be one. Right? There

01:11:34.645 --> 01:11:35.525
<v Speaker 0>isn't one.

01:11:36.085 --> 01:11:36.804
<v Speaker 1>Okay.

01:11:38.965 --> 01:11:42.005
<v Speaker 0>So EOS unknown typically happen

01:11:46.420 --> 01:11:48.740
<v Speaker 1>The quote at the end of unknown is

01:11:48.740 --> 01:11:49.700
<v Speaker 1>causing me

01:11:50.020 --> 01:11:52.420
<v Speaker 1>pain because the the line

01:11:52.420 --> 01:11:52.820
<v Speaker 1>there,

01:11:55.565 --> 01:11:58.205
<v Speaker 1>it it's doesn't have a starting quote.

01:11:59.005 --> 01:12:00.685
<v Speaker 0>It it it does, but it's not on

01:12:00.685 --> 01:12:02.525
<v Speaker 0>the it's on the field. It's a structured

01:12:02.525 --> 01:12:04.605
<v Speaker 0>log. So it's here on the error.

01:12:05.005 --> 01:12:06.925
<v Speaker 1>Oh, okay. Okay. I get it.

01:12:07.690 --> 01:12:09.690
<v Speaker 0>Okay. So if we run the status on

01:12:09.690 --> 01:12:11.369
<v Speaker 0>this well, we are at a time, but

01:12:11.369 --> 01:12:13.769
<v Speaker 0>we're gonna we're gonna fix this sucker. So

01:12:17.050 --> 01:12:18.889
<v Speaker 0>we do have a bunch of shims with

01:12:18.889 --> 01:12:20.570
<v Speaker 0>the Kubernetes namespace.

01:12:20.795 --> 01:12:23.034
<v Speaker 0>I never actually provided the namespace when I

01:12:23.034 --> 01:12:24.155
<v Speaker 0>did the CLI.

01:12:24.554 --> 01:12:25.834
<v Speaker 0>Let's try that.

01:12:28.315 --> 01:12:29.755
<v Speaker 0>Oh, we do have containers. Okay.

01:12:39.010 --> 01:12:40.210
<v Speaker 1>Wait a second.

01:12:40.450 --> 01:12:42.610
<v Speaker 1>We have a cube controller manager,

01:12:45.655 --> 01:12:46.935
<v Speaker 1>Scheduler.

01:12:47.975 --> 01:12:50.615
<v Speaker 1>Is this all running in like is there

01:12:50.615 --> 01:12:51.415
<v Speaker 1>two run

01:12:52.215 --> 01:12:53.495
<v Speaker 1>two namespaces?

01:12:53.735 --> 01:12:55.655
<v Speaker 1>Like is it running in a different one

01:12:55.655 --> 01:12:57.975
<v Speaker 1>than what cube CTL is hitting?

01:13:00.490 --> 01:13:02.490
<v Speaker 0>Let's try and grab some logs. I I

01:13:02.490 --> 01:13:04.489
<v Speaker 0>don't know. That's my bad, sir.

01:13:06.090 --> 01:13:07.130
<v Speaker 0>There's no

01:13:07.930 --> 01:13:08.650
<v Speaker 0>log

01:13:08.890 --> 01:13:09.690
<v Speaker 0>back around.

01:13:22.985 --> 01:13:25.545
<v Speaker 0>Let's try and inspect one of those.

01:13:27.220 --> 01:13:28.900
<v Speaker 0>And I guess the API server is the

01:13:28.900 --> 01:13:30.500
<v Speaker 0>one we care about, which

01:13:31.300 --> 01:13:33.300
<v Speaker 0>okay. That one definitely isn't there.

01:13:34.820 --> 01:13:36.580
<v Speaker 0>The controller manager is.

01:13:38.420 --> 01:13:40.900
<v Speaker 1>The controller manager, the a p or the

01:13:40.395 --> 01:13:42.555
<v Speaker 1>scheduler I saw, but the API server I

01:13:42.555 --> 01:13:43.435
<v Speaker 1>didn't see.

01:13:48.875 --> 01:13:50.315
<v Speaker 0>Oh, and full night inspect.

01:14:10.025 --> 01:14:11.945
<v Speaker 1>Wait. Is it me or does it just

01:14:27.650 --> 01:14:29.730
<v Speaker 0>But we don't have a controller manager running,

01:14:29.730 --> 01:14:30.450
<v Speaker 0>do we?

01:14:35.330 --> 01:14:36.850
<v Speaker 1>This is why I feel like it's a

01:14:36.850 --> 01:14:37.650
<v Speaker 1>shadow

01:14:37.890 --> 01:14:39.250
<v Speaker 1>namespace or something.

01:14:48.345 --> 01:14:53.145
<v Speaker 1>But you're right that

01:14:55.240 --> 01:14:56.760
<v Speaker 1>PS should see that.

01:15:04.680 --> 01:15:05.880
<v Speaker 0>You could have broke run c.

01:15:15.605 --> 01:15:18.085
<v Speaker 0>Which container

01:15:32.580 --> 01:15:34.500
<v Speaker 0>Let's put dash l on that.

01:15:35.300 --> 01:15:37.380
<v Speaker 0>Have any of these been modified? No.

01:15:46.655 --> 01:15:48.495
<v Speaker 0>Did I get my BPF tools earlier?

01:15:51.640 --> 01:15:54.440
<v Speaker 1>Oh, we should, I guess, check kernel modules

01:15:54.440 --> 01:15:55.320
<v Speaker 1>loaded.

01:16:00.680 --> 01:16:02.280
<v Speaker 0>I want my tools now.

01:16:02.680 --> 01:16:03.640
<v Speaker 0>He's annoyed me.

01:16:12.465 --> 01:16:14.624
<v Speaker 0>Oh, wait. That's didn't work because of

01:16:24.450 --> 01:16:26.530
<v Speaker 0>It's trying to run c metrics again.

01:16:31.170 --> 01:16:32.050
<v Speaker 0>So

01:16:32.530 --> 01:16:33.970
<v Speaker 0>the path has been modified.

01:16:46.945 --> 01:16:48.785
<v Speaker 0>Why is the app get using

01:16:48.945 --> 01:16:50.545
<v Speaker 0>c metrics system d?

01:16:51.240 --> 01:16:53.480
<v Speaker 0>We removed the profile directory.

01:16:55.480 --> 01:16:56.920
<v Speaker 0>I don't know of any other way to

01:16:56.920 --> 01:16:57.639
<v Speaker 0>set

01:16:59.720 --> 01:17:02.679
<v Speaker 0>the path at the the global level

01:17:02.760 --> 01:17:03.960
<v Speaker 0>besides that.

01:17:04.680 --> 01:17:05.000
<v Speaker 0>Right?

01:17:11.605 --> 01:17:13.764
<v Speaker 0>So we're already have modified the path.

01:17:18.405 --> 01:17:19.605
<v Speaker 1>Can we just

01:17:20.050 --> 01:17:22.130
<v Speaker 1>delete the things out of s spin that

01:17:22.130 --> 01:17:23.729
<v Speaker 1>have been modified recently

01:17:24.449 --> 01:17:27.090
<v Speaker 1>and put s spin back in the path?

01:17:30.130 --> 01:17:31.729
<v Speaker 0>We'll find a few of them here.

01:17:33.010 --> 01:17:33.730
<v Speaker 0>Environment.

01:17:40.425 --> 01:17:42.505
<v Speaker 0>Is there a local I mean, I guess

01:17:42.505 --> 01:17:44.344
<v Speaker 0>I can also just remove system d and

01:17:44.344 --> 01:17:46.505
<v Speaker 0>journal and stuff from that, but then I

01:17:46.505 --> 01:17:47.544
<v Speaker 0>don't know how many

01:17:48.184 --> 01:17:48.905
<v Speaker 1>Right.

01:17:48.985 --> 01:17:49.864
<v Speaker 0>These modified.

01:17:50.600 --> 01:17:52.200
<v Speaker 0>But I need I want the app to

01:17:52.200 --> 01:17:53.080
<v Speaker 0>get to work.

01:17:55.880 --> 01:17:58.360
<v Speaker 1>I was gonna say if we can install

01:18:00.840 --> 01:18:02.280
<v Speaker 1>the BPF tool,

01:18:02.915 --> 01:18:04.355
<v Speaker 1>we can scan for

01:18:04.835 --> 01:18:06.355
<v Speaker 0>Well, I wanna modify I wanna see what

01:18:06.355 --> 01:18:08.434
<v Speaker 0>files are being opened by processes.

01:18:14.035 --> 01:18:15.075
<v Speaker 0>What what's your idea?

01:18:17.230 --> 01:18:19.470
<v Speaker 1>I was just gonna look for kernel modules

01:18:19.470 --> 01:18:21.870
<v Speaker 1>loaded, like eBPF programs.

01:18:25.390 --> 01:18:27.150
<v Speaker 0>Yeah. We can run BPF trace too.

01:18:31.745 --> 01:18:33.184
<v Speaker 0>This is one of the most

01:18:33.665 --> 01:18:36.224
<v Speaker 0>annoying breaks we've seen. Right?

01:18:38.625 --> 01:18:39.585
<v Speaker 1>There is

01:18:39.745 --> 01:18:42.909
<v Speaker 1>there are? There there are. There are hints

01:18:42.909 --> 01:18:44.270
<v Speaker 1>in the home directory, but I'm not sure

01:18:44.270 --> 01:18:46.510
<v Speaker 1>we need it quite yet, but just

01:18:46.510 --> 01:18:48.110
<v Speaker 1>throwing that out there. I know that

01:18:51.710 --> 01:18:53.230
<v Speaker 0>Not giving him the satisfaction.

01:18:53.985 --> 01:18:55.824
<v Speaker 1>I I was gonna say, I feel like

01:18:55.824 --> 01:18:58.545
<v Speaker 1>for Russell, we can't use his hints because

01:18:59.824 --> 01:19:01.264
<v Speaker 0>Why is that calling that again?

01:19:07.120 --> 01:19:09.280
<v Speaker 0>When I delete that fail. It I've had

01:19:09.280 --> 01:19:10.400
<v Speaker 0>enough of it now.

01:19:17.520 --> 01:19:18.800
<v Speaker 0>This one.

01:19:19.440 --> 01:19:21.760
<v Speaker 1>The user s been? Yeah.

01:19:31.975 --> 01:19:32.375
<v Speaker 0>Good.

01:19:43.199 --> 01:19:45.199
<v Speaker 1>I'm not as good with I I am

01:19:45.199 --> 01:19:46.879
<v Speaker 1>super glad you're dealing with that.

01:19:48.000 --> 01:19:49.519
<v Speaker 1>I I did it. Okay.

01:19:51.475 --> 01:19:53.554
<v Speaker 0>No. It doesn't. It doesn't install it.

01:20:00.755 --> 01:20:02.355
<v Speaker 0>It keeps pulling up that really

01:20:07.130 --> 01:20:08.810
<v Speaker 0>where was that again? It's been

01:20:09.690 --> 01:20:10.810
<v Speaker 0>does it come back?

01:20:12.970 --> 01:20:13.610
<v Speaker 0>No.

01:20:14.170 --> 01:20:15.930
<v Speaker 0>So how when I run an app, is

01:20:15.930 --> 01:20:17.850
<v Speaker 0>it getting that c metrics?

01:20:22.715 --> 01:20:25.035
<v Speaker 0>Maybe from journal control. So I just need

01:20:25.035 --> 01:20:26.955
<v Speaker 0>to list everything and user

01:20:27.035 --> 01:20:28.074
<v Speaker 0>has been

01:20:29.435 --> 01:20:30.795
<v Speaker 0>grep for

01:20:31.915 --> 01:20:32.875
<v Speaker 0>April 20.

01:20:38.110 --> 01:20:39.389
<v Speaker 1>April '20 '1 maybe?

01:20:52.405 --> 01:20:54.324
<v Speaker 0>Internal control seems alright.

01:20:58.245 --> 01:21:00.165
<v Speaker 1>They all have the same date at this

01:21:00.165 --> 01:21:01.045
<v Speaker 1>point. Right?

01:21:02.005 --> 01:21:04.325
<v Speaker 0>Yeah. He's not He's reset the dates,

01:21:04.989 --> 01:21:06.429
<v Speaker 0>which is also annoying.

01:21:09.630 --> 01:21:11.630
<v Speaker 0>Just talking now. Like, he's sneaky.

01:21:24.565 --> 01:21:25.365
<v Speaker 0>Okay.

01:21:31.685 --> 01:21:32.725
<v Speaker 0>But they're not installed.

01:21:44.530 --> 01:21:46.050
<v Speaker 0>Oh, because I've removed the s pen from

01:21:46.050 --> 01:21:46.770
<v Speaker 0>my path now.

01:21:50.215 --> 01:21:51.015
<v Speaker 1>Correctly.

01:21:51.175 --> 01:21:52.695
<v Speaker 0>This is the one I wanted.

01:21:57.735 --> 01:21:58.535
<v Speaker 0>Alright.

01:21:59.975 --> 01:22:02.615
<v Speaker 0>So special is any reader rate on the

01:22:02.615 --> 01:22:03.255
<v Speaker 0>fail system.

01:22:09.869 --> 01:22:12.989
<v Speaker 0>Not sure about that. Log extra fields on

01:22:12.989 --> 01:22:14.909
<v Speaker 0>the service. Really, because I don't trust the

01:22:14.909 --> 01:22:16.189
<v Speaker 0>Kiplet service yet.

01:22:17.630 --> 01:22:19.949
<v Speaker 0>Now Kiplet is reading the static manifest.

01:22:31.895 --> 01:22:33.975
<v Speaker 0>That seems

01:22:34.040 --> 01:22:34.920
<v Speaker 0>normal.

01:22:38.840 --> 01:22:40.200
<v Speaker 0>Alright. What was your idea?

01:22:44.760 --> 01:22:47.560
<v Speaker 1>Effectively, this. This looks

01:22:47.185 --> 01:22:47.824
<v Speaker 1>fine.

01:22:48.625 --> 01:22:50.385
<v Speaker 1>I I was going to run

01:22:52.864 --> 01:22:53.824
<v Speaker 1>there's a

01:22:54.304 --> 01:22:55.105
<v Speaker 1>BPF

01:22:55.105 --> 01:22:55.905
<v Speaker 1>tool,

01:22:55.985 --> 01:22:57.665
<v Speaker 1>and then you could give it the prog,

01:22:57.665 --> 01:22:59.265
<v Speaker 1>which will list all the eBPF

01:23:00.470 --> 01:23:01.510
<v Speaker 1>programs.

01:23:05.430 --> 01:23:08.230
<v Speaker 0>Yep. We can do that with bpf trace.

01:23:13.135 --> 01:23:14.735
<v Speaker 1>That was my only

01:23:15.375 --> 01:23:16.974
<v Speaker 1>I don't know. That was my thought

01:23:17.215 --> 01:23:18.414
<v Speaker 1>as far as

01:23:20.895 --> 01:23:22.895
<v Speaker 1>seeing if there's any rustle

01:23:24.350 --> 01:23:26.349
<v Speaker 1>Russell code in the kernel.

01:23:27.790 --> 01:23:29.230
<v Speaker 0>Well, there's definitely a lot of e b

01:23:29.230 --> 01:23:30.670
<v Speaker 0>p f going on, but we also have

01:23:30.670 --> 01:23:32.190
<v Speaker 0>a cilium on this cluster.

01:23:33.470 --> 01:23:35.230
<v Speaker 1>The new cilium does use e b p

01:23:35.230 --> 01:23:37.470
<v Speaker 1>f, so that should be like

01:23:38.110 --> 01:23:38.910
<v Speaker 1>that should be fine.

01:23:40.185 --> 01:23:42.665
<v Speaker 0>Yep. I mean, we could look for things

01:23:42.665 --> 01:23:44.265
<v Speaker 0>that are suspicious.

01:23:45.385 --> 01:23:48.185
<v Speaker 0>He he also told us that his hack

01:23:48.185 --> 01:23:50.905
<v Speaker 0>doesn't work. So right now he's I'm pretty

01:23:50.905 --> 01:23:52.585
<v Speaker 0>convinced he's broken container d.

01:23:56.630 --> 01:23:58.630
<v Speaker 1>Alright. So how would you break container d?

01:23:58.630 --> 01:23:59.749
<v Speaker 1>There's run c,

01:23:59.910 --> 01:24:02.949
<v Speaker 1>which is how container d runs applications on

01:24:02.949 --> 01:24:04.550
<v Speaker 1>the host. It kind of takes care of

01:24:04.550 --> 01:24:06.550
<v Speaker 1>the the stuff. How would you break run

01:24:06.550 --> 01:24:08.630
<v Speaker 1>c? There's namespaces

01:24:08.630 --> 01:24:09.030
<v Speaker 1>and

01:24:10.675 --> 01:24:12.995
<v Speaker 1>c groups and the things that it does

01:24:12.995 --> 01:24:14.595
<v Speaker 1>with the kernel calls.

01:24:16.675 --> 01:24:18.675
<v Speaker 1>I've never actually touched configuration

01:24:18.675 --> 01:24:20.675
<v Speaker 1>of run c. Can you configure run c?

01:24:20.675 --> 01:24:21.875
<v Speaker 1>Let me let me Google that.

01:24:23.770 --> 01:24:25.690
<v Speaker 0>I don't think so when you're using the

01:24:25.690 --> 01:24:28.249
<v Speaker 0>containerd shim, but please check because

01:24:28.250 --> 01:24:30.809
<v Speaker 0>we're into uncharted territory for me as well.

01:24:31.850 --> 01:24:32.489
<v Speaker 1>Yeah.

01:24:34.810 --> 01:24:35.370
<v Speaker 0>I'm gonna

01:24:36.245 --> 01:24:39.525
<v Speaker 0>apt get install reinstall container d.

01:24:50.599 --> 01:24:52.760
<v Speaker 1>And we checked that there was no container

01:24:52.760 --> 01:24:55.000
<v Speaker 1>d configuration file. Right? There

01:24:55.719 --> 01:24:57.800
<v Speaker 0>Yeah. I did that container d config dump

01:24:57.800 --> 01:25:00.599
<v Speaker 0>and we got nothing. And Russell was

01:25:00.945 --> 01:25:03.185
<v Speaker 0>basically till I reinstalled Container d before telling

01:25:03.185 --> 01:25:05.105
<v Speaker 0>me he hasn't touched Container d. So, you

01:25:05.105 --> 01:25:05.665
<v Speaker 0>know, thanks.

01:25:20.490 --> 01:25:23.210
<v Speaker 0>Let's read this error message properly. Run pod

01:25:23.210 --> 01:25:24.010
<v Speaker 0>sandbox

01:25:24.010 --> 01:25:26.730
<v Speaker 0>for kubectl server. This is the one we

01:25:26.730 --> 01:25:27.210
<v Speaker 0>care about.

01:25:28.264 --> 01:25:30.344
<v Speaker 0>Failed to create a container d task,

01:25:30.505 --> 01:25:33.465
<v Speaker 0>failed to create a shim, the OCI runtime

01:25:33.465 --> 01:25:34.584
<v Speaker 0>create failed,

01:25:39.465 --> 01:25:41.784
<v Speaker 0>getting the final child's PED from the pipe.

01:25:48.550 --> 01:25:49.830
<v Speaker 0>Okay. So

01:25:51.030 --> 01:25:52.470
<v Speaker 0>I am gonna use a little s squid

01:25:52.470 --> 01:25:53.190
<v Speaker 0>in there.

01:25:55.110 --> 01:25:56.630
<v Speaker 0>Oh, it's gonna be not working because of

01:25:56.630 --> 01:25:57.350
<v Speaker 0>the screen size.

01:26:01.085 --> 01:26:02.525
<v Speaker 0>Alright. I'll just do a PSN.

01:26:20.070 --> 01:26:22.310
<v Speaker 1>K. So there's actually a

01:26:23.190 --> 01:26:25.350
<v Speaker 1>there's actually a GitHub issue

01:26:25.430 --> 01:26:26.150
<v Speaker 1>for this,

01:26:27.244 --> 01:26:28.844
<v Speaker 1>the exact error.

01:26:32.844 --> 01:26:34.364
<v Speaker 1>It was a configuration

01:26:35.085 --> 01:26:38.204
<v Speaker 1>okay. So system CTL had a max user

01:26:38.204 --> 01:26:39.005
<v Speaker 1>namespaces.

01:26:43.540 --> 01:26:46.260
<v Speaker 1>So as I was saying, possibly

01:26:46.739 --> 01:26:48.180
<v Speaker 1>messing with namespaces,

01:26:56.505 --> 01:26:58.985
<v Speaker 1>Like, restricting the number of namespaces?

01:27:01.945 --> 01:27:03.545
<v Speaker 0>Russell says bingo.

01:27:05.785 --> 01:27:06.905
<v Speaker 0>I don't know.

01:27:07.785 --> 01:27:10.185
<v Speaker 0>So we're restricting the namespaces via system d?

01:27:12.139 --> 01:27:14.619
<v Speaker 1>Here. Can I type Yep? Please. Go for

01:27:14.619 --> 01:27:14.780
<v Speaker 0>it.

01:27:29.175 --> 01:27:30.215
<v Speaker 0>Parameter.

01:27:30.935 --> 01:27:33.095
<v Speaker 1>You're right. It's a kernel parameter. It's like

01:27:33.255 --> 01:27:35.895
<v Speaker 1>because namespaces are part of first

01:27:35.895 --> 01:27:37.495
<v Speaker 0>before you go right into it.

01:27:39.150 --> 01:27:39.870
<v Speaker 1>Okay.

01:27:40.030 --> 01:27:40.989
<v Speaker 0>So this

01:27:41.390 --> 01:27:42.830
<v Speaker 0>system control

01:27:42.910 --> 01:27:44.830
<v Speaker 0>grep have type grep

01:27:44.990 --> 01:27:46.510
<v Speaker 0>for namespaces.

01:27:48.030 --> 01:27:50.830
<v Speaker 0>Because I'm curious of what he's tampered with.

01:27:57.635 --> 01:27:59.795
<v Speaker 0>That's not on our path anymore, so you'll

01:27:59.795 --> 01:28:00.115
<v Speaker 0>need to

01:28:00.915 --> 01:28:03.235
<v Speaker 1>Okay. Okay. I got it. Sorry.

01:28:04.835 --> 01:28:05.715
<v Speaker 1>Russell.

01:28:05.715 --> 01:28:06.595
<v Speaker 1>Okay.

01:28:10.179 --> 01:28:13.219
<v Speaker 1>I just I'm gonna go to the user

01:28:13.300 --> 01:28:13.780
<v Speaker 1>as

01:28:20.420 --> 01:28:22.099
<v Speaker 1>guess we're going to the dash Yeah.

01:28:25.675 --> 01:28:26.795
<v Speaker 0>And grip.

01:28:27.515 --> 01:28:29.594
<v Speaker 1>Oh. Oh, yeah. I'm a dumb dumb.

01:28:32.475 --> 01:28:34.795
<v Speaker 0>Oh, yeah. Max code name SpaCy7.

01:28:34.955 --> 01:28:36.395
<v Speaker 0>That's a very specific number.

01:28:37.140 --> 01:28:38.820
<v Speaker 0>Alright. Let's pull it that way.

01:28:39.620 --> 01:28:41.540
<v Speaker 1>So let's actually just update it to the

01:28:41.540 --> 01:28:44.180
<v Speaker 1>rest of these. Oh, shoot. I did

01:28:44.820 --> 01:28:46.740
<v Speaker 1>I opened debugging tools. One second.

01:28:52.045 --> 01:28:53.244
<v Speaker 1>Oh, okay. You got it.

01:29:04.140 --> 01:29:04.940
<v Speaker 0>Alright.

01:29:06.380 --> 01:29:08.940
<v Speaker 0>Probably have to restart container d. Although you

01:29:08.940 --> 01:29:10.620
<v Speaker 0>could we can run a PS, I guess,

01:29:10.620 --> 01:29:12.380
<v Speaker 0>and see if we start to see things

01:29:12.380 --> 01:29:13.020
<v Speaker 0>showing up.

01:29:17.385 --> 01:29:19.305
<v Speaker 0>Like, grab the cube and see if we've

01:29:19.305 --> 01:29:21.304
<v Speaker 0>got any control plane component.

01:29:23.385 --> 01:29:25.065
<v Speaker 0>Controller manager. That's

01:29:25.065 --> 01:29:25.545
<v Speaker 0>it.

01:29:26.345 --> 01:29:27.065
<v Speaker 0>It's coming.

01:29:30.880 --> 01:29:32.079
<v Speaker 1>Oh, Russell.

01:29:32.639 --> 01:29:32.960
<v Speaker 1>I

01:29:34.639 --> 01:29:36.879
<v Speaker 1>that was good. Messing with the

01:29:38.480 --> 01:29:40.079
<v Speaker 1>the system settings.

01:29:40.719 --> 01:29:41.920
<v Speaker 0>Actually Restart

01:29:41.920 --> 01:29:43.199
<v Speaker 0>the cue ball to speed us up.

01:29:44.565 --> 01:29:46.645
<v Speaker 1>Educational break. I I really like it because

01:29:46.645 --> 01:29:49.045
<v Speaker 1>it's it's talking about namespaces,

01:29:49.125 --> 01:29:50.485
<v Speaker 1>c groups, how

01:29:51.045 --> 01:29:54.325
<v Speaker 1>how containers are actually run. That's that's brilliant.

01:29:54.325 --> 01:29:55.125
<v Speaker 1>Good one.

01:29:55.525 --> 01:29:56.565
<v Speaker 1>I appreciate that one.

01:30:05.100 --> 01:30:06.940
<v Speaker 0>Do we have an API server yet?

01:30:10.220 --> 01:30:11.260
<v Speaker 0>Just coming. Okay.

01:30:14.475 --> 01:30:15.675
<v Speaker 0>It was there.

01:30:19.275 --> 01:30:20.395
<v Speaker 0>Let's go check the log.

01:30:28.280 --> 01:30:30.360
<v Speaker 0>No. I have containers.

01:30:31.560 --> 01:30:32.599
<v Speaker 1>Oh, okay.

01:30:33.800 --> 01:30:35.239
<v Speaker 0>Apparently, we're halfway through.

01:30:37.560 --> 01:30:38.199
<v Speaker 1>Oh, no.

01:30:40.474 --> 01:30:43.835
<v Speaker 0>But now we're hopefully talking Kubernetes land, so

01:30:43.835 --> 01:30:45.675
<v Speaker 0>it should be easy breaks.

01:30:47.114 --> 01:30:48.954
<v Speaker 1>Alright. Varlog containers.

01:30:49.915 --> 01:30:52.395
<v Speaker 0>Sorry. Oh, Varlog. That's

01:30:52.950 --> 01:30:54.470
<v Speaker 1>that's in the wrong place.

01:30:56.390 --> 01:30:58.310
<v Speaker 0>And then cube dash API.

01:31:04.925 --> 01:31:08.445
<v Speaker 1>Failed to find any PEM data on certificate

01:31:08.445 --> 01:31:10.365
<v Speaker 1>input. So this looks like he messed with

01:31:10.365 --> 01:31:11.725
<v Speaker 1>the certificate data.

01:31:33.505 --> 01:31:34.945
<v Speaker 0>Alright. Let's

01:31:35.345 --> 01:31:36.465
<v Speaker 0>go check the steps.

01:31:50.330 --> 01:31:52.730
<v Speaker 0>So this needs pretty much everything

01:31:52.810 --> 01:31:53.690
<v Speaker 0>annoyingly.

01:32:01.005 --> 01:32:03.005
<v Speaker 0>Did it say which one it unlocks?

01:32:04.045 --> 01:32:06.125
<v Speaker 1>So this says the t l cert file,

01:32:06.125 --> 01:32:08.685
<v Speaker 1>the configuration is the API server

01:32:09.005 --> 01:32:10.845
<v Speaker 1>dot cert in the PKI.

01:32:10.845 --> 01:32:12.925
<v Speaker 0>Well, we just refresh all the certs?

01:32:14.100 --> 01:32:15.460
<v Speaker 0>With Kubadian? Yeah.

01:32:16.100 --> 01:32:17.540
<v Speaker 1>I think that's the easiest way to do

01:32:17.540 --> 01:32:20.660
<v Speaker 1>this is just ask Kubadian to refresh it.

01:32:22.820 --> 01:32:24.500
<v Speaker 1>I don't remember the command off the top

01:32:24.500 --> 01:32:26.739
<v Speaker 1>of my head. No. I never do.

01:32:28.180 --> 01:32:28.500
<v Speaker 0>There.

01:32:39.655 --> 01:32:41.735
<v Speaker 1>The configuration file looked fine.

01:32:49.180 --> 01:32:50.140
<v Speaker 0>Serps.

01:32:53.660 --> 01:32:54.300
<v Speaker 0>Reader.

01:33:01.205 --> 01:33:03.365
<v Speaker 0>We could just do all, I guess.

01:33:07.925 --> 01:33:10.005
<v Speaker 1>Two changes per broken cert. What does that

01:33:10.005 --> 01:33:12.760
<v Speaker 1>even mean, Russell? What does two changes per

01:33:12.760 --> 01:33:15.640
<v Speaker 1>broken cert? How many broken certs are there?

01:33:21.000 --> 01:33:21.480
<v Speaker 1>How

01:33:24.895 --> 01:33:27.135
<v Speaker 0>Alright. So we're gonna have to delete.

01:33:38.330 --> 01:33:39.130
<v Speaker 0>Cool.

01:33:39.610 --> 01:33:41.690
<v Speaker 1>Now we just check the logs again.

01:33:42.090 --> 01:33:43.770
<v Speaker 0>Well, we need to

01:33:46.250 --> 01:33:47.690
<v Speaker 0>restart everything.

01:33:49.370 --> 01:33:50.890
<v Speaker 0>So temp

01:33:53.955 --> 01:33:56.195
<v Speaker 0>Man, man b star.

01:34:00.435 --> 01:34:01.875
<v Speaker 0>And move all back.

01:34:02.835 --> 01:34:04.755
<v Speaker 1>Do you need to restart the cubelet first?

01:34:04.755 --> 01:34:06.355
<v Speaker 0>I mean, we'll do that anyways just to

01:34:06.355 --> 01:34:06.915
<v Speaker 0>speed it up.

01:34:08.330 --> 01:34:10.570
<v Speaker 0>Where'd that dot EMVRC come from?

01:34:16.090 --> 01:34:18.090
<v Speaker 1>Nice catch. Nice catch.

01:34:19.530 --> 01:34:20.570
<v Speaker 1>Now

01:34:27.375 --> 01:34:30.175
<v Speaker 1>okay. I think we just sledgehammered his fine

01:34:30.175 --> 01:34:32.494
<v Speaker 1>break. I think he actually base 64 encoded

01:34:32.494 --> 01:34:33.295
<v Speaker 1>data in them.

01:34:34.170 --> 01:34:35.690
<v Speaker 1>So if we had actually,

01:34:37.770 --> 01:34:39.450
<v Speaker 1>base 64 decoded

01:34:39.530 --> 01:34:40.490
<v Speaker 1>his certs.

01:34:51.745 --> 01:34:53.344
<v Speaker 0>It was taking us so long.

01:34:57.505 --> 01:34:58.864
<v Speaker 0>Guess we still got better.

01:35:08.679 --> 01:35:10.679
<v Speaker 0>Oh, it's not regenerated to API server.

01:35:29.370 --> 01:35:31.770
<v Speaker 0>To forget for a survey. Alright. We'll regenerate

01:35:31.770 --> 01:35:32.330
<v Speaker 0>it.

01:35:34.890 --> 01:35:36.570
<v Speaker 0>But that's about to have people with the

01:35:36.570 --> 01:35:36.970
<v Speaker 0>RM.

01:35:48.645 --> 01:35:50.245
<v Speaker 0>Let's see if we've got what we need

01:35:50.245 --> 01:35:50.565
<v Speaker 0>here.

01:35:55.650 --> 01:35:57.250
<v Speaker 0>Oh, good. You did that on that too.

01:36:12.744 --> 01:36:14.584
<v Speaker 0>Maybe we can't renew.

01:36:19.465 --> 01:36:21.304
<v Speaker 1>Can't do we need to generate

01:36:21.545 --> 01:36:24.184
<v Speaker 1>the keys and certificate for signing request and

01:36:24.184 --> 01:36:24.744
<v Speaker 1>then renew?

01:36:25.450 --> 01:36:27.530
<v Speaker 1>Did you delete the signing stuff?

01:36:37.450 --> 01:36:39.130
<v Speaker 0>Yeah. I think I deleted too much.

01:36:45.035 --> 01:36:46.074
<v Speaker 0>Been there.

01:36:47.595 --> 01:36:48.715
<v Speaker 0>Read your

01:36:51.755 --> 01:36:52.954
<v Speaker 1>Certificate

01:36:52.955 --> 01:36:54.795
<v Speaker 1>for serving the Kubernetes API.

01:37:13.505 --> 01:37:14.704
<v Speaker 0>You're annoying me now.

01:37:18.545 --> 01:37:20.385
<v Speaker 0>So I'm gonna have to do

01:37:21.505 --> 01:37:24.465
<v Speaker 0>and it I remember like there's

01:37:25.450 --> 01:37:27.450
<v Speaker 1>An hour ago when I used to have

01:37:27.450 --> 01:37:28.969
<v Speaker 1>a friend called Russell.

01:37:30.650 --> 01:37:32.969
<v Speaker 0>It's alright. Let's just regenerate everything.

01:37:35.050 --> 01:37:36.650
<v Speaker 0>And then we'll have every

01:37:39.145 --> 01:37:40.265
<v Speaker 0>PKI.

01:37:40.825 --> 01:37:44.025
<v Speaker 0>Yeah. It's better. But now, because we've modified

01:37:44.025 --> 01:37:46.345
<v Speaker 0>even the Rawkode

01:37:46.345 --> 01:37:48.345
<v Speaker 0>to connect, but I'm alright with that.

01:37:49.065 --> 01:37:49.945
<v Speaker 0>Let's

01:37:50.190 --> 01:37:51.870
<v Speaker 0>we need to move all the manifest back

01:37:51.870 --> 01:37:52.590
<v Speaker 0>again.

01:37:53.390 --> 01:37:55.550
<v Speaker 1>Right. We'll have to restart everything now.

01:38:04.190 --> 01:38:04.670
<v Speaker 0>Alright.

01:38:07.275 --> 01:38:09.034
<v Speaker 0>And we have an API server.

01:38:14.635 --> 01:38:16.955
<v Speaker 0>Maybe. Can't be that easy. Can't be that

01:38:16.955 --> 01:38:17.675
<v Speaker 1>you just

01:38:17.915 --> 01:38:18.955
<v Speaker 1>do get nodes.

01:38:26.300 --> 01:38:27.900
<v Speaker 0>No APIs ever flipped.

01:38:35.835 --> 01:38:36.715
<v Speaker 0>Okay.

01:38:38.715 --> 01:38:39.675
<v Speaker 0>Can't speak to

01:38:41.995 --> 01:38:42.795
<v Speaker 1>k.

01:38:45.675 --> 01:38:47.995
<v Speaker 1>Oh, did we restart etcd because we gave

01:38:47.995 --> 01:38:49.755
<v Speaker 1>it new certs. Right? Yeah.

01:38:56.450 --> 01:38:58.290
<v Speaker 0>I need to be a bit more soft

01:38:58.290 --> 01:39:00.610
<v Speaker 0>touched with these components I think and

01:39:01.010 --> 01:39:02.370
<v Speaker 0>getting some bad habits now.

01:39:05.275 --> 01:39:07.915
<v Speaker 1>Well, I do believe that he base 64

01:39:07.915 --> 01:39:08.954
<v Speaker 1>encoded

01:39:09.355 --> 01:39:11.514
<v Speaker 1>words into those. I don't know if we

01:39:11.514 --> 01:39:12.554
<v Speaker 1>would have decoded them.

01:39:19.199 --> 01:39:21.280
<v Speaker 1>Can we see the logs for

01:39:21.360 --> 01:39:22.399
<v Speaker 1>etcd?

01:39:25.199 --> 01:39:25.920
<v Speaker 0>Yeah.

01:39:38.455 --> 01:39:40.614
<v Speaker 1>It doesn't like the certificate that it's getting.

01:40:02.864 --> 01:40:05.585
<v Speaker 0>Old or new? Old or new? It's like

01:40:05.585 --> 01:40:08.385
<v Speaker 1>the hypocrite signed by unknown authority which would

01:40:08.545 --> 01:40:10.544
<v Speaker 1>cause me to believe that the root

01:40:12.465 --> 01:40:14.545
<v Speaker 1>cert, the what which we changed,

01:40:15.000 --> 01:40:17.719
<v Speaker 1>It's either hasn't gotten the new one or

01:40:17.880 --> 01:40:20.680
<v Speaker 1>the Kube API server hasn't gotten the new

01:40:20.600 --> 01:40:21.639
<v Speaker 0>Yeah. I'm gonna

01:40:22.040 --> 01:40:23.080
<v Speaker 0>stop everything.

01:40:43.130 --> 01:40:44.889
<v Speaker 0>This is gonna end up in trouble, isn't

01:40:44.889 --> 01:40:45.449
<v Speaker 0>it?

01:40:47.369 --> 01:40:48.809
<v Speaker 1>Nah. It's fine.

01:40:49.210 --> 01:40:50.249
<v Speaker 1>It's fine.

01:40:53.849 --> 01:40:55.130
<v Speaker 0>Why is that not working?

01:40:59.164 --> 01:41:01.085
<v Speaker 1>So it doesn't think that you provided it

01:41:01.085 --> 01:41:02.044
<v Speaker 1>a container.

01:41:08.525 --> 01:41:08.844
<v Speaker 0>Oh.

01:41:13.260 --> 01:41:14.460
<v Speaker 0>Oh, XRGs. Yeah.

01:41:15.260 --> 01:41:16.860
<v Speaker 1>XRGs. That's what I was gonna say. You

01:41:16.860 --> 01:41:19.099
<v Speaker 1>have to pass in there you go.

01:41:21.500 --> 01:41:24.380
<v Speaker 0>Alright. How do we delete a stop dictator?

01:41:26.905 --> 01:41:28.185
<v Speaker 0>Or do I need to just stop it

01:41:28.185 --> 01:41:29.945
<v Speaker 0>first? Or we could just run stop first.

01:41:39.060 --> 01:41:40.420
<v Speaker 1>So I don't use

01:41:40.900 --> 01:41:44.180
<v Speaker 1>CTR very often. Yeah. I I assumed RM

01:41:44.180 --> 01:41:45.460
<v Speaker 0>would just have a

01:41:48.660 --> 01:41:50.340
<v Speaker 0>Yes. Really delete me flag.

01:41:52.895 --> 01:41:53.775
<v Speaker 1>Can you just use

01:41:57.055 --> 01:41:58.575
<v Speaker 0>Why don't we try the pods?

01:42:03.375 --> 01:42:06.030
<v Speaker 0>I don't wanna use cry control for that.

01:42:24.135 --> 01:42:25.415
<v Speaker 0>Pods out there.

01:42:25.815 --> 01:42:27.255
<v Speaker 0>Op print

01:42:28.535 --> 01:42:29.015
<v Speaker 0>one.

01:42:32.640 --> 01:42:33.440
<v Speaker 0>At

01:42:33.520 --> 01:42:34.560
<v Speaker 0>n one.

01:42:34.800 --> 01:42:36.480
<v Speaker 0>No. Tail n one.

01:42:38.400 --> 01:42:40.480
<v Speaker 0>No. How'd you skip the row again?

01:42:42.960 --> 01:42:43.920
<v Speaker 0>That doesn't matter.

01:42:44.505 --> 01:42:45.705
<v Speaker 0>Right. Control.

01:42:46.985 --> 01:42:48.425
<v Speaker 0>Runtime endpoint.

01:42:48.825 --> 01:42:51.145
<v Speaker 0>Really should have just set the environment variable.

01:42:54.905 --> 01:42:55.785
<v Speaker 0>Stock

01:42:56.105 --> 01:42:57.625
<v Speaker 0>pods r m

01:42:57.785 --> 01:42:58.185
<v Speaker 0>four.

01:43:00.590 --> 01:43:02.510
<v Speaker 0>And egg. Oh, no. That's weird.

01:43:19.015 --> 01:43:20.934
<v Speaker 0>Gonna have to tape all that again.

01:43:26.535 --> 01:43:27.015
<v Speaker 1>Alright.

01:43:28.800 --> 01:43:30.880
<v Speaker 1>Alright. Maybe we're ever thinking this.

01:43:33.599 --> 01:43:35.360
<v Speaker 1>Maybe we just screwed up the search.

01:43:36.639 --> 01:43:38.159
<v Speaker 0>I don't know. We could we I don't

01:43:38.159 --> 01:43:38.719
<v Speaker 0>think we did.

01:43:59.550 --> 01:44:00.910
<v Speaker 0>Why is that not deleting them?

01:44:12.204 --> 01:44:14.844
<v Speaker 0>Pods only list pods. Yeah. So you have

01:44:14.844 --> 01:44:15.484
<v Speaker 0>to do

01:44:16.125 --> 01:44:17.244
<v Speaker 0>RMP

01:44:17.324 --> 01:44:17.885
<v Speaker 0>force.

01:44:22.130 --> 01:44:22.929
<v Speaker 0>Alright.

01:44:24.050 --> 01:44:26.050
<v Speaker 0>Now we got very little running.

01:44:28.929 --> 01:44:29.729
<v Speaker 0>Star.

01:44:29.969 --> 01:44:30.769
<v Speaker 0>Kiplet.

01:44:31.730 --> 01:44:33.250
<v Speaker 0>You wanna reset you wanna reset the stairs

01:44:33.250 --> 01:44:34.610
<v Speaker 0>one more time or we are we happy

01:44:34.610 --> 01:44:35.570
<v Speaker 0>that they're maybe okay?

01:44:38.245 --> 01:44:39.525
<v Speaker 1>I think we're fine.

01:44:40.165 --> 01:44:42.005
<v Speaker 1>I think I think we did like the

01:44:42.005 --> 01:44:42.804
<v Speaker 1>full

01:44:42.885 --> 01:44:44.565
<v Speaker 1>you ran the phase

01:44:44.965 --> 01:44:46.165
<v Speaker 1>for kubeadm,

01:44:46.165 --> 01:44:47.685
<v Speaker 1>which should regenerate everything.

01:44:50.740 --> 01:44:51.860
<v Speaker 0>That's annoying.

01:45:01.860 --> 01:45:02.420
<v Speaker 0>Alright.

01:45:03.735 --> 01:45:06.054
<v Speaker 1>So it still says certificate signed by unknown

01:45:06.054 --> 01:45:06.934
<v Speaker 1>authority.

01:45:11.415 --> 01:45:13.335
<v Speaker 1>The only thing I can think of is

01:45:13.335 --> 01:45:15.975
<v Speaker 1>we need to delete stop the cubelet,

01:45:16.730 --> 01:45:18.249
<v Speaker 1>delete the pods,

01:45:18.650 --> 01:45:20.249
<v Speaker 1>then redo the certs.

01:45:20.330 --> 01:45:22.250
<v Speaker 1>Because maybe one was holding one open and

01:45:22.250 --> 01:45:24.730
<v Speaker 1>didn't let it get re reformat

01:45:24.810 --> 01:45:27.210
<v Speaker 1>like, rewritten. I didn't

01:45:27.290 --> 01:45:29.210
<v Speaker 1>or we didn't notice that it complained that

01:45:29.210 --> 01:45:31.050
<v Speaker 1>it didn't rewrite the the cert.

01:45:32.795 --> 01:45:34.795
<v Speaker 1>That's like the only thing I can think

01:45:34.795 --> 01:45:35.275
<v Speaker 1>of

01:45:36.635 --> 01:45:37.594
<v Speaker 1>minus

01:45:38.235 --> 01:45:41.915
<v Speaker 1>minus him recompiling the binaries to just complain

01:45:41.915 --> 01:45:42.635
<v Speaker 1>about that,

01:45:43.355 --> 01:45:46.199
<v Speaker 1>which I'm hoping he didn't do. Alright. Well,

01:45:46.199 --> 01:45:47.880
<v Speaker 0>we have now regen all the steps. The

01:45:47.880 --> 01:45:49.479
<v Speaker 0>kubelet is currently stopped.

01:45:49.719 --> 01:45:51.320
<v Speaker 0>There's no pods running.

01:45:52.199 --> 01:45:54.840
<v Speaker 1>Now we restart. Encryption isn't enabled on FTD

01:45:54.840 --> 01:45:55.960
<v Speaker 0>to the best of my knowledge.

01:45:56.965 --> 01:45:58.244
<v Speaker 0>That would be harsh.

01:46:02.485 --> 01:46:03.605
<v Speaker 0>Start. Oh,

01:46:06.885 --> 01:46:08.565
<v Speaker 0>Russell telling us to use the hints, but

01:46:08.565 --> 01:46:10.005
<v Speaker 0>he said the search are fine. There's a

01:46:10.005 --> 01:46:11.925
<v Speaker 0>line message from the API server YAML.

01:46:13.550 --> 01:46:14.269
<v Speaker 1>Oh.

01:46:17.389 --> 01:46:19.469
<v Speaker 1>A line. You pick one line out of

01:46:19.469 --> 01:46:20.749
<v Speaker 1>a hundred lines.

01:46:23.869 --> 01:46:26.749
<v Speaker 1>One that's missing? Okay. Yeah. Need to, like,

01:46:26.750 --> 01:46:26.989
<v Speaker 1>pull up.

01:46:28.035 --> 01:46:28.755
<v Speaker 1>Oh.

01:46:30.515 --> 01:46:31.394
<v Speaker 1>Nice call.

01:46:34.355 --> 01:46:35.235
<v Speaker 0>I think.

01:46:38.275 --> 01:46:40.195
<v Speaker 1>There should be a a certain key for

01:46:40.195 --> 01:46:40.675
<v Speaker 1>each one.

01:46:42.530 --> 01:46:44.289
<v Speaker 1>Change it to yeah.

01:46:44.450 --> 01:46:45.730
<v Speaker 1>The ending. Alright.

01:46:50.930 --> 01:46:52.849
<v Speaker 0>Yeah. C a dot key.

01:46:53.730 --> 01:46:55.650
<v Speaker 0>And then let's just confirm with

01:46:56.375 --> 01:46:58.295
<v Speaker 0>we won't have a Kube API server, will

01:46:58.295 --> 01:46:58.775
<v Speaker 0>we?

01:47:02.855 --> 01:47:04.375
<v Speaker 0>Well, let's see what the API server says.

01:47:13.120 --> 01:47:14.880
<v Speaker 0>That's not what he removed.

01:47:15.360 --> 01:47:16.159
<v Speaker 0>Alright.

01:47:19.840 --> 01:47:21.840
<v Speaker 0>So I just assumed whenever there's a CA

01:47:21.840 --> 01:47:24.240
<v Speaker 0>cert, there's a CA key, but I guess

01:47:24.240 --> 01:47:26.000
<v Speaker 0>not. So

01:47:33.255 --> 01:47:36.455
<v Speaker 0>it's the insert file, it's the key file.

01:47:39.175 --> 01:47:40.455
<v Speaker 0>That looks okay. Right?

01:47:41.620 --> 01:47:43.940
<v Speaker 1>Well, if he's going off of removed a

01:47:43.940 --> 01:47:45.860
<v Speaker 1>line, it's not that he edited a line.

01:47:47.060 --> 01:47:49.300
<v Speaker 0>And we have the kupla client there.

01:47:50.260 --> 01:47:51.860
<v Speaker 0>Let me kupla client key.

01:47:54.315 --> 01:47:56.155
<v Speaker 1>And we're just assuming that it's one of

01:47:56.155 --> 01:47:57.035
<v Speaker 1>the commands.

01:47:59.435 --> 01:48:01.275
<v Speaker 1>Let me see if I can't pull up

01:48:01.675 --> 01:48:03.915
<v Speaker 1>I'm gonna log in to the other cluster

01:48:03.915 --> 01:48:06.155
<v Speaker 1>and pull up this file. One second.

01:48:06.475 --> 01:48:07.115
<v Speaker 0>Yeah.

01:48:07.915 --> 01:48:08.475
<v Speaker 0>Not?

01:48:09.035 --> 01:48:10.750
<v Speaker 0>I mean, we could always end at phase

01:48:10.750 --> 01:48:11.710
<v Speaker 0>manifest,

01:48:11.710 --> 01:48:12.030
<v Speaker 0>but

01:48:13.949 --> 01:48:15.949
<v Speaker 1>Yeah. I'm I'm gonna cheat. I'll be right

01:48:15.949 --> 01:48:16.190
<v Speaker 1>back.

01:48:25.505 --> 01:48:26.225
<v Speaker 1>Alright.

01:48:26.305 --> 01:48:27.025
<v Speaker 1>So

01:48:40.520 --> 01:48:42.920
<v Speaker 0>It's an etcd c a file

01:48:43.719 --> 01:48:45.239
<v Speaker 0>according to the docs.

01:48:49.880 --> 01:48:52.280
<v Speaker 1>Do we not we have a cert file,

01:48:52.280 --> 01:48:53.640
<v Speaker 1>a key file, a server.

01:48:54.765 --> 01:48:56.125
<v Speaker 1>Oh, okay.

01:48:58.285 --> 01:48:59.805
<v Speaker 0>The file.

01:49:00.685 --> 01:49:03.725
<v Speaker 0>No. It's looking for the certificate authority.

01:49:05.085 --> 01:49:06.525
<v Speaker 0>And what's the path on that?

01:49:07.720 --> 01:49:09.560
<v Speaker 0>On your Was that not just p j

01:49:09.560 --> 01:49:11.400
<v Speaker 1>I c a dot cert?

01:49:13.240 --> 01:49:15.160
<v Speaker 0>I don't know. Is there an entity c

01:49:15.160 --> 01:49:17.320
<v Speaker 0>a at all in your Shouldn't it be

01:49:17.320 --> 01:49:19.160
<v Speaker 1>the authority that signed all of them? I

01:49:19.160 --> 01:49:20.920
<v Speaker 1>think it should be the same authority.

01:49:21.000 --> 01:49:21.960
<v Speaker 1>That would be

01:49:22.955 --> 01:49:25.675
<v Speaker 1>I guess, etcd could have its own authority.

01:49:25.675 --> 01:49:27.994
<v Speaker 0>Oh, it does. Yeah. Okay.

01:49:28.795 --> 01:49:30.474
<v Speaker 0>Etcd sees there.

01:49:36.555 --> 01:49:37.515
<v Speaker 0>And then we wait.

01:50:06.670 --> 01:50:07.469
<v Speaker 0>Nothing.

01:50:09.710 --> 01:50:11.309
<v Speaker 0>But maybe I'm being impatient.

01:50:21.265 --> 01:50:22.704
<v Speaker 0>Definitely old.

01:50:29.265 --> 01:50:31.025
<v Speaker 1>Oh, one second. Can you go back to

01:50:31.025 --> 01:50:31.505
<v Speaker 1>that file?

01:50:34.070 --> 01:50:36.230
<v Speaker 1>Did you go did you add the one

01:50:36.230 --> 01:50:37.109
<v Speaker 1>that was

01:50:38.309 --> 01:50:39.989
<v Speaker 0>Well, it's not trying to connect in four

01:50:39.989 --> 01:50:41.590
<v Speaker 0>minutes. So I'm gonna restart the keyboard.

01:50:46.155 --> 01:50:47.594
<v Speaker 0>What? Which one? Sorry.

01:50:48.155 --> 01:50:50.155
<v Speaker 1>No. No. No. You I just you probably

01:50:50.155 --> 01:50:52.635
<v Speaker 1>did. There's the you did the c a

01:50:52.635 --> 01:50:55.994
<v Speaker 1>cert that's in the Etsy folder, EtsyD folder.

01:50:56.155 --> 01:50:56.874
<v Speaker 0>Yeah.

01:50:57.434 --> 01:50:58.715
<v Speaker 0>Alright. There we go. We got a new

01:50:58.715 --> 01:50:59.114
<v Speaker 0>log.

01:51:01.880 --> 01:51:02.919
<v Speaker 0>It's all good?

01:51:05.719 --> 01:51:06.999
<v Speaker 0>Okay.

01:51:10.360 --> 01:51:13.320
<v Speaker 1>So that just means Alright. Admin.com is using

01:51:13.320 --> 01:51:14.199
<v Speaker 0>the old.

01:51:15.239 --> 01:51:15.639
<v Speaker 1>Right.

01:51:16.875 --> 01:51:17.754
<v Speaker 0>Alright.

01:51:18.554 --> 01:51:20.315
<v Speaker 0>Let me do remove

01:51:20.315 --> 01:51:21.754
<v Speaker 0>admin.conf.

01:51:21.755 --> 01:51:23.274
<v Speaker 0>Q bdm.

01:51:26.875 --> 01:51:28.874
<v Speaker 0>There's renew

01:51:29.275 --> 01:51:29.914
<v Speaker 0>admin.

01:51:42.910 --> 01:51:43.630
<v Speaker 0>Okay.

01:51:43.710 --> 01:51:45.870
<v Speaker 0>Can't renew if it doesn't exist. We have

01:51:45.870 --> 01:51:46.510
<v Speaker 0>to do

01:51:47.045 --> 01:51:47.844
<v Speaker 0>init

01:51:48.165 --> 01:51:49.124
<v Speaker 0>phase.

01:51:52.324 --> 01:51:52.804
<v Speaker 0>So

01:51:53.125 --> 01:51:54.244
<v Speaker 0>I thought we did this.

01:52:00.850 --> 01:52:03.010
<v Speaker 1>I thought that the init phase was going

01:52:03.010 --> 01:52:04.770
<v Speaker 1>to rewrite the admin

01:52:05.250 --> 01:52:06.690
<v Speaker 1>admin comp.

01:52:07.250 --> 01:52:09.490
<v Speaker 0>Yeah. It's it's own phase. I just don't

01:52:09.490 --> 01:52:11.890
<v Speaker 0>remember. So there's the control play one which

01:52:11.890 --> 01:52:13.330
<v Speaker 0>would have done the static manifest.

01:52:17.835 --> 01:52:19.034
<v Speaker 0>Could config.

01:52:23.675 --> 01:52:24.475
<v Speaker 0>And

01:52:24.475 --> 01:52:25.195
<v Speaker 0>we'll

01:52:25.675 --> 01:52:27.675
<v Speaker 0>probably need them all actually. Right?

01:52:31.200 --> 01:52:33.920
<v Speaker 1>Yeah. I I think so because it's

01:52:33.920 --> 01:52:35.680
<v Speaker 1>going to build ones for each of them.

01:52:35.680 --> 01:52:37.600
<v Speaker 1>They're actually going to continue to have problems

01:52:37.600 --> 01:52:39.520
<v Speaker 1>talking to each other without them.

01:52:40.800 --> 01:52:41.200
<v Speaker 0>Alright.

01:52:44.945 --> 01:52:47.425
<v Speaker 0>Look at that. Two well, not two hours.

01:52:47.425 --> 01:52:49.665
<v Speaker 0>Almost two hours. And we've got a we've

01:52:49.665 --> 01:52:52.065
<v Speaker 0>only just run our first script control command.

01:52:53.185 --> 01:52:55.105
<v Speaker 1>And we're assuming that the control plane is

01:52:55.105 --> 01:52:57.905
<v Speaker 1>actually working. Like, we haven't checked on, like,

01:52:57.985 --> 01:52:59.600
<v Speaker 1>the things that are actually running on it.

01:52:59.600 --> 01:53:01.040
<v Speaker 1>Just kubelet's happy.

01:53:02.080 --> 01:53:04.640
<v Speaker 0>Yeah. I'm just going straight for the

01:53:07.360 --> 01:53:08.560
<v Speaker 0>I have to launch BI.

01:53:12.325 --> 01:53:14.885
<v Speaker 1>Oh, because our path and everything is

01:53:15.525 --> 01:53:16.405
<v Speaker 1>screwed up.

01:53:16.885 --> 01:53:17.764
<v Speaker 0>Error

01:53:17.765 --> 01:53:18.645
<v Speaker 0>equals

01:53:21.845 --> 01:53:23.205
<v Speaker 0>which then

01:53:26.165 --> 01:53:27.605
<v Speaker 0>edit

01:53:29.640 --> 01:53:30.680
<v Speaker 0>v one.

01:53:39.560 --> 01:53:40.600
<v Speaker 0>Feels too easy.

01:53:42.085 --> 01:53:44.565
<v Speaker 1>Well, the worker is unhealthy, so it's probably

01:53:44.565 --> 01:53:46.164
<v Speaker 1>not gonna be able to schedule it.

01:53:50.485 --> 01:53:51.844
<v Speaker 0>Do we really need to go fix this

01:53:51.844 --> 01:53:53.045
<v Speaker 0>worker? I'm tired.

01:53:59.160 --> 01:54:01.000
<v Speaker 1>I was gonna say, I don't know what

01:54:01.000 --> 01:54:02.760
<v Speaker 1>shell we're going to drop into on the

01:54:02.760 --> 01:54:05.080
<v Speaker 1>worker because when we logged into this one,

01:54:05.080 --> 01:54:07.159
<v Speaker 1>we spent the first forty five minutes

01:54:08.040 --> 01:54:09.160
<v Speaker 1>getting into bash.

01:54:15.965 --> 01:54:18.365
<v Speaker 1>Logging into the worker. Let's do it. Let's

01:54:18.365 --> 01:54:18.685
<v Speaker 1>do it.

01:54:41.415 --> 01:54:42.215
<v Speaker 0>Command.

01:54:47.415 --> 01:54:50.215
<v Speaker 1>Wordle in the command line. This is fantastic.

01:54:53.340 --> 01:54:55.340
<v Speaker 1>Enter your guess. James,

01:54:59.340 --> 01:55:01.340
<v Speaker 0>we could untaint the master and that's usually

01:55:01.340 --> 01:55:04.620
<v Speaker 0>my favorite trick or manually scheduling the pod,

01:55:04.620 --> 01:55:05.980
<v Speaker 0>but we did say to Russell we would

01:55:05.980 --> 01:55:07.020
<v Speaker 0>fix the worker.

01:55:07.695 --> 01:55:09.455
<v Speaker 0>So and we go.

01:55:11.295 --> 01:55:13.695
<v Speaker 0>This was a command. It's not gonna overwrite

01:55:13.695 --> 01:55:16.175
<v Speaker 0>the shell set in the password fail.

01:55:16.175 --> 01:55:17.695
<v Speaker 0>I'm sure there's a way to tell it

01:55:17.695 --> 01:55:19.535
<v Speaker 0>to disregard the login shell.

01:55:23.820 --> 01:55:25.500
<v Speaker 0>I don't really want to play Wirtle.

01:55:26.700 --> 01:55:28.140
<v Speaker 1>It's five letters

01:55:28.300 --> 01:55:30.219
<v Speaker 1>because I guess Russell.

01:55:30.380 --> 01:55:32.780
<v Speaker 1>It wasn't Russell. But is it today's actual

01:55:32.780 --> 01:55:34.540
<v Speaker 0>Wirtle, or is it his own Wirtle?

01:55:37.125 --> 01:55:39.605
<v Speaker 1>Oh, I I don't I've actually never played

01:55:39.925 --> 01:55:41.045
<v Speaker 1>Wordle before.

01:55:43.045 --> 01:55:43.764
<v Speaker 1>Oh.

01:55:44.805 --> 01:55:45.525
<v Speaker 1>So

01:55:47.365 --> 01:55:48.885
<v Speaker 1>I also tried I hate you.

01:55:49.850 --> 01:55:52.090
<v Speaker 0>Custom mortal. Alright. Okay.

01:55:56.330 --> 01:55:57.929
<v Speaker 0>Alright. Let's try.

01:55:59.050 --> 01:55:59.850
<v Speaker 0>Words.

01:56:01.130 --> 01:56:02.250
<v Speaker 1>Not cubes.

01:56:05.644 --> 01:56:06.364
<v Speaker 0>Hello.

01:56:07.565 --> 01:56:09.724
<v Speaker 0>Alright. We have an l and an o.

01:56:10.605 --> 01:56:12.045
<v Speaker 1>Is that an l and an o in

01:56:12.045 --> 01:56:13.885
<v Speaker 1>the word or in those positions?

01:56:14.844 --> 01:56:16.925
<v Speaker 0>A green would be in the positions.

01:56:17.405 --> 01:56:18.204
<v Speaker 1>Okay. Okay.

01:56:22.330 --> 01:56:24.250
<v Speaker 0>How is not in the dictionary?

01:56:29.930 --> 01:56:31.850
<v Speaker 0>Why can I not think of any words

01:56:31.850 --> 01:56:34.090
<v Speaker 0>with l and o in it? Limbo,

01:56:34.170 --> 01:56:35.225
<v Speaker 1>I guess. I

01:56:35.945 --> 01:56:38.185
<v Speaker 1>Oh, nice. Okay. It starts with an l.

01:56:46.505 --> 01:56:48.585
<v Speaker 1>L o. Okay. There's all my l words.

01:56:54.170 --> 01:56:55.050
<v Speaker 1>Logging.

01:56:56.810 --> 01:56:58.490
<v Speaker 1>Wait wait. No. That's too long.

01:57:02.490 --> 01:57:03.210
<v Speaker 1>Loom.

01:57:04.015 --> 01:57:05.935
<v Speaker 1>That has an o and an m. Right?

01:57:05.935 --> 01:57:06.335
<v Speaker 1>Loom.

01:57:17.599 --> 01:57:19.840
<v Speaker 1>I freaking I I hate you, Russell.

01:57:21.679 --> 01:57:22.559
<v Speaker 1>Wordle.

01:57:23.520 --> 01:57:24.000
<v Speaker 1>Shelf.

01:57:39.895 --> 01:57:40.935
<v Speaker 0>Must be an a.

01:57:46.510 --> 01:57:47.310
<v Speaker 1>Lamps?

01:57:52.190 --> 01:57:52.989
<v Speaker 1>How

01:57:53.550 --> 01:57:55.550
<v Speaker 1>is lamps not in the dictionary?

01:57:56.030 --> 01:57:58.030
<v Speaker 0>Well, you're gonna get a different word. That's

01:57:58.030 --> 01:57:59.550
<v Speaker 0>what he's saying, I think.

01:58:00.325 --> 01:58:02.804
<v Speaker 0>Oh. Just random pair and location.

01:58:03.605 --> 01:58:04.565
<v Speaker 1>Oh,

01:58:04.565 --> 01:58:06.485
<v Speaker 1>that's even okay. So I'm I'm not I'm

01:58:06.485 --> 01:58:08.005
<v Speaker 1>gonna stop guessing, and I'm just gonna look

01:58:08.005 --> 01:58:08.405
<v Speaker 1>at yours.

01:58:15.989 --> 01:58:17.590
<v Speaker 1>It has to have an m and an

01:58:17.590 --> 01:58:18.309
<v Speaker 1>o.

01:58:19.030 --> 01:58:19.909
<v Speaker 0>Lomi,

01:58:19.909 --> 01:58:21.110
<v Speaker 0>that is not a word.

01:58:23.429 --> 01:58:25.830
<v Speaker 1>Yeah. I would've never gotten that. One second.

01:58:25.830 --> 01:58:27.750
<v Speaker 1>Let me look it up. I'm calling BS

01:58:27.750 --> 01:58:28.469
<v Speaker 1>on that one.

01:58:35.725 --> 01:58:37.005
<v Speaker 1>Okay. Denoting

01:58:37.005 --> 01:58:40.445
<v Speaker 1>or relating to a fertile soil of clay

01:58:40.445 --> 01:58:42.125
<v Speaker 1>and sand containing

01:58:42.969 --> 01:58:43.849
<v Speaker 1>humus.

01:58:47.610 --> 01:58:48.010
<v Speaker 1>Really?

01:59:03.545 --> 01:59:05.385
<v Speaker 0>I was never good at word, though.

01:59:05.785 --> 01:59:08.505
<v Speaker 1>The end might be s e. That's a

01:59:08.505 --> 01:59:09.865
<v Speaker 1>a common ending.

01:59:14.080 --> 01:59:16.240
<v Speaker 1>Since we have an e, I think that's

01:59:16.240 --> 01:59:17.920
<v Speaker 1>a common ending. I'm not really good at

01:59:17.920 --> 01:59:18.560
<v Speaker 1>English

01:59:19.520 --> 01:59:21.360
<v Speaker 1>being that it's like my third or fourth

01:59:21.360 --> 01:59:22.160
<v Speaker 1>language.

01:59:23.760 --> 01:59:26.160
<v Speaker 1>It's not definitely not my best language. What's

01:59:26.160 --> 01:59:26.800
<v Speaker 0>your first language?

01:59:27.985 --> 01:59:28.784
<v Speaker 1>English.

01:59:30.305 --> 01:59:32.145
<v Speaker 1>It's my only language. I'm just not very

01:59:32.145 --> 01:59:32.625
<v Speaker 1>good at it.

01:59:41.760 --> 01:59:43.680
<v Speaker 0>Yes. So that's an all we have to

01:59:43.680 --> 01:59:45.520
<v Speaker 0>par is s and e.

02:00:10.120 --> 02:00:11.880
<v Speaker 0>I'm just trying to get more layers out

02:00:11.880 --> 02:00:15.239
<v Speaker 0>of it, and it's it's

02:00:15.239 --> 02:00:16.600
<v Speaker 0>gonna go I think it's just gonna give

02:00:16.600 --> 02:00:17.320
<v Speaker 0>us a shit word.

02:00:21.885 --> 02:00:24.525
<v Speaker 1>Alright. So can you try these?

02:00:24.605 --> 02:00:26.925
<v Speaker 0>Obese. Oh, obese.

02:00:27.325 --> 02:00:28.365
<v Speaker 1>Told you, s e.

02:00:35.330 --> 02:00:36.769
<v Speaker 1>Oh, nice job.

02:00:41.330 --> 02:00:43.730
<v Speaker 0>This is the last one. And then, Russell,

02:00:43.730 --> 02:00:44.849
<v Speaker 0>you're gonna have to

02:00:45.570 --> 02:00:46.370
<v Speaker 0>help us with this.

02:00:56.275 --> 02:00:57.155
<v Speaker 1>Can you actually

02:00:57.475 --> 02:00:59.395
<v Speaker 1>I'm going while you're doing that, I'm gonna

02:00:59.395 --> 02:01:00.675
<v Speaker 1>try to escape the shell.

02:01:16.855 --> 02:01:18.215
<v Speaker 0>I wish I played Wordle.

02:01:33.440 --> 02:01:35.360
<v Speaker 1>Okay. Nothing I'm doing is letting me escape

02:01:35.360 --> 02:01:36.160
<v Speaker 1>the shell either.

02:01:43.205 --> 02:01:44.965
<v Speaker 0>Okay. R and a.

02:01:56.565 --> 02:01:58.659
<v Speaker 0>Pratt. That seems fitting.

02:02:05.860 --> 02:02:08.420
<v Speaker 0>Alright. Maybe not p r. What goes before

02:02:08.420 --> 02:02:08.980
<v Speaker 0>r?

02:02:13.035 --> 02:02:15.275
<v Speaker 0>No. Because there is in the middle, Russell.

02:02:16.635 --> 02:02:18.795
<v Speaker 0>Could be cramp.

02:02:22.555 --> 02:02:23.115
<v Speaker 0>No.

02:02:24.635 --> 02:02:25.115
<v Speaker 0>Pram.

02:02:26.820 --> 02:02:28.100
<v Speaker 0>Prada.

02:02:37.780 --> 02:02:38.420
<v Speaker 0>Dry.

02:02:42.655 --> 02:02:43.614
<v Speaker 0>Drums.

02:02:46.415 --> 02:02:47.375
<v Speaker 0>Grain.

02:02:49.135 --> 02:02:50.335
<v Speaker 0>Oh, we're almost there.

02:02:59.040 --> 02:03:00.000
<v Speaker 0>I rate.

02:03:01.360 --> 02:03:03.120
<v Speaker 0>Hey, Russell. Do your magic. We won then.

02:03:23.630 --> 02:03:24.510
<v Speaker 0>Alright.

02:03:25.150 --> 02:03:26.989
<v Speaker 0>That has c d this thing? Yeah. So

02:03:26.989 --> 02:03:28.670
<v Speaker 0>you've not broken that at least.

02:03:29.070 --> 02:03:30.829
<v Speaker 1>Hey. I actually beat Wordle.

02:03:32.110 --> 02:03:33.070
<v Speaker 1>Mine was early.

02:03:37.305 --> 02:03:38.264
<v Speaker 0>Alrighty.

02:03:40.665 --> 02:03:42.105
<v Speaker 0>Make sure we don't need to do that

02:03:42.105 --> 02:03:42.425
<v Speaker 0>again.

02:03:54.150 --> 02:03:56.709
<v Speaker 0>Alright. That must have fucked with. That's good.

02:03:58.790 --> 02:04:01.669
<v Speaker 0>Now, what is the problem that we have?

02:04:01.670 --> 02:04:03.429
<v Speaker 0>We have an unhealthy

02:04:03.510 --> 02:04:03.909
<v Speaker 0>yes.

02:04:09.375 --> 02:04:12.015
<v Speaker 0>Well, all these search are gone though. Right?

02:04:13.375 --> 02:04:15.535
<v Speaker 1>Yeah. Let me join your session. Give me

02:04:15.535 --> 02:04:16.255
<v Speaker 1>just a second.

02:04:24.000 --> 02:04:26.960
<v Speaker 1>Oh, we're gonna have to regenerate the certs

02:04:26.960 --> 02:04:27.760
<v Speaker 1>here.

02:04:29.440 --> 02:04:29.920
<v Speaker 0>Yep.

02:04:33.135 --> 02:04:36.094
<v Speaker 0>So if we do a j q temp

02:04:37.775 --> 02:04:39.135
<v Speaker 0>custom data,

02:04:41.295 --> 02:04:43.215
<v Speaker 0>this is all my setup stuff.

02:04:46.090 --> 02:04:47.849
<v Speaker 0>Join token is

02:04:47.850 --> 02:04:48.570
<v Speaker 0>here.

02:04:53.930 --> 02:04:55.369
<v Speaker 0>If we go to

02:04:55.770 --> 02:04:57.289
<v Speaker 0>our loop

02:04:57.770 --> 02:04:58.489
<v Speaker 0>cloud

02:04:58.650 --> 02:04:59.610
<v Speaker 0>instance,

02:04:59.610 --> 02:04:59.770
<v Speaker 0>script,

02:05:01.045 --> 02:05:01.845
<v Speaker 0>grep

02:05:01.845 --> 02:05:02.885
<v Speaker 0>join.

02:05:03.765 --> 02:05:05.045
<v Speaker 0>We can run

02:05:05.605 --> 02:05:06.885
<v Speaker 0>these two commands

02:05:09.925 --> 02:05:11.205
<v Speaker 0>to rejoin the cluster.

02:05:18.230 --> 02:05:19.430
<v Speaker 0>DNS name isn't there.

02:05:36.495 --> 02:05:37.455
<v Speaker 0>I think this is

02:05:39.295 --> 02:05:40.015
<v Speaker 0>yeah.

02:05:44.095 --> 02:05:44.495
<v Speaker 0>Okay.

02:05:49.750 --> 02:05:50.630
<v Speaker 0>QBDM

02:05:50.630 --> 02:05:51.749
<v Speaker 0>reset.

02:05:56.710 --> 02:05:59.670
<v Speaker 1>Russell, I just wanna say nice job on

02:05:59.670 --> 02:06:01.375
<v Speaker 1>this. This was really well done.

02:06:13.040 --> 02:06:15.760
<v Speaker 1>What'd you say? We got from the join

02:06:15.760 --> 02:06:16.720
<v Speaker 0>that give us

02:06:18.160 --> 02:06:18.800
<v Speaker 0>header.

02:06:19.520 --> 02:06:22.160
<v Speaker 1>Oh, check the check the

02:06:22.960 --> 02:06:23.680
<v Speaker 1>namespaces.

02:06:27.185 --> 02:06:29.345
<v Speaker 0>We haven't got our worker joined to the

02:06:29.345 --> 02:06:30.304
<v Speaker 0>cluster yet.

02:06:37.905 --> 02:06:39.905
<v Speaker 1>Oh, okay. Sorry. Sorry. For

02:06:40.385 --> 02:06:42.785
<v Speaker 1>some reason, whenever I join your session, it's

02:06:42.785 --> 02:06:45.340
<v Speaker 1>just not joining your session giving me Russell

02:06:45.340 --> 02:06:46.380
<v Speaker 1>on the worker.

02:06:47.100 --> 02:06:48.220
<v Speaker 1>Russell worker one.

02:06:58.375 --> 02:06:59.894
<v Speaker 0>No. I won't. Yeah.

02:07:03.014 --> 02:07:04.775
<v Speaker 0>So it's gonna 145.

02:07:04.855 --> 02:07:06.934
<v Speaker 0>It should be going through our default gateway.

02:07:09.255 --> 02:07:12.215
<v Speaker 0>Default through here. Not to overwrite it. Oh,

02:07:12.215 --> 02:07:13.335
<v Speaker 0>we have an unreachable.

02:07:13.950 --> 02:07:15.389
<v Speaker 0>Yeah. Black hole does.

02:07:16.590 --> 02:07:17.550
<v Speaker 0>Yep. Yep.

02:07:18.350 --> 02:07:18.910
<v Speaker 0>Rawkode.

02:07:27.975 --> 02:07:29.255
<v Speaker 0>For you, Russell.

02:07:29.655 --> 02:07:30.854
<v Speaker 1>That looks better.

02:07:31.335 --> 02:07:32.054
<v Speaker 1>Oh,

02:07:33.014 --> 02:07:34.614
<v Speaker 0>did that just segfault?

02:07:36.455 --> 02:07:39.494
<v Speaker 0>Oh, DNS lookup failed. And then X509 unknown

02:07:39.494 --> 02:07:42.990
<v Speaker 0>certificate. Sorry. I wonder if the join token

02:07:42.990 --> 02:07:43.630
<v Speaker 0>was

02:07:44.670 --> 02:07:47.150
<v Speaker 0>reset somehow. So what we're gonna do here

02:07:47.150 --> 02:07:48.429
<v Speaker 0>is regen

02:07:49.070 --> 02:07:49.869
<v Speaker 0>that,

02:07:50.190 --> 02:07:51.710
<v Speaker 0>so we can actually ask it for a

02:07:51.710 --> 02:07:52.590
<v Speaker 0>new join token.

02:07:58.855 --> 02:07:59.655
<v Speaker 0>Create

02:07:59.895 --> 02:08:01.735
<v Speaker 0>oh, it's a bootstrap. How do we do

02:08:01.735 --> 02:08:03.255
<v Speaker 0>the join token again?

02:08:03.974 --> 02:08:06.294
<v Speaker 0>I don't remember. Maybe the generate

02:08:06.935 --> 02:08:07.894
<v Speaker 0>join.

02:08:09.335 --> 02:08:11.094
<v Speaker 1>Believe it's run on the control plane.

02:08:12.940 --> 02:08:15.020
<v Speaker 0>Yeah. It's just a Pretty straight. Yeah. Okay.

02:08:15.020 --> 02:08:15.579
<v Speaker 0>Cool.

02:08:16.860 --> 02:08:18.780
<v Speaker 0>Could be an AM talking. Great.

02:08:19.420 --> 02:08:20.379
<v Speaker 0>There we go.

02:08:22.540 --> 02:08:25.420
<v Speaker 0>X four join

02:08:24.755 --> 02:08:26.835
<v Speaker 0>token. That makes sense. I think it actually

02:08:26.835 --> 02:08:29.235
<v Speaker 1>expires after twenty four hours anyway, so it

02:08:29.235 --> 02:08:30.594
<v Speaker 1>probably was bad anyhow.

02:08:33.554 --> 02:08:34.434
<v Speaker 0>Yeah.

02:08:34.434 --> 02:08:35.395
<v Speaker 0>Yeah. Probably right.

02:08:41.219 --> 02:08:43.219
<v Speaker 0>We have to recreate the conflict map. That's

02:08:43.219 --> 02:08:45.300
<v Speaker 0>the one that expires after twenty four hours.

02:08:45.699 --> 02:08:48.340
<v Speaker 1>Oh, okay. Okay. We have to tell it

02:08:48.340 --> 02:08:49.059
<v Speaker 0>to

02:08:50.739 --> 02:08:53.619
<v Speaker 1>I knew something expired after twenty four hours.

02:08:53.619 --> 02:08:55.825
<v Speaker 1>I I didn't remember which one. And it

02:08:55.825 --> 02:08:56.705
<v Speaker 0>is

02:08:57.425 --> 02:09:00.385
<v Speaker 0>and this should be an upload. Yep. Config.

02:09:02.465 --> 02:09:04.225
<v Speaker 0>Upload service and config.

02:09:11.820 --> 02:09:13.979
<v Speaker 0>Let's try config and see if that works.

02:09:21.019 --> 02:09:22.325
<v Speaker 0>Well, let's take off the v nine. I'm

02:09:22.325 --> 02:09:24.005
<v Speaker 0>a bit more confident now.

02:09:26.805 --> 02:09:28.565
<v Speaker 0>Oh, does our black hole come back?

02:09:33.429 --> 02:09:35.349
<v Speaker 0>Alright. Let's bring back my v nine.

02:09:38.869 --> 02:09:42.070
<v Speaker 0>Okay. So we do need to upload this.

02:09:42.389 --> 02:09:43.669
<v Speaker 0>Maybe this there.

02:09:44.789 --> 02:09:45.909
<v Speaker 0>So what was the missing?

02:10:03.710 --> 02:10:05.230
<v Speaker 0>Please see uploads

02:10:05.230 --> 02:10:05.950
<v Speaker 0>there.

02:10:11.070 --> 02:10:13.790
<v Speaker 0>We are not pending the certificate key. So,

02:10:15.175 --> 02:10:16.695
<v Speaker 0>alright, this isn't working.

02:10:20.615 --> 02:10:22.615
<v Speaker 0>The cluster info config map does not yet

02:10:22.615 --> 02:10:23.495
<v Speaker 0>contain

02:10:24.215 --> 02:10:25.015
<v Speaker 0>a

02:10:25.735 --> 02:10:28.055
<v Speaker 0>DWS signature for token ID.

02:10:29.580 --> 02:10:31.179
<v Speaker 0>My join token wrong?

02:10:35.420 --> 02:10:37.980
<v Speaker 1>I thought you just generated a token. Did

02:10:37.980 --> 02:10:39.260
<v Speaker 1>you have to do it after you did

02:10:39.260 --> 02:10:40.539
<v Speaker 1>the upload all?

02:10:41.980 --> 02:10:42.780
<v Speaker 0>Don't think so.

02:11:00.580 --> 02:11:02.739
<v Speaker 0>UDM and it pays out.

02:11:09.835 --> 02:11:12.875
<v Speaker 1>You did the backs of the Bootstrap token

02:11:12.875 --> 02:11:14.955
<v Speaker 1>for the join node to the cluster.

02:11:21.230 --> 02:11:22.110
<v Speaker 0>Okay.

02:11:25.790 --> 02:11:27.310
<v Speaker 1>I don't I don't know. I haven't done

02:11:27.310 --> 02:11:28.590
<v Speaker 1>this in a really long time. But there's

02:11:28.590 --> 02:11:31.550
<v Speaker 1>the bat the bootstrap token that generates a

02:11:31.550 --> 02:11:34.270
<v Speaker 1>bootstrap tokens to join the cluster join a

02:11:34.270 --> 02:11:36.190
<v Speaker 1>node from a cluster. Yeah. We need to

02:11:36.190 --> 02:11:36.989
<v Speaker 1>rerun that one.

02:11:37.765 --> 02:11:39.685
<v Speaker 0>It doesn't hurt. Right? So

02:11:40.725 --> 02:11:42.325
<v Speaker 0>and then we'll print the join command.

02:11:51.840 --> 02:11:53.999
<v Speaker 0>Well, this is essentially what we were running.

02:11:58.239 --> 02:12:00.400
<v Speaker 0>Well, that's obviously still complaining with the same

02:12:00.400 --> 02:12:01.199
<v Speaker 0>message.

02:12:02.080 --> 02:12:03.280
<v Speaker 0>Okay. What does this mean?

02:12:04.155 --> 02:12:05.355
<v Speaker 1>It

02:12:05.355 --> 02:12:06.475
<v Speaker 1>does not contain a judgment.

02:12:18.340 --> 02:12:19.139
<v Speaker 1>Okay.

02:12:19.220 --> 02:12:20.020
<v Speaker 1>So

02:12:21.540 --> 02:12:26.820
<v Speaker 1>wait. Wait. It's

02:12:26.820 --> 02:12:29.540
<v Speaker 1>so weird because the control plane is that's

02:12:29.540 --> 02:12:31.700
<v Speaker 1>the token ID of the control plane that

02:12:31.700 --> 02:12:32.864
<v Speaker 1>it's printing out.

02:12:33.985 --> 02:12:35.664
<v Speaker 1>So it looks right.

02:12:37.585 --> 02:12:41.105
<v Speaker 1>Which one are we using? 70 yet. The

02:12:41.105 --> 02:12:41.984
<v Speaker 1>70

02:12:42.065 --> 02:12:42.545
<v Speaker 1>yetle?

02:12:46.590 --> 02:12:48.110
<v Speaker 0>Yeah. This should be working

02:12:49.390 --> 02:12:51.389
<v Speaker 0>unless the problem is

02:12:53.790 --> 02:12:55.550
<v Speaker 0>an existing config map.

02:13:00.255 --> 02:13:02.255
<v Speaker 0>Well, that's our although it should have been

02:13:02.255 --> 02:13:02.655
<v Speaker 0>updated.

02:13:09.080 --> 02:13:10.599
<v Speaker 0>I'll see MRM.

02:13:17.080 --> 02:13:18.280
<v Speaker 0>What's wrong with that?

02:13:18.600 --> 02:13:19.639
<v Speaker 0>Keep control.

02:13:19.960 --> 02:13:22.760
<v Speaker 1>No. Keep control doesn't have a remove RM.

02:13:22.760 --> 02:13:23.480
<v Speaker 1>It's a delete.

02:13:27.485 --> 02:13:28.605
<v Speaker 0>Thank you, Zari. I

02:13:31.005 --> 02:13:33.885
<v Speaker 1>mean, some people, I think you could, like,

02:13:34.605 --> 02:13:36.204
<v Speaker 1>alias it if you like,

02:13:36.765 --> 02:13:40.270
<v Speaker 1>I guess. Alright. So let's upload all the

02:13:40.270 --> 02:13:41.630
<v Speaker 0>config maps again.

02:13:46.110 --> 02:13:48.670
<v Speaker 0>Alright. Russell says we fixed the root issue.

02:13:49.725 --> 02:13:51.485
<v Speaker 0>Regenerate the search may have made us a

02:13:51.485 --> 02:13:52.525
<v Speaker 0>bit more difficult.

02:13:52.605 --> 02:13:54.445
<v Speaker 0>I really shouldn't have though. That should be

02:13:54.445 --> 02:13:56.764
<v Speaker 0>able to join just fine. My token is

02:13:56.764 --> 02:13:57.485
<v Speaker 0>fine.

02:14:02.844 --> 02:14:03.485
<v Speaker 0>Buying Google.

02:14:06.239 --> 02:14:07.199
<v Speaker 1>Yeah. I don't know.

02:14:21.005 --> 02:14:23.165
<v Speaker 0>Is there any webhooks on our cluster which

02:14:23.165 --> 02:14:24.925
<v Speaker 0>is causing it to fail to join?

02:14:26.925 --> 02:14:28.525
<v Speaker 0>Yeah. Actually, I haven't really looked at the

02:14:28.525 --> 02:14:29.165
<v Speaker 0>cluster yet.

02:14:36.960 --> 02:14:37.679
<v Speaker 0>No.

02:14:38.559 --> 02:14:40.639
<v Speaker 0>Alright. I think I'm just gonna bypass this.

02:14:43.165 --> 02:14:43.725
<v Speaker 0>I don't

02:14:48.205 --> 02:14:50.364
<v Speaker 0>I'm not sure what we have wrong here.

02:14:52.125 --> 02:14:53.085
<v Speaker 1>Seems

02:14:55.050 --> 02:14:57.050
<v Speaker 0>Because it's speaking to the cluster,

02:14:57.210 --> 02:14:59.130
<v Speaker 0>and it's saying the cluster info config map

02:14:59.130 --> 02:15:00.489
<v Speaker 0>doesn't have something.

02:15:05.450 --> 02:15:07.530
<v Speaker 1>I feel like this is just my lack

02:15:07.530 --> 02:15:10.795
<v Speaker 1>of running Cubadian to do this specific thing.

02:15:10.795 --> 02:15:13.435
<v Speaker 1>Like Possibly. Possibly there is a

02:15:15.035 --> 02:15:17.355
<v Speaker 1>command or something that we're I thought I

02:15:17.355 --> 02:15:19.275
<v Speaker 1>thought the upload was the one to do.

02:15:29.010 --> 02:15:31.170
<v Speaker 0>Alright. What's in this config map?

02:15:32.610 --> 02:15:34.050
<v Speaker 0>It's been a bit weird.

02:15:34.850 --> 02:15:36.930
<v Speaker 1>Wait. Wait. Look at that. The JWS cube

02:15:36.930 --> 02:15:38.770
<v Speaker 1>config up at the top of that config

02:15:38.770 --> 02:15:39.090
<v Speaker 1>map.

02:15:40.145 --> 02:15:40.465
<v Speaker 1>It

02:15:43.105 --> 02:15:44.545
<v Speaker 1>it's not the same

02:15:45.345 --> 02:15:47.425
<v Speaker 1>unless that's base 64 encoded.

02:15:47.585 --> 02:15:49.905
<v Speaker 1>Oh, no. I'm just gonna delete this.

02:15:56.620 --> 02:15:58.300
<v Speaker 0>That should there should be an alias for

02:15:58.300 --> 02:15:59.980
<v Speaker 0>delete on that. Right? Okay.

02:16:01.420 --> 02:16:04.700
<v Speaker 0>Here we are. And if it's gonna do

02:16:06.540 --> 02:16:08.220
<v Speaker 1>Just the upload cert

02:16:09.385 --> 02:16:12.185
<v Speaker 1>or upload config. Upload config. Sorry, I said

02:16:12.185 --> 02:16:13.225
<v Speaker 1>certs. I meant

02:16:13.705 --> 02:16:16.265
<v Speaker 1>or wait. Which one would it be? Upload

02:16:16.265 --> 02:16:17.785
<v Speaker 1>config or upload certs?

02:16:17.865 --> 02:16:19.065
<v Speaker 1>Yes. Both.

02:16:19.865 --> 02:16:22.025
<v Speaker 0>Alright. So how do we regenerate the cluster

02:16:22.025 --> 02:16:23.145
<v Speaker 0>info config map?

02:16:32.561 --> 02:16:35.841
<v Speaker 1>Alright. Russell is saying try removing the mount

02:16:36.160 --> 02:16:37.280
<v Speaker 1>namespace limit.

02:16:42.114 --> 02:16:44.915
<v Speaker 1>I don't know that the namespace limit's currently

02:16:44.915 --> 02:16:45.475
<v Speaker 1>a problem.

02:16:59.299 --> 02:17:01.299
<v Speaker 0>I thought that may have regenerated it.

02:17:03.875 --> 02:17:05.955
<v Speaker 1>Do we need to upload the config or

02:17:05.955 --> 02:17:08.834
<v Speaker 1>upload the I'm just bypassing

02:17:08.594 --> 02:17:09.395
<v Speaker 1>Oh, never mind.

02:17:10.114 --> 02:17:11.875
<v Speaker 1>Okay. I got it. Sorry. I have to

02:17:11.875 --> 02:17:12.995
<v Speaker 0>do my kids bedtime soon.

02:17:17.011 --> 02:17:18.610
<v Speaker 0>So we'll go with the old hack, bypass

02:17:18.610 --> 02:17:19.730
<v Speaker 0>the scheduler.

02:17:23.090 --> 02:17:25.171
<v Speaker 1>Schedule on the control plane node?

02:17:25.410 --> 02:17:26.210
<v Speaker 0>Yep.

02:17:28.610 --> 02:17:29.330
<v Speaker 0>Node name,

02:17:30.215 --> 02:17:31.174
<v Speaker 0>Russell

02:17:31.734 --> 02:17:33.414
<v Speaker 0>control plan one.

02:17:52.510 --> 02:17:54.190
<v Speaker 0>I did edit the deployer. Right?

02:18:03.924 --> 02:18:07.605
<v Speaker 0>Let's delete the parts because I probably

02:18:08.084 --> 02:18:09.684
<v Speaker 0>put it in a very weird position.

02:18:17.580 --> 02:18:23.181
<v Speaker 0>I'm

02:18:23.181 --> 02:18:24.860
<v Speaker 0>just deleting the world now.

02:18:25.740 --> 02:18:27.500
<v Speaker 0>Oh, we don't have a controller manager for

02:18:27.500 --> 02:18:28.459
<v Speaker 0>this stuff, it looks like.

02:18:29.475 --> 02:18:30.275
<v Speaker 1>Oh,

02:18:31.475 --> 02:18:34.195
<v Speaker 1>that could be in the configuration manifest files,

02:18:34.195 --> 02:18:34.834
<v Speaker 1>I guess.

02:18:42.195 --> 02:18:43.395
<v Speaker 0>That looks alright.

02:18:49.699 --> 02:18:51.619
<v Speaker 1>No. No. I meant, like, did we do

02:18:51.619 --> 02:18:53.459
<v Speaker 1>we not have one at all? Like, he

02:18:53.459 --> 02:18:54.740
<v Speaker 1>has the manifest

02:18:55.699 --> 02:18:56.500
<v Speaker 1>up and running.

02:19:00.395 --> 02:19:02.476
<v Speaker 1>I don't know these manifests that well.

02:19:02.716 --> 02:19:03.035
<v Speaker 1>Shoot.

02:19:16.529 --> 02:19:17.490
<v Speaker 0>Looks alright.

02:19:22.049 --> 02:19:23.969
<v Speaker 0>That's not been restarted in a long time,

02:19:23.969 --> 02:19:26.290
<v Speaker 0>so it's probably using the the wrong set.

02:19:26.625 --> 02:19:27.745
<v Speaker 1>What

02:19:29.105 --> 02:19:31.425
<v Speaker 0>else is probably using the the wrong cert.

02:19:37.504 --> 02:19:39.584
<v Speaker 0>That should all be alright. I mean, the

02:19:39.584 --> 02:19:41.264
<v Speaker 0>schedule over bypassing anyway.

02:19:49.181 --> 02:19:50.940
<v Speaker 0>We have a replica set.

02:19:52.221 --> 02:19:53.261
<v Speaker 0>We have a pod.

02:19:56.625 --> 02:19:57.505
<v Speaker 1>It's in pending.

02:20:19.210 --> 02:20:20.250
<v Speaker 0>I've got a node.

02:20:24.825 --> 02:20:25.385
<v Speaker 0>What does

02:20:27.545 --> 02:20:28.346
<v Speaker 0>oh,

02:20:30.346 --> 02:20:31.626
<v Speaker 0>add a node

02:20:31.705 --> 02:20:32.745
<v Speaker 0>Russell

02:20:32.825 --> 02:20:34.985
<v Speaker 0>control plan one.

02:20:35.465 --> 02:20:37.650
<v Speaker 0>I shouldn't have to remove the tenth because

02:20:37.650 --> 02:20:39.650
<v Speaker 0>I manually scheduled it. No. Because you directly

02:20:39.650 --> 02:20:40.690
<v Speaker 1>scheduled it.

02:20:43.570 --> 02:20:44.770
<v Speaker 1>That shouldn't matter.

02:20:45.650 --> 02:20:47.811
<v Speaker 0>No. That's just pending for another reason.

02:20:48.930 --> 02:20:50.930
<v Speaker 1>Wait. Did you do describe? You did do

02:20:50.930 --> 02:20:51.410
<v Speaker 1>describe.

02:20:53.864 --> 02:20:54.745
<v Speaker 0>No event.

02:20:56.345 --> 02:20:57.225
<v Speaker 1>No events.

02:21:07.330 --> 02:21:10.130
<v Speaker 1>Why wouldn't it schedule I mean, we fixed

02:21:10.130 --> 02:21:12.290
<v Speaker 1>the namespace issue. The only thing I could

02:21:12.290 --> 02:21:14.290
<v Speaker 1>think of is like when we change the

02:21:14.290 --> 02:21:15.011
<v Speaker 1>system

02:21:16.130 --> 02:21:17.490
<v Speaker 1>is

02:21:18.935 --> 02:21:20.855
<v Speaker 1>to restart but I've I find it very

02:21:20.855 --> 02:21:22.855
<v Speaker 1>dangerous to restart one of these systems. I

02:21:22.855 --> 02:21:24.295
<v Speaker 1>have broken them that way.

02:21:25.335 --> 02:21:26.855
<v Speaker 0>We don't need to look at the controller

02:21:26.855 --> 02:21:28.615
<v Speaker 0>manager because that's done its job now.

02:21:36.790 --> 02:21:39.110
<v Speaker 0>Alright. Keep it. Maybe it needs restarted.

02:21:41.750 --> 02:21:44.070
<v Speaker 1>Yeah. It's saying that control plane's not found.

02:21:50.756 --> 02:21:52.676
<v Speaker 1>That almost looks like it's not talking to

02:21:52.676 --> 02:21:54.275
<v Speaker 1>the API server still.

02:21:57.235 --> 02:21:58.756
<v Speaker 1>I see some unauthorized.

02:22:00.600 --> 02:22:02.360
<v Speaker 1>Did he touch our back?

02:22:05.800 --> 02:22:07.560
<v Speaker 0>I really do need to go in for

02:22:07.560 --> 02:22:09.479
<v Speaker 0>my daughter. So let's check out these hents.

02:22:14.665 --> 02:22:16.665
<v Speaker 1>Oh, dear. Oh, dear.

02:22:25.945 --> 02:22:27.785
<v Speaker 0>Oh, we fixed it all now. Okay.

02:22:29.580 --> 02:22:30.301
<v Speaker 0>Alright.

02:22:30.860 --> 02:22:33.420
<v Speaker 0>Whatever's broken, I've done it. I think the

02:22:33.420 --> 02:22:35.020
<v Speaker 0>problem is

02:22:43.015 --> 02:22:45.575
<v Speaker 0>Tripla isn't speaking to the API server.

02:22:46.055 --> 02:22:47.815
<v Speaker 1>I think something happened

02:22:48.774 --> 02:22:51.095
<v Speaker 1>with our certs when we updated them.

02:23:00.880 --> 02:23:03.440
<v Speaker 0>No. Because the Kiplet certs were updated too.

02:23:17.045 --> 02:23:19.045
<v Speaker 0>Yeah. Everything in there is is brand

02:23:19.445 --> 02:23:19.925
<v Speaker 0>new.

02:23:22.640 --> 02:23:24.080
<v Speaker 0>Let's stop the Kiplet.

02:23:28.319 --> 02:23:29.040
<v Speaker 0>There are no

02:23:32.000 --> 02:23:33.520
<v Speaker 1>So yeah. We actually

02:23:34.000 --> 02:23:37.040
<v Speaker 1>untainted the the control play node plus we

02:23:37.040 --> 02:23:38.975
<v Speaker 1>directly scheduled it on it. I don't think

02:23:38.975 --> 02:23:40.016
<v Speaker 1>that's a problem

02:23:40.415 --> 02:23:42.976
<v Speaker 1>as far as the taints and tolerations go.

02:23:45.855 --> 02:23:46.895
<v Speaker 0>Unauthorized.

02:23:47.535 --> 02:23:48.895
<v Speaker 0>Yeah. I don't know.

02:23:50.175 --> 02:23:52.015
<v Speaker 1>Right now it does feel like something with

02:23:52.015 --> 02:23:54.189
<v Speaker 1>the certs that we did. Well, like Like,

02:23:54.189 --> 02:23:54.590
<v Speaker 1>we

02:23:55.869 --> 02:23:57.630
<v Speaker 0>We're two and a half hours in.

02:23:57.949 --> 02:23:59.229
<v Speaker 0>I have no idea

02:23:59.790 --> 02:24:01.550
<v Speaker 0>what our last thing is. We're fixing a

02:24:01.550 --> 02:24:03.390
<v Speaker 0>of Russell's stuff, so that's good.

02:24:04.270 --> 02:24:06.189
<v Speaker 1>My mind is a little mooch. You even

02:24:06.189 --> 02:24:07.790
<v Speaker 0>beat Orbital, so that was fun.

02:24:10.995 --> 02:24:12.436
<v Speaker 0>But let's call it there.

02:24:15.635 --> 02:24:17.315
<v Speaker 0>How was that? You have fun?

02:24:18.035 --> 02:24:19.315
<v Speaker 1>Oh, it was fantastic.

02:24:19.315 --> 02:24:20.355
<v Speaker 1>Thank you, Russell.

02:24:21.395 --> 02:24:23.600
<v Speaker 1>That was that was good. Yeah. I think

02:24:23.600 --> 02:24:24.880
<v Speaker 0>there was there was a lot of learning

02:24:24.880 --> 02:24:26.479
<v Speaker 0>there, although we were a bit heavy handed

02:24:26.479 --> 02:24:27.840
<v Speaker 0>with the cluster at times.

02:24:28.319 --> 02:24:30.319
<v Speaker 0>Lots of lots of fun stuff, so thank

02:24:30.319 --> 02:24:31.200
<v Speaker 0>you for that.

02:24:32.000 --> 02:24:32.880
<v Speaker 0>But I'm

02:24:33.200 --> 02:24:34.720
<v Speaker 0>gonna go put my kids to bed and

02:24:34.720 --> 02:24:36.720
<v Speaker 0>have my dinner and go to sleep crying

02:24:36.720 --> 02:24:38.399
<v Speaker 0>like a little baby, I think. So

02:24:39.725 --> 02:24:41.805
<v Speaker 0>Alright. Thank you, Kevin. Thank you, Russell, for

02:24:41.805 --> 02:24:43.885
<v Speaker 0>breaking two great clusters. Thank you, Marek, for

02:24:43.885 --> 02:24:46.045
<v Speaker 0>spending two and a half hours with me

02:24:46.045 --> 02:24:48.524
<v Speaker 0>working through this absolute car crash of a

02:24:48.524 --> 02:24:50.685
<v Speaker 0>cluster. Thank you to the audience that stuck

02:24:50.685 --> 02:24:52.204
<v Speaker 0>with us. I know that was an absolute

02:24:52.204 --> 02:24:53.085
<v Speaker 0>long slog,

02:24:53.931 --> 02:24:55.931
<v Speaker 0>but lots of great fun. We will catch

02:24:55.931 --> 02:24:58.011
<v Speaker 0>you all next time. Thank you to our

02:24:58.011 --> 02:25:00.171
<v Speaker 0>sponsors, Equinix Merrill and Teleport.

02:25:00.410 --> 02:25:02.331
<v Speaker 0>See you soon. Thanks, Mark. Bye.

02:25:02.971 --> 02:25:03.530
<v Speaker 1>Thank you.
