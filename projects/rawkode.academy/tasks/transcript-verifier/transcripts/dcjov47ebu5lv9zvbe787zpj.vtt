WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: ffa9289c-49a9-463b-84d0-421800a2f16d
Created: 2025-04-29T12:40:54.606Z
Duration: 1814.7505
Channels: 1

00:00:00.000 --> 00:00:02.159
<v Speaker 0>So starting from left to right, starting with

00:00:02.159 --> 00:00:03.760
<v Speaker 0>you. Guy, could you please say hello and

00:00:03.760 --> 00:00:05.440
<v Speaker 0>introduce yourself and share a little bit more

00:00:05.440 --> 00:00:06.240
<v Speaker 0>if you wish?

00:00:06.879 --> 00:00:09.200
<v Speaker 1>Yeah. Hey, everyone. I'm Guy. I'm a solution

00:00:09.200 --> 00:00:12.000
<v Speaker 1>architect at Komodor. I'm here for the last

00:00:12.000 --> 00:00:14.320
<v Speaker 1>two years. Very excited to

00:00:14.555 --> 00:00:15.835
<v Speaker 1>join Cluster.

00:00:17.195 --> 00:00:17.915
<v Speaker 2>Cool.

00:00:17.995 --> 00:00:20.555
<v Speaker 2>Hey, everyone. My name is. I'm a software

00:00:20.555 --> 00:00:21.355
<v Speaker 2>engineer.

00:00:21.515 --> 00:00:23.435
<v Speaker 2>I came week after guy,

00:00:23.595 --> 00:00:25.115
<v Speaker 2>and this is it.

00:00:26.154 --> 00:00:28.635
<v Speaker 2>And hey, everyone. My name is. I'm the

00:00:28.635 --> 00:00:31.680
<v Speaker 2>CTO of Komodor. We like watching Clustered. Happy

00:00:31.680 --> 00:00:32.479
<v Speaker 2>to be here.

00:00:33.360 --> 00:00:35.760
<v Speaker 0>Alright. Thank you all very much. So this

00:00:35.760 --> 00:00:38.080
<v Speaker 0>is a special edition of Clustered, and I

00:00:38.080 --> 00:00:40.480
<v Speaker 0>have broken the cluster personally myself with a

00:00:40.480 --> 00:00:43.040
<v Speaker 0>handful of bricks to hopefully reveal and show

00:00:43.040 --> 00:00:45.600
<v Speaker 0>us the power of Komodor as a tool

00:00:45.425 --> 00:00:48.225
<v Speaker 0>for understanding and debugging problems within your cluster.

00:00:48.545 --> 00:00:50.545
<v Speaker 0>So with that being said, I will now

00:00:50.545 --> 00:00:52.465
<v Speaker 0>let Guy share his screen, and we will

00:00:52.465 --> 00:00:55.265
<v Speaker 0>begin the debugging process. Best of luck, team

00:00:55.265 --> 00:00:55.985
<v Speaker 0>Komodor.

00:00:56.065 --> 00:00:58.810
<v Speaker 1>Thank you. Let's let's start. Cool. There you

00:00:58.810 --> 00:01:00.810
<v Speaker 1>go. So we got our cluster

00:01:00.890 --> 00:01:01.690
<v Speaker 1>with

00:01:02.330 --> 00:01:03.370
<v Speaker 1>Komodor installed.

00:01:03.850 --> 00:01:04.650
<v Speaker 1>So

00:01:05.690 --> 00:01:08.090
<v Speaker 0>I will consider this cluster fixed

00:01:08.170 --> 00:01:08.970
<v Speaker 0>if

00:01:09.210 --> 00:01:11.850
<v Speaker 0>we can port forward and visit the Drupal

00:01:11.850 --> 00:01:12.650
<v Speaker 0>website.

00:01:12.650 --> 00:01:13.530
<v Speaker 0>That is your mission.

00:01:14.305 --> 00:01:18.145
<v Speaker 2>Okay. Sounds easy. Right? Sounds Easy. Right? Yeah.

00:01:18.145 --> 00:01:19.265
<v Speaker 2>Yeah. Yeah. Yeah.

00:01:21.104 --> 00:01:23.825
<v Speaker 2>The reason is it's for scheduling.

00:01:24.065 --> 00:01:25.505
<v Speaker 2>Yeah. So we can go into, like, the

00:01:25.505 --> 00:01:28.460
<v Speaker 2>service in Komodor and see the timeline. Alright?

00:01:28.460 --> 00:01:30.540
<v Speaker 2>Like, how did the service change over time?

00:01:30.540 --> 00:01:32.460
<v Speaker 2>And you can see that it's currently broken,

00:01:32.620 --> 00:01:34.460
<v Speaker 2>and you can try and understand why is

00:01:34.460 --> 00:01:36.380
<v Speaker 2>it broken. So why is

00:01:36.620 --> 00:01:38.140
<v Speaker 2>it broken? I I see there is a

00:01:38.140 --> 00:01:39.340
<v Speaker 2>heavy deploy,

00:01:39.660 --> 00:01:41.660
<v Speaker 2>like, in 01/1525.

00:01:41.805 --> 00:01:43.405
<v Speaker 2>Oh. If you open timeline. So do you

00:01:43.405 --> 00:01:45.725
<v Speaker 1>mean, like, oh, to zoom in? Yeah. Okay.

00:01:45.725 --> 00:01:47.965
<v Speaker 1>There you go. I think it's, like,

00:01:48.365 --> 00:01:50.125
<v Speaker 1>great story of what happened.

00:01:50.445 --> 00:01:52.125
<v Speaker 2>Yeah. And you can see there is a

00:01:52.125 --> 00:01:53.485
<v Speaker 2>change in GitHub.

00:01:53.725 --> 00:01:55.805
<v Speaker 2>Yeah. There was a, like, an awesome update.

00:01:56.440 --> 00:01:59.799
<v Speaker 2>Like, they they update. Was it an awesome

00:01:59.799 --> 00:02:02.360
<v Speaker 2>update? We will Okay. No. Gotcha.

00:02:04.040 --> 00:02:06.119
<v Speaker 2>And he, David, removed

00:02:06.119 --> 00:02:07.960
<v Speaker 2>some environment variables.

00:02:07.960 --> 00:02:10.120
<v Speaker 2>I think they are crucial and changed the

00:02:10.600 --> 00:02:11.720
<v Speaker 2>the environment. Even worse.

00:02:13.205 --> 00:02:14.965
<v Speaker 1>Cool. So let's take a look about the

00:02:14.965 --> 00:02:16.885
<v Speaker 1>problem. Let's see if they are, like,

00:02:17.285 --> 00:02:18.565
<v Speaker 1>connected to one another.

00:02:18.965 --> 00:02:20.645
<v Speaker 1>Oh, so we definitely can see that the

00:02:20.645 --> 00:02:22.965
<v Speaker 1>volume the PVC not found. Mhmm. So that's

00:02:22.965 --> 00:02:24.405
<v Speaker 1>been a problem with the PVC.

00:02:24.565 --> 00:02:26.725
<v Speaker 2>Let's try to do the. Right?

00:02:27.400 --> 00:02:29.080
<v Speaker 1>Yeah. Let's take rollback.

00:02:29.320 --> 00:02:32.120
<v Speaker 1>We don't have permission to do it because

00:02:32.360 --> 00:02:34.120
<v Speaker 1>it's your cluster, David.

00:02:36.040 --> 00:02:38.280
<v Speaker 0>It's also a get up cluster, so the

00:02:38.280 --> 00:02:40.520
<v Speaker 0>rollback wouldn't actually work. It would be overwritten

00:02:40.520 --> 00:02:42.840
<v Speaker 0>a few minutes later. However, the first

00:02:43.715 --> 00:02:44.835
<v Speaker 0>you've discovered

00:02:45.954 --> 00:02:48.674
<v Speaker 0>essentially the second problem. There is something that's

00:02:48.674 --> 00:02:49.235
<v Speaker 0>more

00:02:49.875 --> 00:02:51.875
<v Speaker 0>current with this deployment that you yes. We

00:02:51.875 --> 00:02:53.235
<v Speaker 0>will have to fix this too.

00:02:53.474 --> 00:02:55.875
<v Speaker 2>So Let's You mentioned the rates at the

00:02:55.875 --> 00:02:57.314
<v Speaker 0>start. Somebody said scheduling. Right?

00:02:58.269 --> 00:02:59.070
<v Speaker 2>Mhmm.

00:02:59.790 --> 00:03:01.390
<v Speaker 2>Let's look at the bugs guy.

00:03:02.030 --> 00:03:03.790
<v Speaker 2>The bugs themselves. Yeah.

00:03:04.750 --> 00:03:06.110
<v Speaker 2>Let's look at them.

00:03:07.709 --> 00:03:08.030
<v Speaker 2>Sending.

00:03:09.629 --> 00:03:10.830
<v Speaker 2>Other than the previous name?

00:03:11.885 --> 00:03:13.565
<v Speaker 1>Not scheduled. Not ready.

00:03:13.805 --> 00:03:16.125
<v Speaker 1>Yeah. Let's go back. We have information in

00:03:16.125 --> 00:03:17.885
<v Speaker 1>here, by the way, like, on the first

00:03:17.885 --> 00:03:19.965
<v Speaker 1>scheduling of the event. It would be much

00:03:19.965 --> 00:03:21.565
<v Speaker 1>easier to see it from here.

00:03:23.084 --> 00:03:24.765
<v Speaker 1>I think that

00:03:25.405 --> 00:03:26.765
<v Speaker 1>one note is not available.

00:03:27.800 --> 00:03:29.240
<v Speaker 2>No. Preemption.

00:03:31.800 --> 00:03:34.200
<v Speaker 1>Let's check the pods list first. Let's try

00:03:34.200 --> 00:03:35.880
<v Speaker 2>to check on the resources mode to see

00:03:35.880 --> 00:03:37.000
<v Speaker 2>that there's

00:03:37.000 --> 00:03:39.960
<v Speaker 2>node that is not ready and scheduling.

00:03:40.360 --> 00:03:41.080
<v Speaker 2>Maybe

00:03:41.240 --> 00:03:43.835
<v Speaker 2>let's try to unclog on it. It's something

00:03:43.835 --> 00:03:46.955
<v Speaker 2>called done. Mhmm. So you unclog on. Yeah.

00:03:46.955 --> 00:03:48.235
<v Speaker 2>I don't think we will have it. Maybe

00:03:48.235 --> 00:03:50.155
<v Speaker 1>let's go to the terminal and try to

00:03:50.155 --> 00:03:52.075
<v Speaker 1>fix it from the terminal. And you add

00:03:52.075 --> 00:03:54.155
<v Speaker 2>yourself? Can I try As a

00:03:54.715 --> 00:03:55.675
<v Speaker 2>Yeah? As a user?

00:03:56.290 --> 00:03:57.650
<v Speaker 2>Try

00:03:57.650 --> 00:03:59.250
<v Speaker 2>to add my my

00:03:59.330 --> 00:04:00.530
<v Speaker 2>personal name.

00:04:01.890 --> 00:04:03.490
<v Speaker 1>Do you want you to I I will

00:04:03.490 --> 00:04:05.650
<v Speaker 2>do that. Yeah. Okay. So we're doing, like,

00:04:05.650 --> 00:04:09.170
<v Speaker 2>a switch Yeah. Just because of security permissions

00:04:09.170 --> 00:04:11.795
<v Speaker 2>and because David created the cluster and the

00:04:11.795 --> 00:04:12.755
<v Speaker 2>account, basically.

00:04:13.155 --> 00:04:15.235
<v Speaker 2>And then we need to give the the

00:04:15.315 --> 00:04:17.475
<v Speaker 2>like, to add another team member

00:04:17.795 --> 00:04:20.195
<v Speaker 2>to the Komodor account. So, David, if you

00:04:20.195 --> 00:04:21.395
<v Speaker 2>can invite

00:04:21.795 --> 00:04:25.330
<v Speaker 2>Neil, it can be great. Yes. Yeah. Let's

00:04:25.330 --> 00:04:27.410
<v Speaker 2>go. Let's go to the notes.

00:04:27.729 --> 00:04:30.530
<v Speaker 2>Let's take the action and phone on call

00:04:30.530 --> 00:04:31.170
<v Speaker 2>Gong.

00:04:37.250 --> 00:04:37.970
<v Speaker 2>And

00:04:38.130 --> 00:04:39.970
<v Speaker 2>also, let's put the wall in between.

00:04:42.185 --> 00:04:44.185
<v Speaker 2>Everything at the same time. That's good.

00:04:44.825 --> 00:04:47.385
<v Speaker 1>Cool. So now, nearly, like, rolling back the

00:04:47.385 --> 00:04:48.105
<v Speaker 1>service.

00:04:49.465 --> 00:04:52.025
<v Speaker 1>No. Maybe the first deploy was not in

00:04:52.025 --> 00:04:52.345
<v Speaker 2>Komodor.

00:04:52.889 --> 00:04:54.170
<v Speaker 2>That's why.

00:04:55.290 --> 00:04:57.530
<v Speaker 2>I didn't say that it's probably.

00:04:57.930 --> 00:04:59.770
<v Speaker 2>I think it says that I'm in five.

00:04:59.770 --> 00:05:00.890
<v Speaker 2>Yeah.

00:05:01.210 --> 00:05:03.370
<v Speaker 2>No more of this will be found for

00:05:03.370 --> 00:05:04.090
<v Speaker 2>the comments.

00:05:06.115 --> 00:05:08.835
<v Speaker 1>We can also take the changes from the

00:05:08.835 --> 00:05:10.595
<v Speaker 1>GitHub and Oh, we can also take the

00:05:10.595 --> 00:05:13.794
<v Speaker 2>changes from Komodor. Right? And then from GitHub.

00:05:13.794 --> 00:05:15.715
<v Speaker 1>Yeah. From GitHub. I think the service was

00:05:15.715 --> 00:05:17.875
<v Speaker 2>deleted and then reinitiated.

00:05:17.875 --> 00:05:21.169
<v Speaker 2>Right? Like, it's generation one. It basically means

00:05:21.169 --> 00:05:25.010
<v Speaker 2>that, like, David played with the service apparently,

00:05:25.169 --> 00:05:27.490
<v Speaker 2>then he deleted the deployment, then he recreated

00:05:27.490 --> 00:05:30.210
<v Speaker 2>the deployment. With the failed configuration. Yeah. With

00:05:30.210 --> 00:05:31.490
<v Speaker 2>the failed configuration.

00:05:31.810 --> 00:05:33.650
<v Speaker 2>And that is the reason that the camera

00:05:33.650 --> 00:05:35.410
<v Speaker 2>can fall back because for us,

00:05:36.025 --> 00:05:38.985
<v Speaker 2>it's a new kind of services. They in

00:05:38.985 --> 00:05:41.705
<v Speaker 2>that it has a different unique ID,

00:05:41.785 --> 00:05:44.025
<v Speaker 2>and this is the first generation of the

00:05:44.025 --> 00:05:45.145
<v Speaker 2>new Google

00:05:45.545 --> 00:05:46.425
<v Speaker 2>deployment.

00:05:46.425 --> 00:05:47.865
<v Speaker 2>So we need to roll out

00:05:48.210 --> 00:05:49.010
<v Speaker 2>this

00:05:49.250 --> 00:05:50.290
<v Speaker 2>workload.

00:05:51.410 --> 00:05:53.729
<v Speaker 2>Yeah. Is the notes okay now? Let's just

00:05:53.729 --> 00:05:56.530
<v Speaker 2>check it. Yeah. They are okay. Do you,

00:05:56.530 --> 00:05:58.130
<v Speaker 1>like, check it on your screen? Or No.

00:05:58.130 --> 00:05:59.970
<v Speaker 2>No. I'm asking. I I can also check

00:05:59.970 --> 00:06:01.569
<v Speaker 2>it. No. It's still not ready. And I

00:06:01.569 --> 00:06:03.490
<v Speaker 2>know it's still not ready. Why is that?

00:06:05.765 --> 00:06:07.525
<v Speaker 2>Container WiFi network

00:06:08.085 --> 00:06:09.445
<v Speaker 2>is not ready.

00:06:12.725 --> 00:06:13.365
<v Speaker 1>It

00:06:17.765 --> 00:06:19.525
<v Speaker 2>looks like more like

00:06:22.120 --> 00:06:23.480
<v Speaker 2>a three s issue, I mean.

00:06:23.880 --> 00:06:25.880
<v Speaker 1>Yeah. We we need the network plug in

00:06:25.880 --> 00:06:27.480
<v Speaker 1>to be ready. Can we check

00:06:28.120 --> 00:06:31.000
<v Speaker 1>maybe on the services what is what's configured

00:06:31.000 --> 00:06:32.200
<v Speaker 1>as the network plug in?

00:06:33.375 --> 00:06:35.135
<v Speaker 2>Maybe let's try to take a look in

00:06:35.135 --> 00:06:35.615
<v Speaker 2>the YAML.

00:06:47.349 --> 00:06:49.110
<v Speaker 1>The network unavailable?

00:06:49.270 --> 00:06:51.270
<v Speaker 2>Okay. So what's the

00:06:51.669 --> 00:06:52.630
<v Speaker 2>the reason?

00:06:53.270 --> 00:06:54.710
<v Speaker 1>CNI is not initialized.

00:07:00.414 --> 00:07:02.175
<v Speaker 2>It's k three s. Right?

00:07:03.055 --> 00:07:05.935
<v Speaker 0>No. These are bare metal cube admin clusters.

00:07:06.175 --> 00:07:07.535
<v Speaker 2>Bare metal?

00:07:08.895 --> 00:07:09.775
<v Speaker 2>Oh, helpful here.

00:07:16.730 --> 00:07:18.090
<v Speaker 2>Maybe maybe

00:07:18.090 --> 00:07:19.610
<v Speaker 2>those are the things.

00:07:21.530 --> 00:07:23.850
<v Speaker 0>Yeah. This is a 48 core 64 gig

00:07:23.850 --> 00:07:24.970
<v Speaker 0>of RAM bare metal machine.

00:07:25.544 --> 00:07:26.745
<v Speaker 2>Okay. Okay.

00:07:27.065 --> 00:07:28.425
<v Speaker 0>So you can have some fun with it.

00:07:28.425 --> 00:07:30.265
<v Speaker 0>Right? Mhmm. Okay.

00:07:33.065 --> 00:07:34.664
<v Speaker 0>So let's recap where we are right now.

00:07:34.664 --> 00:07:36.824
<v Speaker 0>Using Komodor, we explored the broken service. So

00:07:36.824 --> 00:07:39.225
<v Speaker 0>we identified two bugs. One is that my

00:07:39.225 --> 00:07:41.220
<v Speaker 0>awesome update and get, which you were able

00:07:41.220 --> 00:07:42.900
<v Speaker 0>to visualize and see right away,

00:07:43.140 --> 00:07:46.580
<v Speaker 0>potentially broke the PVC claim name, which we're

00:07:46.580 --> 00:07:48.180
<v Speaker 0>gonna come back to, I would assume. I

00:07:48.180 --> 00:07:49.300
<v Speaker 0>also highlighted

00:07:49.860 --> 00:07:50.900
<v Speaker 0>that the

00:07:51.220 --> 00:07:54.875
<v Speaker 0>cluster couldn't schedule our pod, and you went

00:07:54.875 --> 00:07:57.595
<v Speaker 0>through the node dashboard and identified that the

00:07:57.595 --> 00:08:00.395
<v Speaker 0>node was cordoned, and you're able to uncoordinate

00:08:00.395 --> 00:08:01.675
<v Speaker 0>directly from Komodor,

00:08:01.995 --> 00:08:04.875
<v Speaker 0>moving us past the scheduling problem. However,

00:08:05.479 --> 00:08:08.040
<v Speaker 0>we now have the node being not ready

00:08:08.040 --> 00:08:10.600
<v Speaker 0>because of a potential issue with the CNI

00:08:10.600 --> 00:08:11.479
<v Speaker 0>networking

00:08:11.479 --> 00:08:12.280
<v Speaker 0>plugin.

00:08:12.440 --> 00:08:13.720
<v Speaker 2>Mhmm. Yeah.

00:08:13.960 --> 00:08:15.720
<v Speaker 2>Yeah. Like, we can see that there are,

00:08:15.720 --> 00:08:16.120
<v Speaker 2>like

00:08:17.240 --> 00:08:17.880
<v Speaker 2>I know, like,

00:08:19.735 --> 00:08:22.935
<v Speaker 2>four different plugins that are installed, CSI plugins

00:08:22.935 --> 00:08:23.975
<v Speaker 2>that are installed.

00:08:24.775 --> 00:08:26.775
<v Speaker 1>So CNI. We are looking for CNI, not

00:08:26.775 --> 00:08:29.015
<v Speaker 1>CSI. Sorry. Sorry. Sorry. Maybe

00:08:30.535 --> 00:08:33.575
<v Speaker 2>Let's try this quite maybe the node

00:08:33.209 --> 00:08:35.690
<v Speaker 2>guy. To what? Sorry. Describe node.

00:08:36.490 --> 00:08:38.649
<v Speaker 2>Oh, it looks like we have the same

00:08:38.649 --> 00:08:40.089
<v Speaker 2>operator installed

00:08:40.329 --> 00:08:40.970
<v Speaker 2>Yeah.

00:08:42.009 --> 00:08:43.610
<v Speaker 2>In in this cluster.

00:08:44.009 --> 00:08:45.769
<v Speaker 1>Yeah. It might be with the operator.

00:08:46.245 --> 00:08:48.485
<v Speaker 1>Yeah. There is no Maybe the CRDs of.

00:08:50.085 --> 00:08:51.685
<v Speaker 1>And there is the operator.

00:08:52.005 --> 00:08:54.725
<v Speaker 2>Maybe the helm. Yeah. The helm saying there

00:08:54.725 --> 00:08:56.485
<v Speaker 2>is, like, using helm.

00:08:57.125 --> 00:08:58.485
<v Speaker 2>Oh, there's a fail.

00:09:00.020 --> 00:09:01.220
<v Speaker 2>Deploy in here.

00:09:01.700 --> 00:09:02.820
<v Speaker 2>Fail deploy.

00:09:02.980 --> 00:09:04.980
<v Speaker 2>Yeah. Yeah. So we can see it's failed.

00:09:04.980 --> 00:09:07.380
<v Speaker 2>There is an agent through. Agent not ready.

00:09:07.380 --> 00:09:08.260
<v Speaker 2>Thank you

00:09:08.900 --> 00:09:11.220
<v Speaker 2>as well. Minimum replica unavailable.

00:09:12.404 --> 00:09:13.125
<v Speaker 2>Yeah.

00:09:15.285 --> 00:09:16.005
<v Speaker 1>But

00:09:16.964 --> 00:09:19.524
<v Speaker 1>it's just the it's just the operator itself.

00:09:19.685 --> 00:09:21.125
<v Speaker 2>On the deploy.

00:09:22.964 --> 00:09:23.925
<v Speaker 2>Let's take a look.

00:09:25.680 --> 00:09:28.560
<v Speaker 1>Deployment version one, Selium.

00:09:30.320 --> 00:09:32.000
<v Speaker 2>There is a spec of,

00:09:32.399 --> 00:09:35.200
<v Speaker 2>like, label, match label, IO Selium operator.

00:09:36.000 --> 00:09:37.680
<v Speaker 1>So let's see what Maybe it's it's the

00:09:37.680 --> 00:09:41.565
<v Speaker 2>port template that is on unmatched the deployment.

00:09:41.645 --> 00:09:44.125
<v Speaker 2>Do think, like, the relevant part in here?

00:09:44.445 --> 00:09:45.325
<v Speaker 2>Maybe.

00:09:47.325 --> 00:09:49.645
<v Speaker 1>Oh, it's it's funny. It's running and ready,

00:09:49.645 --> 00:09:50.605
<v Speaker 1>but it's

00:09:52.365 --> 00:09:54.045
<v Speaker 1>like, the node is not ready.

00:09:54.940 --> 00:09:56.860
<v Speaker 0>It's always fun watching people fix a broken

00:09:56.860 --> 00:09:57.580
<v Speaker 0>cluster.

00:09:58.060 --> 00:09:58.700
<v Speaker 2>Right.

00:10:02.459 --> 00:10:05.900
<v Speaker 2>Maybe, like have a look at the dashboard.

00:10:06.140 --> 00:10:08.140
<v Speaker 2>Oh, like, in the dashboard, we can see,

00:10:08.140 --> 00:10:08.860
<v Speaker 2>like, the.

00:10:10.060 --> 00:10:12.275
<v Speaker 2>Like, we can see quite a lot on

00:10:12.275 --> 00:10:12.915
<v Speaker 2>this.

00:10:13.875 --> 00:10:16.035
<v Speaker 2>Like, what annotation does this have? Oh, the

00:10:16.035 --> 00:10:17.075
<v Speaker 1>cluster. Yeah.

00:10:17.555 --> 00:10:19.395
<v Speaker 2>No. In the cluster. Yeah.

00:10:20.835 --> 00:10:21.955
<v Speaker 2>Just found it.

00:10:22.275 --> 00:10:22.595
<v Speaker 2>Exactly.

00:10:24.140 --> 00:10:25.260
<v Speaker 2>Maybe

00:10:25.900 --> 00:10:27.420
<v Speaker 2>let's check if there is

00:10:27.660 --> 00:10:30.540
<v Speaker 2>there is the setting cluster wall and cluster

00:10:30.540 --> 00:10:32.140
<v Speaker 2>wall binding in the cluster.

00:10:32.540 --> 00:10:35.340
<v Speaker 1>Do do you mean, like, those? Like, resources

00:10:35.340 --> 00:10:38.140
<v Speaker 1>which are not exist? Mhmm. I I think

00:10:38.140 --> 00:10:39.420
<v Speaker 2>we need to create something.

00:10:40.675 --> 00:10:42.514
<v Speaker 2>I'm not sure. Maybe let's check the logs

00:10:42.514 --> 00:10:44.435
<v Speaker 1>of the bot, which is running. No. I

00:10:44.435 --> 00:10:46.274
<v Speaker 2>think it's, like, on the annotation. Right? Like,

00:10:46.274 --> 00:10:48.915
<v Speaker 2>it doesn't find annotation on the node. And

00:10:48.915 --> 00:10:51.635
<v Speaker 2>this one doesn't install it on the node,

00:10:51.635 --> 00:10:53.555
<v Speaker 2>I think. It's running on the node.

00:10:55.210 --> 00:10:57.370
<v Speaker 0>So this may be a little bit harder

00:10:57.370 --> 00:10:59.210
<v Speaker 0>to debug because I think I found a

00:10:59.210 --> 00:11:02.250
<v Speaker 0>bug in Komodor, but try comparing the values

00:11:02.250 --> 00:11:04.490
<v Speaker 0>from the release three to release two.

00:11:05.450 --> 00:11:06.810
<v Speaker 2>Okay. Obsidian.

00:11:07.210 --> 00:11:08.730
<v Speaker 0>Yeah. Revolve it.

00:11:10.085 --> 00:11:10.805
<v Speaker 2>Okay.

00:11:14.005 --> 00:11:16.085
<v Speaker 0>So there are changes, but they don't actually

00:11:16.085 --> 00:11:18.165
<v Speaker 0>show up here. Yeah.

00:11:18.885 --> 00:11:20.565
<v Speaker 2>Maybe metadata changes?

00:11:25.459 --> 00:11:27.699
<v Speaker 2>We have only the three version. We don't

00:11:27.699 --> 00:11:29.220
<v Speaker 2>have the second one.

00:11:29.779 --> 00:11:31.940
<v Speaker 1>No. We do have it. We do?

00:11:32.500 --> 00:11:33.620
<v Speaker 2>Of the upper?

00:11:33.860 --> 00:11:35.060
<v Speaker 2>Ah, in the hand.

00:11:35.540 --> 00:11:36.740
<v Speaker 2>That's only show changes?

00:11:37.675 --> 00:11:39.275
<v Speaker 1>It doesn't show anything.

00:11:39.835 --> 00:11:42.795
<v Speaker 2>No. I do two and then comparing revision

00:11:42.795 --> 00:11:43.515
<v Speaker 2>two.

00:11:44.315 --> 00:11:45.595
<v Speaker 1>It's two

00:11:46.555 --> 00:11:47.355
<v Speaker 1>compared

00:11:48.155 --> 00:11:49.355
<v Speaker 1>with revision three.

00:11:50.660 --> 00:11:51.460
<v Speaker 1>No.

00:11:54.500 --> 00:11:56.019
<v Speaker 0>Yeah. I don't know why it's not showing

00:11:56.019 --> 00:11:56.820
<v Speaker 0>the change.

00:11:57.140 --> 00:11:59.380
<v Speaker 2>For me, it showed the changes. Wait. Then

00:11:59.380 --> 00:12:00.580
<v Speaker 2>manifests.

00:12:01.380 --> 00:12:03.825
<v Speaker 2>Then compare with version two. And here when

00:12:03.825 --> 00:12:05.185
<v Speaker 2>you do all the, it does show Here

00:12:05.185 --> 00:12:07.665
<v Speaker 2>is the changes. You deleted the service account

00:12:08.785 --> 00:12:11.665
<v Speaker 2>and all of those. The old back guy.

00:12:11.745 --> 00:12:13.265
<v Speaker 2>All the callback. I will do all the.

00:12:13.265 --> 00:12:13.905
<v Speaker 2>No. Yeah.

00:12:14.860 --> 00:12:16.140
<v Speaker 1>Maybe to do the role if we don't

00:12:16.140 --> 00:12:17.340
<v Speaker 1>have permission to. I

00:12:18.220 --> 00:12:20.780
<v Speaker 2>just performed the role back, but

00:12:21.580 --> 00:12:22.940
<v Speaker 2>try to quit.

00:12:23.100 --> 00:12:25.260
<v Speaker 1>Alright. Maybe it's a permission thing. Yeah. I

00:12:25.260 --> 00:12:27.820
<v Speaker 2>think the watcher doesn't have a permission maybe

00:12:27.820 --> 00:12:30.835
<v Speaker 2>for that. Mhmm. Yeah. It's possible. Yeah. Let's

00:12:30.835 --> 00:12:32.915
<v Speaker 2>see if also here we don't have any

00:12:32.915 --> 00:12:33.795
<v Speaker 2>permissions.

00:12:34.035 --> 00:12:35.315
<v Speaker 2>Secret faults.

00:12:35.635 --> 00:12:37.075
<v Speaker 2>Let's

00:12:37.075 --> 00:12:39.635
<v Speaker 2>do also we'll get to the We can't.

00:12:39.795 --> 00:12:42.755
<v Speaker 2>We can't? We can't program for one agent.

00:12:43.700 --> 00:12:45.620
<v Speaker 2>We need the the web access to the

00:12:45.620 --> 00:12:47.460
<v Speaker 2>to the cluster. Right? Yeah. So we will

00:12:47.460 --> 00:12:48.260
<v Speaker 2>use it.

00:12:48.580 --> 00:12:50.820
<v Speaker 2>So do all the to our agent, and

00:12:50.820 --> 00:12:53.220
<v Speaker 2>then we'll do to to the same Okay.

00:12:53.220 --> 00:12:54.660
<v Speaker 1>So I will show my screen. I will

00:12:54.660 --> 00:12:55.140
<v Speaker 2>stop sharing.

00:12:56.385 --> 00:12:58.225
<v Speaker 2>Yeah. So we found out that we're missing

00:12:58.225 --> 00:12:59.105
<v Speaker 2>permission

00:12:59.265 --> 00:13:00.305
<v Speaker 2>inside Komodor,

00:13:00.465 --> 00:13:03.105
<v Speaker 2>and it was installed without the possibility of,

00:13:03.105 --> 00:13:04.385
<v Speaker 2>like, doing a rollback.

00:13:08.225 --> 00:13:08.545
<v Speaker 2>Okay.

00:13:15.060 --> 00:13:17.140
<v Speaker 2>This is What costly do ah, okay.

00:13:17.860 --> 00:13:19.300
<v Speaker 2>Okay. Just a sec.

00:13:20.580 --> 00:13:21.860
<v Speaker 2>I'm all good.

00:13:23.700 --> 00:13:23.860
<v Speaker 1>Money.

00:13:25.185 --> 00:13:25.905
<v Speaker 2>4.

00:13:27.425 --> 00:13:29.425
<v Speaker 2>That's

00:13:29.425 --> 00:13:29.905
<v Speaker 2>it?

00:13:31.905 --> 00:13:33.505
<v Speaker 2>$2.02.

00:13:34.065 --> 00:13:35.665
<v Speaker 2>2 I try to do all the things.

00:13:39.640 --> 00:13:42.520
<v Speaker 1>Ah, okay. Can you okay. Yeah. That's that's

00:13:42.520 --> 00:13:43.000
<v Speaker 2>it.

00:13:44.520 --> 00:13:45.480
<v Speaker 2>Really? Okay.

00:13:55.035 --> 00:13:55.755
<v Speaker 2>Okay.

00:13:57.915 --> 00:14:00.235
<v Speaker 1>Now let's go back and check. It's gonna

00:14:00.235 --> 00:14:01.435
<v Speaker 2>be spreading now.

00:14:02.075 --> 00:14:05.274
<v Speaker 2>Yay. Is. Woo hoo. Yeah. He's right. Okay.

00:14:04.950 --> 00:14:05.590
<v Speaker 2>Okay.

00:14:06.390 --> 00:14:08.550
<v Speaker 2>And now let's check out our So before

00:14:08.550 --> 00:14:10.310
<v Speaker 0>we continue Mhmm. The

00:14:11.030 --> 00:14:13.910
<v Speaker 0>upgrades to Komodor, I did end Komodor because

00:14:13.910 --> 00:14:15.910
<v Speaker 0>it turned on dashboard.

00:14:16.550 --> 00:14:17.990
<v Speaker 0>But I see that it moved to secret

00:14:17.990 --> 00:14:19.990
<v Speaker 0>access, which is probably why the values didn't

00:14:19.990 --> 00:14:20.230
<v Speaker 0>show.

00:14:21.005 --> 00:14:21.565
<v Speaker 2>Yeah.

00:14:21.885 --> 00:14:24.845
<v Speaker 2>That's the reason. Okay. I just wanted to

00:14:25.005 --> 00:14:27.245
<v Speaker 0>make sure I understood what happened there. Okay.

00:14:27.245 --> 00:14:27.965
<v Speaker 1>Cool.

00:14:28.205 --> 00:14:29.005
<v Speaker 1>So

00:14:29.245 --> 00:14:31.165
<v Speaker 1>now the node is ready. Let's go back

00:14:31.165 --> 00:14:32.045
<v Speaker 1>to services.

00:14:32.445 --> 00:14:34.205
<v Speaker 2>And the only thing remaining is to bowl

00:14:34.205 --> 00:14:35.965
<v Speaker 2>of the version that we know for the.

00:14:36.970 --> 00:14:39.050
<v Speaker 0>Okay. So we have a working node and

00:14:39.050 --> 00:14:41.210
<v Speaker 0>you fixed the Celeb deploy. Nice work.

00:14:41.530 --> 00:14:42.890
<v Speaker 1>What we can Yeah. Now we need to

00:14:42.890 --> 00:14:44.650
<v Speaker 1>roll it back. So what we can we

00:14:44.650 --> 00:14:46.410
<v Speaker 2>we can't roll it back because what we

00:14:46.410 --> 00:14:48.410
<v Speaker 2>said So we need to edit, like, let's

00:14:48.410 --> 00:14:50.115
<v Speaker 1>edit it. Yeah. I think that I need

00:14:50.115 --> 00:14:51.954
<v Speaker 2>to show him screen because I Remember, this

00:14:51.954 --> 00:14:53.714
<v Speaker 0>is a GitOps pipeline, so you may want

00:14:53.714 --> 00:14:55.154
<v Speaker 0>me just to push a fix if you

00:14:55.154 --> 00:14:56.514
<v Speaker 0>could tell me what you want that fix

00:14:56.514 --> 00:14:57.154
<v Speaker 0>to be.

00:14:58.675 --> 00:15:01.074
<v Speaker 2>So get reversed? Yeah. Let's just get up

00:15:01.074 --> 00:15:02.755
<v Speaker 2>to the link if we wanna do it.

00:15:03.670 --> 00:15:05.030
<v Speaker 0>I don't know how to fix it. I

00:15:05.030 --> 00:15:07.270
<v Speaker 0>mean, I I just put awesome updates.

00:15:07.510 --> 00:15:08.630
<v Speaker 0>You don't need to tell me how to

00:15:08.630 --> 00:15:09.350
<v Speaker 0>fix it.

00:15:10.550 --> 00:15:11.990
<v Speaker 2>So please, I heard

00:15:12.230 --> 00:15:13.430
<v Speaker 2>your bad call.

00:15:13.750 --> 00:15:14.310
<v Speaker 2>Yeah.

00:15:15.510 --> 00:15:15.830
<v Speaker 2>So

00:15:16.470 --> 00:15:17.910
<v Speaker 2>Yeah. Let's let's

00:15:19.295 --> 00:15:22.655
<v Speaker 2>just recheck out to the, like, revision.

00:15:22.655 --> 00:15:25.695
<v Speaker 2>If nothing has changed in between, then that's

00:15:25.695 --> 00:15:27.935
<v Speaker 2>probably the easiest solution. We check out with

00:15:27.935 --> 00:15:29.615
<v Speaker 2>the rep before the change.

00:15:31.215 --> 00:15:32.735
<v Speaker 2>Are you doing the prep,

00:15:33.455 --> 00:15:34.895
<v Speaker 0>I have pushed an update

00:15:35.830 --> 00:15:36.230
<v Speaker 0>to get

00:15:37.510 --> 00:15:38.230
<v Speaker 1>I'm

00:15:38.390 --> 00:15:39.750
<v Speaker 1>Yes. I'm showing. I'm showing.

00:15:40.630 --> 00:15:42.630
<v Speaker 2>Do you have, like, a pipeline that know

00:15:42.630 --> 00:15:45.350
<v Speaker 2>how to like, is it automatically deployed? Yes.

00:15:45.670 --> 00:15:47.270
<v Speaker 0>Flux CD is running in the cluster. It

00:15:47.270 --> 00:15:48.710
<v Speaker 0>will detect this change, and it will push

00:15:48.710 --> 00:15:50.605
<v Speaker 0>it out. Speed up the process, and I

00:15:50.605 --> 00:15:51.965
<v Speaker 0>will just allow just so it's a bit

00:15:51.965 --> 00:15:52.605
<v Speaker 0>quicker.

00:15:53.085 --> 00:15:53.805
<v Speaker 1>Yeah.

00:15:54.765 --> 00:15:56.925
<v Speaker 1>So what we can see is that

00:15:58.685 --> 00:16:00.605
<v Speaker 1>we knew there was, the p p the

00:16:00.605 --> 00:16:03.565
<v Speaker 1>PVC change, and we got some one variable,

00:16:04.045 --> 00:16:06.980
<v Speaker 1>which can be missing and what they've been

00:16:07.060 --> 00:16:08.260
<v Speaker 1>changed.

00:16:08.740 --> 00:16:09.220
<v Speaker 1>Yeah. Once

00:16:09.780 --> 00:16:12.500
<v Speaker 1>It's only the PVC or maybe Maybe we

00:16:12.500 --> 00:16:15.620
<v Speaker 2>still need those. Yeah. So let's maybe

00:16:16.260 --> 00:16:17.585
<v Speaker 1>start from there.

00:16:19.585 --> 00:16:21.505
<v Speaker 1>Let's wait for the rollout to happen. Yeah.

00:16:21.505 --> 00:16:23.105
<v Speaker 2>We should see it in Komodor once the

00:16:23.105 --> 00:16:25.185
<v Speaker 2>rollout will happen. Let me update

00:16:25.185 --> 00:16:26.625
<v Speaker 2>here. We can take a look on the

00:16:26.625 --> 00:16:29.665
<v Speaker 2>Rawkode spots to see if it's pending still.

00:16:29.904 --> 00:16:30.145
<v Speaker 2>Yeah.

00:16:30.890 --> 00:16:32.890
<v Speaker 1>Yeah. But it's the previous one. Yeah. There

00:16:32.890 --> 00:16:34.490
<v Speaker 2>wasn't any good one since

00:16:34.810 --> 00:16:36.490
<v Speaker 1>So, honestly. So we are looking for a

00:16:36.490 --> 00:16:37.290
<v Speaker 1>new one. What?

00:16:43.695 --> 00:16:45.695
<v Speaker 0>So I did push the update. However, our

00:16:45.695 --> 00:16:47.695
<v Speaker 0>get out pipeline is broken due to the

00:16:47.695 --> 00:16:50.255
<v Speaker 0>fourth break in the cluster. So good luck.

00:16:53.055 --> 00:16:55.615
<v Speaker 2>So there's another break? Maybe I'll go. Right?

00:16:55.615 --> 00:16:55.695
<v Speaker 2>Like,

00:16:58.260 --> 00:16:58.980
<v Speaker 2>Yeah.

00:16:59.780 --> 00:17:02.180
<v Speaker 2>Let's let's check Argo. Is there Argo?

00:17:02.580 --> 00:17:04.339
<v Speaker 2>Flux. Sorry. It's Flux.

00:17:04.740 --> 00:17:06.419
<v Speaker 2>Source control notifications.

00:17:06.500 --> 00:17:08.099
<v Speaker 2>All of them look healthy.

00:17:10.065 --> 00:17:12.065
<v Speaker 1>What are you checking on? Sorry. The Outlook.

00:17:12.224 --> 00:17:14.065
<v Speaker 2>Alright. It's Slack. Yeah.

00:17:15.184 --> 00:17:17.264
<v Speaker 1>But maybe it's misconfigured

00:17:17.264 --> 00:17:19.825
<v Speaker 1>or something like that. Seems like the fax

00:17:19.825 --> 00:17:22.544
<v Speaker 2>is working fine. Let's check maybe the logs

00:17:22.544 --> 00:17:25.369
<v Speaker 2>of one of the workload. The controller or

00:17:25.369 --> 00:17:27.690
<v Speaker 1>some other service? The source controller, like, the

00:17:27.690 --> 00:17:29.369
<v Speaker 2>log message looks good.

00:17:30.010 --> 00:17:31.289
<v Speaker 2>The source controller.

00:17:34.410 --> 00:17:36.970
<v Speaker 2>The Maybe they didn't update by

00:17:37.130 --> 00:17:38.330
<v Speaker 1>source controller?

00:17:38.410 --> 00:17:38.650
<v Speaker 1>Or

00:17:40.605 --> 00:17:42.605
<v Speaker 2>I think there is still problem with the

00:17:42.605 --> 00:17:43.245
<v Speaker 2>ceiling.

00:17:44.045 --> 00:17:45.965
<v Speaker 2>Like, one of the ports are unhealthy.

00:17:46.125 --> 00:17:48.365
<v Speaker 2>And the source control logs The ceiling operator

00:17:48.365 --> 00:17:49.085
<v Speaker 2>is pending.

00:17:52.540 --> 00:17:53.660
<v Speaker 2>And schedule

00:17:53.900 --> 00:17:56.059
<v Speaker 2>because it didn't match for the.

00:17:57.180 --> 00:17:59.100
<v Speaker 2>If you go to the workload pods on

00:17:59.100 --> 00:18:00.220
<v Speaker 2>the white. Right?

00:18:02.300 --> 00:18:03.980
<v Speaker 2>Pods. Workload pods.

00:18:04.785 --> 00:18:06.945
<v Speaker 2>Click on the The operator is okay. It's

00:18:06.945 --> 00:18:07.745
<v Speaker 0>just because

00:18:07.985 --> 00:18:09.745
<v Speaker 0>we needed to roll back. I set the

00:18:09.745 --> 00:18:11.825
<v Speaker 0>replicas to one because we were single node

00:18:11.825 --> 00:18:13.985
<v Speaker 0>cluster, so you can ignore that pending pod.

00:18:15.505 --> 00:18:17.825
<v Speaker 2>No. Take the the the first pod.

00:18:18.330 --> 00:18:20.169
<v Speaker 2>Oh, you sound like it's just about fine.

00:18:20.169 --> 00:18:21.610
<v Speaker 2>It's not there, if anything? No. No. It's

00:18:21.610 --> 00:18:23.450
<v Speaker 2>like you said, like, in the logs of

00:18:23.450 --> 00:18:25.849
<v Speaker 2>the source control. Yeah. Yeah. It was there.

00:18:27.450 --> 00:18:31.370
<v Speaker 2>It was. There's, like, message for

00:18:31.365 --> 00:18:33.525
<v Speaker 1>Let me go back. And then garbage collected

00:18:33.525 --> 00:18:36.085
<v Speaker 2>one artifact. Why did the garbage collected it?

00:18:36.085 --> 00:18:37.765
<v Speaker 2>And then a lot of changes.

00:18:38.645 --> 00:18:41.205
<v Speaker 2>But why did the garbage collected one artifact?

00:18:41.205 --> 00:18:42.325
<v Speaker 2>Maybe it's related to that.

00:18:44.210 --> 00:18:46.529
<v Speaker 2>I don't know if that's. Store.

00:18:47.010 --> 00:18:48.450
<v Speaker 2>No changes in the.

00:18:50.850 --> 00:18:52.450
<v Speaker 1>Like, this is the change. This is what

00:18:52.450 --> 00:18:54.450
<v Speaker 1>you mean. Right? Yeah. And then, like, one

00:18:54.450 --> 00:18:55.170
<v Speaker 2>afterwards,

00:19:00.915 --> 00:19:01.794
<v Speaker 2>Type

00:19:02.835 --> 00:19:03.475
<v Speaker 2>in.

00:19:04.275 --> 00:19:06.755
<v Speaker 1>Yeah. This is the commit, like, David pushed.

00:19:11.380 --> 00:19:13.059
<v Speaker 2>Yeah. But what does it find?

00:19:13.940 --> 00:19:15.780
<v Speaker 1>Let's see if we got any warnings in

00:19:15.780 --> 00:19:16.260
<v Speaker 1>here. Or

00:19:18.020 --> 00:19:19.780
<v Speaker 2>You can do, like, maybe, like I don't

00:19:19.780 --> 00:19:19.940
<v Speaker 2>know.

00:19:25.855 --> 00:19:28.095
<v Speaker 1>So what happened is with one point, it

00:19:28.095 --> 00:19:30.335
<v Speaker 1>define it it find out that there there

00:19:30.335 --> 00:19:31.934
<v Speaker 1>was a change. Mhmm.

00:19:33.935 --> 00:19:35.455
<v Speaker 1>But for some reason,

00:19:36.015 --> 00:19:37.535
<v Speaker 1>the garbage collected it.

00:19:40.490 --> 00:19:42.650
<v Speaker 2>Maybe I need to change something in the

00:19:42.650 --> 00:19:43.450
<v Speaker 2>box.

00:19:44.010 --> 00:19:44.650
<v Speaker 1>Yeah.

00:19:45.210 --> 00:19:47.210
<v Speaker 1>Let's check the configuration. Maybe it's something about

00:19:47.210 --> 00:19:48.650
<v Speaker 1>this configuration thing.

00:19:51.505 --> 00:19:53.745
<v Speaker 2>Yeah. There is By the way, in the

00:19:53.745 --> 00:19:56.945
<v Speaker 2>customized controller, it always failed. The plug, the

00:19:56.945 --> 00:20:00.225
<v Speaker 2>name is changed from plug system to.

00:20:02.065 --> 00:20:03.585
<v Speaker 1>And what is the name in the log?

00:20:08.630 --> 00:20:10.470
<v Speaker 2>It's all that. Right? Yeah. Yeah.

00:20:11.350 --> 00:20:13.990
<v Speaker 0>So your rollback for Cilium actually fixed this

00:20:13.990 --> 00:20:16.390
<v Speaker 0>problem, but there's a ten minute sync time

00:20:16.390 --> 00:20:17.669
<v Speaker 0>on the customization.

00:20:17.669 --> 00:20:19.350
<v Speaker 0>So I've just encouraged it to run again.

00:20:19.665 --> 00:20:20.705
<v Speaker 2>So So

00:20:22.545 --> 00:20:24.065
<v Speaker 2>we don't need to do anything?

00:20:24.705 --> 00:20:26.705
<v Speaker 0>As long as this customization runs?

00:20:27.105 --> 00:20:28.785
<v Speaker 0>No. It's still failing. It says the network

00:20:28.785 --> 00:20:30.225
<v Speaker 0>and cluster is not working.

00:20:30.545 --> 00:20:32.145
<v Speaker 0>Yeah. I don't know if your rollback for

00:20:32.145 --> 00:20:33.265
<v Speaker 0>Cilium fixed the problem.

00:20:35.059 --> 00:20:37.460
<v Speaker 2>I think the rollback of Cilium didn't No.

00:20:37.460 --> 00:20:39.059
<v Speaker 2>Like, there if you look at the logs

00:20:39.059 --> 00:20:41.460
<v Speaker 2>of the customer's controller, there are really bad

00:20:41.460 --> 00:20:42.419
<v Speaker 2>logs there.

00:20:43.540 --> 00:20:45.059
<v Speaker 2>And it says that it failed on a

00:20:45.059 --> 00:20:46.340
<v Speaker 2>HTTP and

00:20:46.660 --> 00:20:47.620
<v Speaker 2>fairly common web.

00:20:48.495 --> 00:20:50.815
<v Speaker 2>Yeah. Let me just show that everyone can

00:20:50.815 --> 00:20:53.934
<v Speaker 1>see. Yeah. Reconciliation failed after a second.

00:20:54.335 --> 00:20:56.255
<v Speaker 2>That's the CMPG

00:20:56.255 --> 00:20:57.534
<v Speaker 2>webhook service.

00:20:58.335 --> 00:20:59.375
<v Speaker 2>Who is it?

00:21:00.015 --> 00:21:00.335
<v Speaker 2>Name.

00:21:08.520 --> 00:21:10.920
<v Speaker 2>The CMPG thing is

00:21:12.920 --> 00:21:15.320
<v Speaker 2>I think the network is still there.

00:21:21.014 --> 00:21:22.454
<v Speaker 1>What is this service?

00:21:22.774 --> 00:21:23.974
<v Speaker 1>The CMPG?

00:21:24.054 --> 00:21:26.534
<v Speaker 2>Yeah. There is, like, one thing here.

00:21:27.255 --> 00:21:29.975
<v Speaker 2>I'm looking at the logs of the CMPG.

00:21:32.000 --> 00:21:34.159
<v Speaker 2>Is it the pod? It's a there is

00:21:34.159 --> 00:21:34.960
<v Speaker 2>a pod,

00:21:35.440 --> 00:21:38.159
<v Speaker 2>but, like, the latest message is, like, periodic

00:21:38.159 --> 00:21:39.200
<v Speaker 2>PLS

00:21:39.200 --> 00:21:40.719
<v Speaker 2>certificate maintenance,

00:21:42.240 --> 00:21:43.520
<v Speaker 2>which I don't really know.

00:21:45.605 --> 00:21:46.244
<v Speaker 1>And

00:21:51.445 --> 00:21:54.004
<v Speaker 1>that's pretty much it around this service.

00:21:54.005 --> 00:21:56.644
<v Speaker 1>What was there in Volley in It doesn't,

00:21:56.644 --> 00:21:57.924
<v Speaker 2>like, succeed, like,

00:21:58.404 --> 00:22:00.809
<v Speaker 2>with the relevant service, basically.

00:22:01.130 --> 00:22:02.650
<v Speaker 0>Yes. So let me give you context on

00:22:02.650 --> 00:22:04.330
<v Speaker 0>that silly and break. Right? Because you've done

00:22:04.330 --> 00:22:06.330
<v Speaker 0>a rollback, but you didn't really identify what

00:22:06.330 --> 00:22:09.289
<v Speaker 0>the problem was and what changed. And Mhmm.

00:22:09.450 --> 00:22:11.289
<v Speaker 0>I don't want this to debug something

00:22:12.250 --> 00:22:12.809
<v Speaker 0>that

00:22:13.265 --> 00:22:15.265
<v Speaker 0>you can't have visibility into right now because

00:22:15.265 --> 00:22:17.665
<v Speaker 0>of that secret value thing. So in the

00:22:17.665 --> 00:22:19.105
<v Speaker 0>cell and health chart, what I did was

00:22:19.105 --> 00:22:21.185
<v Speaker 0>disable the agent, which is definitely rolled back

00:22:21.185 --> 00:22:22.625
<v Speaker 0>because we can see the agent is now

00:22:22.625 --> 00:22:25.345
<v Speaker 0>deployed next to the operator. However, I also

00:22:25.570 --> 00:22:26.450
<v Speaker 0>disabled

00:22:26.450 --> 00:22:29.170
<v Speaker 0>the eBPF Kube proxy replacement, and you may

00:22:29.170 --> 00:22:31.250
<v Speaker 0>notice there's no Kube proxy in this cluster.

00:22:32.450 --> 00:22:35.250
<v Speaker 0>So at the interest of not debugging something

00:22:35.250 --> 00:22:36.850
<v Speaker 0>that we're not entirely sure if it's been

00:22:36.850 --> 00:22:38.690
<v Speaker 0>fixed or not, I'm going to redeploy Selium

00:22:38.690 --> 00:22:40.370
<v Speaker 0>right now and assume the rollback

00:22:40.765 --> 00:22:43.085
<v Speaker 0>hopefully fixed it properly. And if we still

00:22:43.085 --> 00:22:43.965
<v Speaker 0>have an issue,

00:22:44.285 --> 00:22:45.885
<v Speaker 0>then I'm debugging with you because I'm not

00:22:45.885 --> 00:22:47.245
<v Speaker 0>really sure what the problem will be after

00:22:47.245 --> 00:22:49.885
<v Speaker 0>that. So let's let's see. Know. Maybe it's

00:22:49.885 --> 00:22:50.764
<v Speaker 0>worse.

00:22:52.365 --> 00:22:54.284
<v Speaker 2>I see see problem with with

00:22:54.765 --> 00:22:57.725
<v Speaker 2>the old. It's

00:22:56.610 --> 00:22:57.649
<v Speaker 2>It's not that.

00:22:58.690 --> 00:23:01.650
<v Speaker 0>I think So my my update for Cilium

00:23:01.650 --> 00:23:02.929
<v Speaker 0>has triggered

00:23:03.330 --> 00:23:05.809
<v Speaker 0>a redeploy of Cilium. So the contract might

00:23:05.809 --> 00:23:07.889
<v Speaker 0>definitely change. So we

00:23:08.050 --> 00:23:09.410
<v Speaker 0>may be moving in

00:23:10.085 --> 00:23:11.525
<v Speaker 0>to better situation.

00:23:20.085 --> 00:23:22.885
<v Speaker 2>Yeah. Let me delete the latest serial operator.

00:23:23.810 --> 00:23:25.250
<v Speaker 2>Oh, who can delete things?

00:23:26.210 --> 00:23:28.370
<v Speaker 2>Mhmm. Delete the serial operator.

00:23:29.250 --> 00:23:29.730
<v Speaker 2>Oh,

00:23:30.690 --> 00:23:32.370
<v Speaker 2>okay. Oh, cool.

00:23:32.610 --> 00:23:34.850
<v Speaker 2>No. By the previous one? Yeah. The previous.

00:23:35.475 --> 00:23:36.835
<v Speaker 2>But that one maybe.

00:23:37.635 --> 00:23:38.595
<v Speaker 2>Because the

00:23:39.155 --> 00:23:40.115
<v Speaker 2>operator

00:23:41.475 --> 00:23:43.395
<v Speaker 2>Wait a sec. Yeah. The the one that

00:23:43.395 --> 00:23:45.235
<v Speaker 2>is pending. No. Not the one that is

00:23:45.235 --> 00:23:47.715
<v Speaker 2>pending. It's the other one. Okay. What will

00:23:47.715 --> 00:23:48.035
<v Speaker 2>happen?

00:23:49.080 --> 00:23:51.160
<v Speaker 2>Yeah. So I'll go to the same operator

00:23:51.160 --> 00:23:53.399
<v Speaker 2>to the parts. Are you sure? Yeah.

00:23:53.640 --> 00:23:57.320
<v Speaker 2>I'm going to delete the old serial operator

00:23:57.320 --> 00:23:58.039
<v Speaker 2>port.

00:23:59.480 --> 00:24:01.160
<v Speaker 0>Oh, that's a bold move. I like it.

00:24:01.835 --> 00:24:05.035
<v Speaker 2>Yeah. Yeah. We're not playing around here. You

00:24:05.035 --> 00:24:05.515
<v Speaker 2>know?

00:24:07.835 --> 00:24:10.075
<v Speaker 1>So now the the new version is running

00:24:10.075 --> 00:24:10.395
<v Speaker 1>and

00:24:11.275 --> 00:24:13.274
<v Speaker 2>It should. Give one sec.

00:24:13.515 --> 00:24:15.515
<v Speaker 2>Or we won't have anyone there running. Right?

00:24:15.649 --> 00:24:18.210
<v Speaker 2>It's it seemed like it's failed schedule. Hey.

00:24:18.210 --> 00:24:19.089
<v Speaker 0>That worked.

00:24:21.250 --> 00:24:21.889
<v Speaker 2>Beautiful?

00:24:22.130 --> 00:24:23.809
<v Speaker 2>Yeah. Yeah.

00:24:24.130 --> 00:24:26.289
<v Speaker 2>Well, we have no doubts about that.

00:24:32.455 --> 00:24:34.055
<v Speaker 2>Seems like the the the new part of

00:24:34.055 --> 00:24:36.054
<v Speaker 2>the senior doesn't I like I

00:24:36.535 --> 00:24:38.615
<v Speaker 2>think that's okay because we have, like, two

00:24:38.615 --> 00:24:40.375
<v Speaker 2>replica. But now, like, it's a new one

00:24:40.375 --> 00:24:41.575
<v Speaker 2>that is running. Right?

00:24:42.990 --> 00:24:46.030
<v Speaker 2>So now what we should I can scale

00:24:46.030 --> 00:24:47.149
<v Speaker 2>it to one.

00:24:47.470 --> 00:24:49.070
<v Speaker 2>It's nice to try and just keep on

00:24:49.070 --> 00:24:51.310
<v Speaker 2>working. Let's get a new one. Issues,

00:24:51.310 --> 00:24:53.310
<v Speaker 2>you know. I'm

00:24:53.310 --> 00:24:55.230
<v Speaker 2>scaling the the same one for it to

00:24:55.230 --> 00:24:57.395
<v Speaker 2>one. No. Think that's the Symbol. No. I

00:24:57.395 --> 00:24:59.635
<v Speaker 2>think now it's okay. Now let hopefully, create

00:24:59.635 --> 00:25:02.355
<v Speaker 2>the the logs of the flex thingy there.

00:25:02.355 --> 00:25:03.555
<v Speaker 1>The customized

00:25:03.555 --> 00:25:06.595
<v Speaker 1>one? I think. Right? Let's see. Source. I

00:25:06.595 --> 00:25:08.755
<v Speaker 1>think the cus Oh, the group, I was

00:25:08.755 --> 00:25:11.330
<v Speaker 1>just thinking. Ah, it is? Yeah. You see?

00:25:12.370 --> 00:25:15.169
<v Speaker 2>If it's the final wall of yeah. Let's

00:25:15.169 --> 00:25:15.809
<v Speaker 2>see it.

00:25:16.850 --> 00:25:19.570
<v Speaker 0>When in doubt, delete still your operators.

00:25:19.570 --> 00:25:20.609
<v Speaker 0>Access everything.

00:25:22.049 --> 00:25:24.210
<v Speaker 1>Oh, now it's healthy. Woo.

00:25:24.690 --> 00:25:26.424
<v Speaker 2>Take look on the bots. Yeah. Yeah. Seems

00:25:26.424 --> 00:25:27.945
<v Speaker 2>like And I will do, like, a s

00:25:27.945 --> 00:25:30.345
<v Speaker 2>s a. Yeah. Know this one. Forward. That's

00:25:30.345 --> 00:25:31.464
<v Speaker 2>the default for. Okay.

00:25:31.865 --> 00:25:33.465
<v Speaker 0>Let me share my screen, and I'll test

00:25:33.465 --> 00:25:34.825
<v Speaker 0>the website for you. Alright?

00:25:36.184 --> 00:25:36.505
<v Speaker 2>Yeah.

00:25:39.530 --> 00:25:40.970
<v Speaker 2>And we understand, like,

00:25:41.370 --> 00:25:43.450
<v Speaker 2>all you get is, like, Drupal working. That's,

00:25:43.450 --> 00:25:46.090
<v Speaker 2>like, the best that's,

00:25:46.090 --> 00:25:47.530
<v Speaker 2>like, the best scenario.

00:25:47.530 --> 00:25:49.610
<v Speaker 0>The new one, Drupal Drupal is running. We

00:25:49.610 --> 00:25:52.169
<v Speaker 0>have a problem with our database configuration, but

00:25:52.169 --> 00:25:54.164
<v Speaker 0>maybe we don't need it. So in the

00:25:54.164 --> 00:25:56.565
<v Speaker 0>interest of testing, we can go port forward.

00:25:58.884 --> 00:26:00.725
<v Speaker 2>Why not doing port forward for the

00:26:01.524 --> 00:26:02.965
<v Speaker 2>Yeah. Why not? Yeah.

00:26:04.164 --> 00:26:06.404
<v Speaker 2>Komodor also have, like, like, another feature.

00:26:09.820 --> 00:26:11.820
<v Speaker 0>Okay. So it's

00:26:12.539 --> 00:26:14.539
<v Speaker 0>almost working. Let's see if we can actually

00:26:14.539 --> 00:26:15.340
<v Speaker 0>open up the browser.

00:26:23.845 --> 00:26:25.205
<v Speaker 0>Don't be too happy.

00:26:30.085 --> 00:26:32.245
<v Speaker 2>You have five to seven? No. He's going

00:26:32.245 --> 00:26:34.005
<v Speaker 1>to try to use the the database.

00:26:36.150 --> 00:26:38.470
<v Speaker 0>So this shouldn't actually be needed, but the

00:26:38.470 --> 00:26:40.390
<v Speaker 0>edit script is unable to run

00:26:41.190 --> 00:26:43.510
<v Speaker 0>for the same reason that this command will

00:26:43.510 --> 00:26:44.150
<v Speaker 0>fail.

00:26:45.990 --> 00:26:47.110
<v Speaker 2>Oh, no.

00:26:47.830 --> 00:26:50.470
<v Speaker 0>Our Drupal instance is unable to communicate with

00:26:50.470 --> 00:26:51.510
<v Speaker 0>the Postgres database.

00:26:52.045 --> 00:26:53.805
<v Speaker 0>Back over to you, and this is the

00:26:53.805 --> 00:26:54.605
<v Speaker 0>last break.

00:26:55.565 --> 00:26:57.965
<v Speaker 2>Because maybe the environment for that. Right? Like

00:26:57.965 --> 00:27:00.205
<v Speaker 2>the It's gonna time out. It cannot post

00:27:00.445 --> 00:27:02.044
<v Speaker 0>Drupal cannot speak to Postgres.

00:27:02.125 --> 00:27:03.005
<v Speaker 0>There we go.

00:27:04.365 --> 00:27:05.805
<v Speaker 0>Memory failure in DNS resolution.

00:27:06.550 --> 00:27:09.429
<v Speaker 2>Yeah. DNS resolution. Back to you. Last break.

00:27:09.430 --> 00:27:10.950
<v Speaker 2>What is the problem right now? So there

00:27:10.950 --> 00:27:13.909
<v Speaker 1>we go. So it cannot resolve the database.

00:27:14.150 --> 00:27:14.630
<v Speaker 1>And

00:27:15.590 --> 00:27:17.350
<v Speaker 1>okay. So let's check the events.

00:27:19.955 --> 00:27:21.075
<v Speaker 2>Of the pod?

00:27:21.235 --> 00:27:22.275
<v Speaker 2>Of everything.

00:27:22.435 --> 00:27:23.395
<v Speaker 2>Let's check.

00:27:25.475 --> 00:27:26.115
<v Speaker 2>Election

00:27:26.275 --> 00:27:27.554
<v Speaker 2>network policy?

00:27:27.955 --> 00:27:28.674
<v Speaker 2>Maybe.

00:27:29.955 --> 00:27:31.955
<v Speaker 2>We did a lot of network policy changes.

00:27:32.880 --> 00:27:34.000
<v Speaker 2>Indeed. Why?

00:27:34.480 --> 00:27:35.919
<v Speaker 2>Why did we deploy?

00:27:36.320 --> 00:27:37.440
<v Speaker 2>We're in

00:27:38.000 --> 00:27:39.200
<v Speaker 2>Komodor events.

00:27:39.360 --> 00:27:41.440
<v Speaker 2>We can see network policy

00:27:41.440 --> 00:27:42.240
<v Speaker 2>changes.

00:27:42.640 --> 00:27:44.800
<v Speaker 2>And the last network policy change

00:27:46.560 --> 00:27:47.120
<v Speaker 2>was

00:27:49.184 --> 00:27:51.184
<v Speaker 2>a lot of scraping. A lot of. So

00:27:55.665 --> 00:27:56.945
<v Speaker 2>we saw that there are a lot of

00:27:56.945 --> 00:27:58.544
<v Speaker 2>network policy changes.

00:27:59.585 --> 00:28:01.585
<v Speaker 2>And it's looked like someone changed,

00:28:01.665 --> 00:28:04.210
<v Speaker 2>like, the unpacking policy. Yeah. There is a

00:28:04.210 --> 00:28:07.890
<v Speaker 2>policy that's prevent us from executing

00:28:07.890 --> 00:28:09.169
<v Speaker 2>the request

00:28:09.570 --> 00:28:11.730
<v Speaker 0>Yeah. Out in the cluster. There is a

00:28:11.730 --> 00:28:13.490
<v Speaker 2>policy type of ingress.

00:28:13.730 --> 00:28:16.370
<v Speaker 2>So let's try to take on action and

00:28:16.370 --> 00:28:16.930
<v Speaker 2>details.

00:28:17.535 --> 00:28:19.135
<v Speaker 0>I mean, what I love about Komodor here,

00:28:19.135 --> 00:28:20.335
<v Speaker 0>right, is that the fed log is a

00:28:20.335 --> 00:28:22.015
<v Speaker 0>gold mine of information. And you can see

00:28:22.015 --> 00:28:23.935
<v Speaker 0>this network policy was created in the last

00:28:23.935 --> 00:28:26.255
<v Speaker 0>twenty four hours. It's obviously well intended,

00:28:26.335 --> 00:28:28.655
<v Speaker 0>but, you know, mistakes are easy to make

00:28:28.655 --> 00:28:29.615
<v Speaker 0>in Kubernetes.

00:28:30.575 --> 00:28:30.895
<v Speaker 2>Very

00:28:33.750 --> 00:28:34.390
<v Speaker 2>Done.

00:28:35.670 --> 00:28:37.830
<v Speaker 0>Alright. If you can stop sharing your screen,

00:28:37.830 --> 00:28:39.990
<v Speaker 0>I will give the application another spin. I

00:28:39.990 --> 00:28:42.550
<v Speaker 0>think we should be sitting pretty now. Because

00:28:42.550 --> 00:28:44.309
<v Speaker 0>I still have my portfolio running.

00:28:44.710 --> 00:28:45.510
<v Speaker 0>If

00:28:46.070 --> 00:28:47.910
<v Speaker 0>we remove the install script.

00:28:48.605 --> 00:28:51.245
<v Speaker 2>Yeah. We're already loading the views.

00:28:51.325 --> 00:28:52.765
<v Speaker 0>And if we make sure

00:29:00.400 --> 00:29:03.840
<v Speaker 0>Okay. Completed sixteen seconds ago. The database is

00:29:03.840 --> 00:29:04.879
<v Speaker 0>now running.

00:29:08.880 --> 00:29:10.480
<v Speaker 0>Oh, it shouldn't have to do this, but

00:29:10.480 --> 00:29:11.600
<v Speaker 0>we run through it anyway.

00:29:15.725 --> 00:29:16.684
<v Speaker 2>That's it.

00:29:17.645 --> 00:29:18.684
<v Speaker 2>Well

00:29:19.245 --> 00:29:20.765
<v Speaker 0>done. You fixed all of the breaks in

00:29:20.765 --> 00:29:21.565
<v Speaker 0>the cluster,

00:29:21.885 --> 00:29:26.044
<v Speaker 0>and Drupal is now working as intended. Cheers.

00:29:29.470 --> 00:29:31.950
<v Speaker 0>So, you know, a small recap, and then

00:29:31.950 --> 00:29:33.070
<v Speaker 0>I'll let you just get back about your

00:29:33.070 --> 00:29:34.910
<v Speaker 0>day. Right? But that's that's a whole lot

00:29:34.910 --> 00:29:36.190
<v Speaker 0>of fun for me. Right?

00:29:36.510 --> 00:29:38.909
<v Speaker 0>I actually found it really difficult

00:29:39.070 --> 00:29:40.270
<v Speaker 0>to break

00:29:40.305 --> 00:29:43.345
<v Speaker 0>the developer, the consumer API of Kubernetes in

00:29:43.345 --> 00:29:45.265
<v Speaker 0>a way that Komodor couldn't

00:29:45.425 --> 00:29:47.745
<v Speaker 0>show right up front what the problem was.

00:29:47.745 --> 00:29:50.385
<v Speaker 0>With the get integration, the depths, the helm

00:29:50.385 --> 00:29:52.305
<v Speaker 0>charts, the node information,

00:29:52.545 --> 00:29:54.225
<v Speaker 0>even revealing all the labels and annotations,

00:29:54.649 --> 00:29:56.570
<v Speaker 0>Everything was just there in front of me.

00:29:56.570 --> 00:29:58.169
<v Speaker 0>And I think that's just a superpower for

00:29:58.169 --> 00:30:00.570
<v Speaker 0>people that have to operate Kubernetes. So I

00:30:00.570 --> 00:30:02.250
<v Speaker 0>will thank you all for your work. A

00:30:02.250 --> 00:30:03.769
<v Speaker 0>bit harder to break, but I hope you

00:30:03.769 --> 00:30:05.450
<v Speaker 0>enjoyed each of the breaks that were presented

00:30:05.450 --> 00:30:08.169
<v Speaker 0>to you. And then, yeah, any final remarks

00:30:08.169 --> 00:30:08.730
<v Speaker 0>from anyone?

00:30:09.515 --> 00:30:11.115
<v Speaker 2>No. It was super fun.

00:30:11.835 --> 00:30:13.595
<v Speaker 2>I'm very fond of the movie.
