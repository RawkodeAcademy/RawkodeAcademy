WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: 8ebea8ac-ec77-4295-81e9-563dbb66f9f0
Created: 2025-04-29T13:21:38.092Z
Duration: 852.1789
Channels: 1

00:00:00.320 --> 00:00:03.360
<v Speaker 0>Hello and welcome back to the Rawkode Academy.

00:00:03.520 --> 00:00:06.160
<v Speaker 0>As always, I'm your host David Flanagan,

00:00:06.399 --> 00:00:09.200
<v Speaker 0>also known across the internet as Rawkode. I'm

00:00:09.200 --> 00:00:11.679
<v Speaker 0>excited to be sharing with you today a

00:00:11.679 --> 00:00:14.480
<v Speaker 0>new project that no one has ever heard

00:00:14.480 --> 00:00:16.675
<v Speaker 0>of because it's not public yet.

00:00:16.915 --> 00:00:18.435
<v Speaker 0>So if you want to see a pretty

00:00:18.435 --> 00:00:20.515
<v Speaker 0>sweet project that can help you be more

00:00:20.515 --> 00:00:22.755
<v Speaker 0>productive and a happier developer,

00:00:22.835 --> 00:00:25.154
<v Speaker 0>you're at the right place. Building applications on

00:00:25.154 --> 00:00:27.410
<v Speaker 0>the dawn of cloud native has meant that

00:00:27.410 --> 00:00:30.050
<v Speaker 0>we don't just focus on our business logic

00:00:30.210 --> 00:00:33.090
<v Speaker 0>because our time is spread thin across ops,

00:00:33.090 --> 00:00:37.730
<v Speaker 0>DevOps, containers and message brokers, contracts, gRPC, GraphQL

00:00:37.730 --> 00:00:40.690
<v Speaker 0>and a myriad of a thousand other concerns.

00:00:41.035 --> 00:00:43.275
<v Speaker 0>But what if there was another way? What

00:00:43.275 --> 00:00:44.875
<v Speaker 0>if you could just focus on your business

00:00:44.875 --> 00:00:46.875
<v Speaker 0>logic and not have to worry about the

00:00:46.875 --> 00:00:49.114
<v Speaker 0>platform and just get shit done?

00:00:49.355 --> 00:00:49.915
<v Speaker 0>Well,

00:00:50.315 --> 00:00:52.315
<v Speaker 0>let me introduce you to Guidepad.

00:00:52.395 --> 00:00:54.475
<v Speaker 0>Guidepad is a framework that can get in

00:00:54.475 --> 00:00:57.010
<v Speaker 0>your face or get out your way. You

00:00:57.010 --> 00:00:59.410
<v Speaker 0>get to decide and what do I mean

00:00:59.410 --> 00:01:01.170
<v Speaker 0>by get in your face or get out

00:01:01.170 --> 00:01:03.810
<v Speaker 0>your way? Well, by get in your face

00:01:03.810 --> 00:01:06.770
<v Speaker 0>I mean that Guidepad can be opinionated.

00:01:06.850 --> 00:01:08.370
<v Speaker 0>It can provide tracks

00:01:08.370 --> 00:01:10.395
<v Speaker 0>that you just put your code on and

00:01:10.395 --> 00:01:13.275
<v Speaker 0>it run. You write a simple Python function

00:01:13.275 --> 00:01:15.034
<v Speaker 0>and ship it to prod with a git

00:01:15.034 --> 00:01:16.795
<v Speaker 0>push but if you want it to get

00:01:16.795 --> 00:01:18.475
<v Speaker 0>out your way you can use it as

00:01:18.475 --> 00:01:20.875
<v Speaker 0>a framework for deploying your code in your

00:01:20.875 --> 00:01:23.755
<v Speaker 0>applications to Kubernetes or even with Ansible.

00:01:23.835 --> 00:01:26.399
<v Speaker 0>The choice is yours. Today I'm going to

00:01:26.399 --> 00:01:28.640
<v Speaker 0>show you a small application that I built

00:01:28.640 --> 00:01:31.520
<v Speaker 0>on top of Guidepad the Guidepad way using

00:01:31.520 --> 00:01:33.840
<v Speaker 0>their type system, their services,

00:01:34.079 --> 00:01:37.039
<v Speaker 0>their data stores. Let's take a look. Okay,

00:01:37.200 --> 00:01:38.880
<v Speaker 0>so here we have my terminal

00:01:39.215 --> 00:01:41.695
<v Speaker 0>with two pins. The two pins aren't important

00:01:41.695 --> 00:01:43.855
<v Speaker 0>right now but they will be soon.

00:01:43.935 --> 00:01:46.415
<v Speaker 0>I built an application to resemble

00:01:46.495 --> 00:01:47.375
<v Speaker 0>Pocket.

00:01:47.375 --> 00:01:49.055
<v Speaker 0>If you're not familiar with Pocket, it's an

00:01:49.055 --> 00:01:51.775
<v Speaker 0>application where you can save web pages and

00:01:51.775 --> 00:01:54.015
<v Speaker 0>URLs that you will never ever read again.

00:01:54.380 --> 00:01:56.220
<v Speaker 0>I wanted to build the exact same thing

00:01:56.220 --> 00:01:59.180
<v Speaker 0>on top of Guidepad using Guidepad as the

00:01:59.180 --> 00:02:00.860
<v Speaker 0>framework. So the first thing we're going to

00:02:00.860 --> 00:02:02.540
<v Speaker 0>do is create a bookmark.

00:02:02.620 --> 00:02:04.300
<v Speaker 0>For this, I'm going to use the Guidepad

00:02:04.300 --> 00:02:05.180
<v Speaker 0>CLI.

00:02:05.180 --> 00:02:07.340
<v Speaker 0>Remember, we're doing this the Guidepad way with

00:02:07.340 --> 00:02:09.419
<v Speaker 0>only the Guidepad tooling, where I can say

00:02:09.419 --> 00:02:09.979
<v Speaker 0>entity

00:02:10.264 --> 00:02:11.065
<v Speaker 0>create

00:02:11.145 --> 00:02:12.025
<v Speaker 0>bookmark.

00:02:12.265 --> 00:02:14.265
<v Speaker 0>This command will allow me to take standard

00:02:14.265 --> 00:02:16.825
<v Speaker 0>n as a description of our bookmark.

00:02:16.905 --> 00:02:18.505
<v Speaker 0>We denote this with a dash and a

00:02:18.505 --> 00:02:20.665
<v Speaker 0>here dot. If you're familiar with Linux, you

00:02:20.665 --> 00:02:22.505
<v Speaker 0>have seen this syntax before.

00:02:22.825 --> 00:02:25.450
<v Speaker 0>I can now add our bookmark or I'm

00:02:25.450 --> 00:02:28.330
<v Speaker 0>just going to add the Rawkode Academy website.

00:02:29.050 --> 00:02:31.290
<v Speaker 0>We can then end our here doc like

00:02:31.290 --> 00:02:31.850
<v Speaker 0>so.

00:02:32.090 --> 00:02:34.010
<v Speaker 0>Now Guidepad here it does the plug in

00:02:34.010 --> 00:02:35.690
<v Speaker 0>stuff behind the scenes and we'll talk about

00:02:35.690 --> 00:02:38.045
<v Speaker 0>that as we progress through this video. But

00:02:38.045 --> 00:02:39.325
<v Speaker 0>all you need to know is right now

00:02:39.325 --> 00:02:41.645
<v Speaker 0>it's about to create a bookmark.

00:02:41.725 --> 00:02:44.285
<v Speaker 0>We can then use the Guidepad CLI to

00:02:44.285 --> 00:02:47.325
<v Speaker 0>list all of the bookmarks within the system.

00:02:47.325 --> 00:02:49.645
<v Speaker 0>So now I can do a Guidepad entity

00:02:49.645 --> 00:02:51.085
<v Speaker 0>list bookmark

00:02:51.709 --> 00:02:53.790
<v Speaker 0>and I'm going to pass in an empty

00:02:53.790 --> 00:02:54.670
<v Speaker 0>selector

00:02:54.989 --> 00:02:56.989
<v Speaker 0>because we have the ability to filter the

00:02:56.989 --> 00:03:00.110
<v Speaker 0>bookmarks if we wish. However, right now we

00:03:00.110 --> 00:03:02.590
<v Speaker 0>should only have one and my font's a

00:03:02.590 --> 00:03:04.525
<v Speaker 0>bit big but you can see we have

00:03:04.525 --> 00:03:06.765
<v Speaker 0>a whole bunch of information here, more than

00:03:06.765 --> 00:03:09.165
<v Speaker 0>the information that we provided on the command

00:03:09.165 --> 00:03:11.245
<v Speaker 0>line. Our Guidepad system

00:03:11.325 --> 00:03:14.045
<v Speaker 0>has taken the URL that we provided, it

00:03:14.045 --> 00:03:16.765
<v Speaker 0>has scraped the endpoint for metadata

00:03:16.765 --> 00:03:19.570
<v Speaker 0>and found us a title, a description,

00:03:19.810 --> 00:03:21.970
<v Speaker 0>the language of the web page, it's tried

00:03:21.970 --> 00:03:23.810
<v Speaker 0>to find an author and an image but

00:03:23.810 --> 00:03:26.370
<v Speaker 0>that's not important and then there's a summary

00:03:26.370 --> 00:03:28.770
<v Speaker 0>on the end. So what happened here?

00:03:29.090 --> 00:03:32.610
<v Speaker 0>Well we have deployed a plugin to Guidepad

00:03:32.610 --> 00:03:35.335
<v Speaker 0>or the bookmark service that tells it whenever

00:03:35.335 --> 00:03:37.735
<v Speaker 0>you save and you bookmark go and fetch

00:03:37.735 --> 00:03:40.135
<v Speaker 0>all this information and update the entity,

00:03:40.375 --> 00:03:43.015
<v Speaker 0>even use an OpenAI to generate a summary

00:03:43.015 --> 00:03:45.175
<v Speaker 0>of the web page. So let's try that

00:03:45.175 --> 00:03:47.415
<v Speaker 0>one more time with another URL.

00:03:47.415 --> 00:03:48.615
<v Speaker 0>With the Guidepad

00:03:48.615 --> 00:03:50.215
<v Speaker 0>entity

00:03:49.450 --> 00:03:50.410
<v Speaker 0>create,

00:03:51.370 --> 00:03:53.370
<v Speaker 0>click for, here doc URL

00:03:54.650 --> 00:03:57.530
<v Speaker 0>and a story from the BBC. End our

00:03:57.530 --> 00:03:59.930
<v Speaker 0>here doc and let our entity be created

00:03:59.930 --> 00:04:01.370
<v Speaker 0>by the Guidepad system.

00:04:01.895 --> 00:04:05.415
<v Speaker 0>And done. Now we can run Guidepad

00:04:05.415 --> 00:04:06.935
<v Speaker 0>entity list

00:04:07.255 --> 00:04:08.135
<v Speaker 0>bookmark,

00:04:08.695 --> 00:04:10.455
<v Speaker 0>and we can even filter this now if

00:04:10.455 --> 00:04:11.175
<v Speaker 0>we wish.

00:04:11.815 --> 00:04:13.335
<v Speaker 0>Let's say that we only want to see

00:04:13.335 --> 00:04:14.375
<v Speaker 0>the URL

00:04:14.535 --> 00:04:15.575
<v Speaker 0>that we just added.

00:04:16.570 --> 00:04:19.050
<v Speaker 0>Let's scroll up. This article has Elon Musk

00:04:19.050 --> 00:04:20.970
<v Speaker 0>and Mark Zuckerberg agree to hold a cage

00:04:20.970 --> 00:04:22.970
<v Speaker 0>fight. We have the description. We have the

00:04:22.970 --> 00:04:23.690
<v Speaker 0>language.

00:04:23.850 --> 00:04:25.530
<v Speaker 0>And because this was an article from the

00:04:25.530 --> 00:04:27.930
<v Speaker 0>BBC, we do have an author. However, there's

00:04:27.930 --> 00:04:30.570
<v Speaker 0>still no image. And we have our summary

00:04:30.570 --> 00:04:31.930
<v Speaker 0>from ChatGPT.

00:04:31.930 --> 00:04:34.545
<v Speaker 0>Perfect. Let's take a look at how we

00:04:34.545 --> 00:04:37.025
<v Speaker 0>built a system on top of Guidepad. Let's

00:04:37.025 --> 00:04:39.105
<v Speaker 0>head over to my IDE where we have

00:04:39.105 --> 00:04:41.505
<v Speaker 0>a directory called Guidepad Rawkode.

00:04:41.505 --> 00:04:45.345
<v Speaker 0>This is my Guidepad plugin. A Guidepad plugin

00:04:45.345 --> 00:04:47.750
<v Speaker 0>is a bunch of Python code which you

00:04:47.750 --> 00:04:49.990
<v Speaker 0>store and get and register with the Guidepad

00:04:49.990 --> 00:04:51.910
<v Speaker 0>system. You may have noticed that every time

00:04:51.910 --> 00:04:53.990
<v Speaker 0>I ran the Guidepad CLI,

00:04:53.990 --> 00:04:55.990
<v Speaker 0>it was fetching the plugins and the types

00:04:55.990 --> 00:04:57.750
<v Speaker 0>doing constant reconciliation

00:04:57.750 --> 00:05:00.069
<v Speaker 0>or looking for changes within the Git repository.

00:05:00.415 --> 00:05:02.895
<v Speaker 0>You get to define your own requirements dot

00:05:02.895 --> 00:05:05.055
<v Speaker 0>text for each of your plugins. So here,

00:05:05.055 --> 00:05:06.575
<v Speaker 0>it was very easy for me just to

00:05:06.575 --> 00:05:08.415
<v Speaker 0>add in the OpenAI

00:05:08.415 --> 00:05:10.575
<v Speaker 0>package as well as b print to make

00:05:10.575 --> 00:05:12.810
<v Speaker 0>my debugging life a little bit easier. Then

00:05:12.810 --> 00:05:15.689
<v Speaker 0>we have another directory again called Guidepad Rawkode

00:05:15.689 --> 00:05:17.530
<v Speaker 0>where we can define and work with a

00:05:17.530 --> 00:05:20.409
<v Speaker 0>type system provided to us by Guidepad.

00:05:20.409 --> 00:05:22.569
<v Speaker 0>In order to provide my plugin, I had

00:05:22.569 --> 00:05:25.050
<v Speaker 0>to tell it the operations, the services, and

00:05:25.050 --> 00:05:27.295
<v Speaker 0>the types that my plugin is going to

00:05:27.295 --> 00:05:29.295
<v Speaker 0>register. What you'll see here is I actually

00:05:29.295 --> 00:05:31.455
<v Speaker 0>have two systems being deployed by a single

00:05:31.455 --> 00:05:34.335
<v Speaker 0>plugin. I haven't just written a pocket bookmark

00:05:34.335 --> 00:05:37.295
<v Speaker 0>API, I've also written a URL shortener which

00:05:37.295 --> 00:05:38.895
<v Speaker 0>maybe we'll take a look at in another

00:05:38.895 --> 00:05:41.100
<v Speaker 0>video, but right now let's take a look

00:05:41.100 --> 00:05:42.460
<v Speaker 0>at our bookmark type.

00:05:42.780 --> 00:05:45.580
<v Speaker 0>This is a very simple Python class that

00:05:45.580 --> 00:05:48.700
<v Speaker 0>extends the Guidepad base type system. Not important

00:05:48.700 --> 00:05:50.700
<v Speaker 0>that you understand how this works right now,

00:05:50.700 --> 00:05:52.220
<v Speaker 0>so let's just go over the high levels.

00:05:52.365 --> 00:05:55.005
<v Speaker 0>We define the properties for our bookmarks.

00:05:55.085 --> 00:05:56.605
<v Speaker 0>One we need a URL,

00:05:57.085 --> 00:05:58.845
<v Speaker 0>then all of the additional fields that we're

00:05:58.845 --> 00:06:00.925
<v Speaker 0>going to try to extract from the URL

00:06:00.925 --> 00:06:03.884
<v Speaker 0>itself such as the title, description, the language

00:06:03.884 --> 00:06:06.370
<v Speaker 0>and so forth. All of the columns

00:06:06.370 --> 00:06:08.690
<v Speaker 0>that you seen on the CLI.

00:06:08.690 --> 00:06:10.610
<v Speaker 0>We then have a bunch of functions that

00:06:10.610 --> 00:06:12.930
<v Speaker 0>I provided to make my life a little

00:06:12.930 --> 00:06:13.650
<v Speaker 0>bit easier.

00:06:13.970 --> 00:06:17.330
<v Speaker 0>One, a function which will get the body

00:06:17.330 --> 00:06:19.985
<v Speaker 0>for the URL. This is just using the

00:06:19.985 --> 00:06:22.544
<v Speaker 0>Python request module where we do a get

00:06:22.544 --> 00:06:24.944
<v Speaker 0>on the URL that was provided. If it

00:06:24.944 --> 00:06:27.185
<v Speaker 0>doesn't return us to a hundred, we don't

00:06:27.185 --> 00:06:29.824
<v Speaker 0>allow you to save your URL. Let's check

00:06:29.824 --> 00:06:30.544
<v Speaker 0>that out.

00:06:30.865 --> 00:06:32.384
<v Speaker 0>Let's do Guidepad

00:06:32.625 --> 00:06:33.104
<v Speaker 0>entity,

00:06:34.289 --> 00:06:35.729
<v Speaker 0>create bookmark

00:06:35.970 --> 00:06:37.570
<v Speaker 0>where we have a URL

00:06:37.650 --> 00:06:40.930
<v Speaker 0>google.com/fatepage

00:06:40.930 --> 00:06:43.490
<v Speaker 0>and end. And there we have our exception.

00:06:43.969 --> 00:06:46.305
<v Speaker 0>Now is this the best way to block

00:06:46.305 --> 00:06:47.905
<v Speaker 0>the saving of the bookmark?

00:06:47.985 --> 00:06:50.865
<v Speaker 0>No, not really, however it does work and

00:06:50.865 --> 00:06:52.465
<v Speaker 0>in the future we'll take a look at

00:06:52.465 --> 00:06:55.265
<v Speaker 0>how to handle errors properly within the Guidepad

00:06:55.265 --> 00:06:58.130
<v Speaker 0>system. We then have our summarize function which

00:06:58.130 --> 00:07:00.370
<v Speaker 0>will grab the first twelve thousand characters of

00:07:00.370 --> 00:07:02.130
<v Speaker 0>the web page and send them to chat

00:07:02.130 --> 00:07:05.330
<v Speaker 0>GPT for a completion and a summary. In

00:07:05.330 --> 00:07:08.130
<v Speaker 0>order to enrich our bookmarks with metadata we're

00:07:08.130 --> 00:07:10.605
<v Speaker 0>using the micro link API. We send it

00:07:10.605 --> 00:07:13.965
<v Speaker 0>the URL and request the metadata. From here

00:07:13.965 --> 00:07:15.965
<v Speaker 0>we can just set the properties on our

00:07:15.965 --> 00:07:17.165
<v Speaker 0>class title,

00:07:17.165 --> 00:07:20.045
<v Speaker 0>description, language and so forth and the way

00:07:20.045 --> 00:07:22.285
<v Speaker 0>that we make this work is to override

00:07:22.285 --> 00:07:24.950
<v Speaker 0>the save function on the base type. So

00:07:24.950 --> 00:07:26.870
<v Speaker 0>here we just say if there is no

00:07:26.870 --> 00:07:29.910
<v Speaker 0>title meaning we haven't fetched any metadata before

00:07:29.910 --> 00:07:31.590
<v Speaker 0>or perhaps it failed,

00:07:31.990 --> 00:07:33.670
<v Speaker 0>then we grab the body,

00:07:33.990 --> 00:07:35.350
<v Speaker 0>enrich with metadata

00:07:35.590 --> 00:07:36.710
<v Speaker 0>and summarize.

00:07:36.790 --> 00:07:38.230
<v Speaker 0>Nice and simple.

00:07:38.555 --> 00:07:41.195
<v Speaker 0>So there's a lot to like about this

00:07:41.195 --> 00:07:44.235
<v Speaker 0>file. One, I haven't really had to use

00:07:44.235 --> 00:07:46.315
<v Speaker 0>any of the Guidepad APIs.

00:07:46.555 --> 00:07:49.275
<v Speaker 0>I just wrote Python code. The one time

00:07:49.275 --> 00:07:51.675
<v Speaker 0>I did use the Guidepad API was to

00:07:51.675 --> 00:07:53.515
<v Speaker 0>handle something that I really don't wanna have

00:07:53.515 --> 00:07:55.139
<v Speaker 0>to worry about, that I really don't want

00:07:55.139 --> 00:07:57.300
<v Speaker 0>to have to handle myself which is secrets.

00:07:57.380 --> 00:07:59.380
<v Speaker 0>If we scroll up you'll see here on

00:07:59.380 --> 00:08:01.780
<v Speaker 0>line 31 that we used

00:08:01.780 --> 00:08:05.539
<v Speaker 0>secret dot list single to request an OpenAI

00:08:05.539 --> 00:08:08.500
<v Speaker 0>token. This reveals something about Guidepad that may

00:08:08.500 --> 00:08:11.435
<v Speaker 0>not have been obvious at first. Everything in

00:08:11.435 --> 00:08:14.795
<v Speaker 0>Guidepad is built on the type system including

00:08:14.795 --> 00:08:15.755
<v Speaker 0>secrets,

00:08:15.835 --> 00:08:19.915
<v Speaker 0>bookmarks or types, short URLs or types, services

00:08:19.915 --> 00:08:20.875
<v Speaker 0>or types,

00:08:21.035 --> 00:08:24.555
<v Speaker 0>ingress or types, everything is built on the

00:08:24.555 --> 00:08:27.230
<v Speaker 0>system. So when you buy into that opinionated

00:08:27.230 --> 00:08:27.950
<v Speaker 0>system,

00:08:28.110 --> 00:08:31.870
<v Speaker 0>building applications can almost become trivial. You get

00:08:31.870 --> 00:08:33.710
<v Speaker 0>to focus on your business logic

00:08:33.790 --> 00:08:36.750
<v Speaker 0>and none of the surrounding platform infrastructure

00:08:36.910 --> 00:08:38.670
<v Speaker 0>or operating needs.

00:08:38.830 --> 00:08:41.215
<v Speaker 0>Okay, but let's assume we don't want to

00:08:41.215 --> 00:08:44.255
<v Speaker 0>have to rely on the Guidepad entity list

00:08:44.255 --> 00:08:46.815
<v Speaker 0>bookmarks to see the bookmarks within our system.

00:08:46.815 --> 00:08:48.335
<v Speaker 0>It's likely that you want to be able

00:08:48.335 --> 00:08:50.975
<v Speaker 0>to consume them from external services, third party

00:08:50.975 --> 00:08:53.855
<v Speaker 0>systems or even applications on your mobile phone

00:08:53.970 --> 00:08:56.209
<v Speaker 0>or your desktop. Well, we can do that

00:08:56.209 --> 00:08:58.209
<v Speaker 0>too. If I run curl and grab this

00:08:58.209 --> 00:08:59.089
<v Speaker 0>last command,

00:08:59.329 --> 00:09:01.649
<v Speaker 0>you can see that we can curl Rawkode

00:09:01.649 --> 00:09:04.850
<v Speaker 0>launchpads dev or dw tech blah blah blah

00:09:04.930 --> 00:09:08.449
<v Speaker 0>bookmark API two. This is a domain provided

00:09:08.449 --> 00:09:09.730
<v Speaker 0>by the Guidepad service

00:09:09.925 --> 00:09:12.325
<v Speaker 0>that exposes my bookmark API,

00:09:12.485 --> 00:09:14.085
<v Speaker 0>and this is the second time I've done

00:09:14.085 --> 00:09:16.645
<v Speaker 0>it. Go figure. But if we run this,

00:09:17.045 --> 00:09:19.605
<v Speaker 0>we can now see the two bookmarks

00:09:19.605 --> 00:09:21.365
<v Speaker 0>that I created at the start of this

00:09:21.365 --> 00:09:23.940
<v Speaker 0>video. You can see the Rawkode Academy and

00:09:23.940 --> 00:09:27.140
<v Speaker 0>Mark Zuckerberg and Elon Musk agreeing to fight.

00:09:27.140 --> 00:09:29.220
<v Speaker 0>So in order to make this work,

00:09:29.460 --> 00:09:32.020
<v Speaker 0>we had to define a service. Let's pop

00:09:32.020 --> 00:09:33.780
<v Speaker 0>open our plug in and open our plug

00:09:33.780 --> 00:09:35.855
<v Speaker 0>in dot py. Here you can see that

00:09:35.855 --> 00:09:38.415
<v Speaker 0>we expose the Bitmark API as a service

00:09:38.415 --> 00:09:40.975
<v Speaker 0>on this plug in. This Bitmark API extends

00:09:40.975 --> 00:09:43.455
<v Speaker 0>the operations API within Guidepad.

00:09:43.455 --> 00:09:46.175
<v Speaker 0>The operations API allows you to define operations

00:09:46.175 --> 00:09:49.375
<v Speaker 0>available to query data within the Guidepad system.

00:09:49.375 --> 00:09:51.430
<v Speaker 0>Here we're extending that remove a whole bunch

00:09:51.430 --> 00:09:53.910
<v Speaker 0>of boilerplate that would otherwise be required to

00:09:53.910 --> 00:09:56.950
<v Speaker 0>expose a flask application on the Guidepad framework.

00:09:56.950 --> 00:09:59.750
<v Speaker 0>Again, buying in to the Guidepad

00:09:59.750 --> 00:10:01.510
<v Speaker 0>tracks so that we don't have to do

00:10:01.510 --> 00:10:03.830
<v Speaker 0>everything ourselves. The only thing that's important in

00:10:03.830 --> 00:10:05.735
<v Speaker 0>this file is that we give a service

00:10:05.735 --> 00:10:08.215
<v Speaker 0>type a name, something that uniquely identifies it

00:10:08.215 --> 00:10:10.535
<v Speaker 0>within the Guidepad system. We then tell it

00:10:10.535 --> 00:10:13.975
<v Speaker 0>that the endpoints for this API are provided

00:10:13.975 --> 00:10:15.975
<v Speaker 0>by my plugin operations

00:10:15.975 --> 00:10:18.610
<v Speaker 0>bookmark. Let's head over there. We open the

00:10:18.610 --> 00:10:20.770
<v Speaker 0>operations directory and we go to the bookmarks

00:10:20.770 --> 00:10:24.370
<v Speaker 0>file. Here we're using the blueprint flask functionality

00:10:24.370 --> 00:10:27.250
<v Speaker 0>to provide new endpoints on our API. Here

00:10:27.250 --> 00:10:29.330
<v Speaker 0>we can see that on slash we are

00:10:29.330 --> 00:10:30.770
<v Speaker 0>going to list bookmark

00:10:31.214 --> 00:10:33.295
<v Speaker 0>and we're using the Guidepad

00:10:33.375 --> 00:10:34.894
<v Speaker 0>base type APIs

00:10:34.975 --> 00:10:37.774
<v Speaker 0>to fetch those resources. Here we call bookmark

00:10:37.774 --> 00:10:39.935
<v Speaker 0>dot list with no filters,

00:10:39.935 --> 00:10:42.255
<v Speaker 0>we use a comprehension to loop over them

00:10:42.255 --> 00:10:44.495
<v Speaker 0>and we serialize them giving us back the

00:10:44.495 --> 00:10:47.040
<v Speaker 0>bookmarks object, which we can then turn into

00:10:47.040 --> 00:10:48.800
<v Speaker 0>JSON and return.

00:10:48.880 --> 00:10:50.800
<v Speaker 0>It's just that simple.

00:10:51.040 --> 00:10:53.279
<v Speaker 0>So as a bit of an experiment why

00:10:53.279 --> 00:10:55.200
<v Speaker 0>don't we add a new piece of functionality

00:10:55.200 --> 00:10:57.839
<v Speaker 0>to this application. Let's copy our list function

00:10:57.839 --> 00:11:00.584
<v Speaker 0>like so and this time we're gonna add

00:11:00.584 --> 00:11:03.065
<v Speaker 0>a to do endpoint which is going to

00:11:03.065 --> 00:11:05.144
<v Speaker 0>return all of the bookmarks that we haven't

00:11:05.144 --> 00:11:08.425
<v Speaker 0>read yet. We'll call this to do bookmarks.

00:11:08.425 --> 00:11:10.824
<v Speaker 0>So we don't want to return all bookmarks

00:11:10.824 --> 00:11:12.824
<v Speaker 0>here, we only want to return the ones

00:11:12.900 --> 00:11:14.900
<v Speaker 0>where red equals false.

00:11:15.220 --> 00:11:17.300
<v Speaker 0>So we can add a search

00:11:18.020 --> 00:11:18.820
<v Speaker 0>like so.

00:11:19.300 --> 00:11:20.020
<v Speaker 0>However,

00:11:20.900 --> 00:11:22.500
<v Speaker 0>we want to do

00:11:22.740 --> 00:11:24.900
<v Speaker 0>no. We want red

00:11:25.300 --> 00:11:26.020
<v Speaker 0>as false.

00:11:26.514 --> 00:11:28.995
<v Speaker 0>Now this property doesn't exist on our type

00:11:28.995 --> 00:11:31.555
<v Speaker 0>yet, so let's make that change. Okay, so

00:11:31.555 --> 00:11:34.514
<v Speaker 0>let's add a red property to our bookmark

00:11:34.514 --> 00:11:35.235
<v Speaker 0>type.

00:11:35.714 --> 00:11:38.274
<v Speaker 0>Here we can set the default equals

00:11:38.755 --> 00:11:39.235
<v Speaker 0>false,

00:11:40.320 --> 00:11:42.480
<v Speaker 0>meaning that by default, if there is no

00:11:42.480 --> 00:11:45.360
<v Speaker 0>property, we assume it is unread or no

00:11:45.360 --> 00:11:48.240
<v Speaker 0>value at least. So let's deploy this change

00:11:48.560 --> 00:11:50.960
<v Speaker 0>to the Guidepad system. To do that, we

00:11:50.960 --> 00:11:52.320
<v Speaker 0>go back to our terminal where we could

00:11:52.320 --> 00:11:53.280
<v Speaker 0>do git add

00:11:53.885 --> 00:11:55.325
<v Speaker 0>Guidepad Rawkode

00:11:55.325 --> 00:11:56.605
<v Speaker 0>and git commit

00:11:56.845 --> 00:11:58.445
<v Speaker 0>beat add

00:11:58.525 --> 00:12:01.725
<v Speaker 0>to do endpoint and push. Okay. Now that

00:12:01.725 --> 00:12:04.285
<v Speaker 0>we've pushed that up, we can run Guidepad,

00:12:04.445 --> 00:12:05.645
<v Speaker 0>entity, list,

00:12:06.250 --> 00:12:09.290
<v Speaker 0>bookmark, all bookmarks. However, this time we're only

00:12:09.290 --> 00:12:11.290
<v Speaker 0>gonna request a few of the attribute.

00:12:11.610 --> 00:12:13.130
<v Speaker 0>First, the URL,

00:12:13.930 --> 00:12:15.290
<v Speaker 0>whether it's been read,

00:12:15.529 --> 00:12:16.889
<v Speaker 0>and then the summary,

00:12:17.290 --> 00:12:19.690
<v Speaker 0>like so. Now because we pushed our plug

00:12:19.690 --> 00:12:21.130
<v Speaker 0>in to a remote repository

00:12:21.464 --> 00:12:23.785
<v Speaker 0>and now we're running the Guidepad CLI, it's

00:12:23.785 --> 00:12:25.384
<v Speaker 0>going to notice that we need to update

00:12:25.384 --> 00:12:28.185
<v Speaker 0>the plug in. Do we get pull, check

00:12:28.185 --> 00:12:29.144
<v Speaker 0>the requirements

00:12:29.225 --> 00:12:31.305
<v Speaker 0>and then we'll have our plug in up

00:12:31.305 --> 00:12:33.865
<v Speaker 0>to date. So we also added with the

00:12:33.865 --> 00:12:35.785
<v Speaker 0>latest change our new endpoint

00:12:36.200 --> 00:12:39.080
<v Speaker 0>pull down any bookmarks that we haven't read

00:12:39.080 --> 00:12:41.720
<v Speaker 0>yet. We can run a curl pasting in

00:12:41.720 --> 00:12:43.960
<v Speaker 0>the URL for our service and add our

00:12:43.960 --> 00:12:46.200
<v Speaker 0>new to do endpoint and pipe it through

00:12:46.200 --> 00:12:50.145
<v Speaker 0>a JQ. This returns both of our bookmarks

00:12:50.145 --> 00:12:52.625
<v Speaker 0>because both are currently set to false and

00:12:52.625 --> 00:12:53.985
<v Speaker 0>unread.

00:12:54.225 --> 00:12:56.225
<v Speaker 0>So let's go up to this top pane.

00:12:56.225 --> 00:12:58.625
<v Speaker 0>Now I could do a Guidepad entity

00:12:58.705 --> 00:13:01.505
<v Speaker 0>edit bookmark and drop in this ID,

00:13:01.665 --> 00:13:02.970
<v Speaker 0>but I'm just going to create a new

00:13:02.970 --> 00:13:04.490
<v Speaker 0>one from a file so you can see

00:13:04.490 --> 00:13:07.450
<v Speaker 0>that flow and then that'll show us that

00:13:07.450 --> 00:13:10.650
<v Speaker 0>we have a working filtered API endpoint on

00:13:10.650 --> 00:13:12.730
<v Speaker 0>the bottom tab too. So we could do

00:13:12.730 --> 00:13:13.930
<v Speaker 0>entity create

00:13:14.250 --> 00:13:16.570
<v Speaker 0>bookmark and instead of using the hair dot,

00:13:16.545 --> 00:13:19.345
<v Speaker 0>we're gonna pull this in from our plugin

00:13:19.745 --> 00:13:21.345
<v Speaker 0>bookmark dot JSON

00:13:21.825 --> 00:13:23.985
<v Speaker 0>like so. We can pop over into my

00:13:23.985 --> 00:13:26.545
<v Speaker 0>editor and you'll see that this bookmark.JSON

00:13:26.545 --> 00:13:29.185
<v Speaker 0>just has a URL and the red status

00:13:29.185 --> 00:13:32.704
<v Speaker 0>set to true. So let's run our summary

00:13:31.970 --> 00:13:33.010
<v Speaker 0>one more time.

00:13:35.250 --> 00:13:36.050
<v Speaker 0>Nice

00:13:36.130 --> 00:13:38.450
<v Speaker 0>and if we query our to do endpoint

00:13:38.450 --> 00:13:41.170
<v Speaker 0>we still have two bookmarks even though above

00:13:41.170 --> 00:13:42.690
<v Speaker 0>we have google.com

00:13:42.690 --> 00:13:45.410
<v Speaker 0>read true. So that's Guidepad.

00:13:45.410 --> 00:13:49.685
<v Speaker 0>Guidepad is an extremely flexible, powerful, opinionated tool

00:13:49.685 --> 00:13:51.765
<v Speaker 0>all at the same time. You get to

00:13:51.765 --> 00:13:53.925
<v Speaker 0>opt in to the behaviors that you want.

00:13:53.925 --> 00:13:56.085
<v Speaker 0>If you just want to write some code,

00:13:56.245 --> 00:13:58.885
<v Speaker 0>have it deployed and exposed to your customers,

00:13:59.125 --> 00:14:01.230
<v Speaker 0>don't have to worry about databases, you could

00:14:01.230 --> 00:14:03.070
<v Speaker 0>do that. Join us for the next video

00:14:03.070 --> 00:14:05.230
<v Speaker 0>where we take a slightly different approach to

00:14:05.230 --> 00:14:06.990
<v Speaker 0>Guidepad. We'll see you then. Have a great

00:14:06.990 --> 00:14:07.230
<v Speaker 0>day.
