WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: d9578184-9e43-4e66-b54e-ab59572f0674
Created: 2025-04-29T16:40:58.842Z
Duration: 6471.5938
Channels: 1

00:02:02.485 --> 00:02:03.365
<v Speaker 0>Hello,

00:02:03.604 --> 00:02:06.405
<v Speaker 0>and welcome back to the Rawkode Academy.

00:02:06.405 --> 00:02:08.324
<v Speaker 0>This is clustered day.

00:02:08.485 --> 00:02:10.644
<v Speaker 0>We have two great teams that are gonna

00:02:10.644 --> 00:02:13.765
<v Speaker 0>attempt to fix a broken Kubernetes cluster broken

00:02:13.765 --> 00:02:14.805
<v Speaker 0>by the other team.

00:02:16.060 --> 00:02:18.299
<v Speaker 0>Now, if you want to win a clustered

00:02:18.299 --> 00:02:20.459
<v Speaker 0>t shirt, which I should probably have been

00:02:20.459 --> 00:02:22.299
<v Speaker 0>wearing today. However, if you want to win

00:02:22.299 --> 00:02:25.980
<v Speaker 0>a clustered t shirt, jump to Rawkode.livewin.

00:02:26.060 --> 00:02:27.579
<v Speaker 0>All you have to do is retweet a

00:02:27.579 --> 00:02:29.500
<v Speaker 0>tweet that will enter you into the draw,

00:02:29.500 --> 00:02:31.254
<v Speaker 0>and we will draw two winners of a

00:02:31.254 --> 00:02:33.415
<v Speaker 0>t shirt at the end of today's episode.

00:02:33.495 --> 00:02:36.215
<v Speaker 0>So Rawkode.livewin.

00:02:36.614 --> 00:02:38.135
<v Speaker 0>I will pop that back up later to

00:02:38.135 --> 00:02:39.735
<v Speaker 0>remind you all, but first I need to

00:02:39.735 --> 00:02:41.655
<v Speaker 0>thank our wonderful sponsors.

00:02:41.894 --> 00:02:43.655
<v Speaker 0>So first up is Teleport.

00:02:44.410 --> 00:02:46.250
<v Speaker 0>Teleport have been sponsoring a show for a

00:02:46.250 --> 00:02:48.570
<v Speaker 0>long time now. We have used Teleport every

00:02:48.570 --> 00:02:52.010
<v Speaker 0>single episode of clustered as an amazing tool.

00:02:52.010 --> 00:02:54.890
<v Speaker 0>I always say that every single cluster, every

00:02:54.890 --> 00:02:57.210
<v Speaker 0>production environment should have a Teleport.

00:02:57.825 --> 00:03:00.465
<v Speaker 0>Why? Well, you can use GitHub, Google, and

00:03:00.465 --> 00:03:02.385
<v Speaker 0>other OAuth based providers

00:03:02.625 --> 00:03:03.265
<v Speaker 0>to

00:03:03.505 --> 00:03:05.585
<v Speaker 0>commoditize access to your cluster in a secure

00:03:05.585 --> 00:03:08.145
<v Speaker 0>fashion that doesn't rely on SSH keys.

00:03:08.385 --> 00:03:10.225
<v Speaker 0>You can also do a pairing and debugging

00:03:10.200 --> 00:03:11.879
<v Speaker 0>like we're going to do today. We have

00:03:11.879 --> 00:03:14.440
<v Speaker 0>multiple people in a single session debugging a

00:03:14.440 --> 00:03:15.480
<v Speaker 0>production issue.

00:03:15.879 --> 00:03:18.200
<v Speaker 0>That kind of latency when fixing things is

00:03:18.200 --> 00:03:19.000
<v Speaker 0>invaluable.

00:03:19.879 --> 00:03:21.959
<v Speaker 0>I also wanna thank Equinix Medal. They have

00:03:21.959 --> 00:03:24.680
<v Speaker 0>provided the hardware for every single episode of

00:03:24.680 --> 00:03:27.224
<v Speaker 0>cluster two, and they also gave us a

00:03:27.224 --> 00:03:28.985
<v Speaker 0>code that you can all use to check

00:03:28.985 --> 00:03:30.425
<v Speaker 0>it out. So if you want to check

00:03:30.425 --> 00:03:33.305
<v Speaker 0>out Equinix Metal for 200 USD, which is

00:03:33.305 --> 00:03:35.225
<v Speaker 0>around one hundred hours of compute,

00:03:35.545 --> 00:03:37.145
<v Speaker 0>you can use the code Rawkode.

00:03:37.145 --> 00:03:39.065
<v Speaker 0>Go to Rawkode.live/metal

00:03:39.150 --> 00:03:41.310
<v Speaker 0>to find out more information. Equinix Metal is

00:03:41.310 --> 00:03:43.629
<v Speaker 0>a bare metal cloud. We don't use VMs

00:03:43.629 --> 00:03:45.950
<v Speaker 0>for clustered. We use big chunky machines with

00:03:45.950 --> 00:03:47.870
<v Speaker 0>tons of cores and tons of memory.

00:03:48.110 --> 00:03:49.709
<v Speaker 0>Why? Because it makes it more fun for

00:03:49.709 --> 00:03:52.189
<v Speaker 0>me. So go check out Equinix Metal and

00:03:52.189 --> 00:03:55.035
<v Speaker 0>have some fun with that code. Alrighty.

00:03:55.675 --> 00:03:57.595
<v Speaker 0>Now it's time to introduce our first team.

00:03:57.595 --> 00:03:59.195
<v Speaker 0>We are joined by team

00:03:59.675 --> 00:04:00.395
<v Speaker 0>Aerospike.

00:04:00.475 --> 00:04:02.715
<v Speaker 0>Hello, team Aerospike. How are you all doing?

00:04:04.075 --> 00:04:04.955
<v Speaker 0>Doing good.

00:04:05.195 --> 00:04:05.995
<v Speaker 0>Alright.

00:04:06.155 --> 00:04:08.955
<v Speaker 0>Can we please say hello? We'll start top

00:04:08.955 --> 00:04:10.150
<v Speaker 0>right and

00:04:10.550 --> 00:04:12.870
<v Speaker 0>feel free to introduce yourself, and we'll get

00:04:12.870 --> 00:04:14.870
<v Speaker 0>started just as soon as we've done that.

00:04:18.390 --> 00:04:19.910
<v Speaker 0>Angeli, would you like to go first?

00:04:20.310 --> 00:04:23.670
<v Speaker 1>Yeah. Hi. My name is Angeli. I am

00:04:23.845 --> 00:04:26.565
<v Speaker 1>a new grad DevOps engineer at Aerospike,

00:04:27.845 --> 00:04:30.325
<v Speaker 1>and I'm excited to participate in this,

00:04:31.044 --> 00:04:31.605
<v Speaker 1>event.

00:04:32.725 --> 00:04:34.405
<v Speaker 0>Awesome. Thank you. Jeff?

00:04:35.125 --> 00:04:36.885
<v Speaker 2>Yeah. Jeff McCormick.

00:04:36.885 --> 00:04:38.485
<v Speaker 2>I work for Aerospike

00:04:38.940 --> 00:04:39.820
<v Speaker 2>on their

00:04:39.980 --> 00:04:42.060
<v Speaker 2>database as a service project

00:04:42.140 --> 00:04:43.500
<v Speaker 2>and Kubernetes

00:04:43.500 --> 00:04:44.460
<v Speaker 2>developer.

00:04:46.140 --> 00:04:47.740
<v Speaker 2>Anyway, happy to be here.

00:04:48.220 --> 00:04:49.980
<v Speaker 2>I'm broadcasting

00:04:49.980 --> 00:04:52.700
<v Speaker 2>or coming to you today from San Antonio,

00:04:52.700 --> 00:04:53.580
<v Speaker 2>Texas. So,

00:04:54.164 --> 00:04:55.845
<v Speaker 2>anyway, happy to be here and happy to

00:04:55.845 --> 00:04:56.725
<v Speaker 2>give it a try.

00:04:57.764 --> 00:05:00.405
<v Speaker 0>Awesome. Thank you. And familiar face, Merrick.

00:05:01.284 --> 00:05:03.604
<v Speaker 3>Yeah. My name is Merrick Counts. I absolutely

00:05:03.604 --> 00:05:05.604
<v Speaker 3>love clustered. I learn something

00:05:06.004 --> 00:05:08.490
<v Speaker 3>new every single time I I I I'm

00:05:08.490 --> 00:05:09.050
<v Speaker 3>here.

00:05:09.610 --> 00:05:10.889
<v Speaker 3>I'm super happy that,

00:05:11.690 --> 00:05:13.370
<v Speaker 3>the rest of the gang, we're a new

00:05:13.370 --> 00:05:15.530
<v Speaker 3>team, so we're just kind of, this is

00:05:15.530 --> 00:05:17.370
<v Speaker 3>kind of a team building experience for us.

00:05:17.370 --> 00:05:19.130
<v Speaker 3>I'm super excited that they were willing to

00:05:19.130 --> 00:05:22.010
<v Speaker 3>join to join me and do this. And

00:05:23.235 --> 00:05:25.395
<v Speaker 3>and so yeah. Yeah. Super excited to be

00:05:25.395 --> 00:05:28.034
<v Speaker 3>here. Yeah. I work for Aerospike, obviously, on

00:05:28.034 --> 00:05:29.555
<v Speaker 3>their database as a service,

00:05:29.715 --> 00:05:30.115
<v Speaker 3>and

00:05:31.235 --> 00:05:33.395
<v Speaker 3>I work with Jeff. So yeah. Anyways.

00:05:34.594 --> 00:05:36.370
<v Speaker 0>Awesome. Thank you, sir. Awesome. You all for

00:05:36.370 --> 00:05:37.170
<v Speaker 0>saying hello.

00:05:37.570 --> 00:05:39.970
<v Speaker 0>We're gonna dive straight into this. We've got

00:05:39.970 --> 00:05:42.050
<v Speaker 0>two clusters to get with today, and you're

00:05:42.050 --> 00:05:44.210
<v Speaker 0>unfortunate team one. I don't know if forced

00:05:44.210 --> 00:05:45.810
<v Speaker 0>or unfortunate. I I guess it could go

00:05:45.810 --> 00:05:47.330
<v Speaker 0>either way. It depends on the cluster. Right?

00:05:47.745 --> 00:05:48.305
<v Speaker 0>So

00:05:48.705 --> 00:05:51.105
<v Speaker 0>let's pop up my screen share. We have

00:05:51.105 --> 00:05:53.825
<v Speaker 0>teleport. I have already modified your role, so

00:05:53.825 --> 00:05:55.025
<v Speaker 0>you do have access

00:05:55.265 --> 00:05:57.105
<v Speaker 0>to the Pexi Labs cluster.

00:05:58.225 --> 00:06:00.385
<v Speaker 0>I I can see someone's already ran LS,

00:06:00.385 --> 00:06:01.665
<v Speaker 0>so there's someone else that's already in my

00:06:01.665 --> 00:06:03.185
<v Speaker 0>session. But I have opened a session on

00:06:03.185 --> 00:06:05.320
<v Speaker 0>Pexi Labs control play in one. Now if

00:06:05.320 --> 00:06:06.600
<v Speaker 0>you can just all give me an echo

00:06:06.600 --> 00:06:07.960
<v Speaker 0>or something to let you know that you're

00:06:07.960 --> 00:06:09.960
<v Speaker 0>here, and we'll get things kicked off for

00:06:09.960 --> 00:06:10.600
<v Speaker 0>today.

00:06:11.400 --> 00:06:13.320
<v Speaker 0>Hello, hi. I'm not sure who hi was,

00:06:13.320 --> 00:06:14.040
<v Speaker 0>but hi.

00:06:15.640 --> 00:06:18.200
<v Speaker 0>Alright. We got some random characters. That's always

00:06:18.200 --> 00:06:19.080
<v Speaker 0>a good way to go too.

00:06:23.905 --> 00:06:25.825
<v Speaker 0>Alright. And one more high. Hopefully, not the

00:06:25.825 --> 00:06:27.185
<v Speaker 0>same high. But, however,

00:06:27.585 --> 00:06:29.585
<v Speaker 0>I'm pretty confident that we're all in a

00:06:29.585 --> 00:06:32.225
<v Speaker 0>session. You have forty minutes team Aerospike.

00:06:32.225 --> 00:06:33.745
<v Speaker 0>Best of luck. Take it away.

00:06:39.120 --> 00:06:41.599
<v Speaker 3>So I guess, yeah, we can set that

00:06:41.599 --> 00:06:42.080
<v Speaker 3>up.

00:06:42.560 --> 00:06:43.919
<v Speaker 3>I guess the first thing we do is

00:06:43.919 --> 00:06:45.360
<v Speaker 3>try to connect to the cluster and see

00:06:45.360 --> 00:06:45.919
<v Speaker 3>if

00:06:46.479 --> 00:06:48.565
<v Speaker 3>yeah. Uh-oh. No control plan.

00:06:48.965 --> 00:06:49.845
<v Speaker 0>Alright.

00:06:52.165 --> 00:06:54.725
<v Speaker 3>Maybe we check since this is kubeadm, maybe

00:06:54.725 --> 00:06:55.125
<v Speaker 3>we check

00:06:56.565 --> 00:06:58.085
<v Speaker 3>we can check the manifest, but we could

00:06:58.085 --> 00:06:59.605
<v Speaker 3>also just check to see if the kubelet's

00:06:59.605 --> 00:07:01.925
<v Speaker 3>running, just like system CTL.

00:07:02.180 --> 00:07:04.020
<v Speaker 3>The kubelet should be running

00:07:04.340 --> 00:07:05.220
<v Speaker 3>on this.

00:07:07.540 --> 00:07:09.620
<v Speaker 0>Definitely Kubernetes thing's running.

00:07:09.860 --> 00:07:10.500
<v Speaker 0>And

00:07:11.860 --> 00:07:13.140
<v Speaker 0>what appears to be a kubelet?

00:07:18.665 --> 00:07:20.265
<v Speaker 0>Yeah. I never just say there's a kubelet

00:07:20.265 --> 00:07:22.105
<v Speaker 0>running anymore because I never trust anything in

00:07:22.105 --> 00:07:23.625
<v Speaker 0>these clusters after they've been broken.

00:07:31.080 --> 00:07:33.000
<v Speaker 0>Who are we thinking team member spike?

00:07:34.840 --> 00:07:36.840
<v Speaker 3>I don't know. We can run system CTL

00:07:36.840 --> 00:07:38.120
<v Speaker 3>status on it.

00:07:45.465 --> 00:07:47.784
<v Speaker 3>I have also learned not to trust the

00:07:47.784 --> 00:07:48.824
<v Speaker 3>binaries.

00:07:52.425 --> 00:07:54.104
<v Speaker 0>Yeah. Why would you trust the binary?

00:08:02.850 --> 00:08:05.010
<v Speaker 0>Hello to everyone on the chat. Remember, you

00:08:05.010 --> 00:08:08.450
<v Speaker 0>can win a cluster t shirt at Rawkode.live/win.

00:08:11.845 --> 00:08:14.965
<v Speaker 3>So it says the container runtime network is

00:08:14.965 --> 00:08:15.525
<v Speaker 3>not ready.

00:08:28.190 --> 00:08:30.590
<v Speaker 0>Someone's opened them already. Come on.

00:08:33.070 --> 00:08:34.909
<v Speaker 0>Let me try the session from the web.

00:08:51.755 --> 00:08:54.155
<v Speaker 0>I quite like the the ping yahoo.com.

00:08:54.790 --> 00:08:56.870
<v Speaker 0>I never trust a ping to google.com either.

00:08:56.870 --> 00:08:58.310
<v Speaker 0>I usually go about off field and pick

00:08:58.310 --> 00:08:59.270
<v Speaker 0>something like that.

00:09:00.790 --> 00:09:02.950
<v Speaker 0>Just to challenge the ping command, you know.

00:09:02.950 --> 00:09:03.830
<v Speaker 0>Google is a bit easy.

00:09:07.365 --> 00:09:09.285
<v Speaker 0>So we have a kubelet running, appears to

00:09:09.285 --> 00:09:10.965
<v Speaker 0>be healthy, but no API server.

00:09:30.080 --> 00:09:32.240
<v Speaker 0>We're in the static manifest for the API

00:09:32.240 --> 00:09:34.000
<v Speaker 0>server. I mean, the timestamp on it doesn't

00:09:34.000 --> 00:09:35.520
<v Speaker 0>look like it had been changed, but I'm

00:09:35.520 --> 00:09:37.495
<v Speaker 0>assuming you don't trust the timestamp either.

00:09:47.495 --> 00:09:49.495
<v Speaker 3>Well, I mean, you wouldn't be able to

00:09:49.495 --> 00:09:51.630
<v Speaker 3>because you're not connecting the certs there. You're

00:09:51.630 --> 00:09:53.150
<v Speaker 3>connecting to the SSL.

00:09:53.870 --> 00:09:56.270
<v Speaker 3>You'd have to also curl with the proper

00:09:56.270 --> 00:09:57.230
<v Speaker 3>certs. Right?

00:09:58.350 --> 00:09:59.230
<v Speaker 2>It's true.

00:10:01.630 --> 00:10:02.750
<v Speaker 0>Are there any

00:10:03.235 --> 00:10:09.155
<v Speaker 0>endpoints that are not Let's

00:10:09.155 --> 00:10:09.955
<v Speaker 0>see here.

00:10:13.795 --> 00:10:15.875
<v Speaker 3>It shouldn't be. I I was gonna say,

00:10:15.875 --> 00:10:18.275
<v Speaker 3>can you also just do, like, a port

00:10:17.670 --> 00:10:19.750
<v Speaker 3>scan like, list of the ports and see

00:10:19.750 --> 00:10:21.350
<v Speaker 3>if it's actually on that port?

00:10:24.630 --> 00:10:27.029
<v Speaker 3>Oh, wait. I didn't see its port configuring

00:10:27.029 --> 00:10:27.430
<v Speaker 3>that.

00:10:30.225 --> 00:10:32.385
<v Speaker 3>Is it oh, its secure port is at

00:10:32.385 --> 00:10:33.745
<v Speaker 3>6443.

00:10:34.464 --> 00:10:35.024
<v Speaker 1>Mhmm.

00:10:36.225 --> 00:10:38.305
<v Speaker 1>We have to check one more. Yeah. It

00:10:38.305 --> 00:10:40.625
<v Speaker 1>is also there at 6443.

00:10:43.265 --> 00:10:44.785
<v Speaker 0>Yep. Looks alright to me.

00:10:45.410 --> 00:10:46.290
<v Speaker 1>Mhmm.

00:10:53.330 --> 00:10:55.490
<v Speaker 3>We could check the wait. Wait. And I'm

00:10:55.490 --> 00:10:57.490
<v Speaker 3>sorry if I I missed something that was

00:10:57.490 --> 00:10:58.130
<v Speaker 3>reading chat.

00:10:59.235 --> 00:11:01.315
<v Speaker 3>And thank you, Jeff, for typing because last

00:11:01.315 --> 00:11:04.275
<v Speaker 3>time I typed, I catted a binary file

00:11:04.835 --> 00:11:06.755
<v Speaker 3>and I'm a little scarred still from that.

00:11:06.915 --> 00:11:09.235
<v Speaker 0>Happened two weeks in a row. You'd never

00:11:09.235 --> 00:11:10.835
<v Speaker 0>believe it. It happened two weeks in a

00:11:10.835 --> 00:11:10.995
<v Speaker 0>row.

00:11:12.270 --> 00:11:14.350
<v Speaker 3>I was so happy when somebody else did

00:11:14.350 --> 00:11:16.430
<v Speaker 3>it. So I was just like, ah, phew.

00:11:17.150 --> 00:11:18.030
<v Speaker 3>Same thought.

00:11:19.310 --> 00:11:20.910
<v Speaker 3>Easy. So the other thing we could do

00:11:20.910 --> 00:11:22.910
<v Speaker 3>is check the cubelet because this is a

00:11:22.910 --> 00:11:25.470
<v Speaker 3>static pod. So if it's not running for

00:11:24.825 --> 00:11:27.225
<v Speaker 3>some reason, we could check the container runtime

00:11:27.225 --> 00:11:29.305
<v Speaker 3>that as well as

00:11:30.825 --> 00:11:33.545
<v Speaker 3>the kubelet logs for why it might not

00:11:33.545 --> 00:11:36.105
<v Speaker 3>be running, if it's not running. Or do

00:11:36.105 --> 00:11:37.545
<v Speaker 3>we think that we just don't have access?

00:11:37.660 --> 00:11:39.100
<v Speaker 3>Maybe I'm a little behind.

00:11:39.740 --> 00:11:41.340
<v Speaker 3>I haven't I don't know that we verified

00:11:41.340 --> 00:11:43.020
<v Speaker 3>that it's actually running and listening on that

00:11:43.020 --> 00:11:43.580
<v Speaker 3>port.

00:11:43.900 --> 00:11:46.700
<v Speaker 0>Yeah. You said something interesting earlier. Can we

00:11:46.700 --> 00:11:48.780
<v Speaker 0>port scan or list the ports? I I

00:11:48.780 --> 00:11:50.060
<v Speaker 0>think that's a good thread to pull that.

00:11:56.915 --> 00:11:59.315
<v Speaker 3>Can we grep that on the yeah.

00:12:00.514 --> 00:12:02.514
<v Speaker 3>So I don't think it's actually running

00:12:03.555 --> 00:12:05.315
<v Speaker 3>for reasons.

00:12:06.755 --> 00:12:09.570
<v Speaker 0>I think you're right. Can

00:12:12.050 --> 00:12:13.570
<v Speaker 0>you get logs from the API server?

00:12:31.904 --> 00:12:34.464
<v Speaker 3>So Remember the big log file

00:12:34.625 --> 00:12:35.505
<v Speaker 2>position there.

00:12:37.800 --> 00:12:40.760
<v Speaker 0>So container log Actually, could you check template.

00:12:44.680 --> 00:12:46.600
<v Speaker 0>Was Mark, are you gonna say that, or

00:12:46.600 --> 00:12:47.800
<v Speaker 0>should I continue?

00:12:48.600 --> 00:12:51.195
<v Speaker 3>No. You continue. I I I stopped. Yeah.

00:12:51.195 --> 00:12:53.275
<v Speaker 0>So you can go to varlog containers or

00:12:53.275 --> 00:12:55.195
<v Speaker 0>varlog pods, and that will allow you to

00:12:55.195 --> 00:12:57.355
<v Speaker 0>see the logs for containers that spun up

00:12:57.355 --> 00:12:58.315
<v Speaker 0>temporarily.

00:13:00.875 --> 00:13:02.875
<v Speaker 0>So there is an API server directory or

00:13:02.875 --> 00:13:04.635
<v Speaker 0>something there depending on the colors.

00:13:08.000 --> 00:13:08.880
<v Speaker 0>Yeah. Directory.

00:13:17.395 --> 00:13:18.435
<v Speaker 0>There we go.

00:13:21.875 --> 00:13:23.875
<v Speaker 3>Alright. So they screwed with STD.

00:13:24.435 --> 00:13:25.635
<v Speaker 3>I hate you guys.

00:13:26.355 --> 00:13:27.955
<v Speaker 0>Every time I see STD in a log

00:13:27.955 --> 00:13:30.515
<v Speaker 0>file, I'm ready to go home. So Yeah.

00:13:30.515 --> 00:13:33.170
<v Speaker 3>Yeah. Okay. So there's a couple things here.

00:13:33.170 --> 00:13:34.690
<v Speaker 3>There's actually two certs I was going to

00:13:34.690 --> 00:13:36.370
<v Speaker 3>say that they could screw up that I

00:13:36.370 --> 00:13:37.810
<v Speaker 3>I can think of off the top of

00:13:37.810 --> 00:13:39.970
<v Speaker 3>my head. You have the one that allows

00:13:39.970 --> 00:13:40.449
<v Speaker 3>you

00:13:41.649 --> 00:13:42.370
<v Speaker 3>but

00:13:43.250 --> 00:13:45.225
<v Speaker 3>you have the cert talk to etcd. So

00:13:45.225 --> 00:13:47.625
<v Speaker 3>can we actually just cat the etcd

00:13:48.345 --> 00:13:49.625
<v Speaker 3>comp file?

00:13:49.865 --> 00:13:50.985
<v Speaker 0>Not the binary.

00:13:52.265 --> 00:13:54.665
<v Speaker 3>Not the oh, yes, please. Not the binary.

00:13:55.545 --> 00:13:57.145
<v Speaker 3>If you go into the manifest

00:13:57.980 --> 00:14:00.140
<v Speaker 3>go into the manifest. There should be a

00:14:00.140 --> 00:14:03.100
<v Speaker 3>manifest that describes etcd. Right there.

00:14:07.580 --> 00:14:09.820
<v Speaker 3>Right there. The the

00:14:10.620 --> 00:14:11.820
<v Speaker 3>the etcd. Yaml.

00:14:17.215 --> 00:14:18.815
<v Speaker 3>And here's where it's going to define its

00:14:18.815 --> 00:14:19.695
<v Speaker 3>certs,

00:14:20.015 --> 00:14:21.215
<v Speaker 3>and then we gotta make sure that the

00:14:21.215 --> 00:14:23.375
<v Speaker 3>API server is loading the right certs as

00:14:23.375 --> 00:14:23.535
<v Speaker 3>well.

00:14:25.480 --> 00:14:26.440
<v Speaker 0>Oh gosh.

00:14:26.680 --> 00:14:28.200
<v Speaker 0>Did you check to see if SCC was

00:14:28.200 --> 00:14:29.160
<v Speaker 0>running first?

00:14:30.440 --> 00:14:31.960
<v Speaker 0>Good

00:14:33.000 --> 00:14:33.240
<v Speaker 3>point.

00:14:40.825 --> 00:14:42.185
<v Speaker 0>It does appear to be.

00:14:47.945 --> 00:14:50.585
<v Speaker 3>It it's running as a static pod manifest,

00:14:50.585 --> 00:14:53.145
<v Speaker 3>so it wouldn't be in system CTL,

00:14:53.385 --> 00:14:55.190
<v Speaker 3>I don't think. Okay.

00:14:55.190 --> 00:14:57.590
<v Speaker 0>Well, it seems to be running anyway. So

00:14:59.030 --> 00:15:02.070
<v Speaker 0>Well, if you had the ethic d control,

00:15:02.070 --> 00:15:04.070
<v Speaker 0>I don't know if there's a nicer way

00:15:04.070 --> 00:15:06.950
<v Speaker 0>to say that command. You could run health

00:15:06.950 --> 00:15:09.030
<v Speaker 0>and status commands, but I think you'll need

00:15:09.030 --> 00:15:09.670
<v Speaker 0>to install it.

00:15:16.735 --> 00:15:18.574
<v Speaker 0>It's c d dash client, maybe.

00:15:23.330 --> 00:15:25.170
<v Speaker 0>And then there is a bunch of setup,

00:15:25.170 --> 00:15:26.850
<v Speaker 0>which I never remember.

00:15:27.490 --> 00:15:29.410
<v Speaker 0>So I'm gonna grab a cheat sheet that

00:15:29.410 --> 00:15:30.610
<v Speaker 0>I always use.

00:15:31.650 --> 00:15:33.090
<v Speaker 3>I was gonna say that you have to

00:15:33.090 --> 00:15:35.730
<v Speaker 3>pass it to Yeah. The from the API

00:15:35.730 --> 00:15:37.410
<v Speaker 0>version and a

00:15:38.735 --> 00:15:40.095
<v Speaker 0>bunch of other crap.

00:15:44.175 --> 00:15:45.775
<v Speaker 0>It's not the one I normally use. Where's

00:15:45.775 --> 00:15:46.575
<v Speaker 0>the one I normally use?

00:15:51.500 --> 00:15:53.100
<v Speaker 0>Oh, I'm never gonna figure that out because

00:15:53.100 --> 00:15:54.380
<v Speaker 0>I use Dot go.

00:15:59.019 --> 00:16:00.220
<v Speaker 0>That's the one.

00:16:02.620 --> 00:16:03.980
<v Speaker 0>Do you mind if I paste onto your

00:16:03.980 --> 00:16:04.620
<v Speaker 0>session?

00:16:05.019 --> 00:16:07.715
<v Speaker 0>Please do. Alright. So that exports all the

00:16:07.715 --> 00:16:09.635
<v Speaker 0>stuff that you need, and then you should

00:16:09.635 --> 00:16:11.955
<v Speaker 0>be able to use etcd control get. And

00:16:11.955 --> 00:16:13.795
<v Speaker 0>as you'll see, you now have the permissions

00:16:13.795 --> 00:16:16.195
<v Speaker 0>that I've replicated. So you can maybe

00:16:16.595 --> 00:16:18.755
<v Speaker 0>use some other etcd control commands to work

00:16:18.755 --> 00:16:19.970
<v Speaker 0>out what's going on.

00:16:22.449 --> 00:16:24.930
<v Speaker 3>So it said permission denied

00:16:25.810 --> 00:16:26.930
<v Speaker 3>for the get.

00:16:30.050 --> 00:16:32.290
<v Speaker 3>I I'm wondering if they changed those certs

00:16:32.290 --> 00:16:32.769
<v Speaker 3>on us.

00:16:37.865 --> 00:16:39.625
<v Speaker 0>Try an entity control

00:16:39.785 --> 00:16:41.785
<v Speaker 0>health or status. I can't remember.

00:16:45.785 --> 00:16:48.265
<v Speaker 3>I think it's health, but I don't remember

00:16:48.265 --> 00:16:48.585
<v Speaker 3>either.

00:16:49.930 --> 00:16:52.170
<v Speaker 0>Yeah. Unknown command. That may just be it

00:16:52.170 --> 00:16:52.730
<v Speaker 0>is.

00:16:53.050 --> 00:16:54.570
<v Speaker 0>I don't know. People don't play with that

00:16:54.570 --> 00:16:55.850
<v Speaker 0>too directly. Right?

00:16:56.730 --> 00:16:57.690
<v Speaker 0>That's too hard.

00:17:05.054 --> 00:17:06.494
<v Speaker 3>I'm looking, Jeff.

00:17:06.974 --> 00:17:08.174
<v Speaker 3>Give me a second.

00:17:08.974 --> 00:17:10.815
<v Speaker 0>Try at c z dash dash help.

00:17:20.790 --> 00:17:23.190
<v Speaker 0>Endpoint health and endpoint status might be a

00:17:23.190 --> 00:17:23.910
<v Speaker 0>good one to run.

00:17:35.215 --> 00:17:37.135
<v Speaker 3>Think you have to pass an endpoint for

00:17:37.135 --> 00:17:37.614
<v Speaker 3>that.

00:17:38.174 --> 00:17:40.174
<v Speaker 0>Nope. Both returned good.

00:17:41.054 --> 00:17:42.815
<v Speaker 0>But I think their entity customer might be

00:17:42.815 --> 00:17:43.455
<v Speaker 0>alright.

00:17:43.775 --> 00:17:45.294
<v Speaker 0>What else could the permissions be?

00:17:46.970 --> 00:17:49.370
<v Speaker 0>Problem. So, actually, we could look at the

00:17:49.370 --> 00:17:51.850
<v Speaker 3>API server config. Does it use the same

00:17:51.850 --> 00:17:53.770
<v Speaker 3>certs as we're using here? So is it

00:17:53.770 --> 00:17:56.490
<v Speaker 3>use did they just update the the certs

00:17:56.490 --> 00:17:59.450
<v Speaker 3>that it's trying to use to communicate with

00:17:59.450 --> 00:18:01.775
<v Speaker 3>it to bad certs or screw with them?

00:18:03.935 --> 00:18:04.735
<v Speaker 0>Potentially.

00:18:07.375 --> 00:18:09.135
<v Speaker 0>You could always go into the PKI directory

00:18:09.135 --> 00:18:11.855
<v Speaker 0>and check some file timestamps with a superficial

00:18:12.809 --> 00:18:13.609
<v Speaker 0>check.

00:18:13.690 --> 00:18:14.729
<v Speaker 0>But

00:18:14.970 --> 00:18:17.450
<v Speaker 0>we do have someone from Pixielabs, Philip, in

00:18:17.450 --> 00:18:20.249
<v Speaker 0>the chat saying not a search problem.

00:18:22.890 --> 00:18:23.609
<v Speaker 3>Oh.

00:18:24.409 --> 00:18:24.730
<v Speaker 3>Oh.

00:18:28.855 --> 00:18:30.934
<v Speaker 0>But where else do we have permissions?

00:18:31.975 --> 00:18:33.094
<v Speaker 0>File system?

00:18:35.575 --> 00:18:37.975
<v Speaker 3>I mean, is it a permissions problem?

00:18:37.975 --> 00:18:40.534
<v Speaker 3>Or oh, actually, they could have changed where

00:18:40.534 --> 00:18:42.215
<v Speaker 3>it's

00:18:42.010 --> 00:18:43.930
<v Speaker 3>it's endpoint that it's trying to hit to

00:18:43.930 --> 00:18:45.130
<v Speaker 3>be the wrong endpoint.

00:18:45.850 --> 00:18:47.450
<v Speaker 3>Did we validate that it's actually going to

00:18:47.450 --> 00:18:48.490
<v Speaker 3>the right endpoint?

00:18:50.090 --> 00:18:52.970
<v Speaker 3>Oh, does etcd have our back? I don't.

00:18:54.375 --> 00:18:57.015
<v Speaker 0>Kevin also confirming that permission denied comes from

00:18:57.015 --> 00:18:57.895
<v Speaker 0>etcd,

00:18:58.055 --> 00:18:59.975
<v Speaker 0>and it wouldn't be a CEREC issue. So

00:18:59.975 --> 00:19:01.575
<v Speaker 0>definitely not CEREC.

00:19:04.295 --> 00:19:06.775
<v Speaker 1>Yeah. Oh, yeah. Lots of confirmations. Stop looking

00:19:06.775 --> 00:19:07.175
<v Speaker 0>at this, sir.

00:19:23.385 --> 00:19:26.264
<v Speaker 3>Alright. So it's not certs, permission denied

00:19:27.304 --> 00:19:28.984
<v Speaker 3>coming from etcd.

00:19:29.865 --> 00:19:31.544
<v Speaker 3>It could be the user,

00:19:31.784 --> 00:19:33.465
<v Speaker 3>like so I guess our back, our user

00:19:33.465 --> 00:19:34.985
<v Speaker 3>doesn't have it. I don't know how to

00:19:34.985 --> 00:19:36.025
<v Speaker 3>configure

00:19:37.919 --> 00:19:40.879
<v Speaker 3>RBAC. Let me look at RBAC or etcd.

00:19:50.795 --> 00:19:52.955
<v Speaker 3>So And from the Hang on the Pixilabs

00:19:53.434 --> 00:19:53.835
<v Speaker 1>t l

00:19:56.475 --> 00:19:57.514
<v Speaker 3>what'd you say?

00:19:57.995 --> 00:19:59.755
<v Speaker 0>The Hang from the Pixilabs team is saying

00:19:59.755 --> 00:20:01.915
<v Speaker 0>a reminder that the entity control get also

00:20:01.915 --> 00:20:02.715
<v Speaker 0>failed.

00:20:04.555 --> 00:20:05.595
<v Speaker 0>That that's important.

00:20:07.809 --> 00:20:08.529
<v Speaker 1>K.

00:20:09.490 --> 00:20:11.009
<v Speaker 1>Get also failed.

00:20:11.410 --> 00:20:13.890
<v Speaker 3>Could you also do the etcctl

00:20:13.890 --> 00:20:15.090
<v Speaker 3>user list?

00:20:15.169 --> 00:20:17.010
<v Speaker 3>I'm not I'm not an etcd person,

00:20:19.165 --> 00:20:19.485
<v Speaker 3>But

00:20:23.645 --> 00:20:26.365
<v Speaker 0>Oh, it's always just jury commands. I

00:20:28.525 --> 00:20:30.125
<v Speaker 0>thought you went on to one earlier. Oh,

00:20:30.125 --> 00:20:30.605
<v Speaker 0>well.

00:20:49.235 --> 00:20:52.275
<v Speaker 3>Yeah. Did you try user list? My session

00:20:52.275 --> 00:20:53.875
<v Speaker 3>broke. I'm reconnecting.

00:20:56.115 --> 00:20:57.075
<v Speaker 3>I'll be right back.

00:21:03.279 --> 00:21:06.080
<v Speaker 0>There are hints in that route directory. Might

00:21:06.080 --> 00:21:07.360
<v Speaker 0>be a good time to check the first

00:21:07.360 --> 00:21:08.159
<v Speaker 0>one out.

00:21:09.120 --> 00:21:10.639
<v Speaker 3>Yep. I agree.

00:21:10.960 --> 00:21:13.600
<v Speaker 0>And we got some confirmation from Philip and

00:21:13.600 --> 00:21:15.760
<v Speaker 0>Vahang. So firstly, the entity image has not

00:21:15.760 --> 00:21:16.635
<v Speaker 0>been changed.

00:21:16.795 --> 00:21:17.674
<v Speaker 0>And secondly,

00:21:18.395 --> 00:21:20.555
<v Speaker 0>I promise you, this is less than the

00:21:20.555 --> 00:21:21.674
<v Speaker 0>store that it's seen.

00:21:22.715 --> 00:21:24.955
<v Speaker 0>You modified STD. That's as sinister as it

00:21:24.955 --> 00:21:26.395
<v Speaker 0>gets on clustered. Come on.

00:21:29.130 --> 00:21:31.290
<v Speaker 3>Alright. So they're saying root to root. That

00:21:31.290 --> 00:21:33.530
<v Speaker 3>looks like Linux file permissions.

00:21:34.250 --> 00:21:34.970
<v Speaker 0>Yeah.

00:21:36.010 --> 00:21:38.490
<v Speaker 0>That's where my my brain was going to.

00:21:38.490 --> 00:21:40.730
<v Speaker 0>So where's the etcd file database live?

00:21:43.145 --> 00:21:44.105
<v Speaker 3>Oh,

00:21:44.425 --> 00:21:47.385
<v Speaker 3>is it etcd that's having a problem loading

00:21:47.385 --> 00:21:48.345
<v Speaker 3>its file?

00:21:48.665 --> 00:21:50.665
<v Speaker 3>Like, it doesn't have permission to open the

00:21:50.665 --> 00:21:51.784
<v Speaker 3>database file?

00:21:51.945 --> 00:21:55.385
<v Speaker 3>It's just something data. Yeah. That's helpful. Barlib

00:21:55.385 --> 00:21:56.025
<v Speaker 0>etcd.

00:22:06.120 --> 00:22:08.680
<v Speaker 3>Jeff, could we look at varlib etcd?

00:22:10.305 --> 00:22:11.105
<v Speaker 3>Yeah.

00:22:11.345 --> 00:22:13.505
<v Speaker 3>And look at the file permissions on the

00:22:13.505 --> 00:22:14.225
<v Speaker 3>file?

00:22:17.585 --> 00:22:19.585
<v Speaker 2>I'm sorry. What's the path again?

00:22:21.265 --> 00:22:22.945
<v Speaker 3>Varlib etcd,

00:22:22.945 --> 00:22:24.625
<v Speaker 1>I think, what the yeah.

00:22:26.390 --> 00:22:27.030
<v Speaker 1>Member.

00:22:44.615 --> 00:22:47.174
<v Speaker 2>Well, everything's owned by Roo, didn't it? So

00:22:47.335 --> 00:22:47.974
<v Speaker 0>Yep.

00:22:48.774 --> 00:22:50.695
<v Speaker 0>They have said that the failed permission is

00:22:50.695 --> 00:22:51.495
<v Speaker 0>a red herring,

00:22:52.520 --> 00:22:54.600
<v Speaker 0>And we've been encouraged to run the entity

00:22:54.600 --> 00:22:58.120
<v Speaker 0>control dash h once again. But no disk

00:22:58.120 --> 00:23:00.120
<v Speaker 0>limits failed permissions, but we do need to

00:23:00.120 --> 00:23:01.799
<v Speaker 0>be curious about the root root.

00:23:02.440 --> 00:23:04.039
<v Speaker 0>Well, let's take a look at dash help

00:23:04.039 --> 00:23:04.360
<v Speaker 0>here.

00:23:10.205 --> 00:23:10.924
<v Speaker 0>Oh,

00:23:11.245 --> 00:23:12.845
<v Speaker 0>I think I've worked it out.

00:23:13.485 --> 00:23:14.524
<v Speaker 0>There's a

00:23:15.005 --> 00:23:17.005
<v Speaker 0>a user flag that can take a password

00:23:17.005 --> 00:23:17.725
<v Speaker 0>there.

00:23:18.045 --> 00:23:19.485
<v Speaker 0>You wanna try the get again?

00:23:20.040 --> 00:23:21.240
<v Speaker 0>Passing on the user?

00:23:39.164 --> 00:23:40.124
<v Speaker 0>Try rip.

00:23:40.924 --> 00:23:41.565
<v Speaker 0>Yeah.

00:23:42.125 --> 00:23:42.764
<v Speaker 0>Hey.

00:23:44.684 --> 00:23:47.245
<v Speaker 0>They've turned on authentication or at least

00:23:47.640 --> 00:23:48.440
<v Speaker 0>non

00:23:48.760 --> 00:23:50.440
<v Speaker 0>x five zero nine authentication.

00:23:51.480 --> 00:23:52.840
<v Speaker 1>Can we just turn that off?

00:23:55.720 --> 00:23:57.560
<v Speaker 3>What's the easiest way here? Like so I

00:23:57.560 --> 00:23:59.480
<v Speaker 3>honestly don't know. I I've never done this

00:23:59.480 --> 00:23:59.960
<v Speaker 3>with it.

00:24:02.235 --> 00:24:03.595
<v Speaker 0>Let's go take a look at the entity

00:24:03.595 --> 00:24:04.475
<v Speaker 0>manifest.

00:24:04.475 --> 00:24:06.075
<v Speaker 0>I'm not entirely sure.

00:24:09.755 --> 00:24:11.115
<v Speaker 0>Let's see let's see if we can find

00:24:11.115 --> 00:24:12.475
<v Speaker 0>out if it's in here. Oh, let me

00:24:12.475 --> 00:24:13.115
<v Speaker 0>jump back over.

00:24:23.220 --> 00:24:25.700
<v Speaker 3>Oh, wait. Wait. That's cert auth. I don't

00:24:25.700 --> 00:24:26.260
<v Speaker 3>think that's

00:24:28.179 --> 00:24:29.780
<v Speaker 0>Yeah. We've been told to look at entity

00:24:29.780 --> 00:24:31.140
<v Speaker 0>control dash h again.

00:24:32.965 --> 00:24:35.445
<v Speaker 0>Or maybe that was maybe we're celebrating the

00:24:35.445 --> 00:24:36.884
<v Speaker 0>fact that we did look at the control

00:24:36.884 --> 00:24:37.604
<v Speaker 0>dash h.

00:24:42.965 --> 00:24:44.244
<v Speaker 0>Not in the manifest.

00:24:44.485 --> 00:24:45.204
<v Speaker 0>Okay.

00:24:46.085 --> 00:24:47.044
<v Speaker 0>Not in the manifest.

00:24:49.870 --> 00:24:51.229
<v Speaker 3>Alright. So

00:24:55.630 --> 00:24:56.269
<v Speaker 0>Would be

00:24:57.870 --> 00:24:58.509
<v Speaker 0>Let's see.

00:25:02.164 --> 00:25:04.485
<v Speaker 2>Member add route maybe or

00:25:13.205 --> 00:25:15.284
<v Speaker 3>So there's a change to the password. Do

00:25:15.284 --> 00:25:16.085
<v Speaker 0>an off disable.

00:25:17.950 --> 00:25:20.029
<v Speaker 2>Yeah. Off disable is good.

00:25:21.710 --> 00:25:23.389
<v Speaker 0>Well, it doesn't turn it off.

00:25:24.030 --> 00:25:25.870
<v Speaker 0>Oh, you'll need your dad. Yeah. You got

00:25:25.870 --> 00:25:26.110
<v Speaker 0>it.

00:25:34.475 --> 00:25:36.235
<v Speaker 0>So now we're looking to see if we

00:25:36.235 --> 00:25:38.394
<v Speaker 0>have an API server coming online.

00:25:38.395 --> 00:25:40.955
<v Speaker 0>So maybe worth checking or tailing those logs

00:25:40.955 --> 00:25:41.595
<v Speaker 0>again,

00:25:41.995 --> 00:25:42.795
<v Speaker 0>see what happens.

00:25:46.420 --> 00:25:47.380
<v Speaker 0>And there we go.

00:25:59.294 --> 00:26:02.015
<v Speaker 3>Alright. So the nodes aren't ready. So this

00:26:02.015 --> 00:26:04.094
<v Speaker 3>maybe says something with the cubelet.

00:26:08.255 --> 00:26:10.174
<v Speaker 3>We could give them just a second, but

00:26:10.174 --> 00:26:12.095
<v Speaker 3>I'm guessing if they mess with that CD,

00:26:12.095 --> 00:26:13.500
<v Speaker 3>it's they're not coming back.

00:26:18.540 --> 00:26:18.940
<v Speaker 0>Yep.

00:26:29.455 --> 00:26:31.934
<v Speaker 3>I guess maybe we check the

00:26:33.135 --> 00:26:36.335
<v Speaker 3>can you actually just do, like, a describe

00:26:36.335 --> 00:26:37.134
<v Speaker 3>on

00:26:39.295 --> 00:26:40.015
<v Speaker 3>the node?

00:26:45.139 --> 00:26:46.259
<v Speaker 3>Overcommitted.

00:26:47.700 --> 00:26:49.220
<v Speaker 3>No. No. It's not never mind. It's not

00:26:49.220 --> 00:26:50.179
<v Speaker 3>overcommitted.

00:26:51.220 --> 00:26:52.019
<v Speaker 3>Sorry.

00:26:53.059 --> 00:26:54.899
<v Speaker 0>We've got twenty minutes left.

00:26:55.460 --> 00:26:57.460
<v Speaker 0>Wait a minute. Loads of things.

00:27:02.075 --> 00:27:04.315
<v Speaker 1>Like, are the notes taking too many resources?

00:27:13.150 --> 00:27:14.590
<v Speaker 2>Got plenty of memory.

00:27:15.310 --> 00:27:16.029
<v Speaker 0>Yeah.

00:27:17.150 --> 00:27:19.950
<v Speaker 0>Yeah. These are fairly chunky bare metal machines.

00:27:19.950 --> 00:27:20.510
<v Speaker 0>So

00:27:23.630 --> 00:27:24.030
<v Speaker 0>Yep.

00:27:25.985 --> 00:27:27.905
<v Speaker 0>So what else causes a node to report

00:27:27.905 --> 00:27:29.505
<v Speaker 0>its status as not ready?

00:27:30.625 --> 00:27:31.425
<v Speaker 1>The labels.

00:27:43.330 --> 00:27:46.049
<v Speaker 3>So I I apologize. One question. I my

00:27:46.049 --> 00:27:49.970
<v Speaker 3>terminal keeps not tracking the like, tailing his

00:27:49.970 --> 00:27:51.009
<v Speaker 3>things.

00:27:51.250 --> 00:27:52.770
<v Speaker 3>Am I doing something to screw that up?

00:27:52.985 --> 00:27:54.585
<v Speaker 3>Or do I just have to Resize it

00:27:54.585 --> 00:27:56.585
<v Speaker 0>like a pixel. It it seems to kick

00:27:56.585 --> 00:27:58.585
<v Speaker 0>it back into shape as as a external

00:27:58.585 --> 00:27:59.544
<v Speaker 0>JS bug.

00:27:59.705 --> 00:28:01.145
<v Speaker 0>So, unfortunately, we do just have to work

00:28:01.145 --> 00:28:02.345
<v Speaker 0>around it. So if you do think that

00:28:02.345 --> 00:28:04.505
<v Speaker 0>it's not tracking properly, a small resize of

00:28:04.505 --> 00:28:06.185
<v Speaker 0>your window will give it a nudge.

00:28:07.679 --> 00:28:09.679
<v Speaker 0>Just don't resize it too much because then

00:28:09.679 --> 00:28:11.120
<v Speaker 0>it throws off for everybody.

00:28:13.840 --> 00:28:16.000
<v Speaker 0>Terminals are hard. I'm on I three, so

00:28:16.000 --> 00:28:18.240
<v Speaker 3>the resize was taking up to changing the

00:28:18.240 --> 00:28:18.880
<v Speaker 3>half of the screen.

00:28:20.025 --> 00:28:20.665
<v Speaker 0>Oh,

00:28:21.065 --> 00:28:22.585
<v Speaker 0>well, we'll see how we get on.

00:28:23.305 --> 00:28:25.625
<v Speaker 0>Alright. Let's let's work out this not ready.

00:28:27.865 --> 00:28:28.665
<v Speaker 3>Alright.

00:28:30.025 --> 00:28:32.505
<v Speaker 0>Now those tents can just be removed manually.

00:28:32.505 --> 00:28:33.625
<v Speaker 0>You can always try that and see if

00:28:33.625 --> 00:28:34.425
<v Speaker 0>they come back. Right?

00:28:36.360 --> 00:28:38.440
<v Speaker 3>I mean, did they cordon them? I could

00:28:38.440 --> 00:28:39.720
<v Speaker 3>have just cordoned them.

00:28:40.600 --> 00:28:42.280
<v Speaker 0>I I I don't know. You'd have to

00:28:42.280 --> 00:28:43.000
<v Speaker 0>do a

00:28:43.880 --> 00:28:45.720
<v Speaker 0>describe or an edit on a note.

00:28:47.640 --> 00:28:49.400
<v Speaker 0>But Philip in the chat says they weren't

00:28:49.400 --> 00:28:51.375
<v Speaker 0>expecting not ready status. So

00:28:52.175 --> 00:28:52.895
<v Speaker 1>Uh-oh.

00:28:54.575 --> 00:28:56.975
<v Speaker 1>So we may have some collateral damage. This

00:28:56.975 --> 00:28:57.615
<v Speaker 0>is what you get.

00:29:07.049 --> 00:29:07.929
<v Speaker 3>Well

00:29:12.730 --> 00:29:14.570
<v Speaker 0>Yeah. That's the way it goes sometimes.

00:29:15.049 --> 00:29:16.890
<v Speaker 0>Yeah. Let's try and edit nodes. You just

00:29:16.890 --> 00:29:18.735
<v Speaker 0>remove it. If it comes back, we can

00:29:18.735 --> 00:29:19.775
<v Speaker 0>look at the events and we can work

00:29:19.775 --> 00:29:20.495
<v Speaker 0>our way.

00:29:21.055 --> 00:29:22.975
<v Speaker 0>But edit nodes, pick

00:29:24.335 --> 00:29:26.655
<v Speaker 0>hexylabs dash control plane dash one.

00:29:31.760 --> 00:29:33.760
<v Speaker 0>Oh, well. Worker one came back at least.

00:29:33.760 --> 00:29:33.919
<v Speaker 0>So

00:29:36.960 --> 00:29:39.840
<v Speaker 3>Is this just etcd being slow with,

00:29:46.515 --> 00:29:48.195
<v Speaker 0>Yeah. It's back. There we go.

00:29:48.915 --> 00:29:49.635
<v Speaker 1>Yes.

00:29:50.675 --> 00:29:52.835
<v Speaker 0>I'm about to debug something. It wasn't broken.

00:29:52.835 --> 00:29:54.434
<v Speaker 0>Always fun with Kubernetes.

00:30:00.915 --> 00:30:01.955
<v Speaker 0>Well, it looks good.

00:30:02.500 --> 00:30:03.379
<v Speaker 0>Could

00:30:04.980 --> 00:30:05.619
<v Speaker 3>you

00:30:06.500 --> 00:30:08.580
<v Speaker 3>could you check the stateful set? There should

00:30:08.580 --> 00:30:10.659
<v Speaker 3>be a database in the stateful set.

00:30:13.059 --> 00:30:13.780
<v Speaker 0>Looks good.

00:30:15.895 --> 00:30:17.735
<v Speaker 0>You're gonna have to run get pods now.

00:30:17.735 --> 00:30:19.095
<v Speaker 0>It put us all out of misery.

00:30:20.935 --> 00:30:21.655
<v Speaker 3>Yeah.

00:30:25.735 --> 00:30:27.095
<v Speaker 2>So we wanna do this.

00:30:29.750 --> 00:30:30.629
<v Speaker 0>Let's see.

00:30:34.870 --> 00:30:36.309
<v Speaker 0>Clustered.

00:30:36.790 --> 00:30:38.870
<v Speaker 0>Puzzled people always call this your cluster d.

00:30:38.870 --> 00:30:39.830
<v Speaker 0>Maybe I should rename it.

00:30:44.015 --> 00:30:46.255
<v Speaker 3>Can you also do, like, a dash capital

00:30:46.255 --> 00:30:49.135
<v Speaker 3>a and see if they, like, did something

00:30:49.135 --> 00:30:50.975
<v Speaker 3>sneaky in a different namespace?

00:30:51.375 --> 00:30:52.014
<v Speaker 3>Like,

00:30:52.895 --> 00:30:55.055
<v Speaker 3>just it don't do git deployment. Do, like,

00:30:55.055 --> 00:30:56.575
<v Speaker 3>git pods and then do cache.

00:30:57.070 --> 00:30:59.870
<v Speaker 3>Or you could you actually do git all

00:31:00.350 --> 00:31:02.670
<v Speaker 3>dash capital a. Yeah. I think rubber cable

00:31:02.670 --> 00:31:04.350
<v Speaker 0>is right here. Like, you haven't checked the

00:31:04.350 --> 00:31:06.590
<v Speaker 0>web page or the service. You don't even

00:31:06.590 --> 00:31:08.110
<v Speaker 0>know if it's working or not working.

00:31:08.750 --> 00:31:09.870
<v Speaker 0>It could be fine. Right?

00:31:11.345 --> 00:31:13.425
<v Speaker 3>How do we check the web page again?

00:31:13.425 --> 00:31:15.345
<v Speaker 0>I I can try curl on local host

00:31:15.345 --> 00:31:16.465
<v Speaker 0>30,000.

00:31:22.625 --> 00:31:23.585
<v Speaker 0>V one is working.

00:31:25.500 --> 00:31:27.100
<v Speaker 3>So now we try to update to v

00:31:27.100 --> 00:31:27.740
<v Speaker 3>two.

00:31:29.660 --> 00:31:31.580
<v Speaker 3>So we just go ahead and edit the

00:31:31.580 --> 00:31:33.340
<v Speaker 3>deployment and go to v two?

00:31:35.100 --> 00:31:36.060
<v Speaker 0>That's the mission.

00:32:04.290 --> 00:32:04.770
<v Speaker 0>Uh-oh.

00:32:05.985 --> 00:32:09.424
<v Speaker 1>It So

00:32:14.705 --> 00:32:16.225
<v Speaker 3>image never pooled.

00:32:19.745 --> 00:32:21.265
<v Speaker 3>This is either networking

00:32:24.040 --> 00:32:25.640
<v Speaker 0>You would have to get pod dash o

00:32:25.640 --> 00:32:27.480
<v Speaker 0>yamo. Yeah. There we go.

00:32:35.684 --> 00:32:38.244
<v Speaker 2>It's not installed. It's container d, isn't it?

00:32:42.085 --> 00:32:44.085
<v Speaker 3>So they have an image pool policy of

00:32:44.085 --> 00:32:44.804
<v Speaker 3>never.

00:32:45.605 --> 00:32:47.365
<v Speaker 0>And the image is still set as v

00:32:47.365 --> 00:32:49.044
<v Speaker 0>one, which looks interesting.

00:32:50.245 --> 00:32:50.644
<v Speaker 3>Yeah.

00:32:53.980 --> 00:32:54.940
<v Speaker 3>Wait. Wait. Oh,

00:32:56.300 --> 00:32:58.700
<v Speaker 3>you you grep the one that's running.

00:33:00.060 --> 00:33:01.580
<v Speaker 3>Grep the or

00:33:01.900 --> 00:33:03.820
<v Speaker 3>do the get pod on the one that's

00:33:03.820 --> 00:33:04.460
<v Speaker 3>not running.

00:33:09.545 --> 00:33:10.985
<v Speaker 3>It's

00:33:10.985 --> 00:33:12.825
<v Speaker 3>the the six q yeah.

00:33:16.425 --> 00:33:17.305
<v Speaker 2>Image

00:33:17.305 --> 00:33:18.185
<v Speaker 2>never pull.

00:33:21.010 --> 00:33:22.929
<v Speaker 3>Right. I think that we need to

00:33:24.770 --> 00:33:26.370
<v Speaker 3>change the image pull policy.

00:33:52.590 --> 00:33:54.510
<v Speaker 3>It's like they did something else and expected

00:33:54.510 --> 00:33:56.749
<v Speaker 3>us to look at that image pool policy.

00:33:59.230 --> 00:34:01.309
<v Speaker 0>Couldn't have been that simple. And now it

00:34:01.309 --> 00:34:02.830
<v Speaker 0>can't pull the image.

00:34:03.950 --> 00:34:05.070
<v Speaker 0>Image pool backup.

00:34:05.885 --> 00:34:07.325
<v Speaker 0>URL looks okay.

00:34:09.724 --> 00:34:12.125
<v Speaker 0>What next? So that would be that

00:34:13.484 --> 00:34:15.244
<v Speaker 3>could be, like, the container runtime, which would

00:34:15.244 --> 00:34:16.525
<v Speaker 3>be going to pull this. Right?

00:34:21.280 --> 00:34:22.000
<v Speaker 3>Yep.

00:34:22.319 --> 00:34:25.119
<v Speaker 3>Yep. Container d. Jeff, maybe we check

00:34:25.599 --> 00:34:27.040
<v Speaker 3>oh, what were you saying, David?

00:34:27.599 --> 00:34:29.760
<v Speaker 0>Yes. These are container d clusters. Container d

00:34:29.760 --> 00:34:32.079
<v Speaker 0>is responsible for for pulling the image.

00:34:33.144 --> 00:34:34.744
<v Speaker 3>I was gonna say maybe we could check

00:34:34.744 --> 00:34:37.625
<v Speaker 3>the logs on container d on the worker

00:34:37.625 --> 00:34:39.385
<v Speaker 3>node since this would have to be running

00:34:39.385 --> 00:34:40.585
<v Speaker 3>on the worker node.

00:34:42.264 --> 00:34:43.545
<v Speaker 0>Would you like me to open a session

00:34:43.545 --> 00:34:44.344
<v Speaker 0>on the worker node?

00:34:46.139 --> 00:34:46.860
<v Speaker 3>Yeah.

00:34:57.579 --> 00:34:58.300
<v Speaker 0>Alright.

00:34:58.540 --> 00:34:59.339
<v Speaker 0>Opening that.

00:35:04.765 --> 00:35:06.125
<v Speaker 0>All yours. Take it away.

00:35:15.740 --> 00:35:17.340
<v Speaker 0>You have twelve minutes.

00:35:18.780 --> 00:35:19.420
<v Speaker 0>No pressure.

00:35:33.585 --> 00:35:35.665
<v Speaker 0>So does container reach up with any CLI

00:35:35.665 --> 00:35:37.105
<v Speaker 0>tools that allow you to pull images?

00:35:39.250 --> 00:35:42.130
<v Speaker 2>I was wondering about that image is definitely

00:35:42.130 --> 00:35:43.970
<v Speaker 2>out there. I can see it.

00:35:44.450 --> 00:35:45.170
<v Speaker 2>You know?

00:35:45.569 --> 00:35:48.130
<v Speaker 0>So we have access to cry control,

00:35:48.130 --> 00:35:50.130
<v Speaker 0>c r I c t l, and to

00:35:50.130 --> 00:35:51.089
<v Speaker 0>CTR.

00:35:54.855 --> 00:35:57.015
<v Speaker 0>Those are two command line options for working

00:35:57.015 --> 00:35:58.055
<v Speaker 0>with continuity.

00:36:02.215 --> 00:36:04.535
<v Speaker 3>Anybody ever wanting to know, nerd c t

00:36:04.535 --> 00:36:07.210
<v Speaker 3>l is a fantastic one that is like

00:36:07.210 --> 00:36:10.490
<v Speaker 3>a docker compatible API for container d.

00:36:10.970 --> 00:36:12.089
<v Speaker 0>Install it.

00:36:13.450 --> 00:36:14.170
<v Speaker 0>Yeah.

00:36:14.730 --> 00:36:16.490
<v Speaker 0>Oh, we got an error method.

00:36:17.849 --> 00:36:18.730
<v Speaker 0>That's interesting.

00:36:24.415 --> 00:36:26.895
<v Speaker 3>Google.code.com.

00:36:30.175 --> 00:36:30.575
<v Speaker 3>So

00:36:32.579 --> 00:36:34.020
<v Speaker 3>it looks like

00:36:34.420 --> 00:36:36.259
<v Speaker 3>it looks like they made it so that

00:36:36.259 --> 00:36:39.140
<v Speaker 3>they gave a certificate that's valid for things

00:36:39.140 --> 00:36:40.660
<v Speaker 3>that aren't GCR.

00:36:41.380 --> 00:36:44.259
<v Speaker 0>So my image comes from GitHub container registry,

00:36:44.259 --> 00:36:46.819
<v Speaker 0>and you're getting certificates for Google

00:36:46.525 --> 00:36:49.245
<v Speaker 0>Container Registry, gcr.io.

00:36:49.325 --> 00:36:50.925
<v Speaker 0>But how how can they

00:36:51.725 --> 00:36:53.885
<v Speaker 0>how can they modify that resolution?

00:36:58.685 --> 00:36:59.005
<v Speaker 3>DNS.

00:37:16.875 --> 00:37:18.395
<v Speaker 3>Wait. Can we look at the hints? Are

00:37:18.395 --> 00:37:20.715
<v Speaker 3>there hints on this file this one?

00:37:20.955 --> 00:37:22.955
<v Speaker 0>Oh, you haven't I mean, you maybe look

00:37:22.955 --> 00:37:25.035
<v Speaker 0>at the host files first, so the resolve

00:37:25.035 --> 00:37:25.435
<v Speaker 0>con.

00:37:33.010 --> 00:37:33.730
<v Speaker 3>Oh.

00:37:35.170 --> 00:37:36.130
<v Speaker 3>Alright.

00:37:40.370 --> 00:37:42.775
<v Speaker 3>I don't know what dot 82 is, but

00:37:42.775 --> 00:37:44.055
<v Speaker 3>I'm guessing that's wrong.

00:37:45.975 --> 00:37:47.335
<v Speaker 3>I can go look.

00:38:01.170 --> 00:38:02.450
<v Speaker 2>Yeah. That worked,

00:38:03.010 --> 00:38:05.330
<v Speaker 1>didn't it? So was the I missed that

00:38:05.330 --> 00:38:07.090
<v Speaker 0>because I was joining the session. So did

00:38:07.090 --> 00:38:08.770
<v Speaker 0>they add something to the host file?

00:38:09.570 --> 00:38:12.835
<v Speaker 2>Yeah. They overwrote Yeah. G c r. So

00:38:12.835 --> 00:38:14.195
<v Speaker 2>I commented it out,

00:38:14.515 --> 00:38:15.795
<v Speaker 2>and then that ran,

00:38:16.435 --> 00:38:17.395
<v Speaker 2>which means

00:38:17.475 --> 00:38:18.995
<v Speaker 2>back on the other,

00:38:20.195 --> 00:38:22.435
<v Speaker 2>now we should be able to, get it

00:38:22.435 --> 00:38:24.195
<v Speaker 2>to pull that image maybe.

00:38:24.675 --> 00:38:25.395
<v Speaker 0>There we go.

00:38:28.170 --> 00:38:29.130
<v Speaker 0>Alright. What next?

00:38:41.455 --> 00:38:42.815
<v Speaker 3>Actually, Jeff,

00:38:43.295 --> 00:38:44.575
<v Speaker 3>could you just

00:38:47.935 --> 00:38:49.215
<v Speaker 3>they did it on both.

00:38:49.535 --> 00:38:50.095
<v Speaker 3>Thank you.

00:39:00.920 --> 00:39:02.680
<v Speaker 0>So what happens when you run get pods

00:39:02.680 --> 00:39:03.080
<v Speaker 0>now?

00:39:07.815 --> 00:39:10.455
<v Speaker 0>Well, maybe try deleting our back off pod.

00:39:10.455 --> 00:39:11.095
<v Speaker 1>Okay.

00:39:13.655 --> 00:39:15.015
<v Speaker 0>Yeah. Rub our cable in the chat with

00:39:15.015 --> 00:39:16.375
<v Speaker 0>the same suggestion there.

00:39:16.615 --> 00:39:17.255
<v Speaker 0>Good call.

00:39:22.320 --> 00:39:23.520
<v Speaker 0>Hey. It's working.

00:39:24.160 --> 00:39:26.160
<v Speaker 0>Or it's maybe maybe it may be working.

00:39:26.160 --> 00:39:26.400
<v Speaker 0>Alright?

00:39:38.885 --> 00:39:40.565
<v Speaker 0>Alright. So they got you both a dual

00:39:40.565 --> 00:39:42.645
<v Speaker 0>policy and a DNS check.

00:39:42.645 --> 00:39:44.325
<v Speaker 0>And that is the v two image.

00:39:44.405 --> 00:39:46.325
<v Speaker 0>I can pull that up here too

00:39:46.485 --> 00:39:47.525
<v Speaker 0>if you wanna confirm.

00:39:49.550 --> 00:39:50.270
<v Speaker 1>Yep.

00:39:52.030 --> 00:39:53.790
<v Speaker 2>That's interesting. Okay.

00:39:59.230 --> 00:40:00.030
<v Speaker 0>Sometimes

00:40:00.030 --> 00:40:01.950
<v Speaker 0>that happens. Yeah. I really need to work

00:40:01.950 --> 00:40:02.350
<v Speaker 0>on it.

00:40:04.205 --> 00:40:05.965
<v Speaker 2>Alright. I think that works, isn't it? You

00:40:05.965 --> 00:40:07.645
<v Speaker 0>have to dance. Well done.

00:40:09.485 --> 00:40:11.405
<v Speaker 0>Probably the end of our time.

00:40:11.485 --> 00:40:12.925
<v Speaker 1>Because if there is such a thing as

00:40:12.925 --> 00:40:13.725
<v Speaker 1>easy. Right?

00:40:16.090 --> 00:40:16.650
<v Speaker 0>Well, that

00:40:17.450 --> 00:40:20.490
<v Speaker 0>he's worked through that problem after problem. Good

00:40:20.490 --> 00:40:21.130
<v Speaker 0>job.

00:40:21.770 --> 00:40:24.250
<v Speaker 3>Etsy d is is a good one. You

00:40:24.250 --> 00:40:26.330
<v Speaker 3>know, honestly, I can say, like,

00:40:26.730 --> 00:40:28.890
<v Speaker 3>I can't tell you how many times Etsy

00:40:28.890 --> 00:40:29.609
<v Speaker 3>d has

00:40:30.075 --> 00:40:31.675
<v Speaker 3>bitten me in the hind end.

00:40:34.875 --> 00:40:37.195
<v Speaker 3>Yeah. It's it's a good one to actually

00:40:37.195 --> 00:40:39.915
<v Speaker 3>troubleshoot. I it's been forever since I've touched

00:40:39.915 --> 00:40:40.714
<v Speaker 3>it last. So

00:40:41.355 --> 00:40:41.755
<v Speaker 2>Yeah.

00:40:42.510 --> 00:40:45.390
<v Speaker 2>Yeah. I'm not an SPD expert at all.

00:40:45.390 --> 00:40:45.870
<v Speaker 2>So

00:40:48.030 --> 00:40:50.030
<v Speaker 0>Well, at least now we've all learned a

00:40:50.030 --> 00:40:51.630
<v Speaker 0>valuable production hack.

00:40:51.950 --> 00:40:53.870
<v Speaker 0>It's a entity control off disable.

00:40:54.285 --> 00:40:56.845
<v Speaker 0>Like, that's now my my go to. So,

00:40:56.845 --> 00:40:57.885
<v Speaker 0>you know, awesome.

00:40:59.165 --> 00:41:00.845
<v Speaker 3>That's exactly what you wanna do in production

00:41:00.845 --> 00:41:02.525
<v Speaker 3>is disable all security.

00:41:03.244 --> 00:41:04.205
<v Speaker 1>Alright. Well,

00:41:04.605 --> 00:41:06.525
<v Speaker 0>you just managed to work through all of

00:41:06.525 --> 00:41:08.924
<v Speaker 0>those problems with six to seven minutes left.

00:41:08.924 --> 00:41:11.260
<v Speaker 0>So well done, team aerospike. I'm gonna ask

00:41:11.260 --> 00:41:13.339
<v Speaker 0>you to kindly go watch from YouTube, and

00:41:13.339 --> 00:41:16.220
<v Speaker 0>I will invite on our friends at Pixielabs

00:41:16.220 --> 00:41:17.579
<v Speaker 0>to see what you have in store for

00:41:17.579 --> 00:41:19.180
<v Speaker 0>them. So thanks a lot. Good job, and

00:41:19.180 --> 00:41:20.140
<v Speaker 0>I'll speak to you also.

00:41:21.260 --> 00:41:22.300
<v Speaker 0>Thank Alright.

00:41:22.700 --> 00:41:25.099
<v Speaker 0>I'll just cut my off there. Sorry, mate.

00:41:25.099 --> 00:41:27.955
<v Speaker 0>But we'll wait here until we get our

00:41:27.955 --> 00:41:30.355
<v Speaker 0>team from Pixie Labs over. I'll also remind

00:41:30.355 --> 00:41:32.035
<v Speaker 0>you that you can win a cluster t

00:41:32.035 --> 00:41:35.635
<v Speaker 0>shirt by going to rockode.livewin.

00:41:37.475 --> 00:41:39.075
<v Speaker 0>Cool. Let's see. We've got a few people

00:41:39.075 --> 00:41:40.195
<v Speaker 0>joining now.

00:41:41.000 --> 00:41:42.760
<v Speaker 0>So we got Philip,

00:41:43.799 --> 00:41:44.680
<v Speaker 0>Kjell,

00:41:45.000 --> 00:41:45.960
<v Speaker 0>and Ben.

00:41:46.839 --> 00:41:48.040
<v Speaker 0>Hey. How's it going?

00:41:49.240 --> 00:41:50.440
<v Speaker 4>It's going well.

00:41:50.760 --> 00:41:52.839
<v Speaker 4>Thanks for having us. Fun to watching someone

00:41:52.839 --> 00:41:54.119
<v Speaker 0>else fix your broken cluster?

00:41:55.865 --> 00:41:58.505
<v Speaker 1>Yeah. Absolutely. Work to that team,

00:41:59.145 --> 00:42:00.345
<v Speaker 4>to aerospike.

00:42:00.505 --> 00:42:01.065
<v Speaker 4>Yeah.

00:42:01.305 --> 00:42:03.865
<v Speaker 4>Awesome. We actually had one more break left,

00:42:04.425 --> 00:42:05.145
<v Speaker 4>but

00:42:05.305 --> 00:42:07.224
<v Speaker 4>it somehow got overwritten.

00:42:07.780 --> 00:42:08.420
<v Speaker 4>So,

00:42:08.660 --> 00:42:12.100
<v Speaker 4>yeah, we we added a network block on

00:42:12.100 --> 00:42:14.020
<v Speaker 4>ghcr.i0

00:42:14.020 --> 00:42:14.820
<v Speaker 4>using

00:42:15.140 --> 00:42:17.060
<v Speaker 4>XDP and EBPF.

00:42:17.540 --> 00:42:19.620
<v Speaker 4>And I don't know. So maybe the container

00:42:19.620 --> 00:42:22.340
<v Speaker 4>got cached or something like that. So, unfortunately,

00:42:22.340 --> 00:42:24.125
<v Speaker 4>it did not show up. But you could

00:42:24.125 --> 00:42:25.885
<v Speaker 4>actually see it in one of the,

00:42:26.605 --> 00:42:28.845
<v Speaker 4>I think it was the CRI CTL

00:42:28.845 --> 00:42:31.805
<v Speaker 4>calls. Like, there was no network resolution there.

00:42:32.045 --> 00:42:33.325
<v Speaker 4>So yeah.

00:42:34.605 --> 00:42:37.244
<v Speaker 4>Unfortunately, something went wrong. So maybe we just

00:42:37.244 --> 00:42:38.605
<v Speaker 4>kept it cached, the container

00:42:39.770 --> 00:42:41.130
<v Speaker 4>See if I have something. I mean, I

00:42:41.130 --> 00:42:42.890
<v Speaker 0>don't wanna speak for them, but I haven't

00:42:42.890 --> 00:42:45.450
<v Speaker 0>seen eBPF breaks on this before. Nobody ever

00:42:45.450 --> 00:42:47.450
<v Speaker 0>gets them. It's it's one of those, like,

00:42:47.450 --> 00:42:50.170
<v Speaker 0>black boxes. It's really difficult to, like, understand

00:42:50.170 --> 00:42:52.250
<v Speaker 0>where the eBPF is happening and how to

00:42:52.250 --> 00:42:53.690
<v Speaker 0>how to get around it. So that would

00:42:53.690 --> 00:42:54.250
<v Speaker 0>have been

00:43:10.299 --> 00:43:11.740
<v Speaker 1>will show you that one of the network

00:43:11.740 --> 00:43:13.580
<v Speaker 1>interfaces has been messed with,

00:43:13.900 --> 00:43:14.619
<v Speaker 1>which is

00:43:16.140 --> 00:43:17.820
<v Speaker 1>which is what we were hoping for.

00:43:19.180 --> 00:43:19.820
<v Speaker 4>I

00:43:20.539 --> 00:43:22.140
<v Speaker 4>guess we'll send them over as part of

00:43:22.140 --> 00:43:24.455
<v Speaker 4>the show notes, but if anybody wants to

00:43:24.455 --> 00:43:26.295
<v Speaker 4>see them. But, unfortunately, did not get to

00:43:26.295 --> 00:43:28.615
<v Speaker 4>see them in action. So that's Oh, well.

00:43:28.615 --> 00:43:29.975
<v Speaker 0>Well, I'm looking forward to reading that at

00:43:29.975 --> 00:43:30.775
<v Speaker 0>least anyway.

00:43:30.935 --> 00:43:33.095
<v Speaker 0>Alright. Can we start in the top right?

00:43:33.095 --> 00:43:35.015
<v Speaker 0>Please say hello, introduce yourself. We'll work our

00:43:35.015 --> 00:43:36.135
<v Speaker 0>way around clockwise,

00:43:36.135 --> 00:43:37.895
<v Speaker 0>and then we'll hand you over a cluster.

00:43:39.900 --> 00:43:41.660
<v Speaker 4>Hi, everyone. I'm Philip.

00:43:42.220 --> 00:43:45.260
<v Speaker 4>I am an engineer at New Relic working

00:43:45.260 --> 00:43:46.540
<v Speaker 4>on Pixi.

00:43:47.580 --> 00:43:49.900
<v Speaker 4>Yeah. Oh, and my Twitter handle is at

00:43:49.900 --> 00:43:50.540
<v Speaker 4>Phil because.

00:43:55.335 --> 00:43:55.895
<v Speaker 0>Cool.

00:43:56.855 --> 00:43:59.895
<v Speaker 1>I'm Vihang Mehta. I'm another engineer at,

00:44:00.135 --> 00:44:01.495
<v Speaker 1>at Pixi, now,

00:44:01.895 --> 00:44:03.255
<v Speaker 1>a part of New Relic.

00:44:03.895 --> 00:44:05.415
<v Speaker 1>And I think this will be a common

00:44:05.415 --> 00:44:08.250
<v Speaker 1>theme. Philip, me, and Michelle all sort of

00:44:08.250 --> 00:44:09.370
<v Speaker 1>work on the same

00:44:09.770 --> 00:44:11.210
<v Speaker 1>team at Pixi.

00:44:14.570 --> 00:44:15.450
<v Speaker 1>Yep. And I

00:44:16.090 --> 00:44:17.530
<v Speaker 1>I am Michelle Nguyen.

00:44:17.610 --> 00:44:19.690
<v Speaker 1>Just to give some context about what Pixi

00:44:19.690 --> 00:44:23.295
<v Speaker 1>actually is, we are an open source CNCF

00:44:23.295 --> 00:44:24.495
<v Speaker 1>sandbox project.

00:44:24.815 --> 00:44:27.375
<v Speaker 1>And, basically, our thing is that we are

00:44:27.375 --> 00:44:29.775
<v Speaker 1>a real time debugging platform. You deploy Pixi

00:44:29.775 --> 00:44:31.535
<v Speaker 1>to your cluster. You know, you can deploy

00:44:31.535 --> 00:44:34.095
<v Speaker 1>using YAMLs. You can run through our CLI.

00:44:34.095 --> 00:44:36.490
<v Speaker 1>But, you just deploy Pixi. And right there,

00:44:36.490 --> 00:44:37.850
<v Speaker 1>out of the box, you get a bunch

00:44:37.850 --> 00:44:41.050
<v Speaker 1>of baseline visibility metrics and information about your

00:44:41.050 --> 00:44:43.690
<v Speaker 1>cluster. So we use eBPF to collect things

00:44:43.690 --> 00:44:45.450
<v Speaker 1>like full body HTTP

00:44:45.450 --> 00:44:47.290
<v Speaker 1>requests. We get,

00:44:48.185 --> 00:44:50.105
<v Speaker 1>you know, continuous profiling. So a bunch of

00:44:50.105 --> 00:44:52.185
<v Speaker 1>interesting stuff without you really having to do

00:44:52.185 --> 00:44:53.785
<v Speaker 1>anything but deploy Pixie.

00:44:54.185 --> 00:44:56.025
<v Speaker 1>So, yeah, definitely check it out. You should

00:44:56.025 --> 00:44:57.225
<v Speaker 1>check out px.dev.

00:44:57.225 --> 00:44:59.225
<v Speaker 1>That's our website with all our information and

00:44:59.225 --> 00:45:01.225
<v Speaker 1>docs and links links out to our blog.

00:45:02.740 --> 00:45:04.900
<v Speaker 1>You can join our Slack community. So I

00:45:04.900 --> 00:45:07.380
<v Speaker 1>think that's slackin.px.dev.

00:45:07.380 --> 00:45:09.060
<v Speaker 1>But, yeah, just check us out. We're super

00:45:09.060 --> 00:45:11.220
<v Speaker 1>excited to just, like, get people using our

00:45:11.220 --> 00:45:14.500
<v Speaker 1>stuff. Leave comments, feedback, and we love contributors

00:45:14.500 --> 00:45:14.900
<v Speaker 1>as well.

00:45:16.055 --> 00:45:18.135
<v Speaker 0>Awesome. Thank you for sharing. And if people

00:45:18.135 --> 00:45:19.895
<v Speaker 0>do want to learn more about Pexi Labs,

00:45:19.895 --> 00:45:21.175
<v Speaker 0>they can go to Rawkode.live

00:45:21.175 --> 00:45:23.015
<v Speaker 0>and search for Pexi Labs. I did a

00:45:23.015 --> 00:45:23.815
<v Speaker 0>ninety

00:45:23.815 --> 00:45:25.735
<v Speaker 0>minute stream with Natalie. I think it was

00:45:25.735 --> 00:45:27.655
<v Speaker 0>around six six or seven months ago when

00:45:27.655 --> 00:45:29.895
<v Speaker 0>we dived into Pexi. Was an awesome product.

00:45:29.895 --> 00:45:31.610
<v Speaker 0>It was a lot of fun. Encourage people

00:45:31.610 --> 00:45:32.570
<v Speaker 0>to check it out.

00:45:33.770 --> 00:45:36.170
<v Speaker 0>Alright. I see someone's already joined my session,

00:45:36.170 --> 00:45:38.250
<v Speaker 0>so awesome. Let's get everyone else in there.

00:45:38.250 --> 00:45:40.410
<v Speaker 0>I'm gonna pop my screen share up now.

00:45:42.010 --> 00:45:44.650
<v Speaker 0>I've opened the session on airspace control plane

00:45:44.650 --> 00:45:45.370
<v Speaker 0>one.

00:45:45.690 --> 00:45:48.065
<v Speaker 0>Feel free to join. Give me an echo.

00:45:48.065 --> 00:45:49.825
<v Speaker 0>Let me know you're there. Thank you. We've

00:45:49.825 --> 00:45:51.265
<v Speaker 0>got one. We got two.

00:45:54.385 --> 00:45:55.984
<v Speaker 0>It always helps when people tell me to

00:45:55.984 --> 00:45:57.905
<v Speaker 0>type in. Yeah. Here we go. Perfect.

00:45:58.545 --> 00:45:59.265
<v Speaker 0>Alright.

00:45:59.345 --> 00:45:59.585
<v Speaker 0>Have

00:46:01.450 --> 00:46:03.770
<v Speaker 0>have around forty minutes. Best of luck. Take

00:46:03.770 --> 00:46:04.410
<v Speaker 0>it away.

00:46:05.850 --> 00:46:06.570
<v Speaker 4>Okay.

00:46:06.970 --> 00:46:09.610
<v Speaker 4>Let me let me copy over some

00:46:09.610 --> 00:46:10.810
<v Speaker 4>commands I want.

00:46:20.575 --> 00:46:22.335
<v Speaker 0>Always nice to see the k nine Yeah.

00:46:24.815 --> 00:46:26.895
<v Speaker 4>And then getting k nine s.

00:46:27.135 --> 00:46:29.535
<v Speaker 0>This might be interesting because sometimes it doesn't

00:46:29.535 --> 00:46:30.895
<v Speaker 0>quite work with the x term.

00:46:31.490 --> 00:46:32.290
<v Speaker 4>Oh, okay.

00:46:33.170 --> 00:46:34.290
<v Speaker 4>There we go. You

00:46:34.530 --> 00:46:35.170
<v Speaker 4>know?

00:46:37.970 --> 00:46:39.970
<v Speaker 0>People have tried to use it before, and

00:46:39.970 --> 00:46:42.530
<v Speaker 0>it's it's okay in the web. So I'll

00:46:42.530 --> 00:46:44.265
<v Speaker 0>keep it there. Oh. Oh. So as long

00:46:44.265 --> 00:46:46.025
<v Speaker 0>as you're fine with that. Yeah. If you

00:46:46.025 --> 00:46:47.224
<v Speaker 0>could see it, it's fine. I'll just try

00:46:47.224 --> 00:46:48.825
<v Speaker 0>and not use the terminal one for this

00:46:48.825 --> 00:46:50.424
<v Speaker 0>bit. We're all good. Feel free to use

00:46:50.424 --> 00:46:51.625
<v Speaker 0>it. Okay. Okay.

00:46:52.585 --> 00:46:54.505
<v Speaker 4>I guess I'll see what we can do.

00:46:54.505 --> 00:46:56.905
<v Speaker 4>Okay. So I'll just do this for now.

00:46:57.545 --> 00:46:59.540
<v Speaker 4>Yes. That's our part of the thing. No

00:46:59.540 --> 00:47:01.860
<v Speaker 0>control plan there. Connection was refused.

00:47:02.420 --> 00:47:03.140
<v Speaker 4>Oh,

00:47:03.460 --> 00:47:04.260
<v Speaker 4>okay.

00:47:06.340 --> 00:47:08.180
<v Speaker 4>Got any ideas.

00:47:08.180 --> 00:47:09.860
<v Speaker 4>Okay. So no control plan.

00:47:12.095 --> 00:47:13.935
<v Speaker 0>We kinda need one of those. Right?

00:47:14.895 --> 00:47:15.615
<v Speaker 4>Yeah.

00:47:17.694 --> 00:47:19.454
<v Speaker 1>Wait. Do do you wanna get that CD

00:47:19.454 --> 00:47:22.255
<v Speaker 1>con control and just just double check?

00:47:23.375 --> 00:47:23.694
<v Speaker 1>Case.

00:47:28.460 --> 00:47:29.820
<v Speaker 4>Where did we get it before?

00:47:30.300 --> 00:47:32.300
<v Speaker 0>App install at c d

00:47:33.660 --> 00:47:35.500
<v Speaker 0>dash client, and then I still got the

00:47:35.500 --> 00:47:37.740
<v Speaker 0>cheat sheet here with this setup. I

00:47:38.380 --> 00:47:39.660
<v Speaker 0>just use this one all the time.

00:47:42.715 --> 00:47:44.795
<v Speaker 1>At c d hyphen client. Yeah.

00:47:45.675 --> 00:47:46.635
<v Speaker 4>Oh, sorry.

00:47:52.155 --> 00:47:54.315
<v Speaker 0>Alright. I will paste in the setup for

00:47:54.315 --> 00:47:55.195
<v Speaker 0>you if you want.

00:47:55.880 --> 00:47:57.240
<v Speaker 4>Oh, sure. Yeah. Looks

00:47:59.160 --> 00:48:00.360
<v Speaker 0>good. There you go.

00:48:01.320 --> 00:48:02.040
<v Speaker 4>Okay.

00:48:02.840 --> 00:48:03.640
<v Speaker 4>Okay.

00:48:05.400 --> 00:48:07.720
<v Speaker 4>So I'm not as familiar with this. Michelle,

00:48:07.720 --> 00:48:08.920
<v Speaker 4>what do you what command do you run

00:48:08.920 --> 00:48:09.400
<v Speaker 4>here?

00:48:09.960 --> 00:48:10.360
<v Speaker 1>Oh,

00:48:10.795 --> 00:48:13.035
<v Speaker 1>get guest said that that CD is running,

00:48:13.035 --> 00:48:15.355
<v Speaker 1>so we're probably okay on that. Yeah. Think

00:48:15.355 --> 00:48:16.715
<v Speaker 1>it's fine now. Yeah.

00:48:16.875 --> 00:48:18.395
<v Speaker 4>Okay. Okay. Okay. So

00:48:20.875 --> 00:48:23.035
<v Speaker 4>control plane is missing. Do we have the

00:48:23.035 --> 00:48:23.595
<v Speaker 4>cubelet?

00:48:29.560 --> 00:48:31.080
<v Speaker 0>You have a kubelet.

00:48:31.560 --> 00:48:32.920
<v Speaker 0>Do you have an API server?

00:48:39.155 --> 00:48:40.915
<v Speaker 4>Just kubectl.

00:48:42.435 --> 00:48:43.235
<v Speaker 4>Sorry.

00:48:46.915 --> 00:48:49.635
<v Speaker 0>Alright. You got Kubectl,

00:48:49.635 --> 00:48:52.755
<v Speaker 0>scheduler, controller manager, Kubectl. You have no API

00:48:52.755 --> 00:48:53.155
<v Speaker 0>server.

00:48:54.410 --> 00:48:57.210
<v Speaker 4>No API server. Yep. You definitely need one

00:48:57.210 --> 00:48:58.090
<v Speaker 0>of those too.

00:48:58.730 --> 00:48:59.850
<v Speaker 4>Yeah.

00:49:00.570 --> 00:49:01.210
<v Speaker 4>Okay.

00:49:03.850 --> 00:49:05.530
<v Speaker 4>Control planes are overrated.

00:49:05.530 --> 00:49:06.170
<v Speaker 4>Okay.

00:49:07.050 --> 00:49:09.475
<v Speaker 0>The null channel is Marek from.

00:49:10.515 --> 00:49:12.515
<v Speaker 0>When he messages that, you you may wanna

00:49:12.515 --> 00:49:13.475
<v Speaker 0>pay attention.

00:49:16.115 --> 00:49:18.994
<v Speaker 4>Control plane is overrated. Oh. Oh. I I

00:49:18.994 --> 00:49:21.075
<v Speaker 0>think he's just joking at it. I I

00:49:21.075 --> 00:49:22.435
<v Speaker 0>would be able to take a the

00:49:23.955 --> 00:49:26.270
<v Speaker 0>static manifest and see or maybe the logs

00:49:26.270 --> 00:49:27.710
<v Speaker 0>for the APIs server. It would be a

00:49:27.710 --> 00:49:28.750
<v Speaker 0>good starting point.

00:49:29.790 --> 00:49:31.870
<v Speaker 4>How do you find those? Is it under,

00:49:31.870 --> 00:49:33.870
<v Speaker 4>like, varlog or something like that?

00:49:34.590 --> 00:49:37.550
<v Speaker 0>Varlog containers or varlog pods depending on how

00:49:37.550 --> 00:49:39.870
<v Speaker 0>much view you want of the cluster.

00:49:49.965 --> 00:49:50.365
<v Speaker 1>API

00:49:50.925 --> 00:49:52.125
<v Speaker 1>Tube API server.

00:50:07.235 --> 00:50:08.515
<v Speaker 4>Oh, okay.

00:50:09.315 --> 00:50:10.275
<v Speaker 0>Alright.

00:50:10.995 --> 00:50:11.715
<v Speaker 4>So

00:50:12.035 --> 00:50:13.635
<v Speaker 4>connection refused.

00:50:14.755 --> 00:50:15.475
<v Speaker 0>Cannot reach.

00:50:21.710 --> 00:50:22.750
<v Speaker 4>Wait. No.

00:50:24.430 --> 00:50:26.589
<v Speaker 4>It's not certs. Okay. I'm just trying to

00:50:26.589 --> 00:50:27.070
<v Speaker 4>think.

00:50:27.390 --> 00:50:30.109
<v Speaker 4>Well, what did the other team think? Well,

00:50:30.109 --> 00:50:32.510
<v Speaker 1>the the port looks fishy. Right? One two

00:50:32.510 --> 00:50:34.349
<v Speaker 1>six nine? Yeah. I don't think that's the

00:50:34.349 --> 00:50:34.990
<v Speaker 1>standard port.

00:50:35.575 --> 00:50:37.655
<v Speaker 0>I have not seen the port number before.

00:50:38.135 --> 00:50:38.775
<v Speaker 1>Yeah.

00:50:39.335 --> 00:50:41.655
<v Speaker 1>Yeah. Good catch. Let's look at the manifest

00:50:41.655 --> 00:50:42.615
<v Speaker 1>for the

00:50:43.335 --> 00:50:44.855
<v Speaker 1>for the API server.

00:50:47.095 --> 00:50:49.175
<v Speaker 0>Yeah. Kevin's saying the port looks wrong to

00:50:49.175 --> 00:50:51.015
<v Speaker 0>him too, so let's go check that. Wait.

00:50:51.789 --> 00:50:54.109
<v Speaker 1>The manifest is at Etsy.

00:50:56.349 --> 00:50:59.069
<v Speaker 0>Kubernetes manifest? Yep. The one? Yeah.

00:51:09.305 --> 00:51:10.025
<v Speaker 0>Oh.

00:51:10.425 --> 00:51:12.185
<v Speaker 0>You can either use them or a cat

00:51:12.185 --> 00:51:13.705
<v Speaker 0>it with a pager. Yeah. That's a good

00:51:13.705 --> 00:51:15.065
<v Speaker 0>way to do it. I mean, it is.

00:51:15.305 --> 00:51:16.825
<v Speaker 0>I thought someone's gonna have to, like, delay

00:51:16.665 --> 00:51:19.705
<v Speaker 0>case c d, like, ran overuse of cat.

00:51:19.705 --> 00:51:20.665
<v Speaker 0>I definitely do that all.

00:51:21.690 --> 00:51:24.250
<v Speaker 1>Is trying to connect to +1 269. What

00:51:24.250 --> 00:51:25.610
<v Speaker 1>does that CD say?

00:51:29.450 --> 00:51:30.730
<v Speaker 1>It is

00:51:31.530 --> 00:51:32.890
<v Speaker 4>2379?

00:51:33.770 --> 00:51:35.050
<v Speaker 1>Right. Yeah.

00:51:35.290 --> 00:51:36.650
<v Speaker 4>They just they just narrow

00:51:36.970 --> 00:51:37.290
<v Speaker 4>down. Right?

00:51:37.985 --> 00:51:39.025
<v Speaker 4>Yeah. Yeah.

00:51:41.105 --> 00:51:43.025
<v Speaker 4>Did not know you could go just edit

00:51:43.425 --> 00:51:46.705
<v Speaker 4>files like the manifest in the file system

00:51:46.705 --> 00:51:48.785
<v Speaker 4>like this. Said 2379.

00:51:48.785 --> 00:51:51.040
<v Speaker 1>Right? Yeah. Yeah. That's the one. That's the

00:51:51.040 --> 00:51:51.520
<v Speaker 0>one.

00:51:54.160 --> 00:51:55.920
<v Speaker 1>We need to restart anything?

00:51:56.000 --> 00:51:58.079
<v Speaker 0>The kubelet will detect that change. If you

00:51:58.079 --> 00:51:59.520
<v Speaker 0>wanna speed that up a little bit, you

00:51:59.520 --> 00:52:02.160
<v Speaker 0>can do a system d control restart kubelet.

00:52:07.424 --> 00:52:08.945
<v Speaker 0>Oh,

00:52:10.464 --> 00:52:12.785
<v Speaker 0>system control. Sorry. System CTL. Oh, yeah. Yeah.

00:52:12.785 --> 00:52:13.825
<v Speaker 1>Okay. That's what I thought.

00:52:17.600 --> 00:52:19.920
<v Speaker 0>System CTL. System CTL is gonna change something

00:52:19.920 --> 00:52:20.480
<v Speaker 0>else.

00:52:22.400 --> 00:52:23.760
<v Speaker 0>That's the kernel tool.

00:52:25.200 --> 00:52:26.160
<v Speaker 0>There we go.

00:52:27.760 --> 00:52:29.840
<v Speaker 3>Should we check it? Yeah. Oh, dot slash

00:52:29.840 --> 00:52:30.720
<v Speaker 4>dot slash.

00:52:31.040 --> 00:52:31.360
<v Speaker 4>Yeah.

00:52:33.795 --> 00:52:35.155
<v Speaker 1>Not there yet.

00:52:36.435 --> 00:52:37.875
<v Speaker 0>Coming low, I think.

00:52:40.355 --> 00:52:42.595
<v Speaker 4>Should we check the API server logs again?

00:52:43.555 --> 00:52:44.595
<v Speaker 0>Yep. I mean yeah.

00:52:49.309 --> 00:52:50.670
<v Speaker 1>Var logs. Right?

00:52:51.630 --> 00:52:53.390
<v Speaker 4>Yeah. I have it in the history. Let

00:52:53.390 --> 00:52:54.109
<v Speaker 4>me check.

00:52:55.950 --> 00:52:56.910
<v Speaker 0>Var log.

00:53:00.954 --> 00:53:03.515
<v Speaker 4>Oh, I guess the the container ID might

00:53:03.515 --> 00:53:04.395
<v Speaker 4>change. So

00:53:05.275 --> 00:53:06.555
<v Speaker 0>I would hope so.

00:53:13.619 --> 00:53:16.740
<v Speaker 1>Yeah. That's the same one. Right? And eight

00:53:16.740 --> 00:53:17.940
<v Speaker 0>hasn't incremented,

00:53:17.940 --> 00:53:18.500
<v Speaker 0>so

00:53:18.740 --> 00:53:20.819
<v Speaker 0>I'm not confident that we have an API

00:53:20.819 --> 00:53:21.460
<v Speaker 0>server.

00:53:23.299 --> 00:53:23.780
<v Speaker 1>Alright.

00:53:25.795 --> 00:53:27.235
<v Speaker 4>3219.

00:53:27.315 --> 00:53:29.315
<v Speaker 4>Okay. Yeah. This is four minutes ago still.

00:53:29.315 --> 00:53:29.875
<v Speaker 4>So

00:53:35.555 --> 00:53:36.755
<v Speaker 1>What else is wrong here?

00:53:38.660 --> 00:53:40.420
<v Speaker 0>If you check the kubelet log?

00:53:43.779 --> 00:53:45.539
<v Speaker 4>Yeah. Let's let's before we restart.

00:53:49.164 --> 00:53:51.005
<v Speaker 4>Oh, is it not in the same place?

00:53:56.924 --> 00:53:59.644
<v Speaker 4>Maybe in continue? The kubelet logs, because it's

00:53:59.644 --> 00:54:01.244
<v Speaker 0>not system d service, you'll need to use

00:54:01.244 --> 00:54:03.964
<v Speaker 0>journal control dash flu kubelet.

00:54:05.780 --> 00:54:07.700
<v Speaker 0>The journal c d l dash f l

00:54:07.700 --> 00:54:08.340
<v Speaker 0>u

00:54:09.859 --> 00:54:11.300
<v Speaker 0>and then kubelet.

00:54:14.820 --> 00:54:16.980
<v Speaker 0>So that's standard. That just means it can't

00:54:16.980 --> 00:54:18.820
<v Speaker 0>reach the API server you get.

00:54:22.694 --> 00:54:23.575
<v Speaker 4>Too.

00:54:24.855 --> 00:54:26.375
<v Speaker 4>It it could just be that our API

00:54:26.375 --> 00:54:27.095
<v Speaker 0>server

00:54:27.895 --> 00:54:29.575
<v Speaker 1>Oh, I see. Oh, goo Kubernetes.

00:54:33.000 --> 00:54:36.440
<v Speaker 0>What did you notice? Oh. A Goobernetes.

00:54:36.440 --> 00:54:36.920
<v Speaker 4>Yep.

00:54:37.800 --> 00:54:39.880
<v Speaker 3>The static manifest bunch of Goobers.

00:54:42.280 --> 00:54:42.920
<v Speaker 4>Kidding.

00:54:46.520 --> 00:54:48.280
<v Speaker 0>But you know what that message mean?

00:54:49.635 --> 00:54:53.235
<v Speaker 0>The static manifest location has been changed potentially.

00:54:53.235 --> 00:54:55.795
<v Speaker 0>So it's not actually reading the manifest from

00:54:55.795 --> 00:54:57.235
<v Speaker 0>Etsy Kubernetes

00:54:57.875 --> 00:54:59.715
<v Speaker 0>manifest. Where is that configured?

00:55:01.315 --> 00:55:01.955
<v Speaker 0>A

00:55:02.115 --> 00:55:03.955
<v Speaker 0>kill command if you want me to share.

00:55:04.890 --> 00:55:07.450
<v Speaker 0>Yeah. The system control cat and a service

00:55:07.450 --> 00:55:08.090
<v Speaker 0>name

00:55:08.569 --> 00:55:10.329
<v Speaker 0>gives you quite a lot of cool information.

00:55:19.395 --> 00:55:20.195
<v Speaker 1>Alright.

00:55:27.075 --> 00:55:28.595
<v Speaker 1>So there's a there's a

00:55:29.235 --> 00:55:31.155
<v Speaker 0>there's a bunch of files

00:55:31.475 --> 00:55:35.075
<v Speaker 0>listed there that I would start. Bootstrap tubelet

00:55:33.900 --> 00:55:34.779
<v Speaker 1>and

00:55:34.779 --> 00:55:36.859
<v Speaker 1>a bunch of other stuff there. Right? Can

00:55:36.859 --> 00:55:38.780
<v Speaker 4>you can you see Google, Netiz?

00:55:39.819 --> 00:55:41.099
<v Speaker 0>Oh, it's gonna be in one of those

00:55:41.099 --> 00:55:43.020
<v Speaker 0>config files somewhere. You don't need to start.

00:55:42.940 --> 00:55:43.099
<v Speaker 1>Right.

00:55:55.714 --> 00:55:57.154
<v Speaker 1>There's no bootstrap here?

00:56:04.980 --> 00:56:07.140
<v Speaker 0>You may wanna start in FireLib kubect config

00:56:07.140 --> 00:56:08.100
<v Speaker 0>dot YAML.

00:56:13.780 --> 00:56:15.540
<v Speaker 0>Typing on camera is always fun. Right?

00:56:16.235 --> 00:56:19.435
<v Speaker 4>Yep. It's

00:56:19.435 --> 00:56:21.355
<v Speaker 4>not just three of us watching. It's,

00:56:21.675 --> 00:56:23.035
<v Speaker 4>you know, a few dozen.

00:56:23.515 --> 00:56:25.195
<v Speaker 1>Don't tell me. Don't tell me.

00:56:26.795 --> 00:56:28.315
<v Speaker 4>Oh. Oh, that were that was it. That

00:56:28.315 --> 00:56:29.355
<v Speaker 4>was it. You go. I saw it.

00:56:30.050 --> 00:56:33.090
<v Speaker 0>Nice. Okay. There you go. Static pod path.

00:56:33.090 --> 00:56:35.410
<v Speaker 4>We've ungoovered the cluster.

00:56:35.650 --> 00:56:36.210
<v Speaker 4>I

00:56:36.610 --> 00:56:39.010
<v Speaker 0>I would definitely restart that kubelet again. Save

00:56:39.010 --> 00:56:39.890
<v Speaker 0>yourself a few minute.

00:56:47.735 --> 00:56:49.415
<v Speaker 0>Alright. Now we can make a cup of

00:56:49.415 --> 00:56:52.135
<v Speaker 0>tea, open a beer, have a sandwich, wait

00:56:52.135 --> 00:56:53.495
<v Speaker 0>for the API server.

00:56:53.975 --> 00:56:54.615
<v Speaker 1>Not yet.

00:57:01.250 --> 00:57:03.810
<v Speaker 1>Note that we want journal control.

00:57:09.090 --> 00:57:11.935
<v Speaker 4>Pause it, maybe. I would expect to see

00:57:11.935 --> 00:57:14.335
<v Speaker 0>API server and a PS coming up pretty

00:57:14.335 --> 00:57:15.135
<v Speaker 0>soon.

00:57:16.015 --> 00:57:17.535
<v Speaker 4>Okay. Oh, yeah.

00:57:20.575 --> 00:57:21.935
<v Speaker 0>But then I expect a lot of things.

00:57:21.935 --> 00:57:22.815
<v Speaker 0>I'm wrong all the time.

00:57:23.710 --> 00:57:25.150
<v Speaker 0>But, I mean, I hope you get an

00:57:25.150 --> 00:57:26.590
<v Speaker 0>API server soon.

00:57:27.630 --> 00:57:29.230
<v Speaker 1>Right. Nothing yet.

00:57:30.190 --> 00:57:32.430
<v Speaker 4>If you go back to the logs, what

00:57:33.630 --> 00:57:35.230
<v Speaker 1>I think I

00:57:35.230 --> 00:57:36.750
<v Speaker 1>think we're missing some files.

00:57:38.145 --> 00:57:40.785
<v Speaker 4>The CNI plugin not initialized

00:57:40.785 --> 00:57:43.665
<v Speaker 4>isn't is about or is it log?

00:57:43.825 --> 00:57:46.065
<v Speaker 0>You got a new error message there. No?

00:57:46.785 --> 00:57:48.305
<v Speaker 0>Failed it. No. Okay. The least one you

00:57:48.305 --> 00:57:50.625
<v Speaker 0>can ignore. This is still just API server

00:57:50.705 --> 00:57:52.225
<v Speaker 0>missing stuff so far.

00:57:55.160 --> 00:57:56.760
<v Speaker 1>Well, do we know if the API server

00:57:56.760 --> 00:57:58.440
<v Speaker 1>is on yet? I don't think it is.

00:57:58.440 --> 00:58:00.680
<v Speaker 1>Right? No. No. It's not on. You know,

00:58:00.680 --> 00:58:01.880
<v Speaker 4>what's preventing it?

00:58:04.760 --> 00:58:07.325
<v Speaker 0>We may wanna check for API server logs

00:58:07.325 --> 00:58:09.405
<v Speaker 0>again and hope we get a new pod

00:58:09.405 --> 00:58:12.285
<v Speaker 0>and container increment ID. We don't we don't

00:58:12.285 --> 00:58:13.964
<v Speaker 0>really wanna see 8 dot log anymore.

00:58:18.930 --> 00:58:21.650
<v Speaker 1>Pods. Right? No. Kubernetes pods. No pods is

00:58:21.650 --> 00:58:24.210
<v Speaker 0>right. Barlog pods. Just pods.

00:58:25.890 --> 00:58:27.330
<v Speaker 1>Kube API.

00:58:27.810 --> 00:58:30.450
<v Speaker 1>Oh, I That's 8. Log. Yeah. That's the

00:58:30.450 --> 00:58:31.730
<v Speaker 4>old one. Yeah.

00:58:34.450 --> 00:58:36.235
<v Speaker 0>I mean, you can catch it, but I

00:58:36.235 --> 00:58:38.715
<v Speaker 0>don't think we'll see anything new from that

00:58:38.715 --> 00:58:39.355
<v Speaker 0>fail.

00:58:43.355 --> 00:58:44.955
<v Speaker 1>Sometimes you miss a t.

00:58:46.635 --> 00:58:48.155
<v Speaker 0>+1 935.

00:58:48.460 --> 00:58:50.620
<v Speaker 0>No. O '2 '19 '30 '5. Yeah. I

00:58:50.620 --> 00:58:51.820
<v Speaker 0>don't think that's changed.

00:58:52.540 --> 00:58:53.260
<v Speaker 1>Right.

00:58:53.420 --> 00:58:56.460
<v Speaker 0>So we haven't had the Kubelet attempt to

00:58:56.460 --> 00:58:59.180
<v Speaker 0>start a new API server yet, it looks

00:58:59.180 --> 00:58:59.660
<v Speaker 0>like.

00:59:01.020 --> 00:59:03.180
<v Speaker 1>Well, we could tail it, but I don't

00:59:03.180 --> 00:59:04.300
<v Speaker 1>think it's gonna

00:59:04.565 --> 00:59:05.685
<v Speaker 1>tell us anything.

00:59:07.445 --> 00:59:08.165
<v Speaker 1>Yep.

00:59:09.045 --> 00:59:11.045
<v Speaker 1>No new logs. Yeah. That's not spat log

00:59:11.045 --> 00:59:12.005
<v Speaker 0>out and

00:59:12.485 --> 00:59:12.805
<v Speaker 4>I

00:59:13.605 --> 00:59:15.125
<v Speaker 4>don't think it'll Sixty hours. I don't think

00:59:15.125 --> 00:59:15.525
<v Speaker 1>it'll log.

00:59:19.940 --> 00:59:22.099
<v Speaker 0>How long has our cumulative been running out

00:59:22.099 --> 00:59:22.900
<v Speaker 0>of interest?

00:59:38.515 --> 00:59:41.075
<v Speaker 0>That looks like Seventeen. We restarted it three

00:59:41.075 --> 00:59:41.955
<v Speaker 0>minutes ago.

00:59:42.435 --> 00:59:42.835
<v Speaker 3>Yeah.

00:59:45.880 --> 00:59:48.760
<v Speaker 1>So some more Kubelet configs here.

00:59:53.480 --> 00:59:54.360
<v Speaker 0>I think Do

00:59:55.160 --> 00:59:57.560
<v Speaker 1>does anyone know if Bootstrap kube kube config

00:59:57.560 --> 00:59:58.360
<v Speaker 1>needs to exist?

00:59:59.255 --> 01:00:01.495
<v Speaker 1>Because I'm pretty sure it doesn't exist.

01:00:03.975 --> 01:00:05.975
<v Speaker 0>It does not need to exist. No.

01:00:06.375 --> 01:00:06.775
<v Speaker 1>Alright.

01:00:12.460 --> 01:00:14.940
<v Speaker 0>Alright. I think you should be looking at

01:00:14.940 --> 01:00:17.420
<v Speaker 0>the journal command again and maybe take it

01:00:17.420 --> 01:00:18.860
<v Speaker 0>slow, I think.

01:00:19.020 --> 01:00:20.060
<v Speaker 0>I'm assuming

01:00:20.140 --> 01:00:22.220
<v Speaker 0>we we could be missing something.

01:00:23.820 --> 01:00:25.900
<v Speaker 1>I wonder if I can type this.

01:00:27.525 --> 01:00:30.165
<v Speaker 4>Is it gonna straight well, okay. Unable to

01:00:30.165 --> 01:00:31.125
<v Speaker 1>write event.

01:00:34.724 --> 01:00:36.165
<v Speaker 4>Connection refused. Yeah.

01:00:39.365 --> 01:00:40.964
<v Speaker 1>One is to

01:00:41.300 --> 01:00:43.380
<v Speaker 1>to the API server. Right?

01:00:51.300 --> 01:00:52.420
<v Speaker 1>What is

01:00:52.580 --> 01:00:54.974
<v Speaker 1>usually at 6443? I thought that was the

01:00:54.974 --> 01:00:57.055
<v Speaker 1>API server? Yeah. Which we don't have. So

01:00:57.055 --> 01:00:58.255
<v Speaker 0>we're looking for something that would tell us

01:00:58.255 --> 01:01:00.415
<v Speaker 0>why the API server was not started.

01:01:01.454 --> 01:01:02.175
<v Speaker 1>Yep.

01:01:03.135 --> 01:01:05.855
<v Speaker 1>That's CNI plugin not initialized.

01:01:07.840 --> 01:01:08.480
<v Speaker 4>Okay.

01:01:11.760 --> 01:01:13.200
<v Speaker 4>I feel like that

01:01:13.440 --> 01:01:15.760
<v Speaker 4>the CNI plugin isn't dependent upon the API

01:01:15.760 --> 01:01:16.800
<v Speaker 4>server, is it?

01:01:17.200 --> 01:01:19.200
<v Speaker 0>It is not. No. An API server isn't

01:01:19.200 --> 01:01:22.295
<v Speaker 0>dependent on CNI either. Ah. Okay. Could not

01:01:22.295 --> 01:01:24.055
<v Speaker 1>process manifest file,

01:01:24.055 --> 01:01:25.895
<v Speaker 1>cube API server YAML,

01:01:26.135 --> 01:01:27.815
<v Speaker 1>couldn't parse this pod.

01:01:28.375 --> 01:01:30.215
<v Speaker 0>Please check config file.

01:01:32.615 --> 01:01:34.055
<v Speaker 1>And I lost that.

01:01:37.060 --> 01:01:39.940
<v Speaker 0>So there's a adder and your static manifest

01:01:39.940 --> 01:01:41.620
<v Speaker 0>for the API server.

01:01:42.980 --> 01:01:44.260
<v Speaker 1>Where was that?

01:01:44.900 --> 01:01:48.100
<v Speaker 0>Etsy Kubernetes manifest cube dash API server dot

01:01:48.100 --> 01:01:48.500
<v Speaker 0>YAML.

01:01:50.355 --> 01:01:51.555
<v Speaker 0>I spent a lot of time in that

01:01:51.555 --> 01:01:53.875
<v Speaker 0>file, strangely enough. And

01:02:00.115 --> 01:02:02.515
<v Speaker 0>the error message pointed to line a 30,

01:02:02.515 --> 01:02:03.315
<v Speaker 0>if I believe correctly.

01:02:06.400 --> 01:02:08.320
<v Speaker 4>Interesting

01:02:12.640 --> 01:02:13.440
<v Speaker 0>character. I

01:02:14.560 --> 01:02:15.600
<v Speaker 1>guess that's it.

01:02:17.200 --> 01:02:18.720
<v Speaker 0>That was said far too confidently.

01:02:22.575 --> 01:02:24.415
<v Speaker 4>Oh, wait. That was the that was the

01:02:24.415 --> 01:02:25.055
<v Speaker 4>error.

01:02:26.495 --> 01:02:27.215
<v Speaker 0>Yeah.

01:02:28.335 --> 01:02:28.735
<v Speaker 0>Wow.

01:02:31.850 --> 01:02:33.930
<v Speaker 0>I mean, that would definitely cause the YAML

01:02:33.930 --> 01:02:35.850
<v Speaker 0>parsing to fail. So I mean, I'm not

01:02:35.850 --> 01:02:37.530
<v Speaker 0>saying that's the only error, of course, but

01:02:37.530 --> 01:02:39.130
<v Speaker 0>it's definitely a problem.

01:02:39.610 --> 01:02:41.610
<v Speaker 1>Also, I'm pretty sure this is

01:02:42.810 --> 01:02:45.695
<v Speaker 1>flipped. Oh, nice catch. I didn't notice that.

01:02:46.815 --> 01:02:47.935
<v Speaker 1>Comments helped.

01:02:48.255 --> 01:02:49.135
<v Speaker 4>Oh. Oh.

01:02:50.095 --> 01:02:52.655
<v Speaker 4>Russell. Good catch, Russell. Oh, and

01:02:53.295 --> 01:02:55.455
<v Speaker 0>James as well with that catch. Well done.

01:02:55.855 --> 01:02:56.255
<v Speaker 1>Yeah.

01:02:57.170 --> 01:02:59.010
<v Speaker 1>But here too, I believe.

01:02:59.650 --> 01:03:01.810
<v Speaker 0>And team here, I respect shushing everybody in

01:03:01.810 --> 01:03:02.290
<v Speaker 0>the comments.

01:03:10.905 --> 01:03:13.065
<v Speaker 0>So Robert Campbell says the status looks out

01:03:13.065 --> 01:03:15.305
<v Speaker 0>of place. It it's okay for the status

01:03:15.305 --> 01:03:16.825
<v Speaker 0>to be empty

01:03:16.825 --> 01:03:18.985
<v Speaker 0>in this. Oh, I'm sure that the status

01:03:18.985 --> 01:03:21.145
<v Speaker 1>will get filled out later. Right? So

01:03:22.390 --> 01:03:23.270
<v Speaker 1>safe.

01:03:23.670 --> 01:03:25.190
<v Speaker 1>Yep. Maybe misplaced,

01:03:25.190 --> 01:03:25.590
<v Speaker 1>but

01:03:26.230 --> 01:03:28.710
<v Speaker 0>Alright. Let's see if it's running.

01:03:35.510 --> 01:03:36.150
<v Speaker 1>Not yet.

01:03:36.965 --> 01:03:39.445
<v Speaker 0>You can try CTL?

01:03:39.685 --> 01:03:42.325
<v Speaker 0>Yeah. You you could try a restart. The

01:03:42.405 --> 01:03:44.405
<v Speaker 0>like, so the way the Kiplet monitors the

01:03:44.405 --> 01:03:46.405
<v Speaker 0>static manifest directory, it can take, like, up

01:03:46.405 --> 01:03:48.245
<v Speaker 0>to four minutes, I think, before it will

01:03:48.245 --> 01:03:50.165
<v Speaker 0>detect the change and restart it. A restart

01:03:50.165 --> 01:03:51.125
<v Speaker 0>of the Kiplet will

01:03:51.990 --> 01:03:53.430
<v Speaker 0>it a little bit faster.

01:04:01.110 --> 01:04:02.630
<v Speaker 4>Should we journal CTL again?

01:04:05.285 --> 01:04:05.925
<v Speaker 1>Well,

01:04:06.644 --> 01:04:09.365
<v Speaker 1>let's check let's check this manifest file here.

01:04:11.444 --> 01:04:13.365
<v Speaker 1>I have a feeling there's a bunch of

01:04:14.644 --> 01:04:15.365
<v Speaker 1>issues here.

01:04:16.710 --> 01:04:18.870
<v Speaker 0>I think you have an API server now.

01:04:20.150 --> 01:04:21.750
<v Speaker 1>Alright. Let me check.

01:04:23.030 --> 01:04:23.910
<v Speaker 1>Damn it.

01:04:24.710 --> 01:04:25.270
<v Speaker 1>Not yet.

01:04:29.775 --> 01:04:31.855
<v Speaker 4>Is journal CTL still complaining?

01:04:32.415 --> 01:04:34.575
<v Speaker 4>Or is the are the logs still complaining

01:04:34.655 --> 01:04:35.375
<v Speaker 4>about

01:04:35.615 --> 01:04:36.895
<v Speaker 4>any manifest or something?

01:04:41.520 --> 01:04:43.680
<v Speaker 1>Well, it still can't talk to the API

01:04:43.680 --> 01:04:46.560
<v Speaker 1>server, which is because API server doesn't exist.

01:04:48.480 --> 01:04:49.920
<v Speaker 4>Connection fused.

01:04:53.280 --> 01:04:55.520
<v Speaker 0>I don't see any other

01:04:55.520 --> 01:04:56.480
<v Speaker 0>errors,

01:04:56.480 --> 01:04:57.465
<v Speaker 0>which is good.

01:05:16.460 --> 01:05:18.780
<v Speaker 1>Should we try this just to make sure?

01:05:19.340 --> 01:05:21.180
<v Speaker 0>I mean, you can even grab for API

01:05:21.180 --> 01:05:21.660
<v Speaker 0>server.

01:05:23.975 --> 01:05:25.415
<v Speaker 1>Alright. So now

01:05:26.215 --> 01:05:28.535
<v Speaker 0>That's a kubelet restart. Yep.

01:05:33.655 --> 01:05:35.415
<v Speaker 1>These are still infos.

01:05:36.215 --> 01:05:39.060
<v Speaker 1>Here's the first error. Could not process manifest

01:05:39.060 --> 01:05:40.980
<v Speaker 4>file. Delete me dot YAML.

01:05:41.060 --> 01:05:43.860
<v Speaker 4>That kinda looks suspicious. Alright. Let's see.

01:05:46.420 --> 01:05:48.260
<v Speaker 0>Where do you see that? Sorry. I never

01:05:48.260 --> 01:05:49.220
<v Speaker 0>caught that. Oh.

01:05:50.275 --> 01:05:51.875
<v Speaker 1>Oh, it's It's all good. You can let's

01:05:51.875 --> 01:05:53.155
<v Speaker 0>just go take a look at it.

01:05:56.035 --> 01:05:57.635
<v Speaker 1>Yeah. You'll you'll see it.

01:06:01.155 --> 01:06:03.475
<v Speaker 1>What is here? I'm pretty sure I should

01:06:03.475 --> 01:06:06.610
<v Speaker 1>just delete this thing. Safe networking. Wait. Woah.

01:06:06.610 --> 01:06:07.330
<v Speaker 0>Woah. Woah.

01:06:09.970 --> 01:06:11.890
<v Speaker 4>If it's a trick a trick? Oh,

01:06:15.570 --> 01:06:17.730
<v Speaker 4>wait. Do we have another networking policy

01:06:18.530 --> 01:06:19.170
<v Speaker 4>manifest?

01:06:31.865 --> 01:06:32.985
<v Speaker 1>How about I do this?

01:06:35.490 --> 01:06:36.130
<v Speaker 0>Well,

01:06:36.610 --> 01:06:37.810
<v Speaker 0>I mean, I don't wanna

01:06:38.290 --> 01:06:40.370
<v Speaker 0>be too confident in my statement, but I

01:06:40.370 --> 01:06:42.850
<v Speaker 0>don't think the kubelet would even apply that

01:06:42.850 --> 01:06:43.890
<v Speaker 0>to your cluster.

01:06:45.330 --> 01:06:46.450
<v Speaker 1>If it just exists?

01:06:47.585 --> 01:06:48.385
<v Speaker 0>Because

01:06:48.704 --> 01:06:50.704
<v Speaker 0>yeah. Because the way the static pods work

01:06:50.704 --> 01:06:53.424
<v Speaker 0>is that it actually creates projection pods. I

01:06:53.424 --> 01:06:54.785
<v Speaker 0>don't think putting a network policy in that

01:06:54.785 --> 01:06:56.065
<v Speaker 0>directory will do anything.

01:06:56.385 --> 01:06:57.904
<v Speaker 0>I mean, I could be wrong, and I

01:06:57.904 --> 01:07:00.224
<v Speaker 0>often am. The null channel says it will

01:07:00.224 --> 01:07:02.625
<v Speaker 1>try to run every manifest in that folder,

01:07:02.625 --> 01:07:02.865
<v Speaker 1>apparently.

01:07:04.490 --> 01:07:06.089
<v Speaker 0>Oh, so that maybe add them as a

01:07:06.089 --> 01:07:09.530
<v Speaker 0>blocker stopping it from deploying anything else afterwards

01:07:10.250 --> 01:07:12.170
<v Speaker 0>because it can actually deploy

01:07:12.810 --> 01:07:15.450
<v Speaker 0>a network policy from that directory. That's a

01:07:15.450 --> 01:07:16.650
<v Speaker 0>cool break. Yeah. Yeah.

01:07:17.530 --> 01:07:17.849
<v Speaker 4>Nice.

01:07:21.345 --> 01:07:22.465
<v Speaker 1>Alright. So let

01:07:23.185 --> 01:07:25.905
<v Speaker 1>let's go back to restarting and looking at

01:07:25.905 --> 01:07:26.625
<v Speaker 1>logs.

01:07:27.345 --> 01:07:27.905
<v Speaker 1>This

01:07:29.585 --> 01:07:30.465
<v Speaker 1>is the way to do it.

01:07:38.760 --> 01:07:40.200
<v Speaker 1>Alright. So far, unable

01:07:40.680 --> 01:07:43.240
<v Speaker 1>to find data and memory cache

01:07:46.095 --> 01:07:47.695
<v Speaker 1>from CRI stats.

01:07:48.175 --> 01:07:49.695
<v Speaker 0>I think that's alright.

01:07:52.255 --> 01:07:54.175
<v Speaker 0>I think you're good. Right?

01:07:55.215 --> 01:07:57.375
<v Speaker 0>That's a healthy equivalent in API server.

01:08:05.460 --> 01:08:06.660
<v Speaker 1>Nope. Nothing

01:08:07.700 --> 01:08:08.340
<v Speaker 1>yet.

01:08:10.500 --> 01:08:12.580
<v Speaker 0>And we did you delete that file?

01:08:14.035 --> 01:08:15.955
<v Speaker 1>I moved it to home.

01:08:22.915 --> 01:08:24.594
<v Speaker 1>Oh, cube VIP

01:08:24.835 --> 01:08:25.635
<v Speaker 1>is

01:08:26.130 --> 01:08:27.890
<v Speaker 1>readable by other folks.

01:08:28.050 --> 01:08:29.489
<v Speaker 1>The other ones are not.

01:08:36.610 --> 01:08:38.130
<v Speaker 0>Don't know if that Pretty sure the kubelet

01:08:38.130 --> 01:08:38.610
<v Speaker 0>runs other.

01:08:39.715 --> 01:08:41.155
<v Speaker 0>But, I mean, you can check that too.

01:08:41.155 --> 01:08:41.395
<v Speaker 4>We

01:08:42.115 --> 01:08:44.035
<v Speaker 4>didn't we have that CD? It won't work.

01:08:44.035 --> 01:08:46.435
<v Speaker 4>Or STD worked. Right? Yeah. The STD can

01:08:46.435 --> 01:08:48.595
<v Speaker 4>work. Actually running this. Yeah. Yeah.

01:08:50.515 --> 01:08:51.475
<v Speaker 4>It should be running everything.

01:08:52.210 --> 01:08:53.810
<v Speaker 0>Do we have an API server yet, or

01:08:53.810 --> 01:08:55.090
<v Speaker 0>do we need to start panicking?

01:08:55.250 --> 01:08:55.889
<v Speaker 0>No.

01:08:57.090 --> 01:08:58.770
<v Speaker 1>Not yet. Still time to panic.

01:09:03.854 --> 01:09:04.574
<v Speaker 0>See.

01:09:05.295 --> 01:09:08.175
<v Speaker 0>Alright. Let's see. Cloud Fire.

01:09:09.295 --> 01:09:11.535
<v Speaker 1>I can stop scrolling. Please just let me

01:09:11.535 --> 01:09:12.014
<v Speaker 1>know.

01:09:15.135 --> 01:09:17.455
<v Speaker 4>So oh, no. There's connection refused.

01:09:18.319 --> 01:09:20.800
<v Speaker 4>Before the connection refused, it says there's waiting

01:09:20.800 --> 01:09:22.640
<v Speaker 4>for API server, actually, if you if you

01:09:22.640 --> 01:09:23.439
<v Speaker 4>scroll up.

01:09:28.240 --> 01:09:30.160
<v Speaker 1>Waiting for yep. No.

01:09:41.625 --> 01:09:43.864
<v Speaker 4>Creating container manager based on.

01:09:48.090 --> 01:09:49.770
<v Speaker 1>Should we just look

01:09:49.770 --> 01:09:51.290
<v Speaker 1>through error logs?

01:09:55.450 --> 01:09:57.450
<v Speaker 0>Do we have an API server log yet?

01:09:57.450 --> 01:09:58.970
<v Speaker 0>That's not it dot log.

01:09:59.530 --> 01:10:01.130
<v Speaker 1>Oh, good good call.

01:10:12.535 --> 01:10:14.454
<v Speaker 4>No. That looks like the old one. Yeah.

01:10:14.455 --> 01:10:15.495
<v Speaker 4>Oh. Okay.

01:10:28.750 --> 01:10:30.750
<v Speaker 4>So maybe we still need a CNI plug

01:10:30.750 --> 01:10:31.630
<v Speaker 4>in thing.

01:10:32.435 --> 01:10:33.795
<v Speaker 4>Or maybe I'm wrong.

01:10:37.155 --> 01:10:40.195
<v Speaker 4>There's a there's that log about the CNI

01:10:40.195 --> 01:10:41.795
<v Speaker 4>not being initialized yet.

01:10:42.355 --> 01:10:45.235
<v Speaker 0>Okay. Let's because I I I'm really confused.

01:10:45.235 --> 01:10:46.755
<v Speaker 0>So I I feel embarrassed to do this.

01:10:46.970 --> 01:10:48.090
<v Speaker 0>But we

01:10:48.650 --> 01:10:50.810
<v Speaker 0>have a bunch of static manifests and it's

01:10:50.810 --> 01:10:52.170
<v Speaker 0>a Kubernetes manifest.

01:10:52.330 --> 01:10:53.930
<v Speaker 0>Can we verify

01:10:53.930 --> 01:10:56.170
<v Speaker 0>that any of the control plane components are

01:10:56.170 --> 01:10:57.530
<v Speaker 0>running via PS?

01:11:01.324 --> 01:11:03.005
<v Speaker 4>Oh, it can just come up with that.

01:11:03.165 --> 01:11:04.765
<v Speaker 0>Yeah. There should be a KubeScheduler,

01:11:04.765 --> 01:11:07.885
<v Speaker 0>a controller manager, an API server, and NCD.

01:11:09.405 --> 01:11:10.204
<v Speaker 0>Alright.

01:11:12.205 --> 01:11:13.804
<v Speaker 1>So NCD

01:11:13.885 --> 01:11:14.525
<v Speaker 1>is up there.

01:11:15.380 --> 01:11:18.020
<v Speaker 0>So STD and GoogLeP we have, but nothing

01:11:18.020 --> 01:11:18.820
<v Speaker 0>else.

01:11:18.980 --> 01:11:20.260
<v Speaker 1>Nothing else.

01:11:22.980 --> 01:11:24.419
<v Speaker 4>So we expect

01:11:24.739 --> 01:11:25.540
<v Speaker 4>scheduler.

01:11:35.605 --> 01:11:37.124
<v Speaker 0>So I'm

01:11:37.125 --> 01:11:40.165
<v Speaker 0>curious if we journal flu the kubelet again

01:11:40.165 --> 01:11:42.645
<v Speaker 0>and just grab for API server,

01:11:43.650 --> 01:11:45.730
<v Speaker 0>if there's anything. And if not, I'm not

01:11:45.730 --> 01:11:47.889
<v Speaker 0>actually convinced that it's trying to start it.

01:11:52.449 --> 01:11:53.969
<v Speaker 0>Yeah. That's it. Just trying to speak to

01:11:53.969 --> 01:11:54.770
<v Speaker 0>the API server.

01:11:56.355 --> 01:11:57.875
<v Speaker 0>So I'm not convinced it's trying to start

01:11:57.875 --> 01:11:59.235
<v Speaker 0>the static manifest.

01:11:59.715 --> 01:12:00.915
<v Speaker 1>Yeah. Right?

01:12:01.315 --> 01:12:02.915
<v Speaker 4>We can also check hints.

01:12:02.995 --> 01:12:05.075
<v Speaker 4>Yeah. We do have hints. We do have

01:12:05.075 --> 01:12:05.395
<v Speaker 0>hints.

01:12:10.710 --> 01:12:13.030
<v Speaker 1>Alright. Trust split verify.

01:12:18.710 --> 01:12:20.310
<v Speaker 1>Sometimes more is not better.

01:12:21.965 --> 01:12:23.084
<v Speaker 0>These are subtle.

01:12:25.724 --> 01:12:27.004
<v Speaker 4>Should we go to three?

01:12:30.684 --> 01:12:32.525
<v Speaker 0>Yeah. We got fifteen minutes left. Let's take

01:12:32.525 --> 01:12:33.565
<v Speaker 0>a look at three and see if we

01:12:33.565 --> 01:12:34.364
<v Speaker 0>got any ideas.

01:12:36.739 --> 01:12:38.420
<v Speaker 0>Alright. Okay. I think you fixed that one.

01:12:38.420 --> 01:12:39.940
<v Speaker 1>I think we fixed that one.

01:12:40.260 --> 01:12:40.980
<v Speaker 4>Yeah.

01:12:42.500 --> 01:12:44.420
<v Speaker 0>Alright. So we do have Marek saying that

01:12:44.420 --> 01:12:46.020
<v Speaker 0>he would have at this point, he would

01:12:46.020 --> 01:12:48.260
<v Speaker 0>expect the kubelet to try and start the

01:12:48.260 --> 01:12:49.060
<v Speaker 0>API server.

01:12:51.205 --> 01:12:53.045
<v Speaker 1>So I know your ports. Okay.

01:12:54.005 --> 01:12:55.764
<v Speaker 1>I could really fix that one too.

01:12:56.085 --> 01:12:57.844
<v Speaker 0>I'm gonna make a suggestion, and this is

01:12:57.844 --> 01:12:59.844
<v Speaker 0>a bit wild, but sometimes this stuff works.

01:12:59.844 --> 01:13:02.245
<v Speaker 0>Okay. If we go to the manifest directory

01:13:02.245 --> 01:13:05.525
<v Speaker 0>and let's move stuff out of it except

01:13:05.670 --> 01:13:07.349
<v Speaker 0>for etcd.

01:13:16.230 --> 01:13:17.670
<v Speaker 1>Okay. So

01:13:18.150 --> 01:13:19.510
<v Speaker 1>let me

01:13:29.775 --> 01:13:32.255
<v Speaker 0>yeah. Move yeah. That'll that'll work. Go for

01:13:32.255 --> 01:13:34.014
<v Speaker 0>it. That's the worst that could happen.

01:13:36.560 --> 01:13:38.719
<v Speaker 1>Alright. And then restart?

01:13:39.200 --> 01:13:41.360
<v Speaker 0>Restart the kubelet. Yeah. So I'd expect to

01:13:41.360 --> 01:13:44.160
<v Speaker 0>see kubelet disappear at c d. Stay as

01:13:44.160 --> 01:13:44.960
<v Speaker 0>it is.

01:13:46.239 --> 01:13:47.680
<v Speaker 0>And then we can add on the API

01:13:47.680 --> 01:13:50.000
<v Speaker 0>server and see if it helps.

01:13:57.765 --> 01:13:59.525
<v Speaker 1>CubeVip is still there

01:14:00.805 --> 01:14:01.845
<v Speaker 1>and so is that CD.

01:14:05.010 --> 01:14:06.530
<v Speaker 0>The SDD is the only one left in

01:14:06.530 --> 01:14:07.730
<v Speaker 0>that directory. Right?

01:14:08.530 --> 01:14:09.970
<v Speaker 1>Yes.

01:14:09.970 --> 01:14:11.330
<v Speaker 1>I believe so.

01:14:11.730 --> 01:14:12.449
<v Speaker 4>Yeah.

01:14:13.250 --> 01:14:15.330
<v Speaker 4>Should we move the API server in then?

01:14:20.465 --> 01:14:23.665
<v Speaker 4>A cube head is that? It

01:14:23.665 --> 01:14:26.304
<v Speaker 1>is indeed hard to write good heads.

01:14:27.985 --> 01:14:29.985
<v Speaker 0>I hope that a kill made his name

01:14:31.344 --> 01:14:32.145
<v Speaker 0>on cube head.

01:14:34.610 --> 01:14:36.449
<v Speaker 1>Yeah. We can try that.

01:14:39.570 --> 01:14:41.250
<v Speaker 1>19788.

01:14:42.610 --> 01:14:43.330
<v Speaker 0>Yeah.

01:14:45.410 --> 01:14:47.490
<v Speaker 1>Oh, give it I'm just curious if it

01:14:47.490 --> 01:14:49.250
<v Speaker 0>comes back. That's all. I mean.

01:14:50.475 --> 01:14:51.675
<v Speaker 1>Well, we can

01:14:53.275 --> 01:14:54.635
<v Speaker 1>restart the kubelot.

01:14:58.315 --> 01:15:01.755
<v Speaker 0>America's saying, does the kubelot shut down pods

01:15:01.755 --> 01:15:04.315
<v Speaker 0>when the static manifest is removed? I thought

01:15:04.315 --> 01:15:04.635
<v Speaker 0>it did.

01:15:05.340 --> 01:15:07.580
<v Speaker 0>Maybe maybe I am wrong. Oh. I think

01:15:07.580 --> 01:15:09.179
<v Speaker 0>I think it does. I do think it

01:15:09.179 --> 01:15:09.659
<v Speaker 0>does.

01:15:11.260 --> 01:15:11.900
<v Speaker 1>Well,

01:15:12.219 --> 01:15:13.820
<v Speaker 1>what was in delete me?

01:15:17.260 --> 01:15:19.580
<v Speaker 1>That was just a networking policy. Right? So

01:15:20.095 --> 01:15:22.335
<v Speaker 0>I think that break was that the because

01:15:22.335 --> 01:15:23.614
<v Speaker 0>it's not a pod,

01:15:23.935 --> 01:15:26.415
<v Speaker 0>the kubectl actually stopped on that. So maybe

01:15:32.255 --> 01:15:33.055
<v Speaker 0>I'm confused.

01:15:34.670 --> 01:15:35.309
<v Speaker 1>Yeah.

01:15:35.790 --> 01:15:38.110
<v Speaker 1>I guess we try to move the API

01:15:38.110 --> 01:15:38.909
<v Speaker 1>server

01:15:39.469 --> 01:15:40.349
<v Speaker 1>manifest

01:15:40.350 --> 01:15:42.510
<v Speaker 1>back in here. Yeah. Let's give it a

01:15:42.510 --> 01:15:42.750
<v Speaker 0>go.

01:15:50.215 --> 01:15:50.695
<v Speaker 0>Okay.

01:16:09.500 --> 01:16:12.139
<v Speaker 1>Nothing yet. You feeling brave enough to kill

01:16:12.139 --> 01:16:13.260
<v Speaker 0>minus nine at CD?

01:16:18.115 --> 01:16:19.555
<v Speaker 0>Because if right. At this point, it feels

01:16:19.555 --> 01:16:21.554
<v Speaker 0>that the Kubelet is not starting anything. Right?

01:16:22.195 --> 01:16:24.515
<v Speaker 4>Yeah. Let's check the Kubelet config. That's what

01:16:24.515 --> 01:16:25.954
<v Speaker 4>null channel is saying.

01:16:26.835 --> 01:16:28.115
<v Speaker 0>I got the boring way.

01:16:32.940 --> 01:16:35.099
<v Speaker 0>I think he needs the viral load

01:16:35.260 --> 01:16:36.940
<v Speaker 0>to let Oh, okay. Yep.

01:16:54.385 --> 01:16:56.625
<v Speaker 0>Alright. Ten minutes to go. It was

01:16:57.265 --> 01:16:57.985
<v Speaker 1>config.

01:16:58.385 --> 01:16:58.864
<v Speaker 0>Yep.

01:17:02.550 --> 01:17:05.030
<v Speaker 0>Oh, that's oh, wait. Zeros are okay.

01:17:05.430 --> 01:17:07.190
<v Speaker 0>So it's okay to see zero seconds, I

01:17:07.190 --> 01:17:07.750
<v Speaker 0>believe.

01:17:12.070 --> 01:17:14.494
<v Speaker 0>Oh, I see something. But I'm gonna I'm

01:17:14.494 --> 01:17:16.974
<v Speaker 0>gonna leave leave it. The held z port?

01:17:18.335 --> 01:17:19.695
<v Speaker 0>You can ignore that.

01:17:23.935 --> 01:17:25.935
<v Speaker 0>I'm surprised there's no header message for this,

01:17:25.935 --> 01:17:26.094
<v Speaker 0>though.

01:17:30.389 --> 01:17:31.669
<v Speaker 1>Memory swap?

01:17:32.309 --> 01:17:35.349
<v Speaker 0>That's is that okay to be empty? Yes.

01:17:35.349 --> 01:17:37.189
<v Speaker 0>But you're you're close.

01:17:38.070 --> 01:17:40.070
<v Speaker 0>Yeah. Mark's given it up already in the

01:17:40.070 --> 01:17:41.510
<v Speaker 0>chat. I was trying not to mention it,

01:17:41.510 --> 01:17:42.630
<v Speaker 0>but max pods one.

01:17:46.324 --> 01:17:48.484
<v Speaker 4>Oh, there can only be one pod running.

01:17:48.644 --> 01:17:49.124
<v Speaker 4>Ah.

01:17:50.644 --> 01:17:51.204
<v Speaker 4>It's just a

01:17:52.005 --> 01:17:54.005
<v Speaker 4>Delete. A 10. That's a good one. Yeah.

01:17:59.330 --> 01:18:01.410
<v Speaker 0>I I expected an error message from there

01:18:01.410 --> 01:18:03.650
<v Speaker 0>and from that. Robert Cable says, possibly no

01:18:03.650 --> 01:18:06.449
<v Speaker 0>error message because report frequency is off. Well,

01:18:07.970 --> 01:18:09.570
<v Speaker 1>I guess there's not an error. Right?

01:18:11.025 --> 01:18:12.705
<v Speaker 1>It did exactly what we told it to

01:18:12.705 --> 01:18:13.265
<v Speaker 1>do.

01:18:15.265 --> 01:18:16.305
<v Speaker 0>Normally,

01:18:16.305 --> 01:18:18.705
<v Speaker 0>would say couldn't start your pod because without

01:18:18.705 --> 01:18:19.905
<v Speaker 0>the max pod. Like, if you have the

01:18:19.905 --> 01:18:21.585
<v Speaker 0>10 limit and you hit it, it's very

01:18:21.585 --> 01:18:23.025
<v Speaker 0>vocal that you hit it, but then maybe

01:18:23.025 --> 01:18:25.400
<v Speaker 0>it's different for static pods. I'm not entirely

01:18:25.400 --> 01:18:26.040
<v Speaker 0>sure.

01:18:27.640 --> 01:18:30.520
<v Speaker 0>But good break. Nice one, Nice.

01:18:37.880 --> 01:18:38.200
<v Speaker 4>Yeah.

01:18:41.355 --> 01:18:42.155
<v Speaker 0>Hey.

01:18:42.875 --> 01:18:43.754
<v Speaker 0>How's up?

01:18:44.715 --> 01:18:45.354
<v Speaker 4>Nice.

01:18:47.114 --> 01:18:47.834
<v Speaker 4>Oh.

01:18:48.954 --> 01:18:49.834
<v Speaker 4>Oh, did it wrong.

01:18:50.554 --> 01:18:51.195
<v Speaker 1>Do that.

01:18:55.199 --> 01:18:57.439
<v Speaker 0>There we go. Oh, lots of stuff.

01:18:57.760 --> 01:18:58.719
<v Speaker 1>Oh, boy.

01:19:00.639 --> 01:19:03.679
<v Speaker 4>Oh, there's probably a deployment that's, like, making

01:19:03.679 --> 01:19:05.520
<v Speaker 1>thousand and the replicas.

01:19:06.054 --> 01:19:07.655
<v Speaker 0>Oh, a 79

01:19:07.655 --> 01:19:08.534
<v Speaker 0>requested.

01:19:09.815 --> 01:19:11.414
<v Speaker 0>And I could just I'm there straight with

01:19:11.414 --> 01:19:13.014
<v Speaker 0>it delete. Like, go away. We don't we

01:19:13.014 --> 01:19:15.414
<v Speaker 0>don't care. Oh, I get NGINX here. What

01:19:15.414 --> 01:19:17.494
<v Speaker 1>what is busy bugs doing over here?

01:19:21.030 --> 01:19:22.950
<v Speaker 0>Hey. Robert, table said this is the less

01:19:22.950 --> 01:19:25.670
<v Speaker 0>is not less is not more. Yeah. There

01:19:25.670 --> 01:19:27.590
<v Speaker 0>was a hint about that, wasn't there? Yeah.

01:19:36.925 --> 01:19:37.724
<v Speaker 1>So

01:19:37.804 --> 01:19:39.405
<v Speaker 1>Postgres is running.

01:19:42.205 --> 01:19:42.605
<v Speaker 4>Yeah.

01:19:44.720 --> 01:19:47.200
<v Speaker 4>NGINX is DDoSing our cluster.

01:19:49.680 --> 01:19:50.880
<v Speaker 1>And

01:19:51.840 --> 01:19:53.760
<v Speaker 1>nothing about why this is pending.

01:20:00.375 --> 01:20:01.574
<v Speaker 0>Be that NGINX doesn't

01:20:03.574 --> 01:20:04.215
<v Speaker 4>sorry?

01:20:05.255 --> 01:20:07.335
<v Speaker 4>It could be the pod limit that we're

01:20:07.335 --> 01:20:07.975
<v Speaker 4>still reaching.

01:20:10.040 --> 01:20:12.040
<v Speaker 1>It should be terminating these. Right?

01:20:13.560 --> 01:20:16.520
<v Speaker 0>So I mean, they they are terminating. But

01:20:19.400 --> 01:20:22.040
<v Speaker 0>your worker online? Is the Kubelet online for

01:20:22.040 --> 01:20:22.520
<v Speaker 0>that worker?

01:20:23.425 --> 01:20:24.945
<v Speaker 1>Oh, we don't know.

01:20:25.425 --> 01:20:27.505
<v Speaker 1>Do we have a session for that yet?

01:20:27.665 --> 01:20:28.784
<v Speaker 0>Oh, you can see it from k n

01:20:29.025 --> 01:20:30.784
<v Speaker 0>check nodes. Yeah.

01:20:31.344 --> 01:20:32.385
<v Speaker 1>Oh, yep.

01:20:34.304 --> 01:20:36.065
<v Speaker 0>Yeah. So if we don't get a kubelet

01:20:36.065 --> 01:20:38.385
<v Speaker 0>report and status, those terminates will never complete.

01:20:41.080 --> 01:20:41.880
<v Speaker 1>Alright.

01:20:43.000 --> 01:20:44.280
<v Speaker 0>Open a session.

01:20:52.295 --> 01:20:53.095
<v Speaker 0>Alright.

01:20:53.255 --> 01:20:53.735
<v Speaker 0>There.

01:21:03.300 --> 01:21:05.460
<v Speaker 1>I will remember to join the session.

01:21:18.515 --> 01:21:20.515
<v Speaker 0>No cubelet. That's a problem.

01:21:22.995 --> 01:21:24.995
<v Speaker 0>Another problem is six minutes left.

01:21:31.300 --> 01:21:32.580
<v Speaker 1>VLC?

01:21:33.460 --> 01:21:36.180
<v Speaker 1>I do not remember these. FLU is the

01:21:36.180 --> 01:21:37.620
<v Speaker 0>one I tend to use. FLU.

01:21:51.165 --> 01:21:53.565
<v Speaker 0>Could not find the container destock it.

01:21:54.685 --> 01:21:55.005
<v Speaker 1>Yep.

01:21:59.870 --> 01:22:02.430
<v Speaker 4>I would apologize to Pixi Labs, but you

01:22:02.430 --> 01:22:03.310
<v Speaker 4>touched ETCD.

01:22:11.645 --> 01:22:14.764
<v Speaker 1>Does your ACTL tell me anything about container

01:22:14.764 --> 01:22:15.724
<v Speaker 1>d running?

01:22:15.885 --> 01:22:16.844
<v Speaker 0>No. Yeah.

01:22:17.085 --> 01:22:18.684
<v Speaker 0>I mean, you can use system controls data

01:22:18.684 --> 01:22:20.525
<v Speaker 0>as container d for a quick

01:22:21.620 --> 01:22:22.820
<v Speaker 1>quick look.

01:22:28.740 --> 01:22:30.100
<v Speaker 1>Claims to be running.

01:22:31.780 --> 01:22:32.980
<v Speaker 0>It does.

01:22:36.554 --> 01:22:37.994
<v Speaker 4>Is it at the right sock?

01:22:38.315 --> 01:22:40.794
<v Speaker 1>Oh, Kubernetes dot sock.

01:22:42.795 --> 01:22:44.314
<v Speaker 0>Yeah. That would be a problem.

01:22:45.994 --> 01:22:48.474
<v Speaker 1>Where is the container deconfig?

01:22:49.420 --> 01:22:52.380
<v Speaker 0>Use system control cat. It is always your

01:22:52.380 --> 01:22:53.980
<v Speaker 0>friend. Oh, d units.

01:23:05.065 --> 01:23:06.985
<v Speaker 4>Just user bin container d.

01:23:10.105 --> 01:23:12.025
<v Speaker 1>Where do you see that? Yep. Yep.

01:23:12.345 --> 01:23:14.265
<v Speaker 4>Exec start. Oh, no. That's just the that's

01:23:14.265 --> 01:23:15.385
<v Speaker 1>just the exec.

01:23:16.585 --> 01:23:18.025
<v Speaker 4>Oh oh, my bad. My bad.

01:23:18.800 --> 01:23:21.600
<v Speaker 1>Yeah. That is a good directory or something.

01:23:22.800 --> 01:23:25.360
<v Speaker 0>You can check-in slash e t c for

01:23:25.360 --> 01:23:27.120
<v Speaker 0>a container config file.

01:23:28.080 --> 01:23:30.080
<v Speaker 0>That that would be the default location at

01:23:30.080 --> 01:23:30.320
<v Speaker 0>least.

01:23:41.304 --> 01:23:43.625
<v Speaker 4>Google. Google. Alright. I love it when the

01:23:43.625 --> 01:23:45.385
<v Speaker 0>cursor just lands right on the break.

01:23:46.230 --> 01:23:46.869
<v Speaker 4>Yeah.

01:23:48.230 --> 01:23:49.670
<v Speaker 4>Oh, I think you might have had a

01:23:49.670 --> 01:23:50.309
<v Speaker 1>typo.

01:23:51.110 --> 01:23:51.989
<v Speaker 1>Oops.

01:23:52.309 --> 01:23:53.269
<v Speaker 1>Good catch.

01:23:54.550 --> 01:23:56.149
<v Speaker 4>Nice. And a

01:24:01.435 --> 01:24:02.955
<v Speaker 1>I can type sometimes.

01:24:03.515 --> 01:24:04.955
<v Speaker 0>You know, I was told from the container

01:24:04.955 --> 01:24:07.435
<v Speaker 0>team that's print out container, but I still

01:24:07.435 --> 01:24:08.715
<v Speaker 0>call it container d.

01:24:12.555 --> 01:24:14.250
<v Speaker 0>I don't think I've ever heard Amazon say

01:24:14.250 --> 01:24:15.770
<v Speaker 0>there's a container d team meant to say

01:24:15.770 --> 01:24:16.889
<v Speaker 0>it as container.

01:24:19.610 --> 01:24:21.130
<v Speaker 1>I guess we can

01:24:21.290 --> 01:24:22.889
<v Speaker 1>restart Kubelet too.

01:24:27.605 --> 01:24:28.725
<v Speaker 0>That wouldn't hurt. Yep.

01:24:40.470 --> 01:24:42.949
<v Speaker 0>Can do a system control restart kubelet.

01:24:46.150 --> 01:24:48.390
<v Speaker 1>Oh, that was a status. I thought I

01:24:48.390 --> 01:24:49.990
<v Speaker 1>definitely typed restart.

01:24:58.415 --> 01:24:59.135
<v Speaker 1>Alright.

01:25:01.055 --> 01:25:04.095
<v Speaker 0>Yeah. Interesting, James. Is it Nerd Control or

01:25:04.415 --> 01:25:06.495
<v Speaker 0>I think it officially, it's Nerd Control.

01:25:08.670 --> 01:25:09.790
<v Speaker 4>NerdyControl.

01:25:09.790 --> 01:25:10.910
<v Speaker 4>NerdyControl.

01:25:10.910 --> 01:25:13.070
<v Speaker 0>Yeah. I'm not I'll need to Not nerd.

01:25:14.030 --> 01:25:15.310
<v Speaker 4>Not nerd cuddle.

01:25:18.590 --> 01:25:20.110
<v Speaker 0>Nerd cuddle. I mean

01:25:21.790 --> 01:25:23.675
<v Speaker 1>favorite My favorite was Quebec del. So you

01:25:23.675 --> 01:25:25.114
<v Speaker 1>know? Quebec.

01:25:26.155 --> 01:25:28.554
<v Speaker 0>So many ways. Alright. You have a kubelet.

01:25:28.554 --> 01:25:31.034
<v Speaker 0>I that should be reporting statuses. Your API

01:25:31.034 --> 01:25:33.034
<v Speaker 0>server, hopefully, is now

01:25:33.514 --> 01:25:35.195
<v Speaker 0>terminated a whole bunch of yo. That it

01:25:35.195 --> 01:25:36.474
<v Speaker 0>looks better. Oh, that's node.

01:25:37.489 --> 01:25:39.650
<v Speaker 1>Nope. The node's not ready yet.

01:25:40.370 --> 01:25:42.130
<v Speaker 4>Should we tail the logs?

01:25:45.730 --> 01:25:47.570
<v Speaker 0>I would check your should put logs on

01:25:47.570 --> 01:25:49.090
<v Speaker 0>that worker again then.

01:25:49.410 --> 01:25:50.050
<v Speaker 3>Yeah.

01:25:53.010 --> 01:25:54.405
<v Speaker 0>Yeah. Oh, it's just not started yet? Is

01:25:54.405 --> 01:25:56.244
<v Speaker 0>that it? Or did you restart it there?

01:25:56.725 --> 01:25:58.804
<v Speaker 0>No. It's 55.

01:25:58.804 --> 01:25:59.604
<v Speaker 1>It's running?

01:26:01.045 --> 01:26:02.885
<v Speaker 4>Started Kubelet as run once.

01:26:04.170 --> 01:26:05.210
<v Speaker 0>Yeah.

01:26:05.210 --> 01:26:06.489
<v Speaker 0>That's not cool.

01:26:07.850 --> 01:26:09.849
<v Speaker 4>Started Kubelet as what run once?

01:26:11.610 --> 01:26:12.249
<v Speaker 0>Yeah.

01:26:12.890 --> 01:26:14.489
<v Speaker 0>I think they've broken more stuff in your

01:26:14.489 --> 01:26:15.610
<v Speaker 0>Kubelet config

01:26:16.890 --> 01:26:18.410
<v Speaker 0>or container d

01:26:18.755 --> 01:26:19.715
<v Speaker 0>config.

01:26:19.955 --> 01:26:21.235
<v Speaker 0>And but there's a bunch of

01:26:21.635 --> 01:26:23.875
<v Speaker 0>interesting things in that log mess. Well,

01:26:24.675 --> 01:26:26.595
<v Speaker 1>you know, we can we can check that.

01:26:26.595 --> 01:26:27.155
<v Speaker 1>Okay.

01:26:28.675 --> 01:26:30.755
<v Speaker 1>No no hints on the worker node.

01:26:34.179 --> 01:26:35.460
<v Speaker 0>I mean, I can just throw something out

01:26:35.460 --> 01:26:37.219
<v Speaker 0>there. You do not need a container deconfig

01:26:37.219 --> 01:26:37.860
<v Speaker 0>file.

01:26:40.820 --> 01:26:41.619
<v Speaker 1>Alright.

01:26:43.540 --> 01:26:45.540
<v Speaker 0>But you're also gonna wanna remove that run

01:26:45.540 --> 01:26:48.525
<v Speaker 0>once in the kubelet. That is a system

01:26:48.525 --> 01:26:49.885
<v Speaker 0>decent if you're not aware.

01:26:55.405 --> 01:26:57.565
<v Speaker 0>So you need the system control

01:26:57.565 --> 01:26:58.445
<v Speaker 0>cat

01:26:58.525 --> 01:27:00.125
<v Speaker 0>kubelet, and that will tell you where the

01:27:00.125 --> 01:27:01.005
<v Speaker 0>unit fail is.

01:27:04.650 --> 01:27:07.050
<v Speaker 0>That's the sneaky one for people. It depends

01:27:07.050 --> 01:27:08.489
<v Speaker 0>on if you're comfortable with

01:27:08.730 --> 01:27:09.689
<v Speaker 0>system d.

01:27:10.010 --> 01:27:12.570
<v Speaker 0>Yeah. Lab systemdsystemkubelet.service

01:27:12.570 --> 01:27:14.090
<v Speaker 0>jump into that fail.

01:27:15.095 --> 01:27:17.975
<v Speaker 1>Wait. Sorry. It was lib The

01:27:18.215 --> 01:27:20.615
<v Speaker 0>first line after the cat. Yeah. Just just

01:27:20.615 --> 01:27:22.295
<v Speaker 4>copy it. Oh, okay. Okay.

01:27:29.090 --> 01:27:30.369
<v Speaker 1>That was interesting.

01:27:37.810 --> 01:27:39.250
<v Speaker 1>This seems fine. Right?

01:27:42.485 --> 01:27:44.165
<v Speaker 0>This is where my system do acknowledge and

01:27:44.165 --> 01:27:45.764
<v Speaker 0>let me down. I would maybe add to

01:27:45.764 --> 01:27:46.644
<v Speaker 0>the service.

01:27:51.205 --> 01:27:53.205
<v Speaker 0>I wonder if run once is a default

01:27:53.205 --> 01:27:54.725
<v Speaker 0>if you had to add type simple.

01:27:55.230 --> 01:27:57.470
<v Speaker 0>Someone in the comments help us out. What's

01:27:57.470 --> 01:27:59.150
<v Speaker 0>the best way for this to get fixed?

01:28:02.590 --> 01:28:03.630
<v Speaker 1>Let's

01:28:03.630 --> 01:28:03.950
<v Speaker 1>see.

01:28:08.765 --> 01:28:11.165
<v Speaker 3>Oh, it's a cubit config. Cubit config. I

01:28:11.165 --> 01:28:12.925
<v Speaker 0>saw it in system d config.

01:28:14.765 --> 01:28:15.645
<v Speaker 0>Is that corrected?

01:28:24.320 --> 01:28:27.119
<v Speaker 0>There it is. Ah, run one. Yeah.

01:28:30.639 --> 01:28:32.080
<v Speaker 0>I wonder what the use case for that

01:28:32.080 --> 01:28:33.840
<v Speaker 0>is. Someone go find that PR.

01:28:39.575 --> 01:28:41.575
<v Speaker 0>Alright. Our time is up, but we're close.

01:28:41.575 --> 01:28:43.335
<v Speaker 0>So let's let's see this. Alright.

01:28:45.255 --> 01:28:47.415
<v Speaker 0>Oh, yeah. Mara said it's also a system

01:28:47.415 --> 01:28:49.015
<v Speaker 0>deconfig. Yeah. Thanks for that.

01:28:50.810 --> 01:28:52.330
<v Speaker 0>Yeah. You'll need to do a daemon reload

01:28:52.330 --> 01:28:54.010
<v Speaker 0>because we modified the

01:28:55.130 --> 01:28:56.250
<v Speaker 0>the units

01:28:56.330 --> 01:28:56.969
<v Speaker 0>fail.

01:28:58.170 --> 01:28:58.650
<v Speaker 1>Alright.

01:29:08.475 --> 01:29:10.795
<v Speaker 1>It's just system System CTL.

01:29:10.635 --> 01:29:11.195
<v Speaker 0>Reload.

01:29:11.595 --> 01:29:12.795
<v Speaker 0>And daemon dash reload.

01:29:18.300 --> 01:29:19.019
<v Speaker 0>Yeah.

01:29:22.380 --> 01:29:24.139
<v Speaker 0>They just delete the kubelet. Them and reload

01:29:24.139 --> 01:29:25.739
<v Speaker 0>will reload all the unit files,

01:29:26.940 --> 01:29:28.699
<v Speaker 0>and then you can restart the kubelet from

01:29:28.699 --> 01:29:29.260
<v Speaker 0>there.

01:29:31.260 --> 01:29:31.739
<v Speaker 1>Alright.

01:29:33.465 --> 01:29:35.305
<v Speaker 0>Maybe it's working. I don't know.

01:29:36.985 --> 01:29:37.625
<v Speaker 1>Yep.

01:29:38.185 --> 01:29:39.625
<v Speaker 1>It Working heads up.

01:29:41.785 --> 01:29:43.864
<v Speaker 1>Hasn't terminated anything yet.

01:29:44.265 --> 01:29:44.585
<v Speaker 1>But

01:29:45.945 --> 01:29:47.225
<v Speaker 1>Do you wanna do you wanna edit the

01:29:47.225 --> 01:29:47.625
<v Speaker 4>deployment?

01:29:48.280 --> 01:29:49.080
<v Speaker 4>Oh, no.

01:29:50.520 --> 01:29:51.239
<v Speaker 4>Why?

01:30:00.040 --> 01:30:02.920
<v Speaker 4>Edit the deployment for

01:30:03.755 --> 01:30:06.475
<v Speaker 4>for cluster d. So if it works, you

01:30:06.475 --> 01:30:09.195
<v Speaker 4>know, it'll just start. Alex saying you're trippers.

01:30:09.195 --> 01:30:10.955
<v Speaker 0>He handed you a dumpster fire.

01:30:14.235 --> 01:30:16.395
<v Speaker 0>Kevin suggested that people are playing the long

01:30:16.395 --> 01:30:18.520
<v Speaker 0>game and adding features to the just for

01:30:18.520 --> 01:30:20.760
<v Speaker 0>use on clustered. So if that's why Rawkode

01:30:20.760 --> 01:30:22.519
<v Speaker 0>was added, that would be great question.

01:30:25.719 --> 01:30:27.639
<v Speaker 1>Let's just do if not present,

01:30:28.679 --> 01:30:30.120
<v Speaker 1>and hope that it's been cached.

01:30:35.414 --> 01:30:37.014
<v Speaker 1>Scheduler is broken.

01:30:37.655 --> 01:30:39.974
<v Speaker 0>You can bypass the scheduler. I

01:30:42.215 --> 01:30:43.335
<v Speaker 1>don't think I know how.

01:30:43.960 --> 01:30:46.120
<v Speaker 0>Edit the deployment, jump down to the templates

01:30:46.120 --> 01:30:47.800
<v Speaker 0>back, and add node name.

01:30:52.440 --> 01:30:54.360
<v Speaker 0>My favorite hack on cluster. They do it

01:30:54.360 --> 01:30:54.920
<v Speaker 0>all the time.

01:30:56.135 --> 01:30:57.094
<v Speaker 0>A template

01:30:57.415 --> 01:30:59.655
<v Speaker 1>It's just that. Bet. Yep. So you're in

01:30:59.655 --> 01:31:02.614
<v Speaker 0>the yep. And then there, add node name

01:31:02.614 --> 01:31:04.775
<v Speaker 0>with a capital n for name, and then

01:31:04.775 --> 01:31:05.574
<v Speaker 0>just do

01:31:05.975 --> 01:31:08.215
<v Speaker 0>air spike worker one. Air spike worker one.

01:31:08.930 --> 01:31:10.930
<v Speaker 0>Yep. There's Russell in the comments. Here comes

01:31:10.930 --> 01:31:12.290
<v Speaker 0>the Rawkode scheduler.

01:31:14.610 --> 01:31:16.850
<v Speaker 0>Honestly, I tell everybody about that trick. I'm

01:31:16.850 --> 01:31:18.690
<v Speaker 0>like, we don't need a scheduler. Like, just

01:31:18.690 --> 01:31:20.850
<v Speaker 0>never waste time fixing the scheduler on cluster.

01:31:25.795 --> 01:31:27.155
<v Speaker 1>Something something is

01:31:29.955 --> 01:31:32.355
<v Speaker 0>Yeah. Something is controlled busy box.

01:31:37.580 --> 01:31:40.060
<v Speaker 0>Is there another break? Airspike.

01:31:40.060 --> 01:31:40.860
<v Speaker 0>Come on.

01:31:44.219 --> 01:31:45.900
<v Speaker 0>Does that busy box keep coming back?

01:31:47.745 --> 01:31:49.905
<v Speaker 1>I was deleting it at the wrong level.

01:31:50.225 --> 01:31:51.025
<v Speaker 0>Alright.

01:31:51.025 --> 01:31:51.985
<v Speaker 0>Alright. Alright.

01:31:53.345 --> 01:31:54.465
<v Speaker 1>Space.

01:31:55.265 --> 01:31:57.585
<v Speaker 0>Alright. Do we have a clustered v two?

01:32:03.000 --> 01:32:05.239
<v Speaker 0>Woah. What's going on with the cluster deploy?

01:32:06.599 --> 01:32:07.800
<v Speaker 1>I'll set it in the day.

01:32:13.239 --> 01:32:14.840
<v Speaker 0>How many replica sets do we have?

01:32:18.245 --> 01:32:19.205
<v Speaker 1>Interesting.

01:32:20.885 --> 01:32:22.165
<v Speaker 1>Oh. Oh, that

01:32:24.085 --> 01:32:25.925
<v Speaker 1>one's gone. Right?

01:32:26.165 --> 01:32:28.405
<v Speaker 4>Oh, is the deployment is the deployment set

01:32:28.405 --> 01:32:29.605
<v Speaker 4>to only

01:32:30.210 --> 01:32:32.210
<v Speaker 4>deploy one or something? Well,

01:32:32.610 --> 01:32:35.090
<v Speaker 1>it doesn't wanna scale down to one.

01:32:36.770 --> 01:32:38.450
<v Speaker 0>And Russell said he hasn't seen out of

01:32:38.450 --> 01:32:40.210
<v Speaker 0>pods before. That's when you hit the max

01:32:40.210 --> 01:32:41.490
<v Speaker 0>pod limit on a kubelet,

01:32:41.845 --> 01:32:44.005
<v Speaker 0>which is a 10. Which which

01:32:44.245 --> 01:32:45.445
<v Speaker 1>is 10.

01:32:46.325 --> 01:32:47.445
<v Speaker 0>But

01:32:48.085 --> 01:32:49.605
<v Speaker 0>something is creating loads

01:32:50.005 --> 01:32:52.405
<v Speaker 0>and loads of cluster pods.

01:32:53.925 --> 01:32:56.485
<v Speaker 1>These are controlled by a replica set by

01:32:56.485 --> 01:32:58.400
<v Speaker 1>five seven nine.

01:33:05.680 --> 01:33:07.760
<v Speaker 1>And it wants to keep coming back?

01:33:09.040 --> 01:33:10.480
<v Speaker 4>No. I don't I don't think it would

01:33:10.480 --> 01:33:11.280
<v Speaker 4>create the same one.

01:33:13.204 --> 01:33:14.804
<v Speaker 4>Yeah. I think the worker might have its

01:33:14.804 --> 01:33:15.925
<v Speaker 4>own max pods.

01:33:16.324 --> 01:33:18.724
<v Speaker 4>Yeah. Yeah. Yeah. Yeah. You can change your

01:33:18.724 --> 01:33:20.405
<v Speaker 0>note name to the control plane and remove

01:33:20.405 --> 01:33:22.644
<v Speaker 0>the tint if you wanna just quickly get

01:33:22.644 --> 01:33:23.204
<v Speaker 0>this

01:33:23.605 --> 01:33:24.484
<v Speaker 0>working.

01:33:24.644 --> 01:33:25.125
<v Speaker 1>Alright.

01:33:26.100 --> 01:33:28.340
<v Speaker 0>Super hacky mode there. Right?

01:33:36.260 --> 01:33:37.539
<v Speaker 1>Control

01:33:37.860 --> 01:33:39.139
<v Speaker 1>plane one.

01:33:40.845 --> 01:33:43.325
<v Speaker 1>So I get that right? I think so.

01:33:43.325 --> 01:33:43.885
<v Speaker 0>Yeah.

01:33:44.365 --> 01:33:45.085
<v Speaker 1>Okay.

01:33:49.565 --> 01:33:51.405
<v Speaker 1>Schedule name Bobs.

01:33:51.565 --> 01:33:53.645
<v Speaker 0>And then if you go to get nodes.

01:33:53.645 --> 01:33:53.885
<v Speaker 0>Yeah.

01:33:55.050 --> 01:33:55.530
<v Speaker 1>Yep.

01:34:07.705 --> 01:34:11.145
<v Speaker 1>I guess delete that too. Yep. Can can

01:34:11.145 --> 01:34:13.305
<v Speaker 1>you have no spec? Can't. Alright.

01:34:18.585 --> 01:34:19.625
<v Speaker 1>It's creating. Creating.

01:34:20.350 --> 01:34:22.110
<v Speaker 0>Alright. Let's see if we have a

01:34:22.510 --> 01:34:24.030
<v Speaker 0>let's see if we got the dance.

01:34:31.310 --> 01:34:31.710
<v Speaker 0>No.

01:34:35.395 --> 01:34:37.235
<v Speaker 0>Come on. There can't be any more breaks.

01:34:37.235 --> 01:34:38.594
<v Speaker 0>Do we have a service?

01:34:46.755 --> 01:34:47.955
<v Speaker 1>We do have a service.

01:34:49.610 --> 01:34:51.530
<v Speaker 4>If you click on the service, it does.

01:34:51.530 --> 01:34:54.570
<v Speaker 4>I guess, will it resolve to the cluster?

01:34:55.050 --> 01:34:57.769
<v Speaker 0>Yeah. Does the clustered service have any endpoint?

01:34:58.409 --> 01:34:59.130
<v Speaker 0>No.

01:35:00.889 --> 01:35:02.889
<v Speaker 4>You can just enter. If you

01:35:03.305 --> 01:35:04.344
<v Speaker 4>if you

01:35:05.385 --> 01:35:06.105
<v Speaker 4>k

01:35:09.945 --> 01:35:12.344
<v Speaker 4>k nine s usually maps the service to

01:35:12.345 --> 01:35:14.585
<v Speaker 4>a pod. Node port. Node port.

01:35:16.480 --> 01:35:18.400
<v Speaker 1>This is supposed to be a Node port.

01:35:18.400 --> 01:35:20.639
<v Speaker 1>Right? Yeah. It is. It is.

01:35:23.360 --> 01:35:24.959
<v Speaker 0>Is there a selector

01:35:25.040 --> 01:35:27.919
<v Speaker 0>on the service? Yeah. App clustered.

01:35:28.239 --> 01:35:30.800
<v Speaker 0>Is our deployment not got those labels?

01:35:32.045 --> 01:35:34.364
<v Speaker 0>Let's see. Is there a network policy still?

01:35:34.525 --> 01:35:36.765
<v Speaker 4>We're getting a clue. Ah.

01:35:38.685 --> 01:35:40.685
<v Speaker 4>Check the network policy, CRD.

01:35:44.719 --> 01:35:46.159
<v Speaker 1>It's just NetPoles?

01:35:46.160 --> 01:35:47.760
<v Speaker 4>Oh oh, but yeah.

01:35:50.719 --> 01:35:52.639
<v Speaker 0>This was an absolute

01:35:52.719 --> 01:35:53.680
<v Speaker 0>dumpster fire.

01:35:56.375 --> 01:35:59.094
<v Speaker 0>Not yet. Any settling of network policies?

01:36:00.535 --> 01:36:01.415
<v Speaker 4>Are we still getting

01:36:03.335 --> 01:36:05.574
<v Speaker 0>There's CMPs and CCMPs.

01:36:08.614 --> 01:36:09.094
<v Speaker 0>Nope.

01:36:10.900 --> 01:36:11.620
<v Speaker 0>Nope.

01:36:15.060 --> 01:36:18.580
<v Speaker 1>I think the pod hasn't been created yet.

01:36:18.740 --> 01:36:20.660
<v Speaker 0>Oh, I thought we got it. I

01:36:21.460 --> 01:36:23.300
<v Speaker 1>think it was stuck on container creating.

01:36:23.835 --> 01:36:25.355
<v Speaker 4>There's

01:36:25.355 --> 01:36:27.275
<v Speaker 4>no there's no oh.

01:36:27.835 --> 01:36:29.755
<v Speaker 1>William API client time out.

01:36:38.590 --> 01:36:40.110
<v Speaker 0>Alright. I don't think the error spike could

01:36:40.110 --> 01:36:41.630
<v Speaker 0>get invited back. Okay.

01:36:49.345 --> 01:36:52.385
<v Speaker 4>Maybe try deleting it and restarting it. So

01:36:54.305 --> 01:36:56.385
<v Speaker 4>no. Not the don't restart the cube. Restart

01:36:56.385 --> 01:36:56.945
<v Speaker 4>the

01:36:57.265 --> 01:36:59.505
<v Speaker 4>pod or kill the pod, and then we'll

01:36:59.505 --> 01:37:01.185
<v Speaker 4>just see if it gets reset. Sure.

01:37:02.199 --> 01:37:02.840
<v Speaker 1>Yeah.

01:37:03.159 --> 01:37:04.599
<v Speaker 1>I mean, I think the new one's gonna

01:37:04.599 --> 01:37:05.800
<v Speaker 1>also get stuck,

01:37:05.960 --> 01:37:06.519
<v Speaker 1>presumably.

01:37:08.119 --> 01:37:09.800
<v Speaker 4>Might have still been using the old network

01:37:09.800 --> 01:37:10.679
<v Speaker 4>policy or something.

01:37:14.784 --> 01:37:15.504
<v Speaker 4>Yep.

01:37:17.744 --> 01:37:20.144
<v Speaker 1>I'm still curious to know what's creating this

01:37:20.304 --> 01:37:21.425
<v Speaker 1>on the worker.

01:37:21.824 --> 01:37:23.585
<v Speaker 0>Yeah. That's a lot of pods for a

01:37:23.585 --> 01:37:25.344
<v Speaker 0>replica set set to two.

01:37:25.905 --> 01:37:27.824
<v Speaker 0>I guess the Kubla config is maybe still

01:37:27.824 --> 01:37:30.370
<v Speaker 0>max pods on one of the node.

01:37:31.730 --> 01:37:33.170
<v Speaker 0>I mean, we still have a session over

01:37:33.170 --> 01:37:34.130
<v Speaker 0>there, don't we?

01:37:40.770 --> 01:37:43.170
<v Speaker 0>And fire that kubelet config dot yaml.

01:37:45.614 --> 01:37:47.135
<v Speaker 0>Well, just give us a few more minutes,

01:37:47.135 --> 01:37:48.815
<v Speaker 0>and we'll see if we can find whatever

01:37:48.815 --> 01:37:50.974
<v Speaker 0>random thing is left here. But oh, yeah.

01:37:50.974 --> 01:37:52.415
<v Speaker 0>MaxPods one. There you go.

01:38:09.615 --> 01:38:11.775
<v Speaker 4>Strange. Oh, there was something alive there. Was

01:38:11.775 --> 01:38:13.534
<v Speaker 4>it or is that the old one still?

01:38:15.935 --> 01:38:18.335
<v Speaker 1>What's our newest deployment? This

01:38:19.295 --> 01:38:20.895
<v Speaker 0>Yeah. That look that look Nope.

01:38:21.935 --> 01:38:24.015
<v Speaker 1>It's still on container creating. Right?

01:38:29.360 --> 01:38:31.040
<v Speaker 1>Out of memory, out of disk.

01:38:32.400 --> 01:38:34.720
<v Speaker 4>The disk is rather large on these machines.

01:38:36.400 --> 01:38:38.960
<v Speaker 0>Yeah. We got tons of tons of memory,

01:38:38.960 --> 01:38:39.840
<v Speaker 0>tons of cores.

01:38:42.475 --> 01:38:43.995
<v Speaker 0>You I mean, you can remove those limits

01:38:43.995 --> 01:38:45.675
<v Speaker 0>and requests. I don't think I even added

01:38:45.675 --> 01:38:47.514
<v Speaker 0>them. So Yeah.

01:38:47.915 --> 01:38:49.355
<v Speaker 4>I think those are usually

01:38:49.675 --> 01:38:51.675
<v Speaker 4>they'll show up in the events. So

01:38:52.970 --> 01:38:55.530
<v Speaker 0>You're adding the pods instead of the deployment?

01:38:56.090 --> 01:38:57.290
<v Speaker 1>Yep. I

01:38:58.810 --> 01:39:00.970
<v Speaker 0>have I can't I can't explain that pod

01:39:00.970 --> 01:39:03.610
<v Speaker 0>behavior why there's so many. That's

01:39:05.210 --> 01:39:06.090
<v Speaker 0>that's weird.

01:39:10.345 --> 01:39:12.745
<v Speaker 1>I'm I'm surprised that I can't seem to

01:39:12.745 --> 01:39:14.585
<v Speaker 1>get rid of the replica set that's creating

01:39:14.585 --> 01:39:15.225
<v Speaker 1>them,

01:39:18.505 --> 01:39:19.945
<v Speaker 1>which is 579.

01:39:19.945 --> 01:39:20.185
<v Speaker 1>Right?

01:39:22.000 --> 01:39:24.480
<v Speaker 0>Wait. So canines does this is one of

01:39:24.480 --> 01:39:26.159
<v Speaker 0>the we've seen this before, actually. Drop out

01:39:26.159 --> 01:39:27.760
<v Speaker 0>of canines, and I bet if you delete

01:39:27.760 --> 01:39:30.079
<v Speaker 0>it from the CLI, you'll get another message.

01:39:30.719 --> 01:39:32.400
<v Speaker 0>We have seen we have seen this before.

01:39:35.385 --> 01:39:37.864
<v Speaker 0>That's the key that's can I propagate all

01:39:37.864 --> 01:39:38.985
<v Speaker 0>the stuff? Yeah.

01:39:40.585 --> 01:39:42.585
<v Speaker 0>If you try to get replica sets and

01:39:42.585 --> 01:39:44.344
<v Speaker 0>then try to keep control delete r s

01:39:44.344 --> 01:39:46.425
<v Speaker 0>with the name, you'll probably get the correct

01:39:46.425 --> 01:39:47.145
<v Speaker 0>error message.

01:39:48.380 --> 01:39:50.459
<v Speaker 1>So we want to keep

01:39:50.940 --> 01:39:52.380
<v Speaker 1>we wanna get rid of

01:39:53.260 --> 01:39:55.260
<v Speaker 1>all of them besides the newest.

01:39:55.980 --> 01:39:58.219
<v Speaker 1>Yeah. Yeah. I mean, you could just delete

01:39:58.219 --> 01:39:59.739
<v Speaker 0>every replica set in the cluster if you

01:39:59.739 --> 01:40:01.500
<v Speaker 0>really want just to attach that at all.

01:40:01.500 --> 01:40:03.739
<v Speaker 0>Like, this deployment controller will bring them back.

01:40:09.074 --> 01:40:10.514
<v Speaker 0>That actually worked,

01:40:10.835 --> 01:40:11.074
<v Speaker 0>surprisingly.

01:40:21.330 --> 01:40:22.210
<v Speaker 1>Alright.

01:40:23.810 --> 01:40:24.690
<v Speaker 1>And then

01:40:31.875 --> 01:40:33.875
<v Speaker 0>Did they just pull an image maybe?

01:40:35.635 --> 01:40:37.635
<v Speaker 0>What node is that? Again.

01:40:41.475 --> 01:40:42.595
<v Speaker 1>You start cube

01:40:43.315 --> 01:40:44.835
<v Speaker 1>let on control plane.

01:40:47.000 --> 01:40:49.559
<v Speaker 1>Don't why. I don't think we need to

01:40:55.000 --> 01:40:56.760
<v Speaker 4>It's on control plane. So Okay.

01:40:57.160 --> 01:40:58.520
<v Speaker 0>Wait. What's this telling us?

01:41:03.405 --> 01:41:04.844
<v Speaker 1>No. No. That's

01:41:05.805 --> 01:41:07.005
<v Speaker 1>stuck on creating.

01:41:10.925 --> 01:41:11.885
<v Speaker 4>Kill the pod again?

01:41:14.239 --> 01:41:16.800
<v Speaker 1>I mean, we deleted the replica stuff. Right?

01:41:16.800 --> 01:41:17.360
<v Speaker 0>Yeah.

01:41:17.679 --> 01:41:18.880
<v Speaker 4>It shouldn't be a problem.

01:41:20.400 --> 01:41:22.400
<v Speaker 1>Postgres is also stuck. So

01:41:26.375 --> 01:41:28.695
<v Speaker 4>Oh, post crisis stuck? Okay. Yeah.

01:41:34.615 --> 01:41:34.935
<v Speaker 1>Why

01:41:37.255 --> 01:41:38.935
<v Speaker 1>what else might be unhappy?

01:41:40.055 --> 01:41:41.415
<v Speaker 0>Let's try and get pods all.

01:41:42.050 --> 01:41:44.610
<v Speaker 0>I I think canines is our detriment here.

01:41:44.610 --> 01:41:46.530
<v Speaker 0>I think it's hiding stuff.

01:41:48.130 --> 01:41:48.770
<v Speaker 0>So

01:41:49.570 --> 01:41:51.970
<v Speaker 1>Absolute back off on API

01:41:52.050 --> 01:41:53.090
<v Speaker 1>DXT.

01:41:53.170 --> 01:41:55.090
<v Speaker 0>So we can ignore emissary.

01:41:55.815 --> 01:41:58.215
<v Speaker 0>We got one of our Scyllium operators.

01:41:58.535 --> 01:42:00.215
<v Speaker 0>That's okay because we only have we don't

01:42:00.215 --> 01:42:01.815
<v Speaker 0>have enough nodes for that third one.

01:42:02.535 --> 01:42:05.015
<v Speaker 0>Our Scyllium does appear to be okay, although

01:42:05.015 --> 01:42:06.615
<v Speaker 0>it has restarted a bunch of times.

01:42:07.650 --> 01:42:09.570
<v Speaker 0>We got container creating for a whole bunch

01:42:09.570 --> 01:42:11.330
<v Speaker 0>of things. Can we do it all white

01:42:11.330 --> 01:42:12.050
<v Speaker 0>on this?

01:42:13.170 --> 01:42:15.010
<v Speaker 0>Get pods dash all white.

01:42:15.810 --> 01:42:16.210
<v Speaker 1>Yep.

01:42:24.435 --> 01:42:26.915
<v Speaker 0>So, yeah, so Postgres hasn't scheduled because of

01:42:26.915 --> 01:42:28.034
<v Speaker 0>the scheduler.

01:42:29.315 --> 01:42:31.795
<v Speaker 1>Oh, okay. Yep. The scheduler is broken. So

01:42:32.034 --> 01:42:34.114
<v Speaker 0>And I'm curious if we describe that clustered

01:42:34.114 --> 01:42:34.594
<v Speaker 0>pods,

01:42:35.280 --> 01:42:37.359
<v Speaker 0>if we can get any information too.

01:42:37.840 --> 01:42:38.719
<v Speaker 0>Oh, okay.

01:42:41.440 --> 01:42:42.479
<v Speaker 3>Yeah. Yeah. Great.

01:42:46.559 --> 01:42:47.599
<v Speaker 0>There's really nothing.

01:42:51.155 --> 01:42:52.755
<v Speaker 0>The pending can only be one of two

01:42:52.755 --> 01:42:55.315
<v Speaker 0>things. Right? It's the scheduler, which we've alleviated

01:42:55.315 --> 01:42:57.474
<v Speaker 0>by hard coding the node name.

01:42:57.715 --> 01:42:59.635
<v Speaker 0>Yeah. Well, do we need to also hard

01:42:59.635 --> 01:43:01.474
<v Speaker 1>code the scheduler for Postgres?

01:43:02.114 --> 01:43:04.595
<v Speaker 0>We could. But then the fact that the

01:43:04.150 --> 01:43:06.150
<v Speaker 0>cluster part doesn't start and tells me that

01:43:06.150 --> 01:43:07.910
<v Speaker 0>that's still pending because

01:43:08.310 --> 01:43:11.030
<v Speaker 0>either the port isn't available on the node

01:43:11.990 --> 01:43:14.390
<v Speaker 4>Oh, is NGINX blocking it? Is

01:43:15.510 --> 01:43:16.390
<v Speaker 4>The NGINX

01:43:16.550 --> 01:43:19.215
<v Speaker 4>is the is NGINX necessary for this? No.

01:43:19.215 --> 01:43:20.974
<v Speaker 0>You can you can get rid of that.

01:43:21.534 --> 01:43:22.175
<v Speaker 0>Yeah.

01:43:25.215 --> 01:43:26.814
<v Speaker 1>Nothing's on eighty eighty.

01:43:27.614 --> 01:43:28.494
<v Speaker 0>I

01:43:29.375 --> 01:43:30.975
<v Speaker 0>have no idea what's wrong with this cluster.

01:43:30.975 --> 01:43:31.855
<v Speaker 0>Let's let's cluster these.

01:43:39.180 --> 01:43:41.100
<v Speaker 0>Alright. Marek, if you're still watching and you

01:43:41.100 --> 01:43:43.180
<v Speaker 0>wanna jump on and tell us just for

01:43:43.180 --> 01:43:44.300
<v Speaker 0>a couple of minutes what the hell is

01:43:44.300 --> 01:43:45.660
<v Speaker 0>going on here, that would be useful. But

01:43:45.660 --> 01:43:48.085
<v Speaker 0>I'm there there's so much broken in this

01:43:48.085 --> 01:43:50.325
<v Speaker 0>cluster. This is literally a dumpster fire.

01:43:59.980 --> 01:44:03.100
<v Speaker 0>Jeff from the team has seen slash run

01:44:03.100 --> 01:44:04.060
<v Speaker 0>as full.

01:44:09.020 --> 01:44:11.100
<v Speaker 0>And he created RAM discs to eat up

01:44:11.100 --> 01:44:11.740
<v Speaker 0>all the memory.

01:44:15.454 --> 01:44:16.175
<v Speaker 1>Alright.

01:44:20.415 --> 01:44:22.255
<v Speaker 0>I'm happy I'm happy to call it there.

01:44:22.255 --> 01:44:23.855
<v Speaker 0>I think that there there's too much broken

01:44:23.855 --> 01:44:25.375
<v Speaker 0>here to fix in a couple of minutes.

01:44:27.170 --> 01:44:28.689
<v Speaker 4>Yeah. Tricky.

01:44:29.810 --> 01:44:31.730
<v Speaker 0>Wow. That was a tough one. Two really

01:44:31.730 --> 01:44:34.610
<v Speaker 0>tough clusters for that last Yep. There's there's

01:44:34.610 --> 01:44:35.570
<v Speaker 1>slash run.

01:44:36.130 --> 01:44:37.249
<v Speaker 0>Was it? Oh, yeah.

01:44:38.290 --> 01:44:40.050
<v Speaker 1>You see, you have to scroll up, but

01:44:45.855 --> 01:44:46.735
<v Speaker 0>Oh, yeah.

01:44:49.615 --> 01:44:51.055
<v Speaker 0>I guess you can't speak to any of

01:44:51.055 --> 01:44:54.095
<v Speaker 0>the sockets potentially on that machine. I'm not

01:44:54.095 --> 01:44:55.695
<v Speaker 0>sure Yeah. What the side effect of that

01:44:55.695 --> 01:44:57.775
<v Speaker 0>is, but not something I've seen before.

01:44:59.990 --> 01:45:01.430
<v Speaker 0>Damn. I never got a party with team

01:45:01.430 --> 01:45:03.190
<v Speaker 0>aerospike or team pixie labs.

01:45:06.070 --> 01:45:06.710
<v Speaker 1>Well,

01:45:07.190 --> 01:45:09.910
<v Speaker 1>you know, our eBPF breakfix itself. So

01:45:13.775 --> 01:45:15.215
<v Speaker 0>Yeah. I'm not even sure if there's enough

01:45:15.215 --> 01:45:17.055
<v Speaker 0>eBPF in the world that could detect that

01:45:17.055 --> 01:45:18.815
<v Speaker 0>many breaks in the cluster as well. There

01:45:18.815 --> 01:45:19.855
<v Speaker 0>was a there was a lot going on

01:45:19.855 --> 01:45:22.415
<v Speaker 0>in this one. But I think you managed

01:45:22.415 --> 01:45:23.535
<v Speaker 0>to work through quite a lot of the

01:45:23.535 --> 01:45:25.535
<v Speaker 0>the things there. Some of them were particularly

01:45:25.535 --> 01:45:26.735
<v Speaker 0>tricky as well, like

01:45:27.490 --> 01:45:29.890
<v Speaker 0>the max pods, the run ones. These are

01:45:29.890 --> 01:45:31.890
<v Speaker 0>just flags I had no idea existed, which

01:45:31.890 --> 01:45:33.170
<v Speaker 0>I think is great because now we all

01:45:33.170 --> 01:45:34.610
<v Speaker 0>know that these completely

01:45:35.010 --> 01:45:37.170
<v Speaker 0>have to be malicious flags exist,

01:45:37.250 --> 01:45:38.530
<v Speaker 0>and we can delete them from all our

01:45:38.530 --> 01:45:39.090
<v Speaker 0>links.

01:45:39.650 --> 01:45:40.290
<v Speaker 0>Alright.

01:45:41.095 --> 01:45:43.095
<v Speaker 0>Thank you so much for joining me, Pixie

01:45:43.095 --> 01:45:45.335
<v Speaker 0>Labs. Your breaks were really fun and entertaining

01:45:45.335 --> 01:45:47.655
<v Speaker 0>to watch. Fixing that was fun and entertaining,

01:45:47.655 --> 01:45:48.534
<v Speaker 0>and thank you to.

01:45:48.935 --> 01:45:50.375
<v Speaker 0>So I'll let you skip back to your

01:45:50.375 --> 01:45:52.215
<v Speaker 0>day, but thank you again for for joining

01:45:52.215 --> 01:45:52.775
<v Speaker 0>in.

01:45:53.415 --> 01:45:56.640
<v Speaker 3>Thanks for having us. Awesome. Thank I'm

01:45:56.640 --> 01:45:58.320
<v Speaker 0>just gonna pop over here, and I'll do

01:45:58.320 --> 01:46:00.560
<v Speaker 0>the t shirt now before I let you

01:46:00.560 --> 01:46:01.520
<v Speaker 0>all get away.

01:46:05.920 --> 01:46:06.400
<v Speaker 0>Competition.

01:46:12.745 --> 01:46:15.385
<v Speaker 0>Winners. Let me pop my screen up.

01:46:19.305 --> 01:46:21.545
<v Speaker 0>Alright. Draw. There's

01:46:22.600 --> 01:46:23.880
<v Speaker 0>We still got a few of you on

01:46:23.880 --> 01:46:25.079
<v Speaker 0>the call. That's alright.

01:46:29.560 --> 01:46:30.280
<v Speaker 0>Go.

01:46:30.760 --> 01:46:31.400
<v Speaker 0>Who wins?

01:46:37.225 --> 01:46:38.744
<v Speaker 0>I don't see names.

01:46:38.905 --> 01:46:40.745
<v Speaker 0>I'm sure that they're somewhere. Your friendly cloud

01:46:40.745 --> 01:46:42.425
<v Speaker 0>native gopher, I think is the name and

01:46:42.425 --> 01:46:44.985
<v Speaker 0>Hervey Nickel. Alright. To find your t shirt,

01:46:44.985 --> 01:46:47.705
<v Speaker 0>just DM me on Twitter or email me

01:46:47.705 --> 01:46:49.305
<v Speaker 0>at david@rockode.com

01:46:49.305 --> 01:46:51.300
<v Speaker 0>or ping me on the Discord. Just get

01:46:51.300 --> 01:46:53.060
<v Speaker 0>in touch. Give me your address. I'll get

01:46:53.060 --> 01:46:54.659
<v Speaker 0>you those t shirts. Thank you to all

01:46:54.659 --> 01:46:56.500
<v Speaker 0>of our sponsors and thank you to everyone

01:46:56.500 --> 01:46:59.139
<v Speaker 0>who's watching Equinix by Rawkode and everyone else.

01:46:59.699 --> 01:47:01.380
<v Speaker 0>I'm gonna go have a beer. Have a

01:47:01.380 --> 01:47:01.699
<v Speaker 0>great day.
