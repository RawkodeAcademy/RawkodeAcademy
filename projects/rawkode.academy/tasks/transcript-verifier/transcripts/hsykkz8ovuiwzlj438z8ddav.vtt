WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: d335c760-38d0-4464-929b-18efc9455512
Created: 2025-04-29T16:23:20.836Z
Duration: 6154.734
Channels: 1

00:01:23.400 --> 00:01:24.200
<v Speaker 0>Hello,

00:01:24.200 --> 00:01:26.680
<v Speaker 0>and welcome back to the Rawkode Academy.

00:01:26.760 --> 00:01:30.200
<v Speaker 0>Today, we have a new episode of Clustered,

00:01:30.520 --> 00:01:32.760
<v Speaker 0>and we have teams edition.

00:01:32.920 --> 00:01:35.080
<v Speaker 0>We have two great teams, one from Polar

00:01:35.080 --> 00:01:37.000
<v Speaker 0>Signals and one from Pulumi.

00:01:38.045 --> 00:01:40.284
<v Speaker 0>Going to be a great episode, if not

00:01:40.284 --> 00:01:41.645
<v Speaker 0>at least interesting,

00:01:41.645 --> 00:01:43.085
<v Speaker 0>and I'll fill you in on why

00:01:43.405 --> 00:01:45.405
<v Speaker 0>in just a moment. Now before we get

00:01:45.405 --> 00:01:47.484
<v Speaker 0>into that, I wanna say thank you to

00:01:47.484 --> 00:01:50.444
<v Speaker 0>Teleport. Teleport sponsor Clustered. We've been using Teleport

00:01:50.444 --> 00:01:52.444
<v Speaker 0>since the very first episode. We use it

00:01:52.444 --> 00:01:54.810
<v Speaker 0>weekend. Week out is such an amazing tool

00:01:54.810 --> 00:01:56.970
<v Speaker 0>that I generally believe every

00:01:57.130 --> 00:01:59.610
<v Speaker 0>every infrastructure, every production infrastructure at least should

00:01:59.610 --> 00:02:01.770
<v Speaker 0>have Teleport running. You'll see why as we

00:02:01.770 --> 00:02:03.210
<v Speaker 0>debug our clusters and pay it all of

00:02:03.210 --> 00:02:05.450
<v Speaker 0>them as a great piece of software.

00:02:05.930 --> 00:02:07.770
<v Speaker 0>I also wanna say thank you to Equinix

00:02:07.770 --> 00:02:09.824
<v Speaker 0>Medal, and they graciously provide all of the

00:02:09.824 --> 00:02:12.225
<v Speaker 0>hardware that we use in custard. We we

00:02:12.225 --> 00:02:14.545
<v Speaker 0>burn through a lot of bare metal machines

00:02:14.545 --> 00:02:16.785
<v Speaker 0>and just for the fun, I always use

00:02:16.785 --> 00:02:18.225
<v Speaker 0>ones with lots of cores and lots of

00:02:18.225 --> 00:02:20.065
<v Speaker 0>RAM. But I really appreciate that. It makes

00:02:20.065 --> 00:02:21.265
<v Speaker 0>it just a little bit more fun for

00:02:21.265 --> 00:02:22.785
<v Speaker 0>me and for the other contestants.

00:02:23.140 --> 00:02:25.060
<v Speaker 0>Thank you to Equinix Medal.

00:02:25.940 --> 00:02:28.740
<v Speaker 0>Alright. Now let's introduce team

00:02:29.060 --> 00:02:31.700
<v Speaker 0>Polar signals. Hey. How's it going, everyone?

00:02:33.620 --> 00:02:34.739
<v Speaker 1>Good. Good. And you?

00:02:35.555 --> 00:02:37.474
<v Speaker 0>Yeah. Just you know, I really wish I

00:02:37.474 --> 00:02:39.155
<v Speaker 0>would learn not to throw a very generic

00:02:39.155 --> 00:02:40.515
<v Speaker 0>question at three people at once and then

00:02:40.515 --> 00:02:42.675
<v Speaker 0>see who answers first. But Yeah.

00:02:43.474 --> 00:02:46.275
<v Speaker 0>Let's let's start at the top right. Frederic,

00:02:46.275 --> 00:02:47.635
<v Speaker 0>do you wanna introduce yourself? And then we'll

00:02:47.635 --> 00:02:50.040
<v Speaker 0>just work our way around clockwise, please. Sounds

00:02:50.040 --> 00:02:52.760
<v Speaker 2>good. Alright. Hey. I'm Frederick. I'm the founder

00:02:52.760 --> 00:02:54.360
<v Speaker 2>of Polar Signals.

00:02:55.000 --> 00:02:55.960
<v Speaker 2>I've been

00:02:56.840 --> 00:02:59.640
<v Speaker 2>working on all things, like, cloud native

00:02:59.959 --> 00:03:01.240
<v Speaker 2>for, gosh,

00:03:01.480 --> 00:03:04.075
<v Speaker 2>six, seven years now. I'm part part of

00:03:04.075 --> 00:03:07.275
<v Speaker 2>the Prometheus team. I until recently was tech

00:03:07.275 --> 00:03:08.235
<v Speaker 2>lead for special

00:03:08.555 --> 00:03:10.955
<v Speaker 2>interest group for instrumentation in Kubernetes.

00:03:12.235 --> 00:03:12.875
<v Speaker 2>Yeah.

00:03:13.275 --> 00:03:16.315
<v Speaker 2>I started my journey in through the through

00:03:16.315 --> 00:03:17.195
<v Speaker 2>CoreOS,

00:03:17.195 --> 00:03:17.915
<v Speaker 2>then

00:03:18.350 --> 00:03:20.830
<v Speaker 2>Chorus was was acquired by Red Hat and

00:03:20.830 --> 00:03:22.590
<v Speaker 2>stuck around for a little bit. And then,

00:03:22.590 --> 00:03:25.070
<v Speaker 2>eventually, I I left Red Hat and started

00:03:25.070 --> 00:03:26.190
<v Speaker 2>pulling signals.

00:03:27.150 --> 00:03:28.190
<v Speaker 0>Awesome. Thank you.

00:03:31.864 --> 00:03:32.665
<v Speaker 0>Kemal?

00:03:34.745 --> 00:03:38.265
<v Speaker 0>Oh, alright. Hey. Hey. My name is Kemal.

00:03:39.224 --> 00:03:42.584
<v Speaker 3>I'm a senior software engineer in Polar Signals.

00:03:43.830 --> 00:03:45.750
<v Speaker 3>I don't know what else to say. Yeah.

00:03:45.750 --> 00:03:48.390
<v Speaker 3>I've been working with these guys for the

00:03:48.390 --> 00:03:48.950
<v Speaker 3>past

00:03:49.350 --> 00:03:50.470
<v Speaker 3>few years.

00:03:50.630 --> 00:03:51.750
<v Speaker 3>So yeah. Thank

00:03:53.750 --> 00:03:53.990
<v Speaker 0>you.

00:03:56.805 --> 00:03:58.485
<v Speaker 1>Hi. I'm Matthias Leuve.

00:03:58.885 --> 00:04:00.645
<v Speaker 1>I'm based in Berlin.

00:04:00.725 --> 00:04:03.285
<v Speaker 1>And, yeah, I work with as

00:04:03.285 --> 00:04:05.605
<v Speaker 1>well, obviously, and been doing

00:04:06.325 --> 00:04:08.645
<v Speaker 1>I don't know. Like, I think I started

00:04:07.890 --> 00:04:09.970
<v Speaker 1>Go development in 2014,

00:04:10.050 --> 00:04:12.450
<v Speaker 1>and then through that came interested in Docker

00:04:12.450 --> 00:04:13.330
<v Speaker 1>and then

00:04:14.130 --> 00:04:17.970
<v Speaker 1>in into Drone and then kind of, like,

00:04:18.769 --> 00:04:20.290
<v Speaker 1>read about Kubernetes.

00:04:20.290 --> 00:04:22.450
<v Speaker 1>So here we are. Looked for a job

00:04:22.655 --> 00:04:25.455
<v Speaker 1>for Kubernetes and ended up finding one in

00:04:25.455 --> 00:04:26.175
<v Speaker 1>Berlin

00:04:26.495 --> 00:04:28.495
<v Speaker 1>where where, like, on the first day, I

00:04:28.495 --> 00:04:30.255
<v Speaker 1>got introduced to Prometheus.

00:04:30.415 --> 00:04:32.335
<v Speaker 1>So that was in 2016.

00:04:32.495 --> 00:04:36.710
<v Speaker 1>And, yeah, like, May later, Prometheus maintainer,

00:04:36.710 --> 00:04:37.990
<v Speaker 1>Thanos maintainer,

00:04:38.310 --> 00:04:41.110
<v Speaker 1>and, yeah, been enjoying working in observability

00:04:41.110 --> 00:04:43.190
<v Speaker 1>ever since. It's been a great journey.

00:04:44.230 --> 00:04:47.270
<v Speaker 0>Alright. Awesome. Thank you all. Alright. I guess

00:04:47.270 --> 00:04:48.630
<v Speaker 0>we'll fill the audience in on the fun

00:04:48.630 --> 00:04:51.270
<v Speaker 0>things now that's happening on this episode of

00:04:50.625 --> 00:04:51.425
<v Speaker 0>Clustered.

00:04:51.585 --> 00:04:54.385
<v Speaker 0>So this episode was originally scheduled to be

00:04:54.385 --> 00:04:57.745
<v Speaker 0>Polar Signals and Isovalent. Unfortunately, team Isovalent had

00:04:57.745 --> 00:04:59.745
<v Speaker 0>something come up, and we had to replace

00:04:59.745 --> 00:05:02.705
<v Speaker 0>them very last minute. And I very luckily

00:05:02.785 --> 00:05:04.225
<v Speaker 0>was able to convince a few of my

00:05:04.225 --> 00:05:06.430
<v Speaker 0>colleagues at Bolivia to join us. So I

00:05:06.430 --> 00:05:08.750
<v Speaker 0>have smashed through a cluster that you're gonna

00:05:08.750 --> 00:05:09.950
<v Speaker 0>work through today.

00:05:10.190 --> 00:05:11.950
<v Speaker 0>Hopefully, it's not too smashed.

00:05:12.190 --> 00:05:14.510
<v Speaker 0>Although, I guess that would be fair considering

00:05:14.510 --> 00:05:16.750
<v Speaker 0>the cluster that I prepare used prepared for

00:05:16.750 --> 00:05:18.270
<v Speaker 0>us is currently

00:05:18.750 --> 00:05:20.485
<v Speaker 0>gone. It

00:05:21.285 --> 00:05:23.925
<v Speaker 0>is not responding at all, which obviously cannot

00:05:23.925 --> 00:05:26.324
<v Speaker 0>be fixed. However, we are spinning up a

00:05:26.324 --> 00:05:28.164
<v Speaker 0>quick backup, and then hopefully we'll have something

00:05:28.164 --> 00:05:30.724
<v Speaker 0>to debug in forty minutes time. Fingers crossed.

00:05:31.680 --> 00:05:34.320
<v Speaker 0>So it's been quite an episode already, but

00:05:34.320 --> 00:05:36.480
<v Speaker 0>that's the way things go on clustered.

00:05:36.560 --> 00:05:38.800
<v Speaker 0>When you break things intentionally, things do go

00:05:38.800 --> 00:05:41.039
<v Speaker 0>wrong. So I'm gonna wish you all the

00:05:41.039 --> 00:05:42.400
<v Speaker 0>best of luck with the cluster that we

00:05:42.400 --> 00:05:43.200
<v Speaker 0>have prepared,

00:05:43.440 --> 00:05:45.919
<v Speaker 0>and I'm gonna pop open my screen share

00:05:46.975 --> 00:05:47.615
<v Speaker 0>now.

00:05:48.975 --> 00:05:50.335
<v Speaker 0>So first thing I need to do is

00:05:50.335 --> 00:05:53.135
<v Speaker 0>give you access. So I am gonna modify

00:05:53.215 --> 00:05:54.015
<v Speaker 0>your role.

00:06:00.349 --> 00:06:02.509
<v Speaker 0>Label. That's so cool. I didn't even realize

00:06:02.509 --> 00:06:04.590
<v Speaker 1>we hadn't hacked have access.

00:06:04.830 --> 00:06:05.069
<v Speaker 1>So

00:06:05.949 --> 00:06:07.629
<v Speaker 0>Yeah. I'm not gonna give you access to

00:06:07.629 --> 00:06:09.870
<v Speaker 0>all the machines. But now if you refresh

00:06:09.870 --> 00:06:11.310
<v Speaker 0>your page, you will see

00:06:11.789 --> 00:06:13.710
<v Speaker 0>almost mine. My teleport

00:06:13.789 --> 00:06:15.935
<v Speaker 0>control plane is hidden. But you will be

00:06:15.935 --> 00:06:18.095
<v Speaker 0>able to see my session on Pulumi control

00:06:18.095 --> 00:06:19.695
<v Speaker 0>plane one, which is here.

00:06:20.495 --> 00:06:22.095
<v Speaker 0>And so if you could all please join

00:06:22.095 --> 00:06:23.935
<v Speaker 0>this session, give me an echo hello, let

00:06:23.935 --> 00:06:25.055
<v Speaker 0>me know that you're there and we'll take

00:06:25.055 --> 00:06:26.574
<v Speaker 0>it away. In fact, while away,

00:06:27.294 --> 00:06:28.655
<v Speaker 0>I can tell you that you also have

00:06:28.655 --> 00:06:29.694
<v Speaker 0>another cluster. So

00:06:31.260 --> 00:06:33.100
<v Speaker 0>at some point over the next thirty minutes,

00:06:33.100 --> 00:06:34.780
<v Speaker 0>if one of you could reapply the break

00:06:34.780 --> 00:06:36.780
<v Speaker 0>cluster too, that would be appreciated.

00:06:37.900 --> 00:06:39.660
<v Speaker 0>If I just trust it doesn't disappear.

00:06:40.460 --> 00:06:43.020
<v Speaker 1>Yep. I I I take care of it.

00:06:43.100 --> 00:06:44.460
<v Speaker 1>I broke it half

00:06:44.860 --> 00:06:46.300
<v Speaker 1>an hour an hour ago.

00:06:47.005 --> 00:06:49.485
<v Speaker 1>I I tried to not break it as

00:06:49.485 --> 00:06:50.445
<v Speaker 1>much again.

00:06:51.405 --> 00:06:54.285
<v Speaker 1>So, yeah, I I I take care of

00:06:54.285 --> 00:06:54.845
<v Speaker 1>that.

00:06:55.245 --> 00:06:57.245
<v Speaker 0>Well, maybe we'll get lucky in, like, cluster

00:06:57.245 --> 00:06:58.925
<v Speaker 0>one, and we'll just magically show back up

00:06:58.925 --> 00:07:01.405
<v Speaker 0>again. But let's just be prepared anyway.

00:07:02.170 --> 00:07:04.410
<v Speaker 0>So I've got Frederick in this session.

00:07:06.330 --> 00:07:07.850
<v Speaker 0>I need two more.

00:07:10.730 --> 00:07:12.650
<v Speaker 0>Alright. Awesome. Cool.

00:07:13.210 --> 00:07:14.650
<v Speaker 0>And Matthias, I know that you're working on

00:07:14.650 --> 00:07:16.090
<v Speaker 0>the other one. You're here anyway. Cool.

00:07:17.065 --> 00:07:17.785
<v Speaker 0>Alright.

00:07:18.264 --> 00:07:20.264
<v Speaker 0>Usually, on custard, your best bet is to

00:07:20.264 --> 00:07:22.985
<v Speaker 0>check for a control plan. So I wish

00:07:22.985 --> 00:07:25.305
<v Speaker 0>you the best of luck. And the RHANTs,

00:07:25.544 --> 00:07:26.264
<v Speaker 0>take it away.

00:07:30.160 --> 00:07:30.880
<v Speaker 2>Alright.

00:07:31.440 --> 00:07:33.280
<v Speaker 2>So I think the first thing that we

00:07:33.280 --> 00:07:36.080
<v Speaker 2>thought of since we know that this was

00:07:36.080 --> 00:07:38.640
<v Speaker 2>intentionally broken, let's have a quick look if

00:07:38.640 --> 00:07:41.360
<v Speaker 2>there's some hints that we have left in

00:07:42.095 --> 00:07:43.455
<v Speaker 2>the bash history.

00:07:46.655 --> 00:07:47.935
<v Speaker 2>Yeah. Looks like

00:07:48.574 --> 00:07:49.855
<v Speaker 2>that was deleted.

00:07:50.175 --> 00:07:52.335
<v Speaker 2>I guess it's not your first one. Too

00:07:52.335 --> 00:07:54.014
<v Speaker 1>bad. Too bad. I will tell you, I

00:07:54.014 --> 00:07:56.095
<v Speaker 0>actually forgot to delete it until the tech

00:07:56.095 --> 00:07:57.960
<v Speaker 0>check when one of my colleagues, Laura, actually

00:07:57.960 --> 00:07:59.400
<v Speaker 0>said, did you delete the history? I was

00:07:59.400 --> 00:08:00.840
<v Speaker 0>like, yeah. I did. And then I didn't.

00:08:00.840 --> 00:08:02.760
<v Speaker 0>And then I so thanks, Laura.

00:08:03.640 --> 00:08:04.120
<v Speaker 0>Alright.

00:08:06.200 --> 00:08:07.560
<v Speaker 2>That was just the

00:08:07.880 --> 00:08:09.720
<v Speaker 2>first thing we were gonna check. So

00:08:10.040 --> 00:08:10.840
<v Speaker 2>I guess

00:08:11.384 --> 00:08:12.505
<v Speaker 2>let's try

00:08:13.224 --> 00:08:15.465
<v Speaker 2>getting the kube config and

00:08:16.025 --> 00:08:17.544
<v Speaker 2>see if we can do anything

00:08:18.664 --> 00:08:20.264
<v Speaker 2>with the cluster at all.

00:08:20.985 --> 00:08:24.104
<v Speaker 2>I I it's probably completely broken as that's

00:08:24.104 --> 00:08:25.465
<v Speaker 2>the point of this, but

00:08:26.264 --> 00:08:26.824
<v Speaker 1>let's see.

00:08:27.540 --> 00:08:30.180
<v Speaker 2>I think it's in, like what was it?

00:08:30.180 --> 00:08:32.100
<v Speaker 2>I see Kubernetes or something.

00:08:32.580 --> 00:08:34.900
<v Speaker 1>Yeah. That's right. The admin dot conf is

00:08:34.900 --> 00:08:36.580
<v Speaker 0>the failure. Conf. Yeah.

00:08:38.100 --> 00:08:39.539
<v Speaker 2>Do we are we supposed to just to

00:08:39.539 --> 00:08:41.059
<v Speaker 2>just do commands

00:08:41.294 --> 00:08:42.015
<v Speaker 2>from

00:08:42.174 --> 00:08:45.055
<v Speaker 2>this node? Or Yeah. Just just work from

00:08:45.055 --> 00:08:46.495
<v Speaker 0>this node. That way the audience can follow

00:08:46.495 --> 00:08:49.295
<v Speaker 0>along. Yeah. That makes sense. So I guess

00:08:49.295 --> 00:08:52.495
<v Speaker 2>let's just start with You'll need to export

00:08:52.495 --> 00:08:55.214
<v Speaker 0>KubeConfig equals that file. Ah, right.

00:09:05.000 --> 00:09:05.800
<v Speaker 2>Okay.

00:09:07.720 --> 00:09:10.360
<v Speaker 1>Alright. Well I can see something. Doesn't

00:09:10.965 --> 00:09:14.405
<v Speaker 2>the control plane isn't entirely broken. That's something.

00:09:16.485 --> 00:09:17.365
<v Speaker 1>Let's

00:09:17.365 --> 00:09:20.325
<v Speaker 1>see. Can you do a all all namespaces?

00:09:20.325 --> 00:09:21.605
<v Speaker 1>Uh-huh. Or I can actually

00:09:22.325 --> 00:09:23.285
<v Speaker 1>yeah. That's fine.

00:09:23.850 --> 00:09:24.490
<v Speaker 1>Nice.

00:09:24.810 --> 00:09:25.610
<v Speaker 1>Okay.

00:09:25.930 --> 00:09:27.930
<v Speaker 0>So I would encourage you when you're executing

00:09:27.930 --> 00:09:30.570
<v Speaker 0>commands to use a pager rather than scrolling

00:09:30.570 --> 00:09:32.329
<v Speaker 0>on your site, again, just so the audience

00:09:32.329 --> 00:09:33.370
<v Speaker 0>can follow along.

00:09:34.089 --> 00:09:36.170
<v Speaker 2>Yeah. Just just when you're introspecting.

00:09:39.205 --> 00:09:42.085
<v Speaker 2>So you're saying this one, the audience can't

00:09:42.085 --> 00:09:44.245
<v Speaker 2>see very well? Oh, they can. But if

00:09:44.245 --> 00:09:46.085
<v Speaker 0>you're looking at logs or do not describe,

00:09:46.085 --> 00:09:47.365
<v Speaker 0>if you type it through less, it means

00:09:47.365 --> 00:09:48.405
<v Speaker 0>they can follow your cursor.

00:09:49.400 --> 00:09:50.680
<v Speaker 2>Got it. Got it.

00:09:51.960 --> 00:09:53.080
<v Speaker 2>Alright. So

00:09:53.400 --> 00:09:54.520
<v Speaker 2>looks like

00:09:57.560 --> 00:10:00.440
<v Speaker 2>looks like it's just the the app that's

00:10:00.440 --> 00:10:02.680
<v Speaker 2>currently in crash loop back off.

00:10:04.445 --> 00:10:06.845
<v Speaker 2>Something interesting as we were kind of breaking

00:10:06.845 --> 00:10:09.084
<v Speaker 2>our cluster that we were thinking through also

00:10:09.084 --> 00:10:11.485
<v Speaker 2>is that it's it could be interesting to

00:10:11.565 --> 00:10:13.404
<v Speaker 2>have a look at what

00:10:15.165 --> 00:10:17.485
<v Speaker 2>when the when the pods were last restarted

00:10:17.485 --> 00:10:19.970
<v Speaker 2>so we know, you know, what might have

00:10:19.970 --> 00:10:21.490
<v Speaker 2>potentially been messed with.

00:10:24.690 --> 00:10:27.730
<v Speaker 2>Yeah. So could be interesting. We can see

00:10:27.730 --> 00:10:29.329
<v Speaker 2>that the what is it?

00:10:29.889 --> 00:10:32.129
<v Speaker 2>API server has been restarted

00:10:32.129 --> 00:10:33.009
<v Speaker 2>somewhat recently.

00:10:35.705 --> 00:10:36.505
<v Speaker 2>Ingress

00:10:36.905 --> 00:10:37.785
<v Speaker 2>agent.

00:10:37.785 --> 00:10:39.385
<v Speaker 2>Was there even an Ingress

00:10:40.265 --> 00:10:42.585
<v Speaker 2>on our cluster? I don't remember there being

00:10:42.585 --> 00:10:45.465
<v Speaker 2>one. The cluster, shipped with the service.

00:10:46.745 --> 00:10:48.745
<v Speaker 1>There's just a note part that you can

00:10:48.745 --> 00:10:50.360
<v Speaker 1>access. Right? So

00:10:50.760 --> 00:10:52.200
<v Speaker 0>Yeah. We just use the node part. The

00:10:52.200 --> 00:10:53.800
<v Speaker 0>the ingress, even if it was broken, it's

00:10:53.800 --> 00:10:54.680
<v Speaker 0>not a big deal.

00:10:55.960 --> 00:10:58.840
<v Speaker 2>Got it. Anyways, there's there are a couple

00:10:58.840 --> 00:10:59.320
<v Speaker 2>of

00:11:00.600 --> 00:11:02.520
<v Speaker 2>pods that were restarted in the.

00:11:05.485 --> 00:11:07.245
<v Speaker 2>I don't even know this ingress.

00:11:07.565 --> 00:11:08.605
<v Speaker 2>Something new.

00:11:09.405 --> 00:11:10.925
<v Speaker 0>It was formerly

00:11:11.005 --> 00:11:13.805
<v Speaker 0>ambassadors ingress. I can't remember the name before.

00:11:15.565 --> 00:11:17.325
<v Speaker 0>I I think it was just ambassador ingress.

00:11:17.529 --> 00:11:19.130
<v Speaker 2>Yeah. I think yeah. Yeah. I I remember

00:11:19.130 --> 00:11:21.930
<v Speaker 2>ambassador ambassador just Sounds familiar. Yeah.

00:11:22.410 --> 00:11:23.130
<v Speaker 2>Yeah.

00:11:23.850 --> 00:11:24.650
<v Speaker 2>Alright.

00:11:25.290 --> 00:11:27.130
<v Speaker 2>I guess then let's have a look at

00:11:27.130 --> 00:11:29.690
<v Speaker 2>events and see why this thing is crash

00:11:29.690 --> 00:11:30.250
<v Speaker 2>looping.

00:11:32.774 --> 00:11:33.655
<v Speaker 2>Events.

00:11:34.055 --> 00:11:34.855
<v Speaker 2>Incorrect.

00:11:37.975 --> 00:11:40.135
<v Speaker 0>Very funny, Russell. But, no, I am not

00:11:40.135 --> 00:11:42.855
<v Speaker 0>cheating and using my admin privileges.

00:11:44.935 --> 00:11:46.295
<v Speaker 2>Alright. So

00:11:46.710 --> 00:11:48.870
<v Speaker 2>looks like it's the

00:11:49.190 --> 00:11:50.070
<v Speaker 2>container

00:11:50.070 --> 00:11:51.110
<v Speaker 2>that's

00:11:52.150 --> 00:11:54.550
<v Speaker 2>failed, and let's have a quick look at

00:11:55.110 --> 00:11:56.550
<v Speaker 2>if we can see more in the pod

00:11:56.550 --> 00:11:57.110
<v Speaker 2>status.

00:12:01.415 --> 00:12:03.335
<v Speaker 2>Autocomplete work with this thing?

00:12:04.935 --> 00:12:07.895
<v Speaker 0>You can I I don't think it works

00:12:07.895 --> 00:12:09.655
<v Speaker 1>with the with the names of the part?

00:12:09.655 --> 00:12:12.055
<v Speaker 1>Yeah. We do, like, copy it. We can

00:12:12.055 --> 00:12:13.895
<v Speaker 0>enable the autocomplete if you want. I can

00:12:13.895 --> 00:12:14.935
<v Speaker 0>give you the command for that.

00:12:15.750 --> 00:12:17.670
<v Speaker 1>Oh, that would be nice. Yeah.

00:12:18.230 --> 00:12:18.870
<v Speaker 2>Okay.

00:12:19.510 --> 00:12:22.230
<v Speaker 2>So that just went totally out of my

00:12:24.070 --> 00:12:26.630
<v Speaker 2>pain. Someone else can take over because

00:12:26.790 --> 00:12:28.870
<v Speaker 0>Let me load the auto complete party.

00:12:30.205 --> 00:12:31.565
<v Speaker 0>Control.

00:12:33.725 --> 00:12:36.445
<v Speaker 0>Is shell all complete or just all complete?

00:12:37.725 --> 00:12:39.005
<v Speaker 0>We'll find out.

00:12:42.765 --> 00:12:45.830
<v Speaker 0>Oh, I can't even type. That's the camera

00:12:45.830 --> 00:12:46.630
<v Speaker 0>curse.

00:12:49.590 --> 00:12:51.270
<v Speaker 0>I swear I've done this before.

00:12:53.990 --> 00:12:55.110
<v Speaker 0>Oh, completion.

00:12:56.630 --> 00:12:57.270
<v Speaker 0>We'll get there.

00:12:58.485 --> 00:13:01.605
<v Speaker 1>So so this command of kubectl will just

00:13:01.605 --> 00:13:03.925
<v Speaker 1>return a batch script that you source?

00:13:04.805 --> 00:13:07.365
<v Speaker 1>Yeah. Never do this. Now now you can

00:13:07.365 --> 00:13:09.845
<v Speaker 0>tap complete for your partners. Right.

00:13:09.960 --> 00:13:12.280
<v Speaker 1>I think it's been, like, four years since

00:13:12.280 --> 00:13:14.360
<v Speaker 1>I set auto completion up, so I don't

00:13:14.360 --> 00:13:16.040
<v Speaker 1>even know how to do it anymore.

00:13:16.440 --> 00:13:17.960
<v Speaker 0>There go I, Bartlett.

00:13:18.760 --> 00:13:19.400
<v Speaker 1>Yeah.

00:13:19.880 --> 00:13:22.600
<v Speaker 1>So what were you're saying you wanna, like,

00:13:22.600 --> 00:13:24.680
<v Speaker 1>look at the the part

00:13:25.735 --> 00:13:26.615
<v Speaker 1>and then

00:13:27.335 --> 00:13:29.095
<v Speaker 1>type that to less.

00:13:29.335 --> 00:13:29.975
<v Speaker 1>And

00:13:30.295 --> 00:13:32.855
<v Speaker 1>or did you describe the part, Frederick?

00:13:34.615 --> 00:13:35.815
<v Speaker 2>I I just did

00:13:36.615 --> 00:13:38.615
<v Speaker 2>dash o, yeah, Moe. I'm not sure exactly

00:13:38.615 --> 00:13:40.455
<v Speaker 2>why, but the moment I did that,

00:13:42.620 --> 00:13:43.820
<v Speaker 2>kind of the

00:13:45.579 --> 00:13:48.540
<v Speaker 2>the teleport session got kind of messed up

00:13:48.540 --> 00:13:49.660
<v Speaker 2>in my browser.

00:13:49.980 --> 00:13:51.660
<v Speaker 2>Okay. I think it's okay to just rejoin

00:13:51.660 --> 00:13:53.420
<v Speaker 2>it, right, since it's just an

00:13:53.820 --> 00:13:56.455
<v Speaker 0>since I'm not the You can. It's because

00:13:56.455 --> 00:13:58.935
<v Speaker 0>it tried to resize the to everyone's screen.

00:13:58.935 --> 00:14:00.295
<v Speaker 0>So, normally, you get a scroll within a

00:14:00.295 --> 00:14:01.815
<v Speaker 0>scroll, but you you should still be able

00:14:01.815 --> 00:14:04.215
<v Speaker 0>to move the scroll bar at least. It

00:14:04.215 --> 00:14:06.055
<v Speaker 0>just sometimes feels a a bit weird.

00:14:06.535 --> 00:14:09.575
<v Speaker 1>I can't scroll in having it opened unless,

00:14:09.890 --> 00:14:11.170
<v Speaker 1>though. So

00:14:11.970 --> 00:14:14.930
<v Speaker 1>what you were saying, like That's okay. I'll

00:14:14.930 --> 00:14:16.770
<v Speaker 0>I'll just scroll. Okay. You can scroll like

00:14:16.770 --> 00:14:17.890
<v Speaker 1>that. Okay.

00:14:22.325 --> 00:14:23.125
<v Speaker 1>So

00:14:27.285 --> 00:14:29.525
<v Speaker 1>so, yeah, it's it's running.

00:14:32.405 --> 00:14:35.045
<v Speaker 1>It just terminates with with an exit code

00:14:35.045 --> 00:14:35.685
<v Speaker 1>of zero.

00:14:39.680 --> 00:14:41.920
<v Speaker 1>I don't know. Something about the volume I

00:14:41.920 --> 00:14:42.880
<v Speaker 1>just saw.

00:14:43.440 --> 00:14:46.320
<v Speaker 1>Yeah. The volume contains injected data from multiple

00:14:46.320 --> 00:14:47.279
<v Speaker 1>sources.

00:14:47.440 --> 00:14:49.360
<v Speaker 1>K. Interesting. I don't think I've seen this

00:14:49.360 --> 00:14:51.279
<v Speaker 1>one before in real life anywhere.

00:14:55.485 --> 00:14:56.205
<v Speaker 1>So

00:14:57.885 --> 00:14:59.805
<v Speaker 1>the mounts mount

00:14:59.805 --> 00:15:00.685
<v Speaker 1>a

00:15:01.565 --> 00:15:02.605
<v Speaker 1>service account,

00:15:04.125 --> 00:15:07.245
<v Speaker 1>and there are where are the volume mounts?

00:15:08.690 --> 00:15:10.690
<v Speaker 1>They just called that. Yeah. They just called

00:15:10.690 --> 00:15:11.490
<v Speaker 1>that. Right?

00:15:12.610 --> 00:15:15.330
<v Speaker 1>But I guess further down, there's the cube

00:15:15.330 --> 00:15:16.770
<v Speaker 1>API access

00:15:16.850 --> 00:15:17.570
<v Speaker 1>volume.

00:15:20.815 --> 00:15:22.415
<v Speaker 1>That's maybe

00:15:23.695 --> 00:15:26.255
<v Speaker 1>it's, like, hard to read the YAML in

00:15:26.255 --> 00:15:29.215
<v Speaker 1>this, like, different format, so I usually like

00:15:29.215 --> 00:15:29.775
<v Speaker 1>to

00:15:30.335 --> 00:15:32.575
<v Speaker 1>just return it as YAML.

00:15:33.710 --> 00:15:36.510
<v Speaker 1>Maybe you can scroll scroll like this.

00:15:36.830 --> 00:15:38.750
<v Speaker 1>It's a bit easier. At least it's, like,

00:15:38.750 --> 00:15:41.150
<v Speaker 1>more similar to what you would usually type.

00:15:41.150 --> 00:15:41.390
<v Speaker 1>Right?

00:16:02.339 --> 00:16:04.260
<v Speaker 0>So why is the pod crashing?

00:16:08.899 --> 00:16:10.660
<v Speaker 1>Yeah. I'm not seeing

00:16:10.820 --> 00:16:12.899
<v Speaker 1>the volume. We can put we can have

00:16:12.899 --> 00:16:15.459
<v Speaker 1>a look at logs. We don't yeah. Definitely.

00:16:16.315 --> 00:16:18.235
<v Speaker 0>I would run it this crave again.

00:16:19.675 --> 00:16:22.074
<v Speaker 1>But, Frederic, do you actually remember what we

00:16:22.074 --> 00:16:25.115
<v Speaker 1>said? We wanted to just deploy Key Prometheus,

00:16:25.115 --> 00:16:26.154
<v Speaker 1>and I think the

00:16:27.035 --> 00:16:29.089
<v Speaker 1>control plane works so far. So we can

00:16:29.089 --> 00:16:30.290
<v Speaker 1>just, like, deploy

00:16:30.769 --> 00:16:33.170
<v Speaker 1>the monitoring stick and see what's up.

00:16:33.889 --> 00:16:34.450
<v Speaker 2>We

00:16:35.170 --> 00:16:36.370
<v Speaker 2>can. We can.

00:16:37.250 --> 00:16:39.170
<v Speaker 1>But, I mean, we can also, like, quickly

00:16:39.170 --> 00:16:41.089
<v Speaker 1>look at the logs first and then take

00:16:41.250 --> 00:16:42.769
<v Speaker 0>The application has no logging.

00:16:44.095 --> 00:16:46.575
<v Speaker 1>Okay. Yeah. That's why I saw But I

00:16:46.575 --> 00:16:48.895
<v Speaker 0>would rather describe again. I think you missed

00:16:48.895 --> 00:16:50.895
<v Speaker 0>you missed something. Yeah. Nothing.

00:16:51.535 --> 00:16:53.855
<v Speaker 1>Yeah. There's Okay. Then let's have a look

00:16:53.855 --> 00:16:55.135
<v Speaker 2>at describe again, TS.

00:16:57.870 --> 00:16:59.550
<v Speaker 1>Yeah. I think it's still there if you

00:16:59.550 --> 00:17:02.670
<v Speaker 1>just scroll up. Right? In the describe, we

00:17:02.670 --> 00:17:05.150
<v Speaker 1>missed something or in the. Yeah. In the

00:17:05.150 --> 00:17:05.950
<v Speaker 2>describe.

00:17:07.790 --> 00:17:08.509
<v Speaker 1>Right.

00:17:09.630 --> 00:17:12.085
<v Speaker 1>Is that fine if I clean the screen?

00:17:12.404 --> 00:17:13.044
<v Speaker 0>Yep.

00:17:13.284 --> 00:17:14.404
<v Speaker 2>Yeah. That's fine.

00:17:16.724 --> 00:17:17.605
<v Speaker 2>Actually,

00:17:17.605 --> 00:17:20.804
<v Speaker 2>there. Readiness probe failed. HTTP

00:17:21.204 --> 00:17:24.005
<v Speaker 2>probe failed with status code 404.

00:17:26.309 --> 00:17:27.829
<v Speaker 2>Are we even running the right

00:17:28.389 --> 00:17:29.269
<v Speaker 2>image,

00:17:29.590 --> 00:17:32.229
<v Speaker 2>like, of version one of this thing?

00:17:35.909 --> 00:17:38.710
<v Speaker 1>Would be good to compare with the cluster

00:17:38.710 --> 00:17:39.269
<v Speaker 1>we have.

00:17:43.245 --> 00:17:44.445
<v Speaker 0>I I mean,

00:17:44.765 --> 00:17:47.325
<v Speaker 0>I'm happy to answer questions if you wanna

00:17:47.485 --> 00:17:48.525
<v Speaker 0>validate

00:17:48.525 --> 00:17:51.645
<v Speaker 0>or verify the thing. So feel free to

00:17:51.725 --> 00:17:54.205
<v Speaker 0>edit it. I already put the

00:17:54.445 --> 00:17:55.485
<v Speaker 1>GitHub

00:17:56.045 --> 00:17:56.925
<v Speaker 1>repository,

00:17:56.925 --> 00:18:04.529
<v Speaker 1>and it's GCRGHCRAORawDashAcademySlashClusterV1.

00:18:04.529 --> 00:18:05.249
<v Speaker 0>Correct.

00:18:06.130 --> 00:18:06.690
<v Speaker 1>So

00:18:07.169 --> 00:18:09.890
<v Speaker 1>That that looks right. That looks right. Yeah.

00:18:10.414 --> 00:18:12.815
<v Speaker 0>Yep. That is the correct image.

00:18:14.095 --> 00:18:15.455
<v Speaker 1>Or 8080.

00:18:15.615 --> 00:18:17.695
<v Speaker 1>That looks right. Think that was correct as

00:18:17.695 --> 00:18:18.494
<v Speaker 1>well. Yeah.

00:18:19.375 --> 00:18:22.174
<v Speaker 1>From having read the source and work with

00:18:22.174 --> 00:18:22.655
<v Speaker 1>this

00:18:23.180 --> 00:18:25.340
<v Speaker 1>the last twenty four hours. Yeah. Like, in

00:18:25.340 --> 00:18:27.260
<v Speaker 1>the source code, I can see 88 is

00:18:27.260 --> 00:18:28.940
<v Speaker 1>what it tries to bind to.

00:18:30.220 --> 00:18:32.700
<v Speaker 2>Yeah. That I remember that port also from

00:18:32.700 --> 00:18:34.780
<v Speaker 2>the service. So Mhmm.

00:18:37.845 --> 00:18:40.325
<v Speaker 0>You missed one important piece of information than

00:18:40.325 --> 00:18:41.044
<v Speaker 0>the header.

00:18:55.280 --> 00:18:57.360
<v Speaker 1>It feels like I'm starstruck and, like, I

00:18:57.360 --> 00:19:00.160
<v Speaker 1>have to concentrate on the thing. Usually, this

00:19:00.160 --> 00:19:02.160
<v Speaker 1>should be easy. Right? Like, now I'm, like,

00:19:02.785 --> 00:19:05.505
<v Speaker 0>looking the status code 404. What does that

00:19:05.505 --> 00:19:06.304
<v Speaker 0>tell us?

00:19:07.665 --> 00:19:10.065
<v Speaker 2>Well, that the request is definitely being made,

00:19:10.065 --> 00:19:13.184
<v Speaker 2>but that that our application is not returning

00:19:13.585 --> 00:19:15.600
<v Speaker 2>what it should There is no there is

00:19:15.600 --> 00:19:18.559
<v Speaker 1>no health z endpoint on that application.

00:19:19.520 --> 00:19:21.840
<v Speaker 1>That's right. There. Yeah. Yeah. Yeah.

00:19:22.160 --> 00:19:23.840
<v Speaker 1>Yeah. I don't I bet it's just called

00:19:23.840 --> 00:19:25.039
<v Speaker 1>health. Yeah.

00:19:26.880 --> 00:19:28.320
<v Speaker 1>So that's a good one.

00:19:29.044 --> 00:19:31.285
<v Speaker 1>That's that's a really good one. So,

00:19:32.245 --> 00:19:33.364
<v Speaker 1>Nice try.

00:19:34.565 --> 00:19:36.405
<v Speaker 1>So I guess, should we just fix it

00:19:36.405 --> 00:19:38.885
<v Speaker 1>using cube? How to edit? Or Yeah. Just

00:19:38.885 --> 00:19:41.445
<v Speaker 0>just edit. Like, do the the fastest way

00:19:41.445 --> 00:19:42.804
<v Speaker 0>possible is the best way.

00:19:43.760 --> 00:19:44.959
<v Speaker 0>This doesn't production.

00:19:45.840 --> 00:19:47.919
<v Speaker 1>Deployment.

00:19:49.679 --> 00:19:50.639
<v Speaker 1>Clustered.

00:19:52.000 --> 00:19:52.959
<v Speaker 1>And then

00:19:56.399 --> 00:19:57.039
<v Speaker 1>that's it.

00:19:58.654 --> 00:19:59.294
<v Speaker 1>Oh,

00:19:59.455 --> 00:20:01.614
<v Speaker 1>I think that broke on on the

00:20:02.255 --> 00:20:04.975
<v Speaker 1>stream with Yeah. The CLI can't handle them

00:20:04.975 --> 00:20:07.455
<v Speaker 0>very well. I switched over to the browser

00:20:07.455 --> 00:20:09.294
<v Speaker 0>for that. I just deleted

00:20:09.294 --> 00:20:12.014
<v Speaker 1>the z at at the path of health.

00:20:12.174 --> 00:20:12.414
<v Speaker 0>Nice.

00:20:13.500 --> 00:20:15.419
<v Speaker 1>That's it. Then

00:20:16.060 --> 00:20:17.580
<v Speaker 1>maybe we can actually

00:20:18.700 --> 00:20:21.179
<v Speaker 1>get part and then watch

00:20:21.900 --> 00:20:23.019
<v Speaker 1>what happens.

00:20:24.220 --> 00:20:25.580
<v Speaker 1>It's

00:20:27.065 --> 00:20:28.504
<v Speaker 1>still not coming up though.

00:20:29.145 --> 00:20:32.585
<v Speaker 1>Yeah. You're laughing like you're giving yourself away.

00:20:34.905 --> 00:20:36.665
<v Speaker 2>I mean, let's have a look at I

00:20:36.665 --> 00:20:38.585
<v Speaker 0>just like it when because, like, when you

00:20:38.585 --> 00:20:40.425
<v Speaker 0>make the break, sometimes you're really worried that

00:20:40.425 --> 00:20:43.640
<v Speaker 0>it's just not gonna work. And I'm

00:20:43.640 --> 00:20:44.919
<v Speaker 0>very happy that it worked.

00:20:45.480 --> 00:20:47.720
<v Speaker 2>I'm I'm definitely worried about one of ours

00:20:47.720 --> 00:20:50.360
<v Speaker 2>as well, but let's get to that later.

00:20:51.320 --> 00:20:52.519
<v Speaker 2>Alright.

00:20:54.120 --> 00:20:55.080
<v Speaker 2>Let's

00:20:56.595 --> 00:20:58.595
<v Speaker 2>let's have a look at the,

00:20:59.155 --> 00:21:01.075
<v Speaker 2>like, the status of the pod one more

00:21:01.075 --> 00:21:02.034
<v Speaker 2>time then.

00:21:02.434 --> 00:21:03.075
<v Speaker 1>Mhmm.

00:21:04.355 --> 00:21:06.034
<v Speaker 1>Do you wanna take over again?

00:21:06.674 --> 00:21:07.235
<v Speaker 1>I can.

00:21:18.340 --> 00:21:19.860
<v Speaker 1>Describe pod, I guess.

00:21:20.260 --> 00:21:21.540
<v Speaker 2>Ah, whoops. Yeah.

00:21:21.860 --> 00:21:22.260
<v Speaker 2>That's

00:21:23.380 --> 00:21:24.980
<v Speaker 2>oh, my god. Can't even type.

00:21:26.255 --> 00:21:27.455
<v Speaker 2>Alright. So

00:21:29.775 --> 00:21:30.975
<v Speaker 4>It's still saying

00:21:32.655 --> 00:21:34.254
<v Speaker 1>no. That's old.

00:21:34.815 --> 00:21:37.455
<v Speaker 1>Now it's the fails to start, I guess.

00:21:37.455 --> 00:21:40.049
<v Speaker 1>Right? Yeah. That that always throws me off

00:21:40.049 --> 00:21:41.330
<v Speaker 1>still. I think

00:21:41.730 --> 00:21:44.849
<v Speaker 1>the probe failing was, like, last seen

00:21:45.169 --> 00:21:47.009
<v Speaker 1>seven minutes ago now,

00:21:47.250 --> 00:21:48.450
<v Speaker 1>was it? Yeah.

00:21:55.495 --> 00:21:58.695
<v Speaker 1>It still says health zed in the description

00:21:58.695 --> 00:22:00.134
<v Speaker 1>though with the readiness

00:22:00.215 --> 00:22:02.215
<v Speaker 1>and liveness probe. Yeah. So Can you run

00:22:02.294 --> 00:22:04.455
<v Speaker 1>we update everything. Can you run get close

00:22:04.455 --> 00:22:04.615
<v Speaker 0>again?

00:22:10.300 --> 00:22:10.940
<v Speaker 0>Right. So

00:22:11.580 --> 00:22:14.220
<v Speaker 2>Yeah. This part hasn't even been updated. Yeah.

00:22:14.220 --> 00:22:16.940
<v Speaker 0>So what happens when you modify the deployment?

00:22:18.460 --> 00:22:21.180
<v Speaker 1>There's, like, a controller that needs to kick

00:22:21.180 --> 00:22:23.885
<v Speaker 1>in to take over in on the scheduler.

00:22:23.885 --> 00:22:24.364
<v Speaker 1>Right?

00:22:25.325 --> 00:22:26.205
<v Speaker 1>But

00:22:33.005 --> 00:22:35.005
<v Speaker 1>it isn't reconciled. Like, if we look at

00:22:35.085 --> 00:22:37.110
<v Speaker 1>can we describe the

00:22:38.070 --> 00:22:38.870
<v Speaker 1>the

00:22:39.990 --> 00:22:42.230
<v Speaker 1>it's called the replica set?

00:22:43.350 --> 00:22:45.030
<v Speaker 2>Yeah. I mean, we've got the

00:22:45.990 --> 00:22:47.830
<v Speaker 2>I mean, I'm I'm guessing the replica set

00:22:47.830 --> 00:22:48.550
<v Speaker 2>is not

00:22:49.270 --> 00:22:51.955
<v Speaker 2>updated. Right? Right. The replica set is not

00:22:51.955 --> 00:22:53.794
<v Speaker 1>updated. Help zed.

00:22:54.434 --> 00:22:56.275
<v Speaker 2>Well, no. They created. The new one gets

00:22:56.275 --> 00:22:56.994
<v Speaker 2>created.

00:22:58.755 --> 00:23:00.754
<v Speaker 5>Right. And that hasn't happened.

00:23:01.475 --> 00:23:02.034
<v Speaker 6>Yep.

00:23:03.395 --> 00:23:05.475
<v Speaker 2>At least the the replica set that is

00:23:05.475 --> 00:23:06.115
<v Speaker 2>there

00:23:06.440 --> 00:23:07.639
<v Speaker 2>does not have

00:23:08.520 --> 00:23:11.000
<v Speaker 2>the the modification, which means

00:23:11.160 --> 00:23:13.720
<v Speaker 2>that probably the it hasn't been updated.

00:23:14.360 --> 00:23:16.520
<v Speaker 1>Laura said in chat that there's a hint

00:23:16.520 --> 00:23:19.080
<v Speaker 1>if we need one. Thank you, Laura.

00:23:21.885 --> 00:23:23.645
<v Speaker 1>Maybe you should read the hints.

00:23:24.365 --> 00:23:25.965
<v Speaker 0>No. Yous are yous are on the right

00:23:25.965 --> 00:23:27.405
<v Speaker 0>path. Yous are talking about it. Yous are

00:23:27.405 --> 00:23:28.285
<v Speaker 0>describing

00:23:28.765 --> 00:23:30.685
<v Speaker 0>how this works. Oh, yeah. It's super valuable

00:23:30.685 --> 00:23:33.085
<v Speaker 0>to everyone watching. So you you know that.

00:23:33.085 --> 00:23:34.125
<v Speaker 0>You definitely know that.

00:23:34.840 --> 00:23:36.919
<v Speaker 1>So so I can we can we check

00:23:36.919 --> 00:23:38.039
<v Speaker 1>cube system?

00:23:42.760 --> 00:23:44.440
<v Speaker 1>Yeah. I I I would check the cube

00:23:44.440 --> 00:23:45.959
<v Speaker 1>system namespace for,

00:23:47.159 --> 00:23:47.480
<v Speaker 1>like,

00:23:48.585 --> 00:23:52.105
<v Speaker 1>the controllers being up and and reconciling our

00:23:52.105 --> 00:23:52.744
<v Speaker 1>stuff

00:23:53.225 --> 00:23:55.225
<v Speaker 1>probably are the webhooks. I

00:23:59.705 --> 00:24:01.465
<v Speaker 0>But I think Russell is suggesting that I

00:24:01.465 --> 00:24:04.345
<v Speaker 0>could have used a mutation commission controller.

00:24:05.600 --> 00:24:06.640
<v Speaker 0>But yeah.

00:24:07.600 --> 00:24:10.000
<v Speaker 1>Actually the controller manager. Yeah.

00:24:11.680 --> 00:24:13.440
<v Speaker 1>The controller manager is there.

00:24:14.480 --> 00:24:17.120
<v Speaker 2>We were thinking of deploying a a faulty,

00:24:17.120 --> 00:24:18.880
<v Speaker 2>like, admission webhook that would,

00:24:21.315 --> 00:24:23.875
<v Speaker 2>like, deny every creator or something like that.

00:24:24.275 --> 00:24:26.515
<v Speaker 2>So Seems like we aren't the only ones.

00:24:26.515 --> 00:24:28.195
<v Speaker 2>Maybe we're not the only ones.

00:24:30.595 --> 00:24:32.275
<v Speaker 0>User user on the right path. Don't go

00:24:32.275 --> 00:24:33.795
<v Speaker 0>down the webhook path. That's that's

00:24:34.180 --> 00:24:35.220
<v Speaker 0>Russell is

00:24:35.940 --> 00:24:38.180
<v Speaker 0>very smart, but incorrect on this occasion. User

00:24:38.180 --> 00:24:39.940
<v Speaker 0>user already on the right path for your

00:24:39.940 --> 00:24:40.740
<v Speaker 0>conversation.

00:24:42.180 --> 00:24:44.100
<v Speaker 2>So first thing that I can already see

00:24:44.100 --> 00:24:46.980
<v Speaker 2>actually so there's also a readiness probe that

00:24:46.980 --> 00:24:50.285
<v Speaker 2>is also pointed at health health z. So

00:24:50.285 --> 00:24:52.605
<v Speaker 2>that will also be a problem later.

00:24:53.085 --> 00:24:55.565
<v Speaker 2>Mhmm. But maybe we wanna fix that

00:24:55.965 --> 00:24:57.485
<v Speaker 2>already just so so

00:24:57.965 --> 00:24:58.524
<v Speaker 2>Yep.

00:25:00.445 --> 00:25:02.285
<v Speaker 1>Yeah. So I did miss one. Yes.

00:25:06.480 --> 00:25:07.200
<v Speaker 1>I

00:25:07.360 --> 00:25:08.879
<v Speaker 1>love how the livestream

00:25:08.960 --> 00:25:12.240
<v Speaker 1>is just completely broken when using Vim. Yeah.

00:25:12.240 --> 00:25:14.239
<v Speaker 0>I have to Hey. Yeah. Switch it over.

00:25:14.320 --> 00:25:16.640
<v Speaker 2>I I still have Vimium on. Can you

00:25:16.640 --> 00:25:18.705
<v Speaker 2>hit escape for me, Matthias?

00:25:18.945 --> 00:25:19.745
<v Speaker 2>Yep.

00:25:20.065 --> 00:25:21.985
<v Speaker 1>There you go. Thank you.

00:25:23.905 --> 00:25:25.505
<v Speaker 0>That was also the control c bug with

00:25:25.505 --> 00:25:27.505
<v Speaker 0>teleport was very fun, wasn't it?

00:25:27.985 --> 00:25:28.705
<v Speaker 1>Yeah.

00:25:28.865 --> 00:25:29.265
<v Speaker 1>Yep.

00:25:30.280 --> 00:25:33.000
<v Speaker 1>But there's, like, Vimception for you, Frederic. Like,

00:25:33.000 --> 00:25:34.679
<v Speaker 1>you have the Vim in the

00:25:35.000 --> 00:25:37.640
<v Speaker 1>in the cluster and then the Vimeo in

00:25:37.640 --> 00:25:38.519
<v Speaker 1>the browser.

00:25:38.920 --> 00:25:39.559
<v Speaker 1>Yes.

00:25:40.520 --> 00:25:43.399
<v Speaker 1>How to exit two layered Vims.

00:25:44.920 --> 00:25:46.245
<v Speaker 2>Alright. So

00:25:48.005 --> 00:25:50.485
<v Speaker 2>what did we say? Admission webhooks. Right?

00:25:50.965 --> 00:25:52.885
<v Speaker 0>No. We wrote that. Controllers.

00:25:53.845 --> 00:25:56.164
<v Speaker 2>Ah, we It's all the controller. Yeah.

00:25:58.165 --> 00:26:00.405
<v Speaker 1>Yeah. Let's look at the controller manager then,

00:26:00.980 --> 00:26:02.500
<v Speaker 1>I would say. Alright.

00:26:02.900 --> 00:26:04.740
<v Speaker 2>Okay. You wanna look at logs, or what

00:26:04.740 --> 00:26:05.860
<v Speaker 2>do you wanna look at?

00:26:08.980 --> 00:26:11.060
<v Speaker 1>That's Is it the controller manager or the

00:26:11.140 --> 00:26:12.980
<v Speaker 1>this or the scheduler, though?

00:26:14.660 --> 00:26:15.300
<v Speaker 2>Well, the,

00:26:15.915 --> 00:26:19.035
<v Speaker 2>no, the the controller manager has the deployments

00:26:19.035 --> 00:26:19.675
<v Speaker 2>controller

00:26:19.995 --> 00:26:21.915
<v Speaker 1>Right. Exactly. Yeah. Should be the thing that

00:26:21.915 --> 00:26:24.235
<v Speaker 2>creates the new replica set. So we can

00:26:24.235 --> 00:26:26.475
<v Speaker 2>have a look at the logs of the

00:26:27.115 --> 00:26:27.995
<v Speaker 2>controller manager.

00:26:32.020 --> 00:26:33.940
<v Speaker 0>No. What I love about this is that

00:26:33.940 --> 00:26:36.820
<v Speaker 0>you both know Kubernetes absolutely inside out, but

00:26:36.820 --> 00:26:38.580
<v Speaker 0>it shows how easy it is or how

00:26:38.580 --> 00:26:40.500
<v Speaker 0>difficult it is to debug problems, right, in

00:26:40.500 --> 00:26:42.740
<v Speaker 0>production even when you know that. For sure.

00:26:42.900 --> 00:26:45.785
<v Speaker 2>We can we can definitely see here

00:26:47.385 --> 00:26:48.665
<v Speaker 2>leader election,

00:26:49.385 --> 00:26:51.385
<v Speaker 2>error retrieving resource lock,

00:26:52.105 --> 00:26:53.145
<v Speaker 2>kubectl

00:26:53.225 --> 00:26:54.665
<v Speaker 2>kubesystem

00:26:54.665 --> 00:26:55.865
<v Speaker 2>controller manager.

00:26:58.190 --> 00:26:58.830
<v Speaker 2>It

00:27:00.990 --> 00:27:01.870
<v Speaker 2>it's getting

00:27:02.270 --> 00:27:03.790
<v Speaker 2>connection refused.

00:27:04.190 --> 00:27:05.470
<v Speaker 2>Alright. So

00:27:07.470 --> 00:27:09.950
<v Speaker 2>I think we were talking about firewall rules

00:27:09.950 --> 00:27:10.510
<v Speaker 2>at some point.

00:27:11.575 --> 00:27:13.654
<v Speaker 2>So maybe we've got something

00:27:14.855 --> 00:27:17.334
<v Speaker 2>nasty there. So what is it?

00:27:17.815 --> 00:27:20.774
<v Speaker 1>That was yeah. That's inactive. That's

00:27:20.774 --> 00:27:22.054
<v Speaker 2>inactive. Alright.

00:27:22.215 --> 00:27:23.255
<v Speaker 2>So that's one.

00:27:25.640 --> 00:27:27.080
<v Speaker 2>Gosh. I don't remember.

00:27:29.400 --> 00:27:31.480
<v Speaker 2>What is it? IP table. It's flush or

00:27:31.480 --> 00:27:34.120
<v Speaker 2>something. Dash capital l for less, and you

00:27:34.120 --> 00:27:35.720
<v Speaker 0>can do dash capital f to flush.

00:27:38.455 --> 00:27:40.375
<v Speaker 1>You know this too quickly. I think you've

00:27:40.375 --> 00:27:41.095
<v Speaker 6>done that.

00:27:42.375 --> 00:27:45.095
<v Speaker 2>Like this you said? Or Oh, that you've

00:27:45.095 --> 00:27:46.535
<v Speaker 0>so you've just done the flush. So all

00:27:46.535 --> 00:27:48.294
<v Speaker 0>the IP tables rules will be rewritten by

00:27:48.294 --> 00:27:50.294
<v Speaker 0>a zillion. And then if the failures Now

00:27:50.294 --> 00:27:51.655
<v Speaker 1>we can

00:27:51.550 --> 00:27:53.230
<v Speaker 1>dash dash list rules.

00:27:53.470 --> 00:27:55.710
<v Speaker 0>Or just capital l. We'll list them. Yeah.

00:27:55.710 --> 00:27:57.070
<v Speaker 1>Yeah. Exactly. Okay.

00:27:59.310 --> 00:28:01.149
<v Speaker 0>So there is no firewall in play.

00:28:03.550 --> 00:28:04.270
<v Speaker 2>Okay.

00:28:06.404 --> 00:28:08.004
<v Speaker 2>Or I just flush everything.

00:28:10.965 --> 00:28:13.205
<v Speaker 2>Let let's have another look at those logs

00:28:13.205 --> 00:28:13.605
<v Speaker 2>then.

00:28:24.110 --> 00:28:26.750
<v Speaker 0>How familiar are you with cube admin clusters?

00:28:31.654 --> 00:28:34.054
<v Speaker 2>Haven't haven't used those in a while.

00:28:34.455 --> 00:28:37.174
<v Speaker 2>We're

00:28:37.174 --> 00:28:39.094
<v Speaker 2>using GKE for everything now.

00:28:40.294 --> 00:28:41.815
<v Speaker 0>My camera is overheating.

00:28:44.250 --> 00:28:46.010
<v Speaker 1>As long as we can hear you, that's

00:28:46.010 --> 00:28:48.090
<v Speaker 1>fine, I guess. I was I was pushing

00:28:48.090 --> 00:28:50.009
<v Speaker 0>that. We know you're still there. My backup.

00:28:50.810 --> 00:28:51.529
<v Speaker 1>Right.

00:28:52.330 --> 00:28:54.570
<v Speaker 1>Yeah. No. It's it's been a while since

00:28:54.570 --> 00:28:56.409
<v Speaker 1>I used q a d m as well.

00:28:56.570 --> 00:28:58.330
<v Speaker 1>I think even, like, back at,

00:28:58.890 --> 00:28:59.770
<v Speaker 1>not Kubamatic,

00:29:00.225 --> 00:29:02.624
<v Speaker 1>they used this, I think, beneath the,

00:29:02.865 --> 00:29:03.504
<v Speaker 1>like,

00:29:04.785 --> 00:29:06.145
<v Speaker 1>the other schedulers

00:29:06.145 --> 00:29:06.865
<v Speaker 1>they had.

00:29:07.905 --> 00:29:08.784
<v Speaker 2>I mean,

00:29:09.105 --> 00:29:10.865
<v Speaker 2>connect connection refused.

00:29:10.865 --> 00:29:12.705
<v Speaker 2>Can we are are we even sure that

00:29:12.705 --> 00:29:13.744
<v Speaker 2>this is the right

00:29:14.304 --> 00:29:15.184
<v Speaker 2>address

00:29:16.270 --> 00:29:18.270
<v Speaker 2>that it's going to connect to?

00:29:19.230 --> 00:29:21.710
<v Speaker 1>Like, I I remember when I was looking

00:29:21.710 --> 00:29:22.510
<v Speaker 2>at our

00:29:22.670 --> 00:29:24.910
<v Speaker 2>Hoop API server, there was some other address.

00:29:24.910 --> 00:29:26.430
<v Speaker 2>It was, like, 6443

00:29:26.430 --> 00:29:27.710
<v Speaker 2>or something like that.

00:29:29.725 --> 00:29:31.645
<v Speaker 1>I mean, we can just look at the

00:29:31.645 --> 00:29:35.245
<v Speaker 1>service Kubernetes in the default namespace. Right? That

00:29:35.245 --> 00:29:37.245
<v Speaker 1>should probably tell us. Do do you wanna

00:29:37.245 --> 00:29:39.405
<v Speaker 2>take over again? For some reason, some some

00:29:39.405 --> 00:29:42.205
<v Speaker 2>resizing happened again for me. And Yeah. I'll

00:29:42.205 --> 00:29:45.240
<v Speaker 1>just clean the Okay. Yeah. The screen, and

00:29:45.240 --> 00:29:47.080
<v Speaker 1>then it should be fine for everybody. So

00:29:48.280 --> 00:29:51.320
<v Speaker 1>the service like this, there's, like, default

00:29:51.560 --> 00:29:54.920
<v Speaker 1>Kubernetes service in every Kubernetes cluster that always

00:29:54.920 --> 00:29:55.720
<v Speaker 1>has, like,

00:29:56.360 --> 00:29:59.160
<v Speaker 1>a IP to the API server.

00:30:00.015 --> 00:30:03.295
<v Speaker 1>So that is ten nine six zero one.

00:30:03.295 --> 00:30:05.055
<v Speaker 1>I think that was, like, something with a

00:30:05.055 --> 00:30:06.815
<v Speaker 1>five in the logs. Right?

00:30:09.535 --> 00:30:10.575
<v Speaker 1>That's

00:30:10.575 --> 00:30:11.455
<v Speaker 1>completely different.

00:30:11.970 --> 00:30:14.690
<v Speaker 0>Yeah. So the service is the internal cluster

00:30:14.690 --> 00:30:16.850
<v Speaker 0>IP for the control. Mhmm.

00:30:18.770 --> 00:30:19.730
<v Speaker 2>The the this

00:30:20.370 --> 00:30:22.690
<v Speaker 2>yeah. But what we just saw was

00:30:23.490 --> 00:30:24.210
<v Speaker 2>that

00:30:25.010 --> 00:30:25.809
<v Speaker 2>the

00:30:26.475 --> 00:30:27.035
<v Speaker 2>actual

00:30:27.275 --> 00:30:29.515
<v Speaker 2>like, the the the the service just forwards

00:30:29.515 --> 00:30:32.475
<v Speaker 2>to something somewhere else. Right? And that

00:30:33.355 --> 00:30:34.955
<v Speaker 2>uses some different port, I think.

00:30:39.000 --> 00:30:40.840
<v Speaker 0>You're using an admin.com

00:30:40.840 --> 00:30:42.679
<v Speaker 0>to speak to this cluster. Right?

00:30:43.880 --> 00:30:46.039
<v Speaker 2>Do you remember where where that lives? Yeah.

00:30:48.360 --> 00:30:50.040
<v Speaker 2>Matthias, can you can you have a quick

00:30:50.040 --> 00:30:52.200
<v Speaker 2>look at the address that's in there?

00:30:53.855 --> 00:30:55.455
<v Speaker 1>The oh, the con?

00:30:58.335 --> 00:31:00.495
<v Speaker 1>Is it is it fine to just show

00:31:00.495 --> 00:31:01.215
<v Speaker 1>this?

00:31:03.455 --> 00:31:05.695
<v Speaker 0>Yeah. Yeah. Yeah. It's I'm asking you again.

00:31:05.695 --> 00:31:07.054
<v Speaker 0>No. You feel you could you could flash

00:31:07.054 --> 00:31:09.510
<v Speaker 0>that. Yeah. That's that's okay. Right.

00:31:11.670 --> 00:31:13.750
<v Speaker 1>Now you have to be quick typing, or

00:31:13.750 --> 00:31:15.750
<v Speaker 1>I can at least let me

00:31:15.990 --> 00:31:17.590
<v Speaker 2>grab something. So so

00:31:18.470 --> 00:31:20.310
<v Speaker 2>it it seems like this address is just

00:31:20.310 --> 00:31:21.030
<v Speaker 2>completely wrong.

00:31:22.285 --> 00:31:24.765
<v Speaker 2>Like, it's it's neither the internal one, and

00:31:24.765 --> 00:31:26.365
<v Speaker 2>I don't think you even use the internal

00:31:26.365 --> 00:31:27.165
<v Speaker 2>address

00:31:28.845 --> 00:31:31.165
<v Speaker 2>for for the setup. So let's just try

00:31:31.165 --> 00:31:32.924
<v Speaker 2>to modify the

00:31:34.925 --> 00:31:37.005
<v Speaker 2>the address that it's trying to connect to

00:31:37.140 --> 00:31:38.100
<v Speaker 2>to this one.

00:31:38.660 --> 00:31:39.140
<v Speaker 2>So

00:31:39.540 --> 00:31:41.220
<v Speaker 1>I'm guessing

00:31:42.980 --> 00:31:45.140
<v Speaker 1>let's look at the deployment

00:31:45.140 --> 00:31:45.860
<v Speaker 1>of

00:31:46.260 --> 00:31:47.700
<v Speaker 1>that thing. It might be a

00:31:48.740 --> 00:31:50.340
<v Speaker 1>I I don't think it's a it's a

00:31:50.340 --> 00:31:52.424
<v Speaker 2>deployment. I no. I it might even be

00:31:52.424 --> 00:31:53.544
<v Speaker 2>a static pod.

00:31:54.105 --> 00:31:54.744
<v Speaker 2>It

00:31:55.385 --> 00:31:57.144
<v Speaker 0>is. A static pod. Yeah.

00:31:57.865 --> 00:31:58.984
<v Speaker 2>Yeah. Patrick.

00:32:02.265 --> 00:32:04.424
<v Speaker 2>No. You can't you can't modify those. They're

00:32:04.424 --> 00:32:07.299
<v Speaker 2>on disk somewhere. I I forget exactly where.

00:32:07.299 --> 00:32:08.899
<v Speaker 1>But Right. But I should be able to

00:32:08.899 --> 00:32:11.220
<v Speaker 1>get the Yes. You can get the pod,

00:32:11.220 --> 00:32:12.899
<v Speaker 2>definitely. The pod. Right?

00:32:13.220 --> 00:32:15.139
<v Speaker 1>So that's called controller,

00:32:16.179 --> 00:32:19.695
<v Speaker 1>the cube controller manager. Yeah. Cube controller. Thank

00:32:19.695 --> 00:32:22.575
<v Speaker 1>thank you a thousand times for setting up

00:32:22.575 --> 00:32:24.335
<v Speaker 1>the auto completion earlier.

00:32:24.415 --> 00:32:25.935
<v Speaker 1>Yeah. I don't I don't know how to

00:32:25.935 --> 00:32:26.975
<v Speaker 1>to work

00:32:27.295 --> 00:32:28.335
<v Speaker 1>otherwise.

00:32:29.695 --> 00:32:30.895
<v Speaker 1>Okay. So

00:32:31.695 --> 00:32:32.575
<v Speaker 1>lots of text.

00:32:35.240 --> 00:32:36.999
<v Speaker 1>Yeah. It should be further up.

00:32:39.799 --> 00:32:41.880
<v Speaker 1>Yeah. Where there the commands in the flex

00:32:41.880 --> 00:32:42.919
<v Speaker 1>are, I would say.

00:32:43.559 --> 00:32:43.960
<v Speaker 1>Mhmm.

00:32:56.414 --> 00:32:58.495
<v Speaker 1>K. So it uses a cube config that

00:32:58.495 --> 00:33:01.134
<v Speaker 1>is the controller

00:32:59.970 --> 00:33:01.409
<v Speaker 1>manager account.

00:33:01.730 --> 00:33:03.330
<v Speaker 1>So maybe if we look

00:33:03.650 --> 00:33:05.250
<v Speaker 1>at that one and compare it with the

00:33:05.250 --> 00:33:06.529
<v Speaker 1>app admin one.

00:33:06.929 --> 00:33:07.730
<v Speaker 2>Yep.

00:33:08.450 --> 00:33:10.130
<v Speaker 2>It is too easy for you, Frederick.

00:33:19.705 --> 00:33:21.784
<v Speaker 1>So something like that. Wanna pick that for

00:33:21.784 --> 00:33:24.664
<v Speaker 0>less just for the Yeah. Let me

00:33:24.985 --> 00:33:26.984
<v Speaker 1>well, just correct server.

00:33:27.544 --> 00:33:28.744
<v Speaker 1>So one is

00:33:29.225 --> 00:33:30.184
<v Speaker 1>different than the other.

00:33:34.470 --> 00:33:36.710
<v Speaker 1>So which one is correct? I would say

00:33:36.710 --> 00:33:39.190
<v Speaker 1>the admin one is correct. Well, there's there's

00:33:39.190 --> 00:33:41.909
<v Speaker 0>a bunch of .coms and slash Etsy Kubernetes.

00:33:44.265 --> 00:33:46.745
<v Speaker 2>Just I actually I I just wanted to

00:33:46.745 --> 00:33:48.664
<v Speaker 2>point out something since people

00:33:48.825 --> 00:33:52.105
<v Speaker 2>might be confused why hasn't spoken up.

00:33:52.425 --> 00:33:53.465
<v Speaker 2>His Internet

00:33:53.705 --> 00:33:57.349
<v Speaker 2>is entirely broken. And Who knows?

00:33:57.909 --> 00:34:01.110
<v Speaker 2>Yeah. His his ISP is a % offline.

00:34:01.110 --> 00:34:03.349
<v Speaker 2>So Alright. No worry. Unfortunately,

00:34:03.830 --> 00:34:04.469
<v Speaker 2>he

00:34:04.630 --> 00:34:06.469
<v Speaker 2>he can't be here right now.

00:34:07.429 --> 00:34:09.350
<v Speaker 1>But we had three replicas.

00:34:09.670 --> 00:34:10.230
<v Speaker 1>Oh gosh.

00:34:11.395 --> 00:34:13.075
<v Speaker 1>I

00:34:15.395 --> 00:34:16.114
<v Speaker 1>mean, let's

00:34:16.595 --> 00:34:19.315
<v Speaker 1>Let's compare with the scheduler one then.

00:34:20.595 --> 00:34:21.235
<v Speaker 1>Right?

00:34:21.555 --> 00:34:22.114
<v Speaker 1>Or cube

00:34:22.675 --> 00:34:23.235
<v Speaker 1>Kubelet.

00:34:31.730 --> 00:34:34.210
<v Speaker 2>Yeah. So that's that's this one. This can

00:34:34.210 --> 00:34:34.850
<v Speaker 5>be a lot of users.

00:34:36.905 --> 00:34:38.745
<v Speaker 1>I wanted to compare

00:34:39.945 --> 00:34:40.905
<v Speaker 1>these two.

00:34:41.065 --> 00:34:42.505
<v Speaker 1>So there is the

00:34:42.905 --> 00:34:44.265
<v Speaker 1>controller manager.

00:34:45.145 --> 00:34:46.505
<v Speaker 2>It's just Kubernetes.

00:34:46.505 --> 00:34:48.105
<v Speaker 2>You didn't you forgot an s.

00:34:57.520 --> 00:34:58.400
<v Speaker 1>Such a

00:34:59.440 --> 00:35:01.360
<v Speaker 0>Sometimes I forget. I like to quit them,

00:35:01.360 --> 00:35:03.200
<v Speaker 0>and I I delete words. You know? It's

00:35:03.200 --> 00:35:04.080
<v Speaker 0>it's it's an accident.

00:35:05.555 --> 00:35:08.355
<v Speaker 1>Yeah. That makes makes a lot of sense.

00:35:08.355 --> 00:35:09.315
<v Speaker 1>That happens

00:35:09.474 --> 00:35:10.675
<v Speaker 1>in production.

00:35:10.994 --> 00:35:11.875
<v Speaker 1>Too bad.

00:35:13.875 --> 00:35:16.515
<v Speaker 1>I I I love Unix tools like this.

00:35:16.515 --> 00:35:18.115
<v Speaker 1>It makes it so much easier.

00:35:18.595 --> 00:35:19.075
<v Speaker 1>So,

00:35:20.049 --> 00:35:21.730
<v Speaker 1>yeah, let's

00:35:22.130 --> 00:35:23.410
<v Speaker 1>edit the

00:35:24.529 --> 00:35:27.010
<v Speaker 1>controller manager at that part.

00:35:28.690 --> 00:35:30.050
<v Speaker 1>6443.

00:35:31.410 --> 00:35:32.769
<v Speaker 1>That's the only instance.

00:35:35.005 --> 00:35:37.245
<v Speaker 0>Hold on. Frederic, do do you know how

00:35:37.245 --> 00:35:38.445
<v Speaker 1>to restart

00:35:38.445 --> 00:35:39.325
<v Speaker 1>the pod?

00:35:40.205 --> 00:35:41.645
<v Speaker 1>Do we need to do this?

00:35:41.965 --> 00:35:44.685
<v Speaker 0>You will have to delete the pod. Yeah.

00:35:44.765 --> 00:35:46.765
<v Speaker 2>You you should be able to just do

00:35:46.765 --> 00:35:47.565
<v Speaker 2>delete pod.

00:35:48.360 --> 00:35:50.280
<v Speaker 1>And then it will be I think

00:35:51.400 --> 00:35:53.160
<v Speaker 2>if I remember correctly, the way that the

00:35:53.160 --> 00:35:54.760
<v Speaker 2>static pods work is that even if you

00:35:54.760 --> 00:35:57.160
<v Speaker 2>delete them, if they are present in that

00:35:57.240 --> 00:35:59.800
<v Speaker 2>wherever on disk, they will be recreated all

00:35:59.800 --> 00:36:01.400
<v Speaker 2>the time. That is correct. I think the

00:36:01.400 --> 00:36:03.880
<v Speaker 0>kubelet will will

00:36:03.275 --> 00:36:04.235
<v Speaker 0>rematerialize

00:36:04.235 --> 00:36:04.715
<v Speaker 0>them.

00:36:06.235 --> 00:36:08.795
<v Speaker 1>They said there was, like, a checkpoint for

00:36:08.795 --> 00:36:10.395
<v Speaker 1>Kubernetes at some point,

00:36:11.115 --> 00:36:13.675
<v Speaker 1>but I think that's slightly different still. Right?

00:36:13.675 --> 00:36:16.395
<v Speaker 1>That's just Yep. The kubelet Yeah. So what

00:36:16.395 --> 00:36:19.369
<v Speaker 2>you I think what you're remembering is BootKube.

00:36:19.450 --> 00:36:20.490
<v Speaker 2>And BootKube

00:36:20.569 --> 00:36:21.450
<v Speaker 2>used

00:36:21.690 --> 00:36:23.289
<v Speaker 2>used checkpointing

00:36:23.450 --> 00:36:26.090
<v Speaker 2>used static parts to checkpoint

00:36:26.970 --> 00:36:28.170
<v Speaker 2>things like etcd.

00:36:30.505 --> 00:36:32.505
<v Speaker 2>If people still remember Bootkoop,

00:36:32.505 --> 00:36:34.905
<v Speaker 2>that was, like, self hosted Kubernetes

00:36:35.945 --> 00:36:39.145
<v Speaker 2>where we used at CoreOS, we used Kubernetes

00:36:39.145 --> 00:36:40.665
<v Speaker 2>to spin up Kubernetes,

00:36:40.665 --> 00:36:42.825
<v Speaker 2>and you needed, like, a bootstrapping cluster,

00:36:42.905 --> 00:36:44.960
<v Speaker 2>and checkpointing was kind of a

00:36:46.160 --> 00:36:48.400
<v Speaker 2>snapshot of a point in time. And then

00:36:48.400 --> 00:36:49.119
<v Speaker 2>it was

00:36:50.720 --> 00:36:53.520
<v Speaker 2>well, it kind of pivoted from static pods

00:36:53.520 --> 00:36:54.240
<v Speaker 2>to,

00:36:54.559 --> 00:36:55.520
<v Speaker 2>quote, unquote,

00:36:55.760 --> 00:36:56.559
<v Speaker 2>real pods.

00:36:57.725 --> 00:36:59.165
<v Speaker 2>It was it was fun.

00:36:59.645 --> 00:37:01.565
<v Speaker 0>So what I loved about that break is

00:37:01.565 --> 00:37:03.885
<v Speaker 0>that at no point does the controller manager

00:37:03.885 --> 00:37:05.965
<v Speaker 0>ever say that it's not ready or healthy

00:37:06.925 --> 00:37:09.485
<v Speaker 0>even though it can't Yeah. Speak to the

00:37:09.990 --> 00:37:11.590
<v Speaker 0>to the APIs server.

00:37:11.910 --> 00:37:12.870
<v Speaker 0>There you go.

00:37:13.830 --> 00:37:16.870
<v Speaker 1>Alright. The controller manager was restarted,

00:37:17.190 --> 00:37:18.710
<v Speaker 1>but I don't think

00:37:21.430 --> 00:37:22.070
<v Speaker 1>the

00:37:23.270 --> 00:37:25.190
<v Speaker 1>replica set was updated. Right?

00:37:26.085 --> 00:37:27.605
<v Speaker 2>Well As it looks.

00:37:28.005 --> 00:37:30.325
<v Speaker 2>Let's let's see if we progressed in any

00:37:30.325 --> 00:37:30.805
<v Speaker 2>way.

00:37:33.365 --> 00:37:35.285
<v Speaker 2>Okay. So that looks like it's still only

00:37:35.285 --> 00:37:37.125
<v Speaker 2>one. Let's have a look at the logs

00:37:37.125 --> 00:37:39.365
<v Speaker 2>of the controller manager again. That's what we

00:37:40.005 --> 00:37:41.045
<v Speaker 2>tried to fix. Right?

00:37:42.300 --> 00:37:43.020
<v Speaker 2>Yep.

00:37:44.380 --> 00:37:47.100
<v Speaker 0>That'll

00:37:47.100 --> 00:37:48.460
<v Speaker 0>be the old one.

00:37:49.020 --> 00:37:50.460
<v Speaker 0>Oh, no. Wait. Did you do logs on

00:37:50.460 --> 00:37:51.900
<v Speaker 0>the actual part, or did you do it

00:37:51.900 --> 00:37:52.140
<v Speaker 0>from the

00:37:54.995 --> 00:37:57.395
<v Speaker 1>Yeah. On the on the part. Right? Yeah.

00:37:59.075 --> 00:38:00.915
<v Speaker 1>Let's actually tell this.

00:38:03.875 --> 00:38:06.835
<v Speaker 1>I'm actually confused. That's still the wrong port.

00:38:06.915 --> 00:38:09.395
<v Speaker 2>Yeah. Like, it's not the updated port.

00:38:10.960 --> 00:38:11.680
<v Speaker 2>Yep.

00:38:12.400 --> 00:38:13.680
<v Speaker 1>So

00:38:14.960 --> 00:38:15.920
<v Speaker 1>we

00:38:18.400 --> 00:38:20.240
<v Speaker 1>we look at no.

00:38:23.395 --> 00:38:25.075
<v Speaker 1>But the

00:38:25.875 --> 00:38:27.075
<v Speaker 1>the part

00:38:28.195 --> 00:38:29.875
<v Speaker 1>not delete the part.

00:38:30.275 --> 00:38:31.235
<v Speaker 1>Describe.

00:38:31.315 --> 00:38:32.915
<v Speaker 1>Yes. Describe the

00:38:33.235 --> 00:38:36.115
<v Speaker 1>controller manager part. And if we scroll up,

00:38:38.289 --> 00:38:40.609
<v Speaker 1>we see that we

00:38:42.130 --> 00:38:44.450
<v Speaker 1>were using the controller manager,

00:38:44.609 --> 00:38:46.690
<v Speaker 1>though. So that's the one we updated.

00:38:46.930 --> 00:38:47.890
<v Speaker 1>Is there

00:38:48.450 --> 00:38:49.890
<v Speaker 1>any other place?

00:38:50.529 --> 00:38:53.410
<v Speaker 1>Like, the bind address looks somewhat

00:38:56.075 --> 00:38:58.155
<v Speaker 1>suspicious to me. Like, that

00:38:58.395 --> 00:39:00.315
<v Speaker 1>that's, like, an easy thing to

00:39:02.395 --> 00:39:04.155
<v Speaker 1>to modify this way.

00:39:05.115 --> 00:39:07.115
<v Speaker 2>But why would the

00:39:07.430 --> 00:39:10.230
<v Speaker 2>the controller manager just talks to the

00:39:10.710 --> 00:39:13.110
<v Speaker 2>Right. Kubernetes API even if it were to

00:39:13.110 --> 00:39:14.470
<v Speaker 2>bind to the wrong address?

00:39:15.030 --> 00:39:16.950
<v Speaker 0>Did you update the port correctly and the

00:39:16.950 --> 00:39:19.190
<v Speaker 0>controller manager Yeah. I was I was gonna

00:39:19.190 --> 00:39:21.030
<v Speaker 2>say that as well. Just double check that

00:39:21.030 --> 00:39:21.910
<v Speaker 2>we actually

00:39:23.435 --> 00:39:25.675
<v Speaker 1>Yeah. There's no difference

00:39:26.955 --> 00:39:28.475
<v Speaker 1>between those two

00:39:30.235 --> 00:39:32.075
<v Speaker 1>when it comes to server, at least.

00:39:36.869 --> 00:39:39.430
<v Speaker 1>So, I mean, the admin conflict will be

00:39:39.430 --> 00:39:41.510
<v Speaker 1>different, I suppose. Oh, yeah. You did put

00:39:41.510 --> 00:39:42.150
<v Speaker 0>it right.

00:39:45.510 --> 00:39:50.230
<v Speaker 1>So the control element, 10721415,

00:39:50.790 --> 00:39:51.030
<v Speaker 1>and

00:39:53.245 --> 00:39:54.605
<v Speaker 1>we grab

00:39:54.765 --> 00:39:56.525
<v Speaker 1>find access here.

00:40:00.045 --> 00:40:02.205
<v Speaker 1>You wanna have a look at the Mhmm.

00:40:02.605 --> 00:40:03.725
<v Speaker 2>Do you wanna have a look at the

00:40:03.725 --> 00:40:04.925
<v Speaker 2>whole config

00:40:05.400 --> 00:40:06.600
<v Speaker 2>just real quick?

00:40:07.079 --> 00:40:07.800
<v Speaker 1>Yep.

00:40:08.039 --> 00:40:09.160
<v Speaker 1>I mean, you can

00:40:09.880 --> 00:40:11.800
<v Speaker 1>take over as well if you want to.

00:40:12.359 --> 00:40:15.800
<v Speaker 2>Someone from the from the audience said that

00:40:15.880 --> 00:40:16.680
<v Speaker 2>I think

00:40:17.400 --> 00:40:20.055
<v Speaker 2>coup the Kubelet doesn't restart static pods If

00:40:20.055 --> 00:40:22.454
<v Speaker 2>you delete it using kubectl, either restart couplet

00:40:22.454 --> 00:40:24.535
<v Speaker 2>or restart controller manager

00:40:24.694 --> 00:40:25.735
<v Speaker 2>pod using

00:40:26.295 --> 00:40:27.974
<v Speaker 2>c r I c r I c t.

00:40:27.974 --> 00:40:28.375
<v Speaker 1>Yeah.

00:40:28.775 --> 00:40:30.694
<v Speaker 0>I just I'm gonna make sure that I

00:40:30.694 --> 00:40:32.295
<v Speaker 0>don't leave an old break in that I

00:40:32.295 --> 00:40:34.615
<v Speaker 0>did remove. I'm I'm just gonna

00:40:37.010 --> 00:40:37.890
<v Speaker 0>Open to here.

00:40:53.705 --> 00:40:55.225
<v Speaker 0>I think my screen is doing a weird

00:40:55.225 --> 00:40:56.025
<v Speaker 0>thing there.

00:40:59.865 --> 00:41:02.265
<v Speaker 2>Yeah. That's what we Charlie just said, isn't

00:41:02.265 --> 00:41:04.025
<v Speaker 2>it? An Etsy Kubernetes

00:41:04.025 --> 00:41:06.950
<v Speaker 2>manifests. Yeah. That's what we actually just opened

00:41:06.950 --> 00:41:09.270
<v Speaker 2>here. Yeah. Okay. So that's the thing we

00:41:09.270 --> 00:41:10.310
<v Speaker 1>we need to

00:41:10.789 --> 00:41:13.029
<v Speaker 1>to modify. That's where those that's where the

00:41:13.029 --> 00:41:14.950
<v Speaker 2>static pods are. I I don't think we

00:41:14.950 --> 00:41:16.550
<v Speaker 2>need to modify anything in here.

00:41:17.990 --> 00:41:18.950
<v Speaker 1>Alright.

00:41:19.270 --> 00:41:20.630
<v Speaker 1>Because we modified

00:41:20.630 --> 00:41:22.884
<v Speaker 1>the Someone else Yeah. Someone else in the

00:41:22.884 --> 00:41:24.565
<v Speaker 2>audience said that we might need to restart

00:41:24.565 --> 00:41:26.165
<v Speaker 2>the in

00:41:26.484 --> 00:41:28.645
<v Speaker 2>order to have it have it take effect.

00:41:29.525 --> 00:41:31.285
<v Speaker 2>I don't remember that. But

00:41:31.845 --> 00:41:33.684
<v Speaker 0>Yeah. I think using Vem on that fail

00:41:33.684 --> 00:41:35.684
<v Speaker 0>has restarted the controller manager now.

00:41:37.340 --> 00:41:40.140
<v Speaker 1>You're using what? Sorry. It appears to have

00:41:40.140 --> 00:41:42.060
<v Speaker 0>restarted the controller manager now.

00:41:42.620 --> 00:41:44.780
<v Speaker 1>Ah, maybe Just by giving it time.

00:41:52.025 --> 00:41:52.985
<v Speaker 0>There you go.

00:41:54.665 --> 00:41:56.665
<v Speaker 0>Yeah. Go go back to your get replica

00:41:56.665 --> 00:41:58.505
<v Speaker 0>set command, and then you should do something

00:41:58.505 --> 00:41:59.225
<v Speaker 0>different.

00:42:02.425 --> 00:42:04.265
<v Speaker 1>They sent me ten seconds ago.

00:42:04.850 --> 00:42:06.290
<v Speaker 2>Alright. Alright.

00:42:07.090 --> 00:42:08.610
<v Speaker 2>So it's there now.

00:42:11.970 --> 00:42:13.410
<v Speaker 1>It

00:42:17.595 --> 00:42:19.915
<v Speaker 1>seems like it's up and running.

00:42:24.395 --> 00:42:25.995
<v Speaker 1>Yeah. Let's check the

00:42:27.115 --> 00:42:31.035
<v Speaker 1>check the size

00:42:29.720 --> 00:42:30.599
<v Speaker 1>Cluster.

00:42:32.920 --> 00:42:34.280
<v Speaker 1>I guess it's yeah.

00:42:36.279 --> 00:42:36.839
<v Speaker 1>Let me

00:42:37.880 --> 00:42:40.039
<v Speaker 0>You can curl. We'll do those 30,000 if

00:42:40.039 --> 00:42:41.480
<v Speaker 0>you want to test that. Yeah. Okay. That

00:42:41.480 --> 00:42:42.279
<v Speaker 1>also works.

00:42:45.885 --> 00:42:46.765
<v Speaker 1>Yeah. I can

00:42:47.405 --> 00:42:49.085
<v Speaker 1>I saw that one coming?

00:42:49.565 --> 00:42:52.045
<v Speaker 1>Yeah. The database connection doesn't work.

00:42:52.925 --> 00:42:53.885
<v Speaker 0>You

00:42:55.485 --> 00:42:56.445
<v Speaker 0>have five minutes left.

00:42:58.380 --> 00:43:00.460
<v Speaker 1>For the database connect to work.

00:43:01.180 --> 00:43:01.980
<v Speaker 1>So

00:43:02.380 --> 00:43:05.020
<v Speaker 1>right. I I take a look at our

00:43:06.700 --> 00:43:07.980
<v Speaker 1>our doc

00:43:08.059 --> 00:43:10.380
<v Speaker 1>real quick to copy some

00:43:10.955 --> 00:43:11.995
<v Speaker 1>commands

00:43:11.995 --> 00:43:14.075
<v Speaker 1>for the database maybe.

00:43:14.555 --> 00:43:17.115
<v Speaker 1>So let's say we have

00:43:19.515 --> 00:43:20.395
<v Speaker 1>we have

00:43:20.715 --> 00:43:22.075
<v Speaker 1>Postgres running.

00:43:22.395 --> 00:43:23.835
<v Speaker 2>Actually, can we have a quick look at

00:43:23.835 --> 00:43:25.275
<v Speaker 2>the error message that we saw there?

00:43:26.079 --> 00:43:27.599
<v Speaker 2>Because the can you do the curl one

00:43:27.599 --> 00:43:28.240
<v Speaker 2>more time?

00:43:29.520 --> 00:43:31.680
<v Speaker 2>Error connecting to server failed to look up

00:43:31.680 --> 00:43:34.480
<v Speaker 2>address information name or service

00:43:35.119 --> 00:43:36.160
<v Speaker 2>not known.

00:43:36.240 --> 00:43:38.560
<v Speaker 2>That like, let's first make sure that the

00:43:38.720 --> 00:43:38.880
<v Speaker 1>Yeah.

00:43:40.224 --> 00:43:41.745
<v Speaker 2>Service for the Postgres

00:43:42.305 --> 00:43:43.425
<v Speaker 2>is even there.

00:43:44.224 --> 00:43:45.025
<v Speaker 1>True.

00:43:45.185 --> 00:43:46.385
<v Speaker 1>Yeah. Good point.

00:43:47.585 --> 00:43:48.944
<v Speaker 2>Do you wanna type, or do you want

00:43:48.944 --> 00:43:50.385
<v Speaker 2>me to Yeah. Go

00:43:51.105 --> 00:43:52.385
<v Speaker 1>ahead. Start with typing.

00:43:53.185 --> 00:43:54.464
<v Speaker 1>So Postgres there,

00:43:55.280 --> 00:43:57.760
<v Speaker 1>and then if we say Postgres and look

00:43:57.760 --> 00:43:59.440
<v Speaker 1>at it's Yammer.

00:44:00.640 --> 00:44:03.040
<v Speaker 1>You can see, yeah, 5432

00:44:03.040 --> 00:44:05.680
<v Speaker 1>is the port. Do you see something already?

00:44:06.160 --> 00:44:07.974
<v Speaker 2>No. No. I was just saying, is that

00:44:07.974 --> 00:44:09.494
<v Speaker 2>is that the right part? Is that the

00:44:09.494 --> 00:44:11.815
<v Speaker 2>Postgres part? I'm not sure. Yeah. That's it's

00:44:11.815 --> 00:44:14.615
<v Speaker 1>always, like, five and then counted backwards,

00:44:15.015 --> 00:44:16.215
<v Speaker 1>like, increasing.

00:44:17.415 --> 00:44:19.015
<v Speaker 1>That's how I remember it.

00:44:20.135 --> 00:44:22.214
<v Speaker 1>Would have broken penis, would he? Yeah.

00:44:24.320 --> 00:44:25.040
<v Speaker 1>So,

00:44:26.560 --> 00:44:29.280
<v Speaker 1>again, copying our commands.

00:44:29.360 --> 00:44:31.920
<v Speaker 1>Let's see what do we have here. Let's

00:44:31.920 --> 00:44:32.480
<v Speaker 1>look at.

00:44:35.845 --> 00:44:37.765
<v Speaker 2>Or do you wanna do you wanna try

00:44:39.685 --> 00:44:43.365
<v Speaker 2>I mean, yeah, is definitely That looks fine.

00:44:43.365 --> 00:44:43.925
<v Speaker 1>Yeah.

00:44:44.885 --> 00:44:47.205
<v Speaker 2>I was gonna say, try let's try to

00:44:47.205 --> 00:44:50.645
<v Speaker 2>exec into the clustered pod and Mhmm.

00:44:51.869 --> 00:44:52.430
<v Speaker 2>Like,

00:44:52.990 --> 00:44:54.830
<v Speaker 2>try to connect to the Postgres

00:44:54.990 --> 00:44:56.350
<v Speaker 2>database from there.

00:44:57.069 --> 00:44:57.790
<v Speaker 1>Right.

00:44:58.829 --> 00:45:00.430
<v Speaker 1>I should even have

00:45:01.150 --> 00:45:02.270
<v Speaker 1>command ready.

00:45:03.325 --> 00:45:04.445
<v Speaker 1>Came prepared.

00:45:04.925 --> 00:45:05.645
<v Speaker 1>However,

00:45:06.125 --> 00:45:09.165
<v Speaker 1>problem wise is or the problem is that

00:45:09.805 --> 00:45:11.885
<v Speaker 1>there is no drill or dig in this

00:45:11.885 --> 00:45:12.605
<v Speaker 1>container.

00:45:13.165 --> 00:45:15.005
<v Speaker 0>You can have to update and that install

00:45:15.005 --> 00:45:17.645
<v Speaker 0>DNS dash utils if you want dig. Oh,

00:45:17.645 --> 00:45:20.860
<v Speaker 1>there. See, I didn't even realize that earlier.

00:45:22.700 --> 00:45:24.460
<v Speaker 1>Yeah. So it was, like, some distro less

00:45:24.460 --> 00:45:26.380
<v Speaker 1>or some You have to add up space.

00:45:26.380 --> 00:45:26.780
<v Speaker 0>There

00:45:29.740 --> 00:45:31.900
<v Speaker 1>was, like, some super small container that didn't

00:45:31.900 --> 00:45:33.820
<v Speaker 1>have a package manager. So

00:45:34.445 --> 00:45:37.005
<v Speaker 1>I'm I'm surprised there's app in here. I

00:45:37.005 --> 00:45:38.765
<v Speaker 1>didn't even try it earlier.

00:45:40.365 --> 00:45:41.965
<v Speaker 0>That was me being very nice to people

00:45:41.965 --> 00:45:43.325
<v Speaker 0>that come on the show.

00:45:44.045 --> 00:45:44.765
<v Speaker 1>Yep.

00:45:47.005 --> 00:45:49.000
<v Speaker 1>I think, yeah, now it broke on my

00:45:49.000 --> 00:45:50.360
<v Speaker 1>side. I can't

00:45:50.520 --> 00:45:52.680
<v Speaker 1>really see what I'm typing. Can I type

00:45:52.680 --> 00:45:54.200
<v Speaker 1>clear? Ah, that worked.

00:45:54.760 --> 00:45:56.440
<v Speaker 1>Now it's broken for the stream, though. I

00:45:56.440 --> 00:45:57.160
<v Speaker 1>reset

00:45:57.240 --> 00:45:57.480
<v Speaker 1>Okay.

00:45:59.535 --> 00:46:01.375
<v Speaker 1>Yeah. So install

00:46:01.615 --> 00:46:04.895
<v Speaker 1>oops. They're called big or DNS.

00:46:05.615 --> 00:46:07.615
<v Speaker 1>Rick just mentioned

00:46:09.615 --> 00:46:10.175
<v Speaker 1>DNS,

00:46:11.769 --> 00:46:13.369
<v Speaker 1>Then I need to be able to type

00:46:13.369 --> 00:46:14.170
<v Speaker 1>install

00:46:14.170 --> 00:46:15.609
<v Speaker 1>DNS details.

00:46:15.609 --> 00:46:16.170
<v Speaker 1>Yes.

00:46:17.369 --> 00:46:20.089
<v Speaker 1>I'm just a Arch Linux boy.

00:46:20.650 --> 00:46:22.010
<v Speaker 1>I'm going going

00:46:22.250 --> 00:46:24.089
<v Speaker 0>to Which shell did you run? This is

00:46:24.089 --> 00:46:25.450
<v Speaker 0>a bash. I think that's why you're having

00:46:25.450 --> 00:46:27.210
<v Speaker 0>so many Yeah. It's

00:46:28.835 --> 00:46:31.155
<v Speaker 0>If you run bash It's like the

00:46:31.315 --> 00:46:33.795
<v Speaker 1>adjust bash. Yeah. There you go. That'll work

00:46:33.795 --> 00:46:34.355
<v Speaker 0>better.

00:46:36.115 --> 00:46:37.555
<v Speaker 1>So now there is

00:46:38.355 --> 00:46:39.555
<v Speaker 1>oh, there is

00:46:40.595 --> 00:46:40.994
<v Speaker 1>yes.

00:46:45.359 --> 00:46:46.640
<v Speaker 1>K. That doesn't work.

00:46:47.119 --> 00:46:48.800
<v Speaker 1>I just read the

00:46:49.200 --> 00:46:50.720
<v Speaker 1>read the livestream.

00:46:52.560 --> 00:46:54.240
<v Speaker 1>So we're see Postgres

00:46:57.875 --> 00:47:00.755
<v Speaker 1>because that's the host that, like, connects to.

00:47:01.795 --> 00:47:04.035
<v Speaker 1>That's, like, baked into the application in the

00:47:04.035 --> 00:47:06.355
<v Speaker 1>source code I saw earlier. It is. Yep.

00:47:06.355 --> 00:47:08.435
<v Speaker 2>Do you wanna, like, just Telnet

00:47:08.915 --> 00:47:09.555
<v Speaker 2>the

00:47:10.515 --> 00:47:11.234
<v Speaker 2>address import?

00:47:12.430 --> 00:47:14.510
<v Speaker 1>Probably, there is no Telnet yet.

00:47:21.470 --> 00:47:22.270
<v Speaker 1>Post.

00:47:22.430 --> 00:47:22.590
<v Speaker 1>Dang.

00:47:31.734 --> 00:47:32.455
<v Speaker 1>Yep.

00:47:34.135 --> 00:47:36.694
<v Speaker 1>Yeah. I I mean, we don't get, like,

00:47:36.694 --> 00:47:40.500
<v Speaker 1>a proper DNS response back on top. Right?

00:47:40.580 --> 00:47:41.780
<v Speaker 1>Like, there's no

00:47:42.020 --> 00:47:43.380
<v Speaker 1>IP address

00:47:44.260 --> 00:47:45.060
<v Speaker 1>in

00:47:46.260 --> 00:47:47.540
<v Speaker 1>in in this.

00:47:48.340 --> 00:47:51.300
<v Speaker 0>Yep. And you're all out of time. So

00:47:51.300 --> 00:47:54.444
<v Speaker 0>close. Too mad. Too bad. Like, I I

00:47:54.444 --> 00:47:57.085
<v Speaker 1>bet something in in core DNS.

00:47:58.045 --> 00:47:59.964
<v Speaker 0>But I I didn't touch core

00:47:59.964 --> 00:48:02.204
<v Speaker 0>DNS. Oh, you're still in the container. Yeah.

00:48:02.204 --> 00:48:05.085
<v Speaker 1>In the container. So I went to the.

00:48:07.980 --> 00:48:09.100
<v Speaker 0>And

00:48:09.180 --> 00:48:11.100
<v Speaker 0>if we Giving

00:48:11.740 --> 00:48:12.940
<v Speaker 1>it a different

00:48:16.540 --> 00:48:18.540
<v Speaker 0>sorry. My terminal is really weird. Let's just

00:48:18.540 --> 00:48:21.740
<v Speaker 0>do this. Messed up the, like, cluster DNS

00:48:21.414 --> 00:48:22.855
<v Speaker 2>or what? Yeah.

00:48:23.335 --> 00:48:23.974
<v Speaker 2>Yeah.

00:48:24.934 --> 00:48:25.815
<v Speaker 1>So that

00:48:26.295 --> 00:48:27.174
<v Speaker 1>cluster's

00:48:27.174 --> 00:48:29.654
<v Speaker 1>IP address where the DNS lives is a

00:48:29.654 --> 00:48:31.494
<v Speaker 1>different one than it actually is?

00:48:32.214 --> 00:48:34.295
<v Speaker 0>It's not the kubel. Oh, where the hell

00:48:34.295 --> 00:48:35.095
<v Speaker 0>did I change that?

00:48:40.270 --> 00:48:41.870
<v Speaker 0>Kubernetes manifest.

00:48:42.510 --> 00:48:43.070
<v Speaker 0>Yeah.

00:48:43.630 --> 00:48:44.510
<v Speaker 0>No.

00:48:44.910 --> 00:48:46.350
<v Speaker 0>The kubecta service.

00:48:48.430 --> 00:48:49.470
<v Speaker 0>Where did I change it?

00:48:52.665 --> 00:48:53.865
<v Speaker 0>Web API.

00:48:54.505 --> 00:48:55.545
<v Speaker 2>Where is that?

00:48:57.785 --> 00:48:59.464
<v Speaker 0>No. It's definitely in the Kubik Con. Oh,

00:48:59.464 --> 00:49:01.065
<v Speaker 0>I changed it on the worker nodes. Oh,

00:49:01.065 --> 00:49:01.625
<v Speaker 0>that's fine.

00:49:02.540 --> 00:49:03.180
<v Speaker 0>Oh. Even

00:49:04.460 --> 00:49:05.820
<v Speaker 1>on the worker notes.

00:49:06.700 --> 00:49:07.820
<v Speaker 0>If we

00:49:08.859 --> 00:49:11.740
<v Speaker 0>pop over here and go to

00:49:12.859 --> 00:49:14.700
<v Speaker 0>Lumi worker one

00:49:16.885 --> 00:49:19.045
<v Speaker 0>and I modify bar

00:49:19.125 --> 00:49:22.005
<v Speaker 0>lib kubect config dot YAML.

00:49:22.325 --> 00:49:24.164
<v Speaker 0>Yeah. The cluster domain was changed here from

00:49:24.164 --> 00:49:26.325
<v Speaker 0>cluster dot local to Kubernetes.local.

00:49:28.244 --> 00:49:31.390
<v Speaker 2>Oh. Yeah. Okay. But that breaks because, like,

00:49:31.390 --> 00:49:33.950
<v Speaker 1>the application is just looking for Postgres as

00:49:33.950 --> 00:49:36.590
<v Speaker 1>a host name. So I'm surprised it it

00:49:36.590 --> 00:49:37.310
<v Speaker 1>breaks

00:49:37.470 --> 00:49:38.990
<v Speaker 0>it breaks the hardware.

00:49:39.310 --> 00:49:40.910
<v Speaker 0>End dots to fill in the rest of

00:49:40.910 --> 00:49:42.830
<v Speaker 0>the domain as Kubernetes.local.

00:49:42.830 --> 00:49:43.950
<v Speaker 0>So by the end, I guess, the core

00:49:43.950 --> 00:49:47.204
<v Speaker 0>DNS. There's there's never anything. And then there

00:49:47.204 --> 00:49:49.204
<v Speaker 0>was one really horrible thing at the end

00:49:49.204 --> 00:49:50.325
<v Speaker 0>where you wouldn't have been able to pull

00:49:50.325 --> 00:49:52.085
<v Speaker 0>the container image anyway because I stuck container

00:49:52.085 --> 00:49:54.085
<v Speaker 0>d in the freezer c group. So

00:49:57.830 --> 00:50:00.390
<v Speaker 0>Particularly harsh, but you started awesome there. It's

00:50:00.390 --> 00:50:02.070
<v Speaker 0>like there there there was a lot to

00:50:02.070 --> 00:50:03.510
<v Speaker 0>unpack there, and I love the fact that

00:50:03.510 --> 00:50:04.630
<v Speaker 0>you were sharing,

00:50:04.630 --> 00:50:06.390
<v Speaker 0>you know, history and knowledge as you went

00:50:06.390 --> 00:50:07.270
<v Speaker 0>along. So

00:50:08.070 --> 00:50:10.630
<v Speaker 1>I wonder how long it would have taken

00:50:10.630 --> 00:50:12.775
<v Speaker 1>to get to the other two now. But

00:50:12.775 --> 00:50:15.415
<v Speaker 1>those I mean, the DNS one seems doable,

00:50:15.415 --> 00:50:16.055
<v Speaker 1>but the

00:50:16.935 --> 00:50:19.415
<v Speaker 1>that other that other one, that seems pretty

00:50:19.415 --> 00:50:21.975
<v Speaker 1>pretty rough to be fair. Yeah. I I

00:50:21.975 --> 00:50:23.495
<v Speaker 0>would I would love that you sit on

00:50:23.495 --> 00:50:25.700
<v Speaker 0>that one for too long. So but good

00:50:25.700 --> 00:50:26.420
<v Speaker 0>job. Now

00:50:26.900 --> 00:50:29.060
<v Speaker 0>did I ask? Thank you. How is

00:50:29.220 --> 00:50:30.580
<v Speaker 0>how is Cluster 2?

00:50:32.900 --> 00:50:35.220
<v Speaker 1>Yeah. So, I mean, I was driving this,

00:50:35.619 --> 00:50:36.980
<v Speaker 1>but I can quickly,

00:50:38.405 --> 00:50:39.845
<v Speaker 1>in, two minutes

00:50:40.165 --> 00:50:42.725
<v Speaker 0>I'm gonna check if Cluster 1 magically came

00:50:42.725 --> 00:50:46.085
<v Speaker 0>back. Yeah. I I tried in between. Alright.

00:50:46.085 --> 00:50:46.725
<v Speaker 0>But

00:50:46.885 --> 00:50:48.885
<v Speaker 0>it's it's gone. But let's reload.

00:50:49.365 --> 00:50:51.125
<v Speaker 1>I don't know what happened on that one,

00:50:51.125 --> 00:50:51.205
<v Speaker 1>really.

00:50:52.200 --> 00:50:53.640
<v Speaker 1>It's just completely

00:50:54.920 --> 00:50:55.960
<v Speaker 1>disappeared.

00:50:58.200 --> 00:50:59.320
<v Speaker 0>Alright. Well,

00:50:59.640 --> 00:51:02.280
<v Speaker 0>I well, say thank you very much and

00:51:02.280 --> 00:51:03.880
<v Speaker 0>goodbye to you just now. If you could

00:51:03.880 --> 00:51:05.800
<v Speaker 0>break your cluster in the background and we

00:51:05.800 --> 00:51:07.560
<v Speaker 0>will do our introductions for as long as

00:51:07.560 --> 00:51:07.880
<v Speaker 0>possible.

00:51:08.515 --> 00:51:09.715
<v Speaker 0>And if you can give us a nod

00:51:09.715 --> 00:51:11.395
<v Speaker 0>in the comments, that would be wonderful. But

00:51:11.395 --> 00:51:13.635
<v Speaker 0>thank you, Frederic. Thank you, Matthias.

00:51:14.035 --> 00:51:16.915
<v Speaker 0>Great job. I'll see you, Boston. Thanks. Thanks

00:51:16.915 --> 00:51:18.995
<v Speaker 2>for having us. Cheers. Thank you.

00:51:19.795 --> 00:51:20.755
<v Speaker 0>Alrighty.

00:51:21.315 --> 00:51:22.915
<v Speaker 0>Let team make up.

00:51:23.520 --> 00:51:24.960
<v Speaker 0>Up. Put my camera over here. Do need

00:51:24.960 --> 00:51:27.440
<v Speaker 0>to update everything over to my other camera?

00:51:27.920 --> 00:51:30.640
<v Speaker 0>Alright. Pulumi team, please join if you're still

00:51:30.640 --> 00:51:32.880
<v Speaker 0>watching. I see that we've got one so

00:51:32.880 --> 00:51:33.440
<v Speaker 0>far.

00:51:35.680 --> 00:51:36.640
<v Speaker 0>Hey, Steve.

00:51:37.360 --> 00:51:39.635
<v Speaker 1>Hey. How's it going? How's it going?

00:51:40.195 --> 00:51:42.675
<v Speaker 0>It's it's getting there. Although, now as I

00:51:42.675 --> 00:51:44.035
<v Speaker 0>move this on to the next one, I'm

00:51:44.035 --> 00:51:45.315
<v Speaker 0>gonna there we go.

00:51:45.635 --> 00:51:46.675
<v Speaker 0>Hey, Laura.

00:51:47.555 --> 00:51:47.955
<v Speaker 6>Hello.

00:51:50.990 --> 00:51:51.869
<v Speaker 6>Hello?

00:51:52.270 --> 00:51:54.349
<v Speaker 6>Can you hear me? Yeah. We can hear

00:51:54.349 --> 00:51:56.990
<v Speaker 0>you. You're all good. All good. Yeah.

00:51:57.470 --> 00:51:59.869
<v Speaker 0>We're just waiting on one more.

00:52:02.910 --> 00:52:04.589
<v Speaker 0>And what the how was that? Did she

00:52:04.589 --> 00:52:06.109
<v Speaker 0>just have fun watching that?

00:52:08.474 --> 00:52:09.995
<v Speaker 6>It's a little intimidating.

00:52:10.315 --> 00:52:11.355
<v Speaker 6>Just a little.

00:52:11.675 --> 00:52:13.515
<v Speaker 5>No. That was great. They did a great

00:52:13.515 --> 00:52:16.075
<v Speaker 5>job finding, you know, getting down to it.

00:52:16.875 --> 00:52:17.994
<v Speaker 5>When you know when you know the when

00:52:17.994 --> 00:52:19.275
<v Speaker 5>you know the answer, you could see them

00:52:19.275 --> 00:52:21.630
<v Speaker 5>just scooting on the edge, you know. So

00:52:21.630 --> 00:52:23.869
<v Speaker 5>it was great. Yeah. That a good a

00:52:23.869 --> 00:52:24.990
<v Speaker 5>good debug there.

00:52:25.310 --> 00:52:27.390
<v Speaker 0>Russell and the audience is asking, and I

00:52:27.390 --> 00:52:29.070
<v Speaker 0>will show my final break.

00:52:29.470 --> 00:52:30.670
<v Speaker 0>I mean, I guess we've got a minute

00:52:30.670 --> 00:52:31.390
<v Speaker 0>so we can do.

00:52:33.045 --> 00:52:35.365
<v Speaker 0>I'll pop back over to the screen share.

00:52:36.244 --> 00:52:37.605
<v Speaker 0>Jump on to

00:52:39.765 --> 00:52:41.045
<v Speaker 0>one of these nodes.

00:52:41.365 --> 00:52:44.085
<v Speaker 0>So there was a mystery service

00:52:44.085 --> 00:52:45.765
<v Speaker 0>called Teleport Proxy

00:52:45.765 --> 00:52:46.805
<v Speaker 0>running on this,

00:52:47.760 --> 00:52:50.000
<v Speaker 0>which was running a script

00:52:51.680 --> 00:52:53.200
<v Speaker 0>called Teleport Proxy,

00:52:53.280 --> 00:52:54.720
<v Speaker 0>which was trained on the pet of container

00:52:54.720 --> 00:52:55.840
<v Speaker 0>d and

00:52:56.560 --> 00:52:58.240
<v Speaker 0>freezing it every one second.

00:52:59.760 --> 00:53:00.160
<v Speaker 0>Yeah.

00:53:02.924 --> 00:53:05.085
<v Speaker 0>Maybe too harsh though. I did start I

00:53:05.085 --> 00:53:07.805
<v Speaker 0>did freeze the cupola as well and and

00:53:07.805 --> 00:53:09.405
<v Speaker 0>prior to just going live,

00:53:09.644 --> 00:53:11.565
<v Speaker 0>but there were far too many error messages.

00:53:11.565 --> 00:53:13.244
<v Speaker 0>The whole system was falling over,

00:53:13.484 --> 00:53:15.164
<v Speaker 0>and I saw it make it easier.

00:53:16.470 --> 00:53:18.390
<v Speaker 0>Alright. When we have our whole team, we're

00:53:18.390 --> 00:53:20.310
<v Speaker 0>just gonna wait for someone from Polar Signos

00:53:20.310 --> 00:53:21.590
<v Speaker 0>to give us a note in the comments.

00:53:21.590 --> 00:53:23.350
<v Speaker 0>But let's start with some introductions.

00:53:23.350 --> 00:53:25.109
<v Speaker 0>And, Steve, if you wanna kick that off

00:53:25.109 --> 00:53:26.710
<v Speaker 0>and we'll work around clockwise, that would be

00:53:26.710 --> 00:53:27.590
<v Speaker 0>great.

00:53:28.310 --> 00:53:30.390
<v Speaker 5>Sure. So, everyone, I'm Steve Sloca.

00:53:30.744 --> 00:53:32.825
<v Speaker 5>I'm a staff software engineer here at Pulumi.

00:53:32.825 --> 00:53:34.585
<v Speaker 5>I just joined, like, a month or so

00:53:34.585 --> 00:53:35.065
<v Speaker 5>ago.

00:53:35.785 --> 00:53:38.105
<v Speaker 5>I came here from VMware through Heptio. So

00:53:38.105 --> 00:53:39.705
<v Speaker 5>I used to work at Heptio, and I'm

00:53:39.705 --> 00:53:41.385
<v Speaker 5>a maintainer on Contour.

00:53:41.545 --> 00:53:42.905
<v Speaker 5>So if if you're off my with ingress

00:53:42.905 --> 00:53:45.464
<v Speaker 5>controllers, Contour is an ingress controller for Kubernetes.

00:53:46.329 --> 00:53:48.089
<v Speaker 0>Awesome. Thank you. That's that's my story. I

00:53:48.089 --> 00:53:49.930
<v Speaker 5>work on the this this SaaS product for

00:53:49.930 --> 00:53:51.930
<v Speaker 5>Pulumi is what I do here. Nice. I

00:53:51.930 --> 00:53:53.369
<v Speaker 0>didn't know you worked on Contour. That's what

00:53:53.369 --> 00:53:55.290
<v Speaker 0>I use on my own production infrastructure. It's

00:53:55.290 --> 00:53:56.650
<v Speaker 0>such a cool one. There you go. So

00:53:56.650 --> 00:53:58.665
<v Speaker 5>let me know. Yeah. Then whenever I get

00:53:58.665 --> 00:53:59.865
<v Speaker 0>a bug, I'm gonna be hitting you up

00:53:59.865 --> 00:54:01.785
<v Speaker 0>on the Slack. But, hey, man. Yeah. What

00:54:01.865 --> 00:54:02.905
<v Speaker 0>what's the problem here?

00:54:03.225 --> 00:54:04.265
<v Speaker 5>Yeah. For sure.

00:54:04.825 --> 00:54:06.185
<v Speaker 0>Alright. Vivek?

00:54:07.305 --> 00:54:09.145
<v Speaker 4>Sure. My name is Vivek.

00:54:09.305 --> 00:54:11.830
<v Speaker 4>I am a engineer here with Voomi. I've

00:54:11.830 --> 00:54:13.750
<v Speaker 4>been here for a little over a year

00:54:13.750 --> 00:54:14.790
<v Speaker 4>and a half, I think.

00:54:15.670 --> 00:54:18.470
<v Speaker 4>Yeah. And I primarily work on the provider's

00:54:18.470 --> 00:54:19.110
<v Speaker 4>team,

00:54:19.670 --> 00:54:20.470
<v Speaker 4>specifically

00:54:20.550 --> 00:54:21.590
<v Speaker 4>spend a bunch of time

00:54:22.725 --> 00:54:25.045
<v Speaker 4>sort of taking care of the Kubernetes

00:54:25.045 --> 00:54:26.565
<v Speaker 4>aspects of Gloomy.

00:54:27.365 --> 00:54:28.005
<v Speaker 4>Yeah.

00:54:28.165 --> 00:54:30.005
<v Speaker 4>That's me. Spend a little bit time before

00:54:30.005 --> 00:54:30.485
<v Speaker 4>that

00:54:30.965 --> 00:54:34.725
<v Speaker 4>running some large scale production Kubernetes clusters.

00:54:36.405 --> 00:54:37.045
<v Speaker 4>Yeah.

00:54:37.205 --> 00:54:39.920
<v Speaker 4>I'll leave it there for now. Awesome. Thanks.

00:54:39.920 --> 00:54:40.880
<v Speaker 0>And Laura?

00:54:42.240 --> 00:54:44.079
<v Speaker 6>My name is Laura Santa Maria. I'm a

00:54:44.079 --> 00:54:46.160
<v Speaker 6>developer advocate here at Pulumi,

00:54:46.160 --> 00:54:48.640
<v Speaker 6>and I come here from all over the

00:54:48.640 --> 00:54:51.685
<v Speaker 6>place. I but I am on

00:54:51.925 --> 00:54:55.045
<v Speaker 6>SIG contributor experience in upstream Kubernetes.

00:54:55.125 --> 00:54:55.685
<v Speaker 6>And

00:54:56.085 --> 00:54:56.725
<v Speaker 6>my

00:54:56.964 --> 00:54:58.964
<v Speaker 6>biggest claim to fame with all of this

00:54:58.964 --> 00:55:00.964
<v Speaker 6>is that I used to run an entire

00:55:00.964 --> 00:55:01.845
<v Speaker 6>cluster

00:55:01.845 --> 00:55:04.005
<v Speaker 6>before Kubernetes of Docker within Docker.

00:55:04.809 --> 00:55:07.930
<v Speaker 6>So all of my horrible horrible experiences

00:55:07.930 --> 00:55:09.770
<v Speaker 6>there hopefully will help here.

00:55:10.329 --> 00:55:11.610
<v Speaker 6>We'll find out.

00:55:12.650 --> 00:55:15.450
<v Speaker 0>Well, I have no idea what polar signals

00:55:15.450 --> 00:55:16.970
<v Speaker 0>have in store for us. But the fact

00:55:16.970 --> 00:55:19.675
<v Speaker 0>that I completely trashed their first cluster does

00:55:19.675 --> 00:55:22.155
<v Speaker 0>leave me a little bit concerned

00:55:22.234 --> 00:55:23.275
<v Speaker 0>and worried.

00:55:26.075 --> 00:55:27.835
<v Speaker 4>And you left a few ideas in your

00:55:27.994 --> 00:55:29.755
<v Speaker 4>in their mouth and

00:55:31.470 --> 00:55:33.470
<v Speaker 6>I'm a little worried they're in here, like,

00:55:33.470 --> 00:55:34.510
<v Speaker 6>breaking it again.

00:55:35.070 --> 00:55:36.670
<v Speaker 6>Now I'm just wondering, like, what are they

00:55:36.670 --> 00:55:38.830
<v Speaker 6>gonna add to all of this?

00:55:41.550 --> 00:55:42.270
<v Speaker 0>Okay.

00:55:42.910 --> 00:55:44.885
<v Speaker 0>So he's gonna leave out the bet that

00:55:44.885 --> 00:55:46.565
<v Speaker 0>properly trashed it. I think that's a good

00:55:46.565 --> 00:55:47.925
<v Speaker 0>idea. I

00:55:49.125 --> 00:55:50.645
<v Speaker 0>don't wanna have to be fixing this with

00:55:50.645 --> 00:55:52.405
<v Speaker 0>any more of a timer than we already

00:55:52.405 --> 00:55:55.365
<v Speaker 0>have. So Yeah. We just give

00:55:56.325 --> 00:55:58.325
<v Speaker 0>PS another minute or two.

00:55:59.420 --> 00:56:01.500
<v Speaker 4>Sounds fair. I love that they're not even

00:56:01.500 --> 00:56:04.060
<v Speaker 0>sure. They think they're leaving out. I

00:56:07.260 --> 00:56:09.580
<v Speaker 4>mean, these are They should be pretty beefy

00:56:09.580 --> 00:56:10.220
<v Speaker 0>boxes. Like,

00:56:10.780 --> 00:56:12.460
<v Speaker 0>I don't know what they've done. The fact

00:56:12.460 --> 00:56:14.220
<v Speaker 0>that SSH like, you could ping the box.

00:56:14.265 --> 00:56:16.345
<v Speaker 0>It was online with an IP address, but

00:56:16.345 --> 00:56:18.425
<v Speaker 0>SSH was just 100%

00:56:18.585 --> 00:56:19.785
<v Speaker 0>not responsive.

00:56:22.664 --> 00:56:23.945
<v Speaker 0>We'll wait to wait and see.

00:56:24.345 --> 00:56:26.585
<v Speaker 0>Alright. Matthias has said thirty seconds.

00:56:26.825 --> 00:56:28.744
<v Speaker 5>I have to share what they did after

00:56:28.744 --> 00:56:30.599
<v Speaker 5>we're done to see, you know

00:56:31.480 --> 00:56:33.079
<v Speaker 5>curious what they did to break it. Yeah.

00:56:33.079 --> 00:56:38.920
<v Speaker 0>All the breakers notes are available on github.com/rocketacademy/custard,

00:56:39.400 --> 00:56:41.559
<v Speaker 0>where we will put the Bologna bricks as

00:56:41.559 --> 00:56:41.799
<v Speaker 0>well.

00:56:44.055 --> 00:56:44.695
<v Speaker 0>Okay.

00:56:45.255 --> 00:56:47.335
<v Speaker 0>Spoilers as they're not doing it. There it

00:56:48.055 --> 00:56:50.615
<v Speaker 0>You used firewall to block SCD. Like, nobody

00:56:50.615 --> 00:56:52.615
<v Speaker 0>gets firewall rules right the first time.

00:56:52.855 --> 00:56:55.415
<v Speaker 0>So clearly, you've just you've blocked everything.

00:56:55.734 --> 00:56:58.135
<v Speaker 0>That's

00:56:58.135 --> 00:57:00.110
<v Speaker 0>that's been our problem. Alright.

00:57:02.510 --> 00:57:04.910
<v Speaker 0>Matthias, can I connect? In fact, know what?

00:57:04.910 --> 00:57:07.310
<v Speaker 0>I'm connecting. You've had plenty of time. So,

00:57:07.630 --> 00:57:09.150
<v Speaker 0>I'll share my share my screen.

00:57:11.325 --> 00:57:13.085
<v Speaker 0>And I am going to open a session

00:57:13.085 --> 00:57:15.484
<v Speaker 0>on control plane two. Matthias has given me

00:57:15.484 --> 00:57:17.245
<v Speaker 0>a yes now as well, so perfect.

00:57:24.125 --> 00:57:25.805
<v Speaker 0>That's because

00:57:25.950 --> 00:57:27.870
<v Speaker 0>it's my fault. That is not them.

00:57:31.470 --> 00:57:32.990
<v Speaker 0>Alright.

00:57:32.990 --> 00:57:34.590
<v Speaker 0>We have an echo hi from me. If

00:57:34.590 --> 00:57:36.510
<v Speaker 0>you could please go to active session activity

00:57:36.510 --> 00:57:38.655
<v Speaker 0>and active sessions, go to the bottom and

00:57:38.655 --> 00:57:40.255
<v Speaker 0>join and just give me an echo to

00:57:40.255 --> 00:57:41.855
<v Speaker 0>let me know that you're in the session.

00:57:41.935 --> 00:57:43.135
<v Speaker 0>We will get this kicked off.

00:57:56.150 --> 00:57:58.950
<v Speaker 6>Well, that's fun. I'm getting an access denied.

00:57:59.350 --> 00:58:00.710
<v Speaker 0>Oh, yeah. I didn't give you access.

00:58:05.155 --> 00:58:07.234
<v Speaker 6>I was wondering what I was doing wrong.

00:58:07.234 --> 00:58:09.395
<v Speaker 0>I will modify the Pilbara team now and

00:58:09.395 --> 00:58:11.474
<v Speaker 0>let you actually take part in the show.

00:58:11.474 --> 00:58:11.875
<v Speaker 0>So

00:58:12.755 --> 00:58:14.994
<v Speaker 0>Sorry. My my brain is just frazzled today.

00:58:14.994 --> 00:58:17.020
<v Speaker 0>There we go. You're good. It's You're you're

00:58:17.020 --> 00:58:19.420
<v Speaker 6>good, highly entertained thinking that they had already

00:58:19.420 --> 00:58:20.460
<v Speaker 6>broken that

00:58:20.700 --> 00:58:22.220
<v Speaker 6>so that they made it so that only

00:58:22.220 --> 00:58:23.580
<v Speaker 6>you were allowed in.

00:58:24.380 --> 00:58:26.780
<v Speaker 0>Oh, okay. Try again. You should be alright.

00:58:27.660 --> 00:58:28.140
<v Speaker 6>Alright.

00:58:31.744 --> 00:58:33.825
<v Speaker 0>Oh, Matthias was worried that it broke it.

00:58:33.825 --> 00:58:35.665
<v Speaker 0>Nope. It was just me. All good.

00:58:43.470 --> 00:58:45.710
<v Speaker 0>Fireball rule was only saying that bash would

00:58:45.710 --> 00:58:47.230
<v Speaker 0>have been helpful. Alright.

00:58:49.630 --> 00:58:51.390
<v Speaker 0>Steve, Vivek, you just end the session?

00:58:55.065 --> 00:58:56.984
<v Speaker 5>I'm coming. I forgot the link. Here we

00:58:56.984 --> 00:58:57.465
<v Speaker 5>go.

00:58:58.665 --> 00:59:00.505
<v Speaker 4>It was like I I was on worker

00:59:00.505 --> 00:59:02.585
<v Speaker 4>one and I was like, why isn't this

00:59:02.585 --> 00:59:04.185
<v Speaker 4>working? Someone's in result.

00:59:04.505 --> 00:59:05.065
<v Speaker 4>Whatever.

00:59:05.704 --> 00:59:07.145
<v Speaker 0>I just had to look at it at

00:59:07.145 --> 00:59:08.825
<v Speaker 0>my browser too in case we need to

00:59:08.825 --> 00:59:10.505
<v Speaker 0>switch to Vim, which of course we will.

00:59:10.670 --> 00:59:11.310
<v Speaker 0>So

00:59:11.550 --> 00:59:15.150
<v Speaker 4>Right. Anyone feeling particularly interested in

00:59:15.550 --> 00:59:16.510
<v Speaker 0>driving?

00:59:17.630 --> 00:59:18.990
<v Speaker 0>Sorry, Vivek. I left you off the screen

00:59:18.990 --> 00:59:21.630
<v Speaker 0>there. Sorry about that. No. You're good. It's

00:59:21.630 --> 00:59:24.190
<v Speaker 4>fine. Alright. Pretty good, but I will I

00:59:24.190 --> 00:59:26.215
<v Speaker 5>know it's all all weird on my side.

00:59:26.215 --> 00:59:26.935
<v Speaker 5>I don't know.

00:59:28.215 --> 00:59:30.695
<v Speaker 0>Alright. Well, I'll handle the taping and just

00:59:31.255 --> 00:59:32.855
<v Speaker 4>Sounds good. Communicate.

00:59:33.175 --> 00:59:34.935
<v Speaker 0>Tell me what to do. So I have

00:59:34.935 --> 00:59:36.855
<v Speaker 0>set up our cube config and go straight

00:59:36.855 --> 00:59:38.215
<v Speaker 0>into the alias and

00:59:39.415 --> 00:59:42.110
<v Speaker 0>run You can get your alias. Okay.

00:59:43.790 --> 00:59:45.230
<v Speaker 0>We have a control plan.

00:59:45.790 --> 00:59:48.350
<v Speaker 4>Didn't seem to be it. Let's the pod.

00:59:48.190 --> 00:59:50.670
<v Speaker 6>Actually working. I'm now very nervous.

00:59:53.310 --> 00:59:54.030
<v Speaker 0>Well,

00:59:54.495 --> 00:59:56.735
<v Speaker 0>we don't have a clustered pod.

00:59:57.375 --> 00:59:58.095
<v Speaker 4>Yep.

00:59:58.895 --> 01:00:00.095
<v Speaker 0>But we do have

01:00:00.495 --> 01:00:01.375
<v Speaker 0>posters

01:00:01.375 --> 01:00:02.255
<v Speaker 0>at least.

01:00:03.455 --> 01:00:05.215
<v Speaker 0>Alright. What do just wanna check next?

01:00:06.495 --> 01:00:09.450
<v Speaker 4>So we don't have the pod. Do you

01:00:09.450 --> 01:00:10.810
<v Speaker 4>wanna take a look and see if maybe

01:00:10.810 --> 01:00:13.290
<v Speaker 4>there's a deployment for the thing at all?

01:00:13.290 --> 01:00:13.450
<v Speaker 4>Or

01:00:14.650 --> 01:00:16.170
<v Speaker 0>There is. Cluster deployment?

01:00:16.570 --> 01:00:18.010
<v Speaker 4>Okay. Should we edit?

01:00:18.490 --> 01:00:19.770
<v Speaker 0>Yeah. Let's just go straight in.

01:00:20.835 --> 01:00:22.755
<v Speaker 6>Yes. Yeah. Why not? We're gonna have fun.

01:00:22.755 --> 01:00:24.195
<v Speaker 4>Let's do it. Alright.

01:00:26.275 --> 01:00:28.035
<v Speaker 0>Alright. What are we looking for in here,

01:00:28.035 --> 01:00:28.515
<v Speaker 0>team?

01:00:29.395 --> 01:00:30.035
<v Speaker 4>So

01:00:30.195 --> 01:00:32.675
<v Speaker 4>this thing exists. Let's can you go down,

01:00:32.675 --> 01:00:33.234
<v Speaker 4>like, I guess?

01:00:35.190 --> 01:00:37.750
<v Speaker 2>Let's see what the template looks like.

01:00:38.550 --> 01:00:40.550
<v Speaker 4>Yeah. Request for your v one.

01:00:41.830 --> 01:00:42.950
<v Speaker 2>Blah blah blah.

01:00:43.270 --> 01:00:44.630
<v Speaker 4>I mean, I'm

01:00:44.790 --> 01:00:45.830
<v Speaker 4>gonna guess

01:00:46.734 --> 01:00:48.974
<v Speaker 4>so there is no pod. I'm guessing there

01:00:48.974 --> 01:00:50.735
<v Speaker 4>isn't a replica set either.

01:00:52.255 --> 01:00:53.695
<v Speaker 6>I was gonna say right now, it says

01:00:53.695 --> 01:00:55.055
<v Speaker 6>replicas are zero.

01:00:55.295 --> 01:00:55.855
<v Speaker 6>So

01:00:56.175 --> 01:00:59.490
<v Speaker 4>Oh, yeah. Oh, hey. You good good catch.

01:00:59.490 --> 01:01:00.130
<v Speaker 4>Yes.

01:01:00.450 --> 01:01:02.210
<v Speaker 6>I mean, maybe we should start there.

01:01:03.570 --> 01:01:05.650
<v Speaker 4>Good good catch, Lauren. That's a good one.

01:01:12.845 --> 01:01:14.765
<v Speaker 6>I don't know if that's gonna just get

01:01:14.765 --> 01:01:16.765
<v Speaker 6>it. Oh, no. It is ready. Okay.

01:01:17.005 --> 01:01:17.725
<v Speaker 0>Well,

01:01:17.964 --> 01:01:19.165
<v Speaker 0>it's not done anything. So

01:01:20.204 --> 01:01:21.645
<v Speaker 6>I know. But, I mean, like, at least

01:01:21.645 --> 01:01:23.805
<v Speaker 6>now, it's it's it's closer.

01:01:24.045 --> 01:01:26.045
<v Speaker 6>It's not, like, crashing

01:01:26.045 --> 01:01:26.525
<v Speaker 6>completely.

01:01:27.440 --> 01:01:28.880
<v Speaker 0>So let's

01:01:29.680 --> 01:01:30.800
<v Speaker 0>go back. Yeah.

01:01:34.320 --> 01:01:36.400
<v Speaker 4>Oh, replica is back to zero.

01:01:36.880 --> 01:01:38.640
<v Speaker 0>Alright. Nice effect.

01:01:39.680 --> 01:01:40.560
<v Speaker 0>What are we thinking?

01:01:44.555 --> 01:01:46.155
<v Speaker 0>Interesting. I mean, I can set this to

01:01:46.155 --> 01:01:47.915
<v Speaker 0>one again, but I'm pretty confident.

01:01:48.395 --> 01:01:50.555
<v Speaker 4>So what's the revision

01:01:50.555 --> 01:01:52.555
<v Speaker 4>on that view? I mean, one might also

01:01:52.555 --> 01:01:54.250
<v Speaker 4>wanna take a look at what's going on

01:01:54.250 --> 01:01:55.850
<v Speaker 4>on the revision on that.

01:01:57.050 --> 01:01:58.810
<v Speaker 0>Yep. So So generation

01:01:59.050 --> 01:01:59.610
<v Speaker 4>six

01:01:59.930 --> 01:02:01.770
<v Speaker 4>sorry. One more edit. Why not?

01:02:02.170 --> 01:02:03.530
<v Speaker 4>Let's see what happens.

01:02:05.290 --> 01:02:08.330
<v Speaker 0>Generation eight? Eight? Oh, that's interesting. Some big

01:02:08.330 --> 01:02:08.650
<v Speaker 4>changes.

01:02:09.665 --> 01:02:12.305
<v Speaker 4>Sorry. I was gonna use the wrong word

01:02:12.305 --> 01:02:12.945
<v Speaker 4>there.

01:02:15.345 --> 01:02:17.984
<v Speaker 4>Some sort of a mutate a webhook or

01:02:17.984 --> 01:02:19.025
<v Speaker 4>something, I think.

01:02:22.464 --> 01:02:23.905
<v Speaker 0>I should really load it up quickly.

01:02:27.200 --> 01:02:29.520
<v Speaker 4>I am really impressed that you can type

01:02:29.520 --> 01:02:30.320
<v Speaker 4>all that.

01:02:33.600 --> 01:02:35.200
<v Speaker 0>I am gonna load out a complete just

01:02:35.200 --> 01:02:37.680
<v Speaker 0>now. But, yeah, there's no mutation admission controller.

01:02:38.295 --> 01:02:40.454
<v Speaker 5>Okay. But that was my first part too.

01:02:40.454 --> 01:02:40.855
<v Speaker 0>Yeah.

01:02:44.375 --> 01:02:45.095
<v Speaker 2>Interesting.

01:02:46.535 --> 01:02:47.734
<v Speaker 2>So something's

01:02:47.734 --> 01:02:49.415
<v Speaker 2>going around changing in.

01:02:50.535 --> 01:02:52.694
<v Speaker 5>Yeah. That's crazy. I first thought I first

01:02:52.694 --> 01:02:54.990
<v Speaker 5>thought was the selectors matched the labels,

01:02:56.270 --> 01:02:57.710
<v Speaker 5>y'all went down a different path, which makes

01:02:57.710 --> 01:02:58.190
<v Speaker 5>sense.

01:02:59.070 --> 01:03:00.910
<v Speaker 0>Well, the generation doing that

01:03:01.150 --> 01:03:02.430
<v Speaker 0>double bump.

01:03:03.150 --> 01:03:05.310
<v Speaker 4>Yeah. That was the thing that's, like, kind

01:03:05.310 --> 01:03:06.190
<v Speaker 4>of interesting.

01:03:06.830 --> 01:03:07.950
<v Speaker 4>Should we see some

01:03:09.714 --> 01:03:12.035
<v Speaker 4>events or something? Or It's a good comment

01:03:12.035 --> 01:03:14.115
<v Speaker 0>from Russell, actually. Like, if this was a

01:03:14.115 --> 01:03:15.875
<v Speaker 0>new station admission controller,

01:03:16.355 --> 01:03:18.115
<v Speaker 0>it would have been a single generation bump

01:03:18.115 --> 01:03:20.275
<v Speaker 0>rather than two. So something external. Got it.

01:03:20.275 --> 01:03:20.994
<v Speaker 0>Right. Probably.

01:03:22.480 --> 01:03:23.600
<v Speaker 0>Messing with this.

01:03:25.120 --> 01:03:27.280
<v Speaker 6>I I gotta ask. There's like there's no

01:03:27.280 --> 01:03:29.120
<v Speaker 6>way someone else could be connected to this

01:03:29.120 --> 01:03:30.640
<v Speaker 6>modifying it live. Right?

01:03:31.760 --> 01:03:34.000
<v Speaker 6>Like, just making sure because

01:03:35.545 --> 01:03:38.745
<v Speaker 6>that could always happen. I mean, I'm sure

01:03:38.745 --> 01:03:41.065
<v Speaker 0>Matthias is a very quick typer but I

01:03:41.065 --> 01:03:44.185
<v Speaker 0>mean, those editors were fast. Really fast.

01:03:44.505 --> 01:03:45.225
<v Speaker 4>Yeah.

01:03:47.545 --> 01:03:49.065
<v Speaker 6>Can we run top

01:03:49.465 --> 01:03:50.025
<v Speaker 6>on this?

01:03:50.640 --> 01:03:53.119
<v Speaker 6>Just to see what's running in case there's

01:03:53.119 --> 01:03:55.040
<v Speaker 6>something else running?

01:04:00.240 --> 01:04:01.040
<v Speaker 4>No.

01:04:02.960 --> 01:04:03.680
<v Speaker 0>Okay.

01:04:04.480 --> 01:04:05.039
<v Speaker 0>I mean

01:04:06.345 --> 01:04:08.265
<v Speaker 6>Okay. They just they just said no. It's

01:04:08.265 --> 01:04:09.545
<v Speaker 6>all inside the cluster.

01:04:09.625 --> 01:04:10.265
<v Speaker 6>Okay.

01:04:10.744 --> 01:04:11.305
<v Speaker 6>I

01:04:13.065 --> 01:04:14.825
<v Speaker 0>mean, I I've got a hypothesis, but I'm

01:04:14.825 --> 01:04:16.425
<v Speaker 0>I'm gonna hold off because it's on the

01:04:16.425 --> 01:04:17.545
<v Speaker 0>the way of things.

01:04:18.119 --> 01:04:19.720
<v Speaker 5>Are there are there any other pods? Like,

01:04:19.720 --> 01:04:21.480
<v Speaker 5>if you say get get pods all

01:04:21.720 --> 01:04:23.559
<v Speaker 5>across the cluster to see what else is

01:04:23.559 --> 01:04:24.040
<v Speaker 5>there.

01:04:30.839 --> 01:04:31.319
<v Speaker 6>Control.

01:04:39.744 --> 01:04:41.105
<v Speaker 0>So the age

01:04:41.345 --> 01:04:43.265
<v Speaker 0>strikes me as suspicious.

01:04:43.425 --> 01:04:45.825
<v Speaker 6>Yeah. I I was looking at that VIP

01:04:46.790 --> 01:04:49.430
<v Speaker 6>Damon's. Is that Damon's set? Yeah. Could be

01:04:49.270 --> 01:04:49.670
<v Speaker 6>third

01:04:50.070 --> 01:04:51.350
<v Speaker 6>third one from the top.

01:04:51.830 --> 01:04:53.750
<v Speaker 0>For BGP advertisement.

01:04:53.750 --> 01:04:54.710
<v Speaker 0>So that is

01:04:55.270 --> 01:04:56.630
<v Speaker 0>well, I mean, don't know if they've modified

01:04:56.630 --> 01:04:57.750
<v Speaker 0>it, but it's certainly

01:04:58.070 --> 01:04:59.910
<v Speaker 0>I am happy that it's there in the

01:04:59.910 --> 01:05:00.310
<v Speaker 0>cluster.

01:05:01.765 --> 01:05:04.245
<v Speaker 0>The thing I'm not happy about, just because

01:05:04.245 --> 01:05:06.405
<v Speaker 0>I know the code, is metric server. I

01:05:06.405 --> 01:05:08.325
<v Speaker 0>don't think cluster has ever had a metric

01:05:08.325 --> 01:05:09.365
<v Speaker 0>server before.

01:05:10.325 --> 01:05:11.605
<v Speaker 6>Well,

01:05:12.005 --> 01:05:13.365
<v Speaker 6>then why don't we go see what said

01:05:13.365 --> 01:05:14.725
<v Speaker 6>metrics cluster is doing?

01:05:15.560 --> 01:05:17.560
<v Speaker 6>What is said metrics cluster?

01:05:19.000 --> 01:05:20.760
<v Speaker 0>I mean, they wouldn't give a a a

01:05:20.760 --> 01:05:22.520
<v Speaker 0>safe name and then lie to us, would

01:05:22.520 --> 01:05:23.000
<v Speaker 0>they?

01:05:23.960 --> 01:05:26.520
<v Speaker 6>Why not? Why not? It'd be fine.

01:05:30.745 --> 01:05:32.585
<v Speaker 0>Why is that not all of the TV?

01:05:41.065 --> 01:05:42.985
<v Speaker 0>The first thing that caught my eye. Yeah.

01:05:43.945 --> 01:05:44.505
<v Speaker 6>Nice.

01:05:45.800 --> 01:05:47.560
<v Speaker 6>So can we just like wipe this thing

01:05:47.560 --> 01:05:48.120
<v Speaker 6>off?

01:05:49.720 --> 01:05:51.240
<v Speaker 1>Just to see what it does?

01:05:54.359 --> 01:05:55.080
<v Speaker 0>Yeah?

01:05:56.200 --> 01:05:56.840
<v Speaker 0>You

01:05:57.000 --> 01:05:58.200
<v Speaker 0>don't you don't want to look at it

01:05:58.200 --> 01:06:00.265
<v Speaker 0>anymore. You just want to disappear. Is that

01:06:00.265 --> 01:06:02.185
<v Speaker 0>what you're Well, no. I like I don't

01:06:02.185 --> 01:06:04.505
<v Speaker 6>know. This is my version of debugging. Like,

01:06:04.505 --> 01:06:05.625
<v Speaker 6>if it's something that I don't know what

01:06:05.625 --> 01:06:06.825
<v Speaker 6>it is, it goes away.

01:06:07.145 --> 01:06:07.705
<v Speaker 6>So

01:06:08.105 --> 01:06:09.945
<v Speaker 6>we can, like, just disable it and try

01:06:09.945 --> 01:06:11.225
<v Speaker 6>to turn it off. We're gonna see what

01:06:11.225 --> 01:06:11.465
<v Speaker 6>it does.

01:06:12.780 --> 01:06:14.780
<v Speaker 2>See it. It's gone.

01:06:15.340 --> 01:06:16.380
<v Speaker 0>Alright. So

01:06:17.180 --> 01:06:18.620
<v Speaker 6>then what's We will never know what it

01:06:18.620 --> 01:06:20.140
<v Speaker 0>takes. Modify things.

01:06:23.420 --> 01:06:25.835
<v Speaker 0>Alright. Oh, somebody's got a good question if

01:06:25.835 --> 01:06:27.915
<v Speaker 6>there's any cron jobs running, which that makes

01:06:27.915 --> 01:06:29.355
<v Speaker 6>sense. That's

01:06:29.355 --> 01:06:29.995
<v Speaker 4>fair.

01:06:31.595 --> 01:06:32.795
<v Speaker 0>And there are no.

01:06:33.515 --> 01:06:34.875
<v Speaker 6>Yay. Okay.

01:06:36.075 --> 01:06:37.595
<v Speaker 0>You just wanna try to edit again?

01:06:38.140 --> 01:06:40.460
<v Speaker 4>Yeah. Let's do it. Let's try it. What

01:06:40.460 --> 01:06:42.060
<v Speaker 6>did it do? What will it do? Now

01:06:42.060 --> 01:06:44.380
<v Speaker 6>we were at eight. Right? So that was

01:06:44.380 --> 01:06:45.660
<v Speaker 6>the version we were at?

01:06:45.980 --> 01:06:48.300
<v Speaker 6>Are we still at eight? Yeah. Good.

01:06:48.540 --> 01:06:49.340
<v Speaker 6>That's a good sign.

01:06:52.695 --> 01:06:53.255
<v Speaker 0>Hey.

01:06:53.575 --> 01:06:55.655
<v Speaker 4>That sounds right. Hey. Hey. It's keeping it.

01:06:55.655 --> 01:06:58.295
<v Speaker 4>It's keeping it. Nice. Good job.

01:06:58.535 --> 01:06:59.815
<v Speaker 4>That's a good point.

01:07:02.375 --> 01:07:03.415
<v Speaker 0>We

01:07:05.015 --> 01:07:05.895
<v Speaker 0>have a pod.

01:07:06.455 --> 01:07:06.935
<v Speaker 4>Nice.

01:07:07.890 --> 01:07:10.770
<v Speaker 4>Let's It's a start. Curl back. K.

01:07:12.289 --> 01:07:13.890
<v Speaker 0>Yes. And

01:07:14.450 --> 01:07:16.529
<v Speaker 6>and to answer the chat, yes, I randomly

01:07:16.529 --> 01:07:18.849
<v Speaker 6>will delete things that don't look familiar. So

01:07:18.849 --> 01:07:20.769
<v Speaker 6>it was my cluster. I know what's supposed

01:07:20.769 --> 01:07:21.970
<v Speaker 6>to be there. So

01:07:22.974 --> 01:07:23.695
<v Speaker 0>Yep.

01:07:24.895 --> 01:07:27.215
<v Speaker 4>Should we try curling and see what happens?

01:07:27.454 --> 01:07:28.815
<v Speaker 0>Yeah. I think I think I think be

01:07:28.815 --> 01:07:29.295
<v Speaker 0>here.

01:07:32.494 --> 01:07:33.375
<v Speaker 0>Uh-oh.

01:07:33.694 --> 01:07:37.055
<v Speaker 4>Database is not currently accepting connections.

01:07:37.214 --> 01:07:37.615
<v Speaker 4>Okay.

01:07:38.859 --> 01:07:39.820
<v Speaker 4>So

01:07:43.099 --> 01:07:45.740
<v Speaker 4>let's take a look at the the

01:07:46.700 --> 01:07:49.500
<v Speaker 4>the spec again and see what the, I

01:07:49.500 --> 01:07:50.380
<v Speaker 4>guess, the Postgres

01:07:51.204 --> 01:07:53.525
<v Speaker 4>connection string is, I guess. I don't remember

01:07:53.525 --> 01:07:55.765
<v Speaker 4>if that's how it works. I'm assuming there's

01:07:55.765 --> 01:07:57.684
<v Speaker 4>a connection string somewhere in the spec. It

01:07:57.684 --> 01:08:00.005
<v Speaker 0>is hard coded into the Rust application as

01:08:00.005 --> 01:08:00.885
<v Speaker 0>Postgres.

01:08:01.765 --> 01:08:02.645
<v Speaker 4>Gotcha. Okay.

01:08:05.339 --> 01:08:06.619
<v Speaker 4>Database clustered

01:08:06.619 --> 01:08:09.579
<v Speaker 4>is not accepting currently accepting connections. Did they,

01:08:09.579 --> 01:08:09.740
<v Speaker 4>like

01:08:10.460 --> 01:08:12.859
<v Speaker 4>it sounds like it's actually establishing connection.

01:08:12.940 --> 01:08:15.099
<v Speaker 4>It's like the actual database

01:08:15.099 --> 01:08:16.219
<v Speaker 4>might have

01:08:16.635 --> 01:08:17.914
<v Speaker 4>basically some

01:08:18.474 --> 01:08:19.514
<v Speaker 4>it's, like,

01:08:19.994 --> 01:08:21.354
<v Speaker 4>disabled connections.

01:08:22.474 --> 01:08:24.154
<v Speaker 4>So do we need to, like, pop into

01:08:24.154 --> 01:08:25.594
<v Speaker 4>Postgres potentially?

01:08:25.914 --> 01:08:26.715
<v Speaker 0>I hope not.

01:08:30.430 --> 01:08:32.590
<v Speaker 4>The Steve is so so

01:08:32.590 --> 01:08:34.510
<v Speaker 4>well versed now with all of this. I'm

01:08:34.510 --> 01:08:36.350
<v Speaker 4>curious if what do you think?

01:08:37.310 --> 01:08:39.790
<v Speaker 0>It's apparently, Matias is saying that that

01:08:40.990 --> 01:08:42.765
<v Speaker 0>Lokitus. I'm not sure if that's how you

01:08:42.765 --> 01:08:45.245
<v Speaker 0>pronounce it. Is that JSON or JSON or

01:08:45.245 --> 01:08:47.085
<v Speaker 0>however you wanna pronounce that base controller that

01:08:47.085 --> 01:08:48.845
<v Speaker 0>was set in a replica zero.

01:08:51.005 --> 01:08:54.524
<v Speaker 6>Lokitas of Borg. Very nice. Very nice. Lokitas?

01:08:54.525 --> 01:08:55.645
<v Speaker 0>Is that how you would say that? I'm

01:08:55.645 --> 01:08:57.569
<v Speaker 6>assuming I'm assuming it's Lokitas of Borg. I'm

01:08:57.569 --> 01:08:59.729
<v Speaker 6>assuming that's what it refers to. Alright. Okay.

01:09:00.130 --> 01:09:01.489
<v Speaker 6>Because Star Trek.

01:09:02.050 --> 01:09:03.729
<v Speaker 6>But that's where my brain goes. I only

01:09:03.729 --> 01:09:05.409
<v Speaker 0>watched Star Gate. I've never seen Star Trek

01:09:05.409 --> 01:09:05.969
<v Speaker 0>ever.

01:09:06.529 --> 01:09:09.010
<v Speaker 6>Oh, David. We have to fix that.

01:09:09.649 --> 01:09:10.050
<v Speaker 6>Anyway,

01:09:11.494 --> 01:09:12.054
<v Speaker 6>so

01:09:13.014 --> 01:09:15.494
<v Speaker 5>Is the is the Postgres service called clustered?

01:09:15.494 --> 01:09:16.934
<v Speaker 5>Is that what we're supposed to connect to?

01:09:19.734 --> 01:09:22.295
<v Speaker 0>Yes. Our service is there. It's called Postgres.

01:09:24.029 --> 01:09:25.709
<v Speaker 5>And it's port eighty eighty?

01:09:26.670 --> 01:09:29.149
<v Speaker 5>Or no? That's the web application.

01:09:29.149 --> 01:09:30.829
<v Speaker 5>That's the web app? That's the web app.

01:09:30.829 --> 01:09:32.829
<v Speaker 4>Five four three two is the Postgres.

01:09:39.965 --> 01:09:40.604
<v Speaker 6>So

01:09:42.285 --> 01:09:44.285
<v Speaker 5>What if you describe that Postgres? Does it

01:09:44.285 --> 01:09:45.165
<v Speaker 5>select the pod?

01:09:51.260 --> 01:09:54.620
<v Speaker 0>It has an endpoint which Okay. And it's

01:09:54.620 --> 01:09:56.460
<v Speaker 5>5432 is that matches.

01:09:56.780 --> 01:09:58.540
<v Speaker 0>So Fredrik, it's not that I don't like

01:09:58.540 --> 01:10:00.620
<v Speaker 0>Star Trek. It's that I grew up on

01:10:00.620 --> 01:10:03.020
<v Speaker 0>s g one and have never watched Star

01:10:03.020 --> 01:10:05.564
<v Speaker 0>Trek. Now, I'm perfectly willing

01:10:05.645 --> 01:10:07.244
<v Speaker 0>to reconcile and fix this.

01:10:08.045 --> 01:10:09.885
<v Speaker 6>Well, I I will make sure we get

01:10:09.885 --> 01:10:11.485
<v Speaker 6>we get a list. We'll we'll make a

01:10:11.485 --> 01:10:12.925
<v Speaker 6>list. Yeah. Make me a list.

01:10:13.804 --> 01:10:15.485
<v Speaker 4>Don't we do

01:10:16.770 --> 01:10:18.530
<v Speaker 4>so the endpoint is ten zero one ninety

01:10:18.530 --> 01:10:19.249
<v Speaker 4>one.

01:10:22.530 --> 01:10:24.050
<v Speaker 0>Yeah, I see an endpoint. I mean, that

01:10:24.210 --> 01:10:26.209
<v Speaker 0>I'm relatively confident that

01:10:26.849 --> 01:10:29.570
<v Speaker 1>Yeah. The selectors are are okay. Should we

01:10:29.875 --> 01:10:31.715
<v Speaker 4>do we have PC pull or something, like,

01:10:31.715 --> 01:10:33.955
<v Speaker 4>that we have that we could try connecting

01:10:33.955 --> 01:10:36.195
<v Speaker 4>to the database ourselves, perhaps?

01:10:36.835 --> 01:10:39.635
<v Speaker 0>Oh, we can exec into cluster.

01:10:39.635 --> 01:10:41.635
<v Speaker 6>Yeah. If we exec into the worker, we

01:10:41.635 --> 01:10:43.715
<v Speaker 6>might be able to, like, kinda poke at

01:10:43.715 --> 01:10:44.275
<v Speaker 6>that

01:10:45.610 --> 01:10:48.010
<v Speaker 4>into the pod. I I do believe that's

01:10:48.010 --> 01:10:48.889
<v Speaker 0>available.

01:10:50.410 --> 01:10:51.130
<v Speaker 0>Oh,

01:10:51.850 --> 01:10:53.369
<v Speaker 0>that's DNS. Okay.

01:10:56.250 --> 01:10:56.810
<v Speaker 0>Alright.

01:10:58.555 --> 01:10:59.514
<v Speaker 6>Interesting.

01:11:09.115 --> 01:11:09.755
<v Speaker 4>So So

01:11:10.155 --> 01:11:11.835
<v Speaker 0>who knows how DNS works in Kubernetes?

01:11:12.970 --> 01:11:13.610
<v Speaker 1>Yeah.

01:11:14.170 --> 01:11:15.610
<v Speaker 6>Okay.

01:11:18.970 --> 01:11:20.170
<v Speaker 6>I guess I'm just wondering.

01:11:24.825 --> 01:11:26.505
<v Speaker 1>1096010.

01:11:26.505 --> 01:11:27.785
<v Speaker 0>So that is the

01:11:27.945 --> 01:11:29.865
<v Speaker 0>hard coded IP address for Yeah.

01:11:30.745 --> 01:11:32.345
<v Speaker 0>That is sorry.

01:11:32.985 --> 01:11:34.665
<v Speaker 0>is fine and

01:11:35.945 --> 01:11:37.945
<v Speaker 4>That sounds right. Alright. Yeah. Yeah.

01:11:39.620 --> 01:11:40.980
<v Speaker 6>Yeah. I think so.

01:11:41.620 --> 01:11:44.020
<v Speaker 4>Should we pop out and see if

01:11:44.260 --> 01:11:47.619
<v Speaker 4>is running and stuff like that? Great question.

01:11:50.740 --> 01:11:53.685
<v Speaker 4>K. I mean, it's quite fifteen minutes old.

01:11:54.245 --> 01:11:55.925
<v Speaker 0>But it it is Well, so that that

01:11:55.925 --> 01:11:57.365
<v Speaker 6>one but that one was the one that

01:11:57.365 --> 01:12:00.645
<v Speaker 6>had the lowest time since modified,

01:12:00.645 --> 01:12:01.685
<v Speaker 6>since started

01:12:01.765 --> 01:12:04.085
<v Speaker 6>among the entire thing earlier. Yeah. I spun

01:12:04.085 --> 01:12:06.960
<v Speaker 0>this customer up an hour ago. So Well,

01:12:06.960 --> 01:12:08.639
<v Speaker 6>no. It said eight minutes where everything else

01:12:08.639 --> 01:12:11.280
<v Speaker 6>was eight minutes thirty seconds. Right. That one

01:12:11.280 --> 01:12:13.679
<v Speaker 6>could have been modified after it came up

01:12:13.679 --> 01:12:15.840
<v Speaker 6>is what I'm curious about.

01:12:16.320 --> 01:12:18.159
<v Speaker 4>Should we just take a look

01:12:18.395 --> 01:12:20.394
<v Speaker 4>at the accordion access

01:12:21.594 --> 01:12:22.715
<v Speaker 4>spectrum? Yeah.

01:12:28.315 --> 01:12:30.474
<v Speaker 5>You can override that, can't you, with a

01:12:31.035 --> 01:12:31.915
<v Speaker 5>secret or something

01:12:36.020 --> 01:12:37.699
<v Speaker 5>or extended, I guess. Yes.

01:12:40.020 --> 01:12:41.139
<v Speaker 4>So

01:12:42.659 --> 01:12:44.900
<v Speaker 0>at least it's the core DNS image. I'm

01:12:44.900 --> 01:12:47.059
<v Speaker 0>I'm pretty confident this is the correct

01:12:47.645 --> 01:12:48.284
<v Speaker 6>Yeah.

01:12:48.844 --> 01:12:51.565
<v Speaker 6>Yeah. Almost another Star Trek container.

01:12:52.205 --> 01:12:53.164
<v Speaker 6>Anything

01:12:59.885 --> 01:13:01.005
<v Speaker 0>you just wanna see in here?

01:13:04.100 --> 01:13:07.860
<v Speaker 5>Volume mounts, Etsy core coordinates. Okay. So so

01:13:07.860 --> 01:13:09.860
<v Speaker 6>I might be kind of poking around because

01:13:09.860 --> 01:13:11.300
<v Speaker 6>they rolled all the pods to hide the

01:13:11.300 --> 01:13:13.620
<v Speaker 6>metric server. So that may be why

01:13:13.940 --> 01:13:15.700
<v Speaker 6>maybe it's not actually in here.

01:13:18.495 --> 01:13:20.974
<v Speaker 4>Curious if you at the config, the Etsy,

01:13:21.135 --> 01:13:23.455
<v Speaker 4>like, the actual thing. Yeah. You could take

01:13:23.455 --> 01:13:24.014
<v Speaker 4>a nap.

01:13:29.054 --> 01:13:29.695
<v Speaker 6>Lame duck.

01:13:32.160 --> 01:13:34.960
<v Speaker 0>Exactly. That's that's that's real and legit. I

01:13:34.960 --> 01:13:37.040
<v Speaker 6>I know. It's just I hope every time

01:13:37.040 --> 01:13:38.640
<v Speaker 6>I see it, I'm kinda like, wait.

01:13:40.240 --> 01:13:42.400
<v Speaker 5>Underneath Prometheus, the forward progress.

01:13:43.440 --> 01:13:43.840
<v Speaker 0>Oh, yeah?

01:13:45.895 --> 01:13:48.054
<v Speaker 6>Where where is that? I missed that on

01:13:48.054 --> 01:13:51.255
<v Speaker 6>the line. It's yeah. Oh, okay. Yeah.

01:13:52.775 --> 01:13:54.374
<v Speaker 6>Nice. Yeah. Good catch.

01:13:55.255 --> 01:13:56.215
<v Speaker 4>Let's do that.

01:13:58.534 --> 01:13:59.255
<v Speaker 0>Let's hope it.

01:14:01.030 --> 01:14:02.790
<v Speaker 4>I guess we'll It should how should I

01:14:02.790 --> 01:14:03.590
<v Speaker 4>match create?

01:14:04.469 --> 01:14:05.190
<v Speaker 4>Will it?

01:14:05.590 --> 01:14:07.510
<v Speaker 5>I think coordinates will just pick it up.

01:14:07.510 --> 01:14:08.150
<v Speaker 5>Will it?

01:14:10.150 --> 01:14:12.469
<v Speaker 6>No. We're gonna find out. I I'm not

01:14:12.469 --> 01:14:13.590
<v Speaker 0>convinced, to be honest.

01:14:15.415 --> 01:14:16.775
<v Speaker 1>I mean, we can always just kill the

01:14:16.775 --> 01:14:17.175
<v Speaker 2>pods

01:14:17.895 --> 01:14:19.095
<v Speaker 4>and roll them, I guess, like

01:14:19.815 --> 01:14:21.495
<v Speaker 0>Well, what's your preferred way to roll the

01:14:21.495 --> 01:14:22.135
<v Speaker 0>pods?

01:14:22.535 --> 01:14:23.895
<v Speaker 0>Because, I mean, I know what I was

01:14:23.895 --> 01:14:25.735
<v Speaker 0>about to take, but I I don't wanna

01:14:26.295 --> 01:14:27.575
<v Speaker 4>I I Bring my bad habits.

01:14:29.139 --> 01:14:31.139
<v Speaker 4>I would I'm I'm

01:14:31.139 --> 01:14:33.139
<v Speaker 4>dirty with this. I'll probably just, like, kill

01:14:33.139 --> 01:14:33.859
<v Speaker 4>the parts.

01:14:35.219 --> 01:14:36.659
<v Speaker 4>You're not the only one. That's all I

01:14:36.659 --> 01:14:37.139
<v Speaker 6>do.

01:14:37.460 --> 01:14:40.019
<v Speaker 5>So Laura's Laura's just gonna destroy everything. Right?

01:14:40.019 --> 01:14:40.420
<v Speaker 5>She's gonna

01:14:41.539 --> 01:14:42.019
<v Speaker 4>I mean

01:14:42.635 --> 01:14:44.235
<v Speaker 6>Because half the time when you do that,

01:14:44.235 --> 01:14:44.875
<v Speaker 6>it works.

01:14:45.195 --> 01:14:47.115
<v Speaker 6>You know? Have you reboot it? Have you

01:14:47.115 --> 01:14:48.635
<v Speaker 6>turned it back on and on off and

01:14:48.635 --> 01:14:50.715
<v Speaker 6>on again? It works. I mean, sensible people

01:14:50.715 --> 01:14:52.795
<v Speaker 0>would be like, let's do a rollout and

01:14:52.795 --> 01:14:55.355
<v Speaker 0>do this nicely and I'm sorry. No. Well,

01:14:55.355 --> 01:14:57.755
<v Speaker 6>but sensible people would put it on, like,

01:14:57.780 --> 01:15:00.659
<v Speaker 6>production workloads. This is not necessarily a production

01:15:00.659 --> 01:15:02.900
<v Speaker 6>workload, so why not? Hey. This application and

01:15:02.900 --> 01:15:04.659
<v Speaker 0>cluster is very important to me.

01:15:06.099 --> 01:15:08.020
<v Speaker 6>Well, I mean, we are we already locked

01:15:08.020 --> 01:15:09.539
<v Speaker 6>it over, like, three or four times in

01:15:09.539 --> 01:15:10.835
<v Speaker 6>the twenty four hours. So

01:15:12.355 --> 01:15:13.635
<v Speaker 0>Well, I have

01:15:13.875 --> 01:15:14.835
<v Speaker 0>rolled

01:15:15.475 --> 01:15:18.275
<v Speaker 0>via the deletion method or the smash method,

01:15:18.835 --> 01:15:19.795
<v Speaker 0>core DNS.

01:15:21.875 --> 01:15:23.155
<v Speaker 5>What if we can throw it now?

01:15:23.635 --> 01:15:26.275
<v Speaker 4>We should go back in and see if

01:15:26.910 --> 01:15:27.469
<v Speaker 4>No.

01:15:33.310 --> 01:15:34.030
<v Speaker 6>Okay.

01:15:34.510 --> 01:15:35.309
<v Speaker 0>Okay.

01:15:35.710 --> 01:15:37.550
<v Speaker 0>Well, that's a good point, Ash. I think

01:15:38.035 --> 01:15:40.115
<v Speaker 0>we really good eye catching the post press

01:15:40.115 --> 01:15:42.195
<v Speaker 0>forward, but we couldn't run an app update,

01:15:42.195 --> 01:15:44.435
<v Speaker 0>which is not post press. So we fixed

01:15:44.435 --> 01:15:45.795
<v Speaker 0>one thing, but not this thing we were

01:15:45.795 --> 01:15:49.955
<v Speaker 0>actually trying to fix. Yeah. Definitely. Definitely. I'm

01:15:49.955 --> 01:15:51.715
<v Speaker 4>curious if the thing

01:15:52.130 --> 01:15:54.769
<v Speaker 4>connects now in theory, like, if

01:15:55.489 --> 01:15:58.210
<v Speaker 4>maybe the the application is able to connect.

01:16:04.305 --> 01:16:06.545
<v Speaker 5>Is there anything in the Postgres pod, like

01:16:06.545 --> 01:16:09.025
<v Speaker 5>the command getting overwritten or something? Or

01:16:10.225 --> 01:16:12.385
<v Speaker 5>you can can't you swap the DNS

01:16:13.105 --> 01:16:15.344
<v Speaker 5>in the pod? You can change the

01:16:17.540 --> 01:16:19.700
<v Speaker 5>change the thing. We we could apply a

01:16:19.700 --> 01:16:21.620
<v Speaker 0>custom DNS config to,

01:16:22.020 --> 01:16:24.100
<v Speaker 0>our deployment and pass that through to the

01:16:24.180 --> 01:16:25.860
<v Speaker 0>pod. Because by default, it pulls it from

01:16:25.860 --> 01:16:27.860
<v Speaker 5>the host. Right? You can override that with

01:16:27.860 --> 01:16:28.420
<v Speaker 6>Yeah.

01:16:28.820 --> 01:16:31.220
<v Speaker 5>Per pod. Is there anything running in, is

01:16:31.220 --> 01:16:32.100
<v Speaker 6>this running Docker?

01:16:34.074 --> 01:16:36.794
<v Speaker 0>Container d. Container d. Oh,

01:16:37.114 --> 01:16:37.834
<v Speaker 6>mhmm.

01:16:38.074 --> 01:16:39.994
<v Speaker 6>I was just thinking if there's something like,

01:16:39.994 --> 01:16:41.755
<v Speaker 6>somebody modified a

01:16:42.074 --> 01:16:42.875
<v Speaker 6>the daemon

01:16:44.850 --> 01:16:46.690
<v Speaker 6>the the docker daemon. But

01:16:47.650 --> 01:16:48.850
<v Speaker 0>No. I think

01:16:52.130 --> 01:16:53.730
<v Speaker 0>there must be something else in that config

01:16:53.730 --> 01:16:54.610
<v Speaker 0>map. Right?

01:16:55.010 --> 01:16:55.730
<v Speaker 4>Yeah.

01:16:57.010 --> 01:16:57.810
<v Speaker 6>Let's go look.

01:17:06.345 --> 01:17:07.625
<v Speaker 2>Cluster of.

01:17:14.265 --> 01:17:15.065
<v Speaker 0>Looks alright.

01:17:18.429 --> 01:17:20.270
<v Speaker 0>Yeah. I'm not sure That's good. If loop,

01:17:20.270 --> 01:17:22.429
<v Speaker 0>reload, and load balance are normally there.

01:17:22.750 --> 01:17:24.269
<v Speaker 0>Like, I don't remember.

01:17:24.510 --> 01:17:25.789
<v Speaker 5>Yeah. It's been a while.

01:17:26.270 --> 01:17:29.070
<v Speaker 4>Yeah. I I'm I'm not that familiar with,

01:17:29.070 --> 01:17:29.630
<v Speaker 4>like, the

01:17:30.705 --> 01:17:31.505
<v Speaker 4>config.

01:17:32.945 --> 01:17:34.785
<v Speaker 4>I wonder if we should just, like, look

01:17:34.785 --> 01:17:38.545
<v Speaker 4>up, like, whatever the the this the the,

01:17:39.585 --> 01:17:40.304
<v Speaker 4>you know,

01:17:41.105 --> 01:17:42.225
<v Speaker 4>like, standard

01:17:42.785 --> 01:17:44.465
<v Speaker 4>thing that Cordian has

01:17:44.700 --> 01:17:47.500
<v Speaker 4>ships with and just, like, replace and go

01:17:47.500 --> 01:17:48.300
<v Speaker 4>with that. Well

01:17:48.860 --> 01:17:50.220
<v Speaker 0>Pretty sure the default is

01:17:51.100 --> 01:17:51.740
<v Speaker 0>Yeah.

01:17:51.900 --> 01:17:52.300
<v Speaker 0>Yeah.

01:17:53.100 --> 01:17:53.740
<v Speaker 4>So

01:17:53.980 --> 01:17:55.580
<v Speaker 4>really, they don't know happened. Here.

01:17:56.860 --> 01:17:57.500
<v Speaker 4>Customization.

01:18:01.995 --> 01:18:04.635
<v Speaker 0>I thought I would Can we actually the

01:18:04.635 --> 01:18:06.395
<v Speaker 6>the logs on the worker

01:18:06.555 --> 01:18:09.035
<v Speaker 6>and, like, tail them and see what's coming

01:18:09.035 --> 01:18:11.170
<v Speaker 6>up when we actually try to ping? Because

01:18:11.170 --> 01:18:13.330
<v Speaker 6>it makes me wonder, like, is there, like,

01:18:13.330 --> 01:18:14.449
<v Speaker 6>a a forwarding

01:18:14.610 --> 01:18:17.490
<v Speaker 6>going on, or is there, like, a did

01:18:17.490 --> 01:18:19.570
<v Speaker 6>they somehow sneak, like, a VPN in there

01:18:19.570 --> 01:18:21.650
<v Speaker 6>or something that they've, like, really messed with

01:18:21.650 --> 01:18:23.330
<v Speaker 6>everything? Like, that's the kind of thing I'm

01:18:23.330 --> 01:18:23.650
<v Speaker 6>wondering.

01:18:24.685 --> 01:18:27.405
<v Speaker 6>But, again, I'm I'm a very suspicious

01:18:27.885 --> 01:18:28.765
<v Speaker 6>admin.

01:18:30.205 --> 01:18:32.605
<v Speaker 4>Okay. So that does seem to so that's

01:18:32.605 --> 01:18:34.125
<v Speaker 4>the control plane, though. Right? We should be

01:18:34.125 --> 01:18:36.045
<v Speaker 4>trying on the worker that the thing is

01:18:36.045 --> 01:18:37.485
<v Speaker 4>running. Yeah. Control c.

01:18:40.370 --> 01:18:42.130
<v Speaker 6>Oh, no. No. No.

01:18:45.730 --> 01:18:48.130
<v Speaker 0>That's we're not just stuck watching the ping.

01:18:51.090 --> 01:18:52.210
<v Speaker 6>Could you stop it there?

01:18:52.855 --> 01:18:55.175
<v Speaker 6>No. Game over. So this is a fucking

01:18:55.175 --> 01:18:57.415
<v Speaker 0>teleport. I think really teleport.

01:18:58.055 --> 01:18:59.735
<v Speaker 0>Oh, I guess I didn't think really on

01:18:59.735 --> 01:19:00.375
<v Speaker 0>that.

01:19:01.335 --> 01:19:02.855
<v Speaker 6>Can I Oh, there's no way to like

01:19:02.855 --> 01:19:04.855
<v Speaker 6>halt processes somewhere in the page?

01:19:06.350 --> 01:19:08.909
<v Speaker 0>It's not responding to control z either.

01:19:10.830 --> 01:19:13.150
<v Speaker 0>Alright. I just open a new tab. Create

01:19:13.950 --> 01:19:15.710
<v Speaker 4>a new session? Yes. Alright.

01:19:16.510 --> 01:19:18.030
<v Speaker 6>Alright. So we all get out of the

01:19:18.030 --> 01:19:18.830
<v Speaker 6>session and Can

01:19:19.825 --> 01:19:21.585
<v Speaker 0>anyone else control see that or are we

01:19:21.585 --> 01:19:23.825
<v Speaker 0>just stuck with that? I think it's yeah.

01:19:23.825 --> 01:19:25.905
<v Speaker 4>It's not responding. I tried. It didn't work.

01:19:27.665 --> 01:19:28.545
<v Speaker 0>Okay.

01:19:28.545 --> 01:19:30.545
<v Speaker 0>I guess if I just close the tab,

01:19:30.545 --> 01:19:33.020
<v Speaker 4>I should, in theory, be out. Right? Alright.

01:19:33.020 --> 01:19:35.020
<v Speaker 0>You can join there's a new session on

01:19:35.020 --> 01:19:36.300
<v Speaker 0>your activity page.

01:19:36.460 --> 01:19:38.540
<v Speaker 0>Let's jump out to there and then regroup.

01:19:39.420 --> 01:19:40.140
<v Speaker 6>Okay.

01:19:43.340 --> 01:19:44.780
<v Speaker 6>But yeah. So if we go over to

01:19:44.780 --> 01:19:45.580
<v Speaker 6>the

01:19:47.145 --> 01:19:48.905
<v Speaker 0>The chat are all telling me to open

01:19:48.905 --> 01:19:50.825
<v Speaker 0>another session and do the p kill. Yeah.

01:19:50.825 --> 01:19:52.345
<v Speaker 0>I can tell you that's not gonna work,

01:19:52.345 --> 01:19:54.025
<v Speaker 0>and I'll I'll show you it because I

01:19:54.025 --> 01:19:55.385
<v Speaker 0>still have yeah. I still got the other

01:19:55.385 --> 01:19:56.344
<v Speaker 0>session. So

01:19:57.305 --> 01:19:59.869
<v Speaker 6>I've apparently just Oh, This one's frozen. Did

01:19:59.869 --> 01:20:02.349
<v Speaker 4>something broke? I'm sorry. I might have, like,

01:20:02.349 --> 01:20:03.550
<v Speaker 4>tried to type at the same time as

01:20:03.550 --> 01:20:04.829
<v Speaker 4>someone else or something.

01:20:05.150 --> 01:20:07.229
<v Speaker 6>No. No. No. It's completely frozen now.

01:20:07.869 --> 01:20:10.989
<v Speaker 6>I'm gonna try rejoining. Is this maybe they've

01:20:11.230 --> 01:20:11.949
<v Speaker 0>broken it again?

01:20:14.175 --> 01:20:16.495
<v Speaker 4>I I I can't get in. Every time

01:20:16.495 --> 01:20:18.575
<v Speaker 5>I try and unjoin, it gives me like

01:20:18.575 --> 01:20:19.135
<v Speaker 5>a

01:20:20.015 --> 01:20:21.614
<v Speaker 5>resolve conf error.

01:20:21.695 --> 01:20:23.375
<v Speaker 5>Oh, now I'm in. I've done a peek

01:20:23.375 --> 01:20:24.575
<v Speaker 0>of on that. We'll go back to our

01:20:24.575 --> 01:20:26.415
<v Speaker 0>first session. And now you can't type. So

01:20:26.415 --> 01:20:28.175
<v Speaker 0>this is the teleport bug that I saw

01:20:28.175 --> 01:20:30.059
<v Speaker 0>downgrade and fix. Okay.

01:20:30.380 --> 01:20:32.060
<v Speaker 6>So if I join the join the next

01:20:32.060 --> 01:20:33.179
<v Speaker 6>session and I say

01:20:33.820 --> 01:20:35.739
<v Speaker 0>I I I don't know. I hope so.

01:20:37.099 --> 01:20:39.099
<v Speaker 0>Right. Okay. We got Laura back. There we

01:20:39.099 --> 01:20:39.179
<v Speaker 6>go.

01:20:42.495 --> 01:20:43.935
<v Speaker 6>But yeah. So if we hop over to

01:20:43.935 --> 01:20:44.894
<v Speaker 6>the worker and

01:20:45.455 --> 01:20:47.054
<v Speaker 6>try pinging and

01:20:48.014 --> 01:20:50.335
<v Speaker 6>see what it does. Well, don't ping. Actually,

01:20:50.335 --> 01:20:52.175
<v Speaker 6>don't ping unless you're gonna just tell it

01:20:52.175 --> 01:20:54.655
<v Speaker 6>only do ten ten pings or something.

01:20:55.970 --> 01:20:58.450
<v Speaker 0>Yeah. Was it ping c one?

01:21:00.210 --> 01:21:01.650
<v Speaker 0>Yeah. Good. Okay.

01:21:02.450 --> 01:21:04.290
<v Speaker 0>We do have Internet on the host at

01:21:04.290 --> 01:21:04.930
<v Speaker 0>least.

01:21:06.850 --> 01:21:10.770
<v Speaker 0>We potentially fixed core DNS with the postgres

01:21:10.770 --> 01:21:11.250
<v Speaker 0>forward.

01:21:11.915 --> 01:21:13.355
<v Speaker 0>But, yeah, maybe we do need to jump

01:21:13.355 --> 01:21:15.035
<v Speaker 0>on to the worker. Can we can we

01:21:15.035 --> 01:21:17.115
<v Speaker 4>look at which worker it's gone to? Like,

01:21:17.115 --> 01:21:20.395
<v Speaker 4>that's a wide whatever on the pods and,

01:21:20.395 --> 01:21:21.835
<v Speaker 4>like, hop onto that.

01:21:22.635 --> 01:21:24.795
<v Speaker 4>That's a wide, I think, to get the

01:21:24.750 --> 01:21:25.550
<v Speaker 4>the

01:21:25.790 --> 01:21:27.630
<v Speaker 4>node, right, for the pods.

01:21:28.990 --> 01:21:30.829
<v Speaker 0>Yeah. No. I can't.

01:21:31.230 --> 01:21:32.829
<v Speaker 0>We're in our head and I

01:21:33.310 --> 01:21:34.190
<v Speaker 0>can't type.

01:21:34.990 --> 01:21:37.070
<v Speaker 6>I can't I can type. So wait. We're

01:21:37.070 --> 01:21:37.390
<v Speaker 6>we're

01:21:38.190 --> 01:21:39.150
<v Speaker 6>no. I can't type.

01:21:39.945 --> 01:21:42.665
<v Speaker 6>Can't type. Frozen again. That's okay. No. It's

01:21:42.665 --> 01:21:43.304
<v Speaker 0>frozen.

01:21:46.745 --> 01:21:47.705
<v Speaker 6>Oh, no.

01:21:48.345 --> 01:21:49.625
<v Speaker 0>What I what what are you just doing

01:21:49.625 --> 01:21:51.065
<v Speaker 0>to my server for fuller signals?

01:21:56.240 --> 01:21:57.200
<v Speaker 6>Oh, no.

01:21:59.440 --> 01:22:01.200
<v Speaker 6>Okay. We're gonna try that again.

01:22:04.560 --> 01:22:05.840
<v Speaker 0>Is there anything

01:22:06.640 --> 01:22:07.840
<v Speaker 0>weird here?

01:22:08.160 --> 01:22:08.960
<v Speaker 0>No.

01:22:17.414 --> 01:22:18.054
<v Speaker 6>Well,

01:22:18.375 --> 01:22:20.614
<v Speaker 6>I don't think I've ever actually broken a

01:22:20.614 --> 01:22:23.255
<v Speaker 6>server by trying to ping things. This

01:22:23.255 --> 01:22:24.880
<v Speaker 6>is a new one. Yeah. I I have

01:22:25.040 --> 01:22:27.040
<v Speaker 0>I I don't know what is happening right

01:22:27.040 --> 01:22:27.840
<v Speaker 0>now. So

01:22:28.640 --> 01:22:29.440
<v Speaker 0>let's

01:22:30.960 --> 01:22:33.440
<v Speaker 0>let's see. So get pods.

01:22:34.240 --> 01:22:34.719
<v Speaker 0>Oh,

01:22:35.920 --> 01:22:36.800
<v Speaker 6>you didn't do your alias?

01:22:37.685 --> 01:22:39.045
<v Speaker 0>Okay. Okay.

01:22:41.205 --> 01:22:42.405
<v Speaker 5>So I think you've got a good point

01:22:42.405 --> 01:22:43.445
<v Speaker 5>in the back. It

01:22:44.405 --> 01:22:46.645
<v Speaker 5>what what if they've messed with the workers?

01:22:46.645 --> 01:22:48.805
<v Speaker 5>Right? Can we just untaint the mastery, the

01:22:48.805 --> 01:22:50.485
<v Speaker 5>control the control nodes, and let them run

01:22:50.485 --> 01:22:52.720
<v Speaker 5>on the control nodes? And then Mhmm. I

01:22:52.720 --> 01:22:55.360
<v Speaker 5>don't know. Actually, we can That's idea.

01:22:57.440 --> 01:22:59.120
<v Speaker 5>Yeah. Because the the goal is just to

01:22:59.120 --> 01:23:00.480
<v Speaker 5>get it running. Right? I don't know how.

01:23:00.480 --> 01:23:00.960
<v Speaker 5>Yeah.

01:23:01.680 --> 01:23:03.840
<v Speaker 4>Yep. Yep. Yeah. Good idea. Hammer. Hammer. Hammer.

01:23:06.105 --> 01:23:08.585
<v Speaker 0>If we'll record the card in, let's add

01:23:08.585 --> 01:23:09.705
<v Speaker 0>the Yeah.

01:23:10.425 --> 01:23:11.785
<v Speaker 6>No one said we actually had to figure

01:23:11.785 --> 01:23:13.625
<v Speaker 6>out exactly what was wrong. Just make it

01:23:13.625 --> 01:23:14.265
<v Speaker 6>work.

01:23:15.145 --> 01:23:19.065
<v Speaker 0>We can also do the other

01:23:17.880 --> 01:23:19.880
<v Speaker 0>the other smash approach, which is to come

01:23:19.880 --> 01:23:21.320
<v Speaker 0>down to spec templates.

01:23:24.600 --> 01:23:26.040
<v Speaker 5>I'd be curious the logs too at some

01:23:26.040 --> 01:23:28.280
<v Speaker 5>point. Laura, you mentioned that what the app

01:23:28.280 --> 01:23:29.080
<v Speaker 5>is actually telling us.

01:23:30.855 --> 01:23:32.054
<v Speaker 6>I mean, I guess,

01:23:32.695 --> 01:23:33.494
<v Speaker 6>I think a lot

01:23:36.454 --> 01:23:37.494
<v Speaker 6>is that me?

01:23:38.934 --> 01:23:39.974
<v Speaker 0>I don't know.

01:23:40.695 --> 01:23:42.135
<v Speaker 6>I don't know what that was. Okay.

01:23:43.060 --> 01:23:45.460
<v Speaker 6>What what what what what. What is it?

01:23:50.980 --> 01:23:52.820
<v Speaker 5>Maybe it's a back. We lost a back.

01:23:53.620 --> 01:23:55.699
<v Speaker 0>It's just everything that can go wrong is

01:23:55.699 --> 01:23:58.500
<v Speaker 0>going wrong. Alright. We have

01:24:01.995 --> 01:24:04.474
<v Speaker 0>rescheduled our workload to

01:24:06.715 --> 01:24:09.355
<v Speaker 0>our control plane assuming that they have done

01:24:09.355 --> 01:24:12.235
<v Speaker 0>something naughty to the worker node.

01:24:12.720 --> 01:24:15.199
<v Speaker 0>So why don't we exec and

01:24:17.280 --> 01:24:18.000
<v Speaker 0>We could

01:24:19.200 --> 01:24:20.239
<v Speaker 0>curl it. Right? So

01:24:24.720 --> 01:24:25.599
<v Speaker 0>okay.

01:24:25.600 --> 01:24:26.320
<v Speaker 0>So it's

01:24:27.465 --> 01:24:29.545
<v Speaker 5>database is still on the worker. Right?

01:24:32.185 --> 01:24:32.745
<v Speaker 0>True.

01:24:33.465 --> 01:24:34.665
<v Speaker 0>Should we check if we have at least

01:24:34.665 --> 01:24:37.145
<v Speaker 0>connectivity in this part and then maybe come

01:24:37.145 --> 01:24:38.025
<v Speaker 0>up with another plan?

01:24:40.540 --> 01:24:42.780
<v Speaker 0>I really need to keep that. Alright.

01:24:44.780 --> 01:24:46.860
<v Speaker 6>I'm gonna try unmuting and seeing if I'm

01:24:46.860 --> 01:24:48.860
<v Speaker 6>about to make loud noises.

01:24:49.100 --> 01:24:50.619
<v Speaker 0>No. You're okay so far.

01:24:51.020 --> 01:24:53.565
<v Speaker 6>Okay. Good. Okay. So that was a really

01:24:53.565 --> 01:24:55.244
<v Speaker 0>cool idea to card on the notes. We've

01:24:55.244 --> 01:24:57.724
<v Speaker 0>got the workload on the control plane,

01:24:58.445 --> 01:24:59.564
<v Speaker 0>but we're still

01:25:00.284 --> 01:25:02.044
<v Speaker 0>it's still DNS. So

01:25:07.005 --> 01:25:08.469
<v Speaker 5>But but I guess the database is still

01:25:08.469 --> 01:25:10.949
<v Speaker 5>running on a on a worker. Right? Yeah.

01:25:10.949 --> 01:25:12.310
<v Speaker 0>But we can't get to we can't run

01:25:12.310 --> 01:25:15.350
<v Speaker 0>an app update. So, like, we still need

01:25:15.350 --> 01:25:17.590
<v Speaker 0>to fix networking on the container on the

01:25:17.590 --> 01:25:19.510
<v Speaker 0>host either way.

01:25:20.310 --> 01:25:21.670
<v Speaker 0>And then we can maybe look at other

01:25:21.670 --> 01:25:21.989
<v Speaker 0>things.

01:25:22.665 --> 01:25:24.505
<v Speaker 5>So Well, I guess if something on that

01:25:24.505 --> 01:25:26.425
<v Speaker 5>node is stopping the connection inbound,

01:25:27.385 --> 01:25:29.305
<v Speaker 5>what's what's can you log the the app

01:25:29.305 --> 01:25:31.065
<v Speaker 5>the app and see what it tells you?

01:25:31.065 --> 01:25:32.905
<v Speaker 0>There's no I can know that the app.

01:25:32.905 --> 01:25:34.345
<v Speaker 5>There's no logging. So all you know is

01:25:34.345 --> 01:25:36.570
<v Speaker 5>that it's not currently accepting connections. Well, I

01:25:36.570 --> 01:25:38.489
<v Speaker 0>mean, we ran app update inside the container

01:25:38.489 --> 01:25:41.289
<v Speaker 0>though, and it says it can't resolve Debian.

01:25:41.770 --> 01:25:43.210
<v Speaker 0>And when we were in here, we did

01:25:43.210 --> 01:25:46.650
<v Speaker 0>cat. Why does that matter? Why does Because

01:25:46.650 --> 01:25:48.889
<v Speaker 0>there's no networking on the application.

01:25:50.335 --> 01:25:51.854
<v Speaker 0>Okay. There's no DNS resolution.

01:25:56.175 --> 01:25:57.695
<v Speaker 5>I guess we don't care about that. All

01:25:57.695 --> 01:25:58.655
<v Speaker 5>we care is that

01:26:00.415 --> 01:26:02.815
<v Speaker 5>Can the app can talk to Postgres.

01:26:02.815 --> 01:26:03.054
<v Speaker 5>Right?

01:26:06.050 --> 01:26:08.290
<v Speaker 4>I don't know what happened to my to

01:26:08.290 --> 01:26:09.090
<v Speaker 4>my machine.

01:26:10.610 --> 01:26:12.290
<v Speaker 6>Yay. But you're back.

01:26:13.330 --> 01:26:15.890
<v Speaker 6>Yeah. Well, sort of. I'm just gonna mute

01:26:15.890 --> 01:26:17.970
<v Speaker 4>myself for a bit to make sure it

01:26:17.970 --> 01:26:19.010
<v Speaker 4>doesn't happen again.

01:26:21.835 --> 01:26:23.034
<v Speaker 0>Alright. So

01:26:26.235 --> 01:26:27.675
<v Speaker 6>So we know it's DNS.

01:26:28.235 --> 01:26:30.475
<v Speaker 0>Well, we definitely have a DNS problem, but

01:26:30.475 --> 01:26:32.955
<v Speaker 0>what Steve's saying is that do we really

01:26:32.955 --> 01:26:35.755
<v Speaker 0>care if Postgres was resolved. And we don't

01:26:35.755 --> 01:26:36.715
<v Speaker 0>know if Postgres

01:26:37.370 --> 01:26:39.130
<v Speaker 0>does resolve or not.

01:26:39.850 --> 01:26:41.210
<v Speaker 0>I don't know if we have a way

01:26:41.210 --> 01:26:42.170
<v Speaker 0>to test.

01:26:44.170 --> 01:26:46.250
<v Speaker 5>Does this Postgres log anything? Can you log

01:26:46.250 --> 01:26:48.730
<v Speaker 5>that? Tell the logs in the Postgres pod.

01:27:05.265 --> 01:27:05.665
<v Speaker 4>What?

01:27:07.360 --> 01:27:09.920
<v Speaker 4>Not real. Oh, I mean custard. Oh.

01:27:10.400 --> 01:27:11.199
<v Speaker 0>Alright.

01:27:13.280 --> 01:27:14.000
<v Speaker 6>Source.

01:27:14.160 --> 01:27:14.800
<v Speaker 6>Source.

01:27:15.600 --> 01:27:17.199
<v Speaker 6>You spelled source wrong.

01:27:18.640 --> 01:27:20.880
<v Speaker 0>It's the pressure. It's getting to me. I

01:27:20.880 --> 01:27:21.200
<v Speaker 6>know.

01:27:23.495 --> 01:27:24.695
<v Speaker 0>Log of

01:27:24.695 --> 01:27:25.415
<v Speaker 0>course.

01:27:25.575 --> 01:27:27.415
<v Speaker 0>Why is it all? They're not working.

01:27:34.615 --> 01:27:36.770
<v Speaker 6>Currently not accepting connections. Oh, and then I

01:27:36.770 --> 01:27:39.250
<v Speaker 0>can't control c the terminal. Oh, wait. Wait.

01:27:39.250 --> 01:27:41.090
<v Speaker 6>Wait. Wait. Wait. Let's see. Oh, we can't

01:27:41.090 --> 01:27:43.010
<v Speaker 6>control c again? Nice.

01:27:43.170 --> 01:27:44.050
<v Speaker 4>Oh, no.

01:27:45.090 --> 01:27:46.450
<v Speaker 6>So okay. So

01:27:48.145 --> 01:27:49.505
<v Speaker 6>it's having any

01:27:51.185 --> 01:27:51.985
<v Speaker 6>go ahead.

01:27:52.865 --> 01:27:55.344
<v Speaker 5>I don't know what that control kubectl get

01:27:55.985 --> 01:27:57.425
<v Speaker 5>config map is

01:27:58.385 --> 01:27:58.785
<v Speaker 5>doing.

01:28:01.940 --> 01:28:04.900
<v Speaker 5>So Syntax error at error at or near

01:28:04.900 --> 01:28:06.659
<v Speaker 6>coop control at character one.

01:28:07.139 --> 01:28:08.739
<v Speaker 5>Yeah. I think the command has been overwritten

01:28:08.739 --> 01:28:09.459
<v Speaker 5>or something.

01:28:09.940 --> 01:28:11.860
<v Speaker 6>Yeah. So if we went into the

01:28:12.260 --> 01:28:15.074
<v Speaker 6>if we went into the pods spec, right,

01:28:15.315 --> 01:28:16.915
<v Speaker 6>maybe we can find out if they they

01:28:16.915 --> 01:28:18.034
<v Speaker 6>mucked with it.

01:28:18.515 --> 01:28:19.955
<v Speaker 5>Well, hang on real quick. Real quick. If

01:28:19.955 --> 01:28:21.155
<v Speaker 5>we look up a little bit, what's the

01:28:21.155 --> 01:28:22.514
<v Speaker 5>docker entry point?

01:28:23.475 --> 01:28:24.514
<v Speaker 5>Are there any

01:28:24.995 --> 01:28:26.515
<v Speaker 5>volumes attached to this?

01:28:27.860 --> 01:28:30.179
<v Speaker 0>Alright. I'll just open I'll keep opening the

01:28:30.179 --> 01:28:32.099
<v Speaker 0>session. Don't worry about joining. Okay. We can

01:28:32.099 --> 01:28:33.699
<v Speaker 0>just Yeah. We could just talk about it.

01:28:33.699 --> 01:28:35.219
<v Speaker 6>I'm gonna read backwards in the in the

01:28:35.219 --> 01:28:37.939
<v Speaker 6>logs while y'all are doing that because clearly,

01:28:38.260 --> 01:28:39.780
<v Speaker 6>that was at

01:28:42.344 --> 01:28:43.064
<v Speaker 6>Alright.

01:28:43.145 --> 01:28:45.465
<v Speaker 0>Oh, that's there. Oh, there's a guest, which

01:28:45.465 --> 01:28:46.264
<v Speaker 0>I can't.

01:28:46.985 --> 01:28:48.665
<v Speaker 0>Oh, no. I've broken that again because I

01:28:48.665 --> 01:28:49.624
<v Speaker 0>did, like, control

01:28:49.784 --> 01:28:50.105
<v Speaker 0>r.

01:28:56.199 --> 01:28:58.920
<v Speaker 0>That's a horrible teleport bug. Okay.

01:28:58.920 --> 01:29:00.519
<v Speaker 0>Here he is. Alright.

01:29:01.880 --> 01:29:04.999
<v Speaker 0>Alright. So let's add it.

01:29:05.320 --> 01:29:06.040
<v Speaker 0>SDS.

01:29:16.215 --> 01:29:17.815
<v Speaker 5>Exec is ready.

01:29:18.215 --> 01:29:20.935
<v Speaker 0>Is your what you're saying is that it'd

01:29:20.935 --> 01:29:21.815
<v Speaker 0>be the

01:29:23.219 --> 01:29:25.059
<v Speaker 0>oh, you're in the session. Cool. Okay.

01:29:25.860 --> 01:29:27.940
<v Speaker 6>Sorry. That was me in the session scrolling

01:29:27.940 --> 01:29:29.219
<v Speaker 6>up and down by accident.

01:29:31.860 --> 01:29:32.579
<v Speaker 6>Okay.

01:29:33.219 --> 01:29:33.460
<v Speaker 6>But

01:29:34.820 --> 01:29:37.860
<v Speaker 5>Will will the service forward, dude, if it's

01:29:37.005 --> 01:29:38.765
<v Speaker 5>127001?

01:29:40.525 --> 01:29:42.525
<v Speaker 5>Will that accept from outside itself?

01:29:43.085 --> 01:29:44.765
<v Speaker 5>That's just the readiness probe. Never mind. It

01:29:44.765 --> 01:29:47.325
<v Speaker 6>would, if I if I remember. Yeah. That's

01:29:47.325 --> 01:29:48.285
<v Speaker 5>just the probe. Never mind.

01:29:50.140 --> 01:29:52.220
<v Speaker 5>How about that Yeah. Config map.

01:29:53.180 --> 01:29:55.100
<v Speaker 5>It's an init config So the contact map

01:29:55.100 --> 01:29:56.780
<v Speaker 0>is how I load the data into the

01:29:56.780 --> 01:29:57.980
<v Speaker 0>post grid.

01:29:58.700 --> 01:30:00.700
<v Speaker 0>So let's take a look at that. Was

01:30:01.100 --> 01:30:02.460
<v Speaker 0>there an image here? Or it might just

01:30:02.460 --> 01:30:04.855
<v Speaker 0>be really silly. Oh, yeah. It's it's there.

01:30:04.855 --> 01:30:05.255
<v Speaker 0>Okay.

01:30:06.135 --> 01:30:10.615
<v Speaker 0>Let's check out the I'm

01:30:10.615 --> 01:30:12.855
<v Speaker 6>still kinda reading some of them. Alright. Could

01:30:12.855 --> 01:30:14.615
<v Speaker 6>the assertive be messed with? No. You're good.

01:30:17.430 --> 01:30:18.630
<v Speaker 6>Annotations.

01:30:19.350 --> 01:30:20.710
<v Speaker 0>That looks okay.

01:30:23.670 --> 01:30:25.590
<v Speaker 0>Yep. That's that's my data.

01:30:27.350 --> 01:30:27.750
<v Speaker 1>Okay.

01:30:32.995 --> 01:30:35.075
<v Speaker 6>But something else is getting called, like, looking

01:30:35.075 --> 01:30:37.875
<v Speaker 6>back at the logs themselves from the prior

01:30:38.515 --> 01:30:40.034
<v Speaker 6>the prior message.

01:30:43.395 --> 01:30:45.715
<v Speaker 6>It's saying let's see. Where am I?

01:30:52.860 --> 01:30:54.619
<v Speaker 0>Where you want me Sorry.

01:30:54.619 --> 01:30:57.179
<v Speaker 4>I might have missed some context here, but,

01:30:57.179 --> 01:30:59.099
<v Speaker 1>like, it sounded like from the Postgres logs,

01:30:59.099 --> 01:31:01.659
<v Speaker 4>we were seeing the clustered,

01:31:02.460 --> 01:31:05.145
<v Speaker 4>like, sort of it's not accepting connections thing,

01:31:05.145 --> 01:31:06.585
<v Speaker 4>and that was the message that we saw

01:31:06.585 --> 01:31:08.345
<v Speaker 4>in the in the application

01:31:08.345 --> 01:31:09.545
<v Speaker 4>as well. So

01:31:11.225 --> 01:31:14.185
<v Speaker 4>are you think there's something I'm going gonna

01:31:14.185 --> 01:31:16.745
<v Speaker 4>go back to see if maybe, like, connections

01:31:16.745 --> 01:31:17.225
<v Speaker 4>are

01:31:17.750 --> 01:31:20.789
<v Speaker 4>not enabled on the database or something. Like,

01:31:20.949 --> 01:31:23.429
<v Speaker 4>it sounded as if, like, we perhaps are

01:31:25.510 --> 01:31:26.469
<v Speaker 4>well, actually

01:31:27.830 --> 01:31:28.949
<v Speaker 6>If you do the DNS.

01:31:30.345 --> 01:31:32.025
<v Speaker 5>It was weird that it said, like, kubectl

01:31:32.025 --> 01:31:34.665
<v Speaker 5>get config map from But I wonder if

01:31:34.665 --> 01:31:36.825
<v Speaker 0>that was the teleport bug because we're gonna

01:31:36.825 --> 01:31:38.825
<v Speaker 0>end it with them, and it was mixing

01:31:38.825 --> 01:31:39.785
<v Speaker 0>the histories.

01:31:40.345 --> 01:31:42.025
<v Speaker 5>Oh. Oh. Oh, I see what you're saying.

01:31:42.025 --> 01:31:44.560
<v Speaker 5>Okay. I'm gonna go to the So Matthias

01:31:44.560 --> 01:31:46.640
<v Speaker 6>left us a a note in the chat.

01:31:46.800 --> 01:31:47.600
<v Speaker 6>You

01:31:48.000 --> 01:31:50.160
<v Speaker 6>were a little too fast deleting that line.

01:31:50.160 --> 01:31:52.480
<v Speaker 6>Postgres' problem should be orthogonal,

01:31:52.480 --> 01:31:53.200
<v Speaker 6>though. So

01:31:54.800 --> 01:31:57.600
<v Speaker 6>that line that we deleted out of the

01:32:01.175 --> 01:32:02.855
<v Speaker 4>Out of the thing?

01:32:03.255 --> 01:32:03.815
<v Speaker 6>Yeah.

01:32:04.615 --> 01:32:06.535
<v Speaker 6>But it should be orthogonal.

01:32:08.215 --> 01:32:09.655
<v Speaker 0>Okay. So

01:32:10.375 --> 01:32:11.415
<v Speaker 0>edit config map.

01:32:13.430 --> 01:32:15.670
<v Speaker 0>We delete the postgres forward.

01:32:15.830 --> 01:32:17.190
<v Speaker 0>But, I mean, that that doesn't feel like

01:32:17.190 --> 01:32:19.350
<v Speaker 0>it should be there. Right? So unless the

01:32:19.190 --> 01:32:20.790
<v Speaker 0>Right. It's completely broken.

01:32:22.150 --> 01:32:25.670
<v Speaker 6>Yeah. So in in the in the

01:32:26.415 --> 01:32:27.374
<v Speaker 6>Postgres

01:32:27.534 --> 01:32:28.574
<v Speaker 6>worker logs,

01:32:28.815 --> 01:32:30.735
<v Speaker 6>it's saying the error is syntax error at

01:32:30.735 --> 01:32:32.815
<v Speaker 6>or near kube control at character one. The

01:32:32.815 --> 01:32:34.894
<v Speaker 6>statement is kube control get

01:32:35.454 --> 01:32:38.175
<v Speaker 6>config map dash n kube system core DNS

01:32:38.175 --> 01:32:41.040
<v Speaker 6>dash o YAML all to roll postgres set

01:32:41.040 --> 01:32:42.400
<v Speaker 6>statement time at one.

01:32:43.040 --> 01:32:44.640
<v Speaker 6>So it makes me wonder,

01:32:46.080 --> 01:32:47.520
<v Speaker 6>is it sneakily

01:32:47.520 --> 01:32:48.560
<v Speaker 6>living somewhere?

01:32:51.040 --> 01:32:51.920
<v Speaker 6>It was

01:32:52.240 --> 01:32:54.400
<v Speaker 6>somewhere up. I think we're suggesting that that

01:32:54.400 --> 01:32:55.760
<v Speaker 0>may just be

01:32:56.695 --> 01:32:59.095
<v Speaker 6>Yeah. This one. The output being merged. Well,

01:32:59.575 --> 01:33:01.255
<v Speaker 0>that is that does actually look like a

01:33:01.255 --> 01:33:02.215
<v Speaker 0>locally. Right?

01:33:03.255 --> 01:33:04.935
<v Speaker 6>Yeah. Like, it it it looks like

01:33:06.055 --> 01:33:07.735
<v Speaker 6>if I didn't know better, they were trying

01:33:07.735 --> 01:33:08.615
<v Speaker 6>to put commands

01:33:09.175 --> 01:33:10.215
<v Speaker 6>into Postgres

01:33:11.910 --> 01:33:12.790
<v Speaker 6>somehow,

01:33:12.790 --> 01:33:14.950
<v Speaker 6>like, feeding the command into Postgres and, like

01:33:15.990 --> 01:33:17.910
<v Speaker 6>I don't know. I don't know. Like, it

01:33:17.910 --> 01:33:20.310
<v Speaker 6>just some something's weird about that. That's not

01:33:20.310 --> 01:33:22.390
<v Speaker 6>a command I ever see. Like, not something

01:33:22.390 --> 01:33:23.830
<v Speaker 6>I ever see in the logs for Postgres

01:33:23.830 --> 01:33:24.390
<v Speaker 6>databases.

01:33:24.825 --> 01:33:26.184
<v Speaker 6>So I'm suspicious.

01:33:26.265 --> 01:33:26.824
<v Speaker 6>Yeah.

01:33:28.425 --> 01:33:30.344
<v Speaker 5>It also says it was shut down. So

01:33:30.585 --> 01:33:31.465
<v Speaker 5>on the

01:33:32.425 --> 01:33:34.505
<v Speaker 5>right underneath the Unix socket, it says database

01:33:34.505 --> 01:33:35.945
<v Speaker 5>was shut down. So it's not even running.

01:33:35.945 --> 01:33:37.065
<v Speaker 5>So I don't can we just

01:33:38.790 --> 01:33:40.869
<v Speaker 6>Yeah. But then it came comes back up.

01:33:40.949 --> 01:33:42.630
<v Speaker 6>It was saying the database system is ready

01:33:42.630 --> 01:33:43.269
<v Speaker 6>to

01:33:43.510 --> 01:33:45.829
<v Speaker 0>Matthias is saying just copy and pasted it

01:33:45.829 --> 01:33:47.110
<v Speaker 0>wrongly. So I think that may be a

01:33:47.110 --> 01:33:48.149
<v Speaker 0>a red herring.

01:33:48.790 --> 01:33:49.510
<v Speaker 6>Oh, okay.

01:33:50.785 --> 01:33:51.505
<v Speaker 6>Still.

01:33:52.545 --> 01:33:54.865
<v Speaker 6>I'm like, something doesn't look right there. Wait

01:33:54.865 --> 01:33:55.185
<v Speaker 6>a minute.

01:34:03.920 --> 01:34:06.639
<v Speaker 0>There's no networking inside of our cust inside

01:34:06.639 --> 01:34:10.400
<v Speaker 0>of our pod. What's

01:34:10.400 --> 01:34:11.760
<v Speaker 6>in the resolve file?

01:34:12.639 --> 01:34:14.400
<v Speaker 0>On the whole oh, and the container as

01:34:14.400 --> 01:34:15.599
<v Speaker 0>I thought. Right? On the host.

01:34:18.725 --> 01:34:20.485
<v Speaker 5>Why why can't we move Postgres to the

01:34:20.485 --> 01:34:21.445
<v Speaker 5>control node?

01:34:24.085 --> 01:34:26.965
<v Speaker 5>Can't you just we can. Yeah.

01:34:27.284 --> 01:34:28.804
<v Speaker 0>Alright. I don't know if we want to

01:34:28.804 --> 01:34:30.829
<v Speaker 0>do that. So Oh, I don't know. I

01:34:30.829 --> 01:34:31.949
<v Speaker 5>was just trying to, like, get rid of

01:34:31.949 --> 01:34:32.989
<v Speaker 5>those other notes.

01:34:34.190 --> 01:34:36.349
<v Speaker 5>I don't because I I guess this we

01:34:36.349 --> 01:34:38.189
<v Speaker 5>can't exec into the web app or

01:34:38.670 --> 01:34:41.070
<v Speaker 5>to verify another container has networking, I guess.

01:34:43.295 --> 01:34:44.414
<v Speaker 2>Another pod.

01:34:46.094 --> 01:34:46.735
<v Speaker 2>Okay.

01:34:50.175 --> 01:34:52.815
<v Speaker 0>It's there now. So let's try.

01:34:59.710 --> 01:35:00.350
<v Speaker 5>Okay.

01:35:00.510 --> 01:35:02.590
<v Speaker 5>And what's the log say again? What's log?

01:35:02.590 --> 01:35:04.670
<v Speaker 0>This is a time out now, actually.

01:35:05.550 --> 01:35:06.670
<v Speaker 0>Oh, it's working.

01:35:07.150 --> 01:35:08.030
<v Speaker 6>Hey.

01:35:08.270 --> 01:35:08.670
<v Speaker 6>Nice.

01:35:09.285 --> 01:35:11.365
<v Speaker 6>So wait. I I missed what you did.

01:35:11.925 --> 01:35:12.965
<v Speaker 6>What did we do?

01:35:14.725 --> 01:35:17.445
<v Speaker 0>Steve asked us to move We moved the

01:35:17.605 --> 01:35:18.485
<v Speaker 0>program.

01:35:18.725 --> 01:35:20.885
<v Speaker 0>Or was it sorry. I I can't see.

01:35:21.125 --> 01:35:22.565
<v Speaker 4>Now we can go take a look at

01:35:22.565 --> 01:35:23.365
<v Speaker 4>what the health program.

01:35:23.880 --> 01:35:24.519
<v Speaker 4>Yeah.

01:35:25.159 --> 01:35:27.239
<v Speaker 6>Alright. So now we're now we're seeing if

01:35:27.239 --> 01:35:27.560
<v Speaker 6>the

01:35:28.440 --> 01:35:29.960
<v Speaker 6>if we updated it.

01:35:30.600 --> 01:35:31.559
<v Speaker 0>We have. Great.

01:35:35.320 --> 01:35:36.039
<v Speaker 6>Nice.

01:35:36.120 --> 01:35:38.039
<v Speaker 6>Nice. Yeah. Yay.

01:35:38.040 --> 01:35:39.775
<v Speaker 4>It's, like, three and a half. We don't

01:35:39.775 --> 01:35:41.695
<v Speaker 6>know what happened. Oh, yeah. That's the idea.

01:35:41.695 --> 01:35:42.815
<v Speaker 0>I mean,

01:35:43.135 --> 01:35:43.935
<v Speaker 0>we

01:35:44.015 --> 01:35:45.535
<v Speaker 4>can we can go chase that in that

01:35:45.535 --> 01:35:46.655
<v Speaker 4>that node. So which

01:35:47.615 --> 01:35:49.535
<v Speaker 4>do you know was it like, which worker

01:35:49.535 --> 01:35:52.255
<v Speaker 4>was it at? Like, sorry. I'm kinda disoriented.

01:35:52.255 --> 01:35:54.415
<v Speaker 4>But We cart them Clearly, there's something going

01:35:54.415 --> 01:35:56.360
<v Speaker 4>on. Earlier on. Okay.

01:35:56.760 --> 01:35:57.560
<v Speaker 4>Got it.

01:35:58.760 --> 01:36:00.200
<v Speaker 0>But I I don't know if we did

01:36:00.200 --> 01:36:00.440
<v Speaker 0>have

01:36:03.080 --> 01:36:04.680
<v Speaker 6>Well, it's something that's not a good one.

01:36:04.680 --> 01:36:07.080
<v Speaker 1>Right? Yeah. Yeah. Yeah. So yeah. Yeah. If

01:36:07.080 --> 01:36:08.760
<v Speaker 0>Matthias or Frederic wanna

01:36:09.055 --> 01:36:10.575
<v Speaker 0>jump on and tell us what you did,

01:36:10.575 --> 01:36:12.015
<v Speaker 0>I I I would love to know more

01:36:12.015 --> 01:36:13.375
<v Speaker 0>because I have no idea

01:36:14.415 --> 01:36:15.695
<v Speaker 0>how we fixed that.

01:36:16.575 --> 01:36:18.735
<v Speaker 6>Well, while they're still jumping on,

01:36:19.375 --> 01:36:21.055
<v Speaker 6>I almost wanna, like, just hop onto the

01:36:21.055 --> 01:36:22.015
<v Speaker 6>workers and go dig around.

01:36:22.590 --> 01:36:25.470
<v Speaker 0>Well, I think restarting Postgres fixed it because

01:36:25.470 --> 01:36:27.070
<v Speaker 0>they modified Postgres.

01:36:27.070 --> 01:36:28.670
<v Speaker 0>So when we moved it

01:36:29.470 --> 01:36:31.630
<v Speaker 0>from Oh, nice. Okay.

01:36:32.830 --> 01:36:33.550
<v Speaker 4>They Gotcha.

01:37:01.315 --> 01:37:03.795
<v Speaker 1>But, like, the metrics server, first of all,

01:37:03.795 --> 01:37:05.875
<v Speaker 1>that was like I didn't expect you to

01:37:05.875 --> 01:37:08.355
<v Speaker 1>find it that quickly. That was, like, very,

01:37:08.435 --> 01:37:09.074
<v Speaker 1>very

01:37:09.795 --> 01:37:10.514
<v Speaker 1>impressive,

01:37:10.675 --> 01:37:11.715
<v Speaker 1>I have to say.

01:37:12.915 --> 01:37:15.555
<v Speaker 1>And, yeah, it just was setting replicas to

01:37:15.555 --> 01:37:15.875
<v Speaker 1>zero.

01:37:16.410 --> 01:37:17.289
<v Speaker 1>And then

01:37:17.770 --> 01:37:20.810
<v Speaker 1>the other thing I mean, we tried disconnecting

01:37:20.810 --> 01:37:22.010
<v Speaker 1>with

01:37:23.530 --> 01:37:24.969
<v Speaker 1>with the firewall

01:37:24.969 --> 01:37:28.170
<v Speaker 1>from getting a connection. Like, the API server

01:37:28.170 --> 01:37:30.090
<v Speaker 1>shouldn't be able to talk to anymore

01:37:30.375 --> 01:37:33.415
<v Speaker 1>and thus, like, basically break everything.

01:37:34.455 --> 01:37:37.094
<v Speaker 1>But, yeah, fear fearing that that would break

01:37:37.495 --> 01:37:40.215
<v Speaker 1>the entire cluster once more, we didn't wanna

01:37:40.215 --> 01:37:42.855
<v Speaker 1>go through with that. And then the other

01:37:42.855 --> 01:37:44.855
<v Speaker 1>two things, yeah, were just like DNS.

01:37:45.489 --> 01:37:47.809
<v Speaker 1>So the line you had,

01:37:48.210 --> 01:37:50.449
<v Speaker 1>and I I don't think that's still

01:37:50.690 --> 01:37:51.570
<v Speaker 1>fixed,

01:37:51.730 --> 01:37:53.730
<v Speaker 1>but I think, like, there was, like, still

01:37:53.730 --> 01:37:55.730
<v Speaker 1>state of DNS and stuff in in the

01:37:55.730 --> 01:37:56.449
<v Speaker 1>cluster

01:37:57.250 --> 01:38:00.645
<v Speaker 1>where I just set this to forward Postgres

01:38:00.645 --> 01:38:01.284
<v Speaker 1>to

01:38:01.925 --> 01:38:03.445
<v Speaker 1>the local host address.

01:38:03.685 --> 01:38:06.804
<v Speaker 1>There's usually a forward everything to

01:38:07.125 --> 01:38:08.565
<v Speaker 1>etcresolveconf

01:38:08.565 --> 01:38:08.965
<v Speaker 1>and

01:38:09.764 --> 01:38:10.725
<v Speaker 1>kind of like

01:38:11.260 --> 01:38:13.740
<v Speaker 1>that connection between and

01:38:13.740 --> 01:38:16.300
<v Speaker 1>the Etsy resolve conf, that was completely off,

01:38:16.300 --> 01:38:19.100
<v Speaker 1>and you just completely deleted that line rather

01:38:19.100 --> 01:38:21.740
<v Speaker 1>than fixing it. Right? So that's why we

01:38:21.740 --> 01:38:23.420
<v Speaker 0>could quit or that's why I can speak

01:38:23.420 --> 01:38:25.020
<v Speaker 0>to Postgres, but I can't get the NFN

01:38:25.020 --> 01:38:27.660
<v Speaker 0>external because we Yeah. Exactly. And I think

01:38:27.155 --> 01:38:27.795
<v Speaker 1>the

01:38:28.035 --> 01:38:31.235
<v Speaker 1>the Postgres was actually still working because the

01:38:31.235 --> 01:38:34.275
<v Speaker 1>service, like, the Kubernetes service that had the

01:38:34.355 --> 01:38:36.115
<v Speaker 1>correct IP address

01:38:36.355 --> 01:38:37.235
<v Speaker 1>given.

01:38:37.715 --> 01:38:39.475
<v Speaker 1>Like, it still had that in in the

01:38:39.475 --> 01:38:41.155
<v Speaker 1>in the Kubernetes object.

01:38:41.395 --> 01:38:41.875
<v Speaker 1>So maybe

01:38:42.360 --> 01:38:44.440
<v Speaker 1>there was a mistake or, like, we should

01:38:44.440 --> 01:38:46.600
<v Speaker 1>have, like, deleted that service, and then it

01:38:46.600 --> 01:38:49.560
<v Speaker 1>probably had have a a wrong IP address.

01:38:49.560 --> 01:38:50.519
<v Speaker 1>But yeah.

01:38:52.119 --> 01:38:54.440
<v Speaker 1>And then the last thing was Postgres

01:38:55.625 --> 01:38:58.345
<v Speaker 1>where you, like, correctly found out that I

01:38:58.345 --> 01:39:01.545
<v Speaker 1>was just typing copy copy pasting commands, and

01:39:01.545 --> 01:39:02.745
<v Speaker 1>then, like,

01:39:02.905 --> 01:39:05.545
<v Speaker 1>by mistake, I copy pasted a cube c

01:39:05.545 --> 01:39:06.185
<v Speaker 1>d I

01:39:06.665 --> 01:39:08.585
<v Speaker 1>command into into Postgres'

01:39:09.550 --> 01:39:10.350
<v Speaker 1>interface.

01:39:10.510 --> 01:39:12.430
<v Speaker 1>So, yeah, that that was a good one.

01:39:12.590 --> 01:39:14.430
<v Speaker 1>I had to laugh by by seeing that

01:39:14.430 --> 01:39:17.310
<v Speaker 1>when you saw that. But, yeah, in Postgres,

01:39:17.310 --> 01:39:18.190
<v Speaker 1>we

01:39:18.190 --> 01:39:21.150
<v Speaker 1>revoked select statement access

01:39:21.230 --> 01:39:22.430
<v Speaker 1>on the quotes table.

01:39:23.725 --> 01:39:27.405
<v Speaker 1>We completely disabled all the database connections for

01:39:27.405 --> 01:39:29.565
<v Speaker 1>the cluster d database.

01:39:29.725 --> 01:39:31.485
<v Speaker 1>So that's what that that was the one

01:39:31.485 --> 01:39:33.245
<v Speaker 1>you were seeing most of the time.

01:39:33.725 --> 01:39:36.445
<v Speaker 1>And then we also set all the connections

01:39:36.720 --> 01:39:38.560
<v Speaker 1>that were allowed to zero,

01:39:39.200 --> 01:39:42.000
<v Speaker 1>and the the statement time out

01:39:42.320 --> 01:39:44.400
<v Speaker 1>was one millisecond.

01:39:44.400 --> 01:39:47.280
<v Speaker 1>I think that's what just one is. So,

01:39:47.280 --> 01:39:48.320
<v Speaker 1>like, even

01:39:48.800 --> 01:39:51.200
<v Speaker 1>undoing some of the statements that were were

01:39:51.200 --> 01:39:52.800
<v Speaker 1>altering the database

01:39:53.094 --> 01:39:55.415
<v Speaker 1>wouldn't have succeeded because they would have taken

01:39:55.415 --> 01:39:57.094
<v Speaker 1>longer than one milliseconds.

01:39:57.175 --> 01:39:59.175
<v Speaker 0>Of course. To get around that by, like,

01:39:59.175 --> 01:40:01.655
<v Speaker 1>using a different user. Yeah. I went into,

01:40:02.135 --> 01:40:03.255
<v Speaker 1>like, a postcard for a.

01:40:04.990 --> 01:40:08.030
<v Speaker 1>But, I mean, you fixed it anyways. And,

01:40:08.750 --> 01:40:09.950
<v Speaker 1>yeah, congrats.

01:40:09.950 --> 01:40:12.830
<v Speaker 0>Yeah. Pleasure. Good to see you. Who

01:40:12.990 --> 01:40:15.310
<v Speaker 6>who was that that suggested moving the Postgres

01:40:15.310 --> 01:40:17.070
<v Speaker 0>onto the control plane? That was the touch

01:40:17.070 --> 01:40:17.470
<v Speaker 0>of magic.

01:40:18.485 --> 01:40:20.565
<v Speaker 1>I'm I'm deep down. I want to receive

01:40:20.565 --> 01:40:20.965
<v Speaker 1>it.

01:40:23.284 --> 01:40:24.485
<v Speaker 1>Nice. Nice.

01:40:24.485 --> 01:40:26.405
<v Speaker 0>Alright. I guess it helped that the

01:40:27.284 --> 01:40:29.125
<v Speaker 4>the break wasn't persistent for that. Right? Like,

01:40:29.125 --> 01:40:30.645
<v Speaker 4>that was the big one. So if Yeah.

01:40:30.645 --> 01:40:32.405
<v Speaker 4>I wonder if, like, modified inside.

01:40:34.389 --> 01:40:36.949
<v Speaker 1>Yes. The data coming back into the database.

01:40:37.030 --> 01:40:39.110
<v Speaker 0>It's loaded as a as part of the

01:40:39.110 --> 01:40:40.949
<v Speaker 0>edit scripts. When the container starts, it pulls

01:40:40.949 --> 01:40:42.389
<v Speaker 0>it from the content map. See.

01:40:43.670 --> 01:40:46.230
<v Speaker 0>Yeah. Every time you reschedule it, you'll fix

01:40:46.230 --> 01:40:49.405
<v Speaker 0>post quiz every single time. So Okay. Yeah.

01:40:49.405 --> 01:40:52.125
<v Speaker 1>I mean that's for their future teams. Right?

01:40:52.125 --> 01:40:53.965
<v Speaker 0>We got quite lucky there, I think. But

01:40:53.965 --> 01:40:54.604
<v Speaker 0>still,

01:40:55.245 --> 01:40:57.645
<v Speaker 0>we'll take it. Right? So Yeah. But, I

01:40:57.645 --> 01:40:59.885
<v Speaker 1>mean, like, all the other things were, like,

01:40:59.885 --> 01:41:01.565
<v Speaker 1>pretty intricate for sure.

01:41:02.364 --> 01:41:05.519
<v Speaker 1>And and it was equally impressive,

01:41:05.520 --> 01:41:07.280
<v Speaker 1>if not more than than than

01:41:07.840 --> 01:41:10.959
<v Speaker 1>what we did. And seeing people really, like,

01:41:11.040 --> 01:41:13.360
<v Speaker 1>getting into these, like, nitty gritty details is

01:41:13.360 --> 01:41:14.880
<v Speaker 1>is super fun to watch. I love the

01:41:14.880 --> 01:41:15.199
<v Speaker 1>format.

01:41:15.855 --> 01:41:18.975
<v Speaker 0>Alright. Well, thank you very much, everybody. Yeah.

01:41:18.975 --> 01:41:20.335
<v Speaker 0>That was amazing. That was really fun. I

01:41:20.335 --> 01:41:21.614
<v Speaker 0>think we got a a nice mix of

01:41:21.614 --> 01:41:23.375
<v Speaker 0>problems there and a a lot of knowledge

01:41:23.375 --> 01:41:25.215
<v Speaker 0>shared by the way that we were talking

01:41:25.215 --> 01:41:27.855
<v Speaker 0>and texting. So thank you to Polar Signals.

01:41:27.855 --> 01:41:30.014
<v Speaker 0>Thank you to my Pulumi colleagues.

01:41:30.495 --> 01:41:32.599
<v Speaker 1>Yeah. Thank you for having us. Also,

01:41:33.320 --> 01:41:36.119
<v Speaker 1>saying hi from and and Frederic once more.

01:41:36.119 --> 01:41:38.440
<v Speaker 1>Thanks for having us. It's a pleasure. Thank

01:41:38.440 --> 01:41:40.520
<v Speaker 0>you to Teleport and EquinixMetal for all their

01:41:40.520 --> 01:41:43.159
<v Speaker 0>support. See you all next week. Have a

01:41:43.159 --> 01:41:45.639
<v Speaker 0>good day. Bye. Bye. See you. Take care.

01:41:45.639 --> 01:41:45.960
<v Speaker 1>Bye.
