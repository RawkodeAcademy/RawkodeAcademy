WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: bf96c12d-f5ba-4e9b-851f-55aee5b61122
Created: 2025-04-29T19:17:51.039Z
Duration: 5810.963
Channels: 1

00:01:37.605 --> 00:01:40.645
<v Speaker 0>Hello, and welcome to today's episode of Rawkode

00:01:40.645 --> 00:01:42.900
<v Speaker 0>Live. This is part

00:01:43.460 --> 00:01:45.380
<v Speaker 0>eight of the clustered series.

00:01:46.180 --> 00:01:49.060
<v Speaker 0>A series in which myself and a guest

00:01:49.060 --> 00:01:52.020
<v Speaker 0>will attempt to fix broken Kubernetes clusters. The

00:01:52.020 --> 00:01:55.025
<v Speaker 0>catch is these Kubernetes clusters are broken by

00:01:55.025 --> 00:01:57.345
<v Speaker 0>members of the Kubernetes, we're cloud native, and

00:01:57.345 --> 00:01:58.465
<v Speaker 0>Rawkode communities.

00:01:59.105 --> 00:02:01.265
<v Speaker 0>Now before we begin today, we're gonna do

00:02:01.265 --> 00:02:03.425
<v Speaker 0>a little bit of housekeeping. First and foremost,

00:02:03.425 --> 00:02:05.745
<v Speaker 0>if you haven't clicked subscribe and click that

00:02:05.745 --> 00:02:06.705
<v Speaker 0>little bell on YouTube,

00:02:07.340 --> 00:02:08.860
<v Speaker 0>please do it now. It means you will

00:02:08.860 --> 00:02:11.180
<v Speaker 0>get notifications for all future episodes of clustered

00:02:11.180 --> 00:02:12.860
<v Speaker 0>and all the other cloud native content that

00:02:12.860 --> 00:02:14.860
<v Speaker 0>I'm doing. It also helps other people find

00:02:14.860 --> 00:02:16.620
<v Speaker 0>the content, which we can all agree is

00:02:16.620 --> 00:02:17.900
<v Speaker 0>a good thing. Right?

00:02:18.940 --> 00:02:22.025
<v Speaker 0>Also, there is an active Discord server. Feel

00:02:22.025 --> 00:02:23.705
<v Speaker 0>free to pop in there. There's currently a

00:02:23.705 --> 00:02:26.025
<v Speaker 0>discussed stage happened just now. Leo and Kevin

00:02:26.025 --> 00:02:28.745
<v Speaker 0>are there. Hey, and Kevin. Feel free to

00:02:28.745 --> 00:02:30.345
<v Speaker 0>go chat and laugh at us as we

00:02:30.345 --> 00:02:33.225
<v Speaker 0>attempt to fix these clusters. It's always funny,

00:02:33.225 --> 00:02:34.265
<v Speaker 0>at least for you.

00:02:35.350 --> 00:02:36.150
<v Speaker 0>Lastly,

00:02:36.150 --> 00:02:38.550
<v Speaker 0>I love to thank my employer Equinix Metal.

00:02:38.550 --> 00:02:41.830
<v Speaker 0>They provide the time, compute powers, and resources

00:02:41.990 --> 00:02:43.750
<v Speaker 0>for me to put this show together and

00:02:43.750 --> 00:02:45.270
<v Speaker 0>us all to have a bit of fun.

00:02:45.270 --> 00:02:47.110
<v Speaker 0>So thank you Equinix Metal. You can check

00:02:47.110 --> 00:02:49.270
<v Speaker 0>out Equinix Metal with Rawkode live as a

00:02:49.270 --> 00:02:51.845
<v Speaker 0>code. This will get you $50 in credit,

00:02:52.004 --> 00:02:54.565
<v Speaker 0>which is around one hundred hours of compute.

00:02:55.685 --> 00:02:56.405
<v Speaker 0>Alright.

00:02:56.485 --> 00:02:57.925
<v Speaker 0>Now today's guest,

00:02:59.525 --> 00:03:02.165
<v Speaker 0>Noel Georgie is joining us today, a active

00:03:02.165 --> 00:03:04.885
<v Speaker 0>Kubernetes community member. Hey there, Noel. How are

00:03:04.885 --> 00:03:05.045
<v Speaker 0>you?

00:03:06.820 --> 00:03:07.700
<v Speaker 1>Good.

00:03:08.260 --> 00:03:09.060
<v Speaker 1>Excited

00:03:09.140 --> 00:03:12.340
<v Speaker 1>and terrified too. Excited and terrified is exactly

00:03:12.340 --> 00:03:14.180
<v Speaker 0>where we need to be so I'm very

00:03:14.180 --> 00:03:15.140
<v Speaker 0>happy with that. Why

00:03:15.620 --> 00:03:17.300
<v Speaker 0>don't we start with a quick introduction? Do

00:03:17.300 --> 00:03:18.895
<v Speaker 0>you want to give us a little bit

00:03:18.895 --> 00:03:20.895
<v Speaker 0>about you and then we'll talk about today's

00:03:20.895 --> 00:03:21.695
<v Speaker 0>episode?

00:03:23.535 --> 00:03:25.215
<v Speaker 1>Nothing. Thank you. What we

00:03:27.694 --> 00:03:29.535
<v Speaker 1>yep. I work for an employer in a

00:03:29.535 --> 00:03:32.495
<v Speaker 1>company called Railsoft. It's a startup and we

00:03:32.495 --> 00:03:35.450
<v Speaker 1>do kind of like mostly for some of

00:03:35.450 --> 00:03:36.890
<v Speaker 1>the government contracts, mostly

00:03:37.370 --> 00:03:38.970
<v Speaker 1>in the defense department.

00:03:39.770 --> 00:03:41.770
<v Speaker 0>Alright. Awesome. Thank you very much.

00:03:42.490 --> 00:03:44.970
<v Speaker 0>We have our first question today, which I

00:03:44.970 --> 00:03:47.770
<v Speaker 0>think is is very apt. Is asking who

00:03:47.770 --> 00:03:48.730
<v Speaker 0>are the breakers?

00:03:49.215 --> 00:03:51.215
<v Speaker 0>I haven't. You guys want to know.

00:03:52.095 --> 00:03:54.975
<v Speaker 0>Yeah. I intentionally really not intentionally. I didn't

00:03:54.975 --> 00:03:56.975
<v Speaker 0>really post a lot of information about it

00:03:57.375 --> 00:03:59.215
<v Speaker 0>but we do have some really good breakers

00:03:59.215 --> 00:04:01.535
<v Speaker 0>today. We've got a cluster broken by Tim

00:04:01.535 --> 00:04:02.175
<v Speaker 0>Hawken,

00:04:02.495 --> 00:04:05.269
<v Speaker 0>one of the original or at least first

00:04:05.269 --> 00:04:07.830
<v Speaker 0>couple of contributors to the Kubernetes project and

00:04:07.830 --> 00:04:08.550
<v Speaker 0>Kubernetes

00:04:09.269 --> 00:04:11.110
<v Speaker 0>developer at Google Cloud.

00:04:11.349 --> 00:04:13.750
<v Speaker 0>The second cluster is broken by a

00:04:14.230 --> 00:04:16.070
<v Speaker 0>colleague of mine, Matt Anderson, who works at

00:04:16.070 --> 00:04:18.709
<v Speaker 0>Equinix Medal on our delivery and infrastructure team

00:04:18.855 --> 00:04:21.495
<v Speaker 0>spending all day with Kubernetes. And as he

00:04:21.495 --> 00:04:23.415
<v Speaker 0>assures me, he can break Kubernetes with his

00:04:23.415 --> 00:04:24.855
<v Speaker 0>eyes shut. So

00:04:25.175 --> 00:04:27.975
<v Speaker 0>I'm curious to see what evil things they

00:04:27.975 --> 00:04:29.815
<v Speaker 0>have done to our clusters.

00:04:31.095 --> 00:04:35.150
<v Speaker 1>Yep. I guess it's that time where we

00:04:35.150 --> 00:04:37.790
<v Speaker 0>just start taking a look. We will get

00:04:37.790 --> 00:04:40.750
<v Speaker 0>my screen shared now. Alright.

00:04:41.470 --> 00:04:43.710
<v Speaker 0>We're both on screen. We have teleports. I

00:04:43.710 --> 00:04:45.710
<v Speaker 0>believe you have access to it. I am

00:04:45.710 --> 00:04:46.270
<v Speaker 0>going

00:04:46.705 --> 00:04:49.265
<v Speaker 0>to start our first session. I will zoom

00:04:49.265 --> 00:04:50.945
<v Speaker 0>in a little bit. If you just want

00:04:50.945 --> 00:04:51.425
<v Speaker 0>to

00:04:51.745 --> 00:04:54.705
<v Speaker 0>jump into active sessions, click join and type

00:04:54.705 --> 00:04:56.305
<v Speaker 0>echo hello so we know that we're both

00:04:56.305 --> 00:04:57.585
<v Speaker 0>sharing the same terminal.

00:05:00.225 --> 00:05:01.185
<v Speaker 1>Yep. Got it.

00:05:05.300 --> 00:05:06.259
<v Speaker 0>Awesome.

00:05:06.340 --> 00:05:08.020
<v Speaker 0>That's a hard one though.

00:05:10.819 --> 00:05:12.020
<v Speaker 0>And in fact, there we go. We've got

00:05:12.020 --> 00:05:13.780
<v Speaker 0>a wave there from Matt who is watching

00:05:13.780 --> 00:05:16.020
<v Speaker 0>us. Thanks, Matt. I'm looking forward to this.

00:05:16.905 --> 00:05:19.225
<v Speaker 0>Alright. So we're starting with cluster 15. We

00:05:19.225 --> 00:05:21.465
<v Speaker 0>did them in numerical order. This is Tim

00:05:21.465 --> 00:05:22.665
<v Speaker 0>Hawkins cluster.

00:05:23.305 --> 00:05:24.345
<v Speaker 0>We will first

00:05:24.905 --> 00:05:26.425
<v Speaker 0>I'm gonna set as an alias so that

00:05:26.425 --> 00:05:28.265
<v Speaker 0>we don't have to keep messing that up.

00:05:28.345 --> 00:05:30.425
<v Speaker 0>I will export our cube config.

00:05:30.690 --> 00:05:32.610
<v Speaker 0>We're using the admin token

00:05:35.490 --> 00:05:36.370
<v Speaker 0>and

00:05:36.770 --> 00:05:39.090
<v Speaker 0>I'll give you the honors. You wanna type,

00:05:39.090 --> 00:05:41.090
<v Speaker 0>get nodes, get pods, whatever you want. Let's

00:05:41.090 --> 00:05:42.930
<v Speaker 0>see if we have an API server.

00:05:46.254 --> 00:05:48.014
<v Speaker 0>Why

00:05:48.014 --> 00:05:51.055
<v Speaker 0>does nobody ever leave us an API server?

00:05:54.974 --> 00:05:56.175
<v Speaker 0>Yeah. That's

00:05:56.414 --> 00:05:58.175
<v Speaker 1>Okay. Let's check that file.

00:05:58.800 --> 00:05:59.600
<v Speaker 0>Alright.

00:05:59.680 --> 00:06:00.720
<v Speaker 0>Lead the way, and I'll

00:06:02.240 --> 00:06:04.479
<v Speaker 0>Just want to see which API server it's

00:06:04.560 --> 00:06:05.760
<v Speaker 1>okay. It's

00:06:06.000 --> 00:06:08.240
<v Speaker 1>I guess it's IP of this machine.

00:06:10.879 --> 00:06:13.280
<v Speaker 1>Yep. It's this one. Right? 180 something.

00:06:17.245 --> 00:06:18.845
<v Speaker 0>Yeah. I think that's alright. It looks to

00:06:18.845 --> 00:06:21.485
<v Speaker 0>be what I would expect. I'm assuming our

00:06:21.485 --> 00:06:23.085
<v Speaker 0>API server potentially

00:06:23.245 --> 00:06:24.445
<v Speaker 0>isn't running.

00:06:25.805 --> 00:06:28.044
<v Speaker 1>Happy. Come on. It is running.

00:06:30.180 --> 00:06:31.460
<v Speaker 0>I hate it when that happens to it.

00:06:31.460 --> 00:06:34.100
<v Speaker 1>So let's check. Okay. It says the secure

00:06:34.100 --> 00:06:36.420
<v Speaker 1>port is 643.

00:06:38.660 --> 00:06:39.140
<v Speaker 1>Shouldn't

00:06:39.860 --> 00:06:42.100
<v Speaker 1>okay. The insecure port should be zero. This

00:06:42.100 --> 00:06:43.940
<v Speaker 1>is fine, but it's not responding.

00:06:45.505 --> 00:06:48.065
<v Speaker 0>Okay. So, yeah, we definitely have Do we

00:06:48.065 --> 00:06:49.825
<v Speaker 1>have Netcat here? Yep.

00:06:52.145 --> 00:06:53.025
<v Speaker 1>And

00:06:54.785 --> 00:06:56.945
<v Speaker 1>I just want to see. Okay. So it's

00:06:56.945 --> 00:06:57.345
<v Speaker 1>listening.

00:06:58.780 --> 00:07:01.180
<v Speaker 1>At least I can help reconnect to that.

00:07:02.380 --> 00:07:04.700
<v Speaker 0>I I'm curious if if we run the

00:07:04.700 --> 00:07:07.020
<v Speaker 0>get pods again and let it time out,

00:07:07.020 --> 00:07:09.100
<v Speaker 0>if it's gonna tell us HTCD connection timed

00:07:09.100 --> 00:07:11.260
<v Speaker 0>out or if it's gonna tell us something

00:07:11.260 --> 00:07:12.540
<v Speaker 0>else. I suspect

00:07:14.104 --> 00:07:15.865
<v Speaker 0>I mean, who would be harsh enough to

00:07:15.865 --> 00:07:17.785
<v Speaker 0>mess with HTCD? I made it very clear

00:07:17.785 --> 00:07:19.705
<v Speaker 0>my thoughts on people messing with HTCD. I

00:07:19.705 --> 00:07:21.145
<v Speaker 0>don't like people messing with Yeah.

00:07:24.745 --> 00:07:25.145
<v Speaker 0>Alright.

00:07:28.070 --> 00:07:29.990
<v Speaker 0>What's the timeout gonna be in thirty seconds?

00:07:29.990 --> 00:07:31.670
<v Speaker 0>Gonna be the longest thirty seconds of our

00:07:31.670 --> 00:07:32.150
<v Speaker 0>lives.

00:07:33.030 --> 00:07:33.670
<v Speaker 0>Yeah.

00:07:35.110 --> 00:07:36.630
<v Speaker 0>And if I'd while he jot down with

00:07:36.630 --> 00:07:38.870
<v Speaker 0>a comment there saying, wait. Wait. Wait. It

00:07:38.870 --> 00:07:41.395
<v Speaker 0>might time out with a message. Yes. I'm

00:07:41.794 --> 00:07:43.555
<v Speaker 0>I suspect we're gonna see entity.

00:07:44.514 --> 00:07:47.795
<v Speaker 1>Let's see. Just go through it, the

00:07:47.955 --> 00:07:49.475
<v Speaker 1>arguments to see if

00:07:51.634 --> 00:07:53.794
<v Speaker 1>are these user name handles normal?

00:07:56.040 --> 00:07:57.720
<v Speaker 1>I don't remember seeing them.

00:07:58.200 --> 00:07:59.880
<v Speaker 0>What do you not remember? Oh,

00:08:01.080 --> 00:08:04.040
<v Speaker 0>TLS handshake. No STD. I guess that's good.

00:08:08.725 --> 00:08:11.045
<v Speaker 0>Alright. Should we do some basic control plane

00:08:11.045 --> 00:08:12.325
<v Speaker 0>checks? Do you wanna

00:08:13.045 --> 00:08:15.925
<v Speaker 0>see if we have ETD running on the

00:08:15.925 --> 00:08:17.045
<v Speaker 0>PS table?

00:08:20.245 --> 00:08:22.320
<v Speaker 1>Yeah. Okay. Yep. It's running.

00:08:22.639 --> 00:08:23.280
<v Speaker 1>And

00:08:24.400 --> 00:08:27.199
<v Speaker 0>So Let's try that safety cheat first and

00:08:27.199 --> 00:08:28.720
<v Speaker 1>see if it actually works.

00:08:31.199 --> 00:08:32.720
<v Speaker 0>Yes. Hold on.

00:08:33.039 --> 00:08:35.164
<v Speaker 0>I really need to book oh, Oh. I've

00:08:35.164 --> 00:08:37.084
<v Speaker 0>found a new shortcut in my streaming software

00:08:37.084 --> 00:08:39.084
<v Speaker 0>that shows comments. That's useful but not what

00:08:39.084 --> 00:08:40.525
<v Speaker 0>I want right now. Okay.

00:08:41.404 --> 00:08:43.645
<v Speaker 0>I really need to start bookmarking this

00:08:44.205 --> 00:08:46.765
<v Speaker 0>because I use it all the time.

00:08:50.600 --> 00:08:51.320
<v Speaker 1>Great.

00:08:51.480 --> 00:08:53.400
<v Speaker 1>I'm I'm just trying. Yeah. I don't I

00:08:53.400 --> 00:08:55.720
<v Speaker 0>don't remember these at at city things. Oh,

00:08:55.640 --> 00:08:56.520
<v Speaker 1>happened?

00:08:57.560 --> 00:08:58.840
<v Speaker 0>We need

00:08:59.720 --> 00:09:01.000
<v Speaker 0>apt install.

00:09:01.240 --> 00:09:01.720
<v Speaker 0>Let's see.

00:09:06.415 --> 00:09:07.535
<v Speaker 0>Let's search.

00:09:09.135 --> 00:09:10.175
<v Speaker 0>Let's see.

00:09:12.015 --> 00:09:13.455
<v Speaker 0>It's a decline. Okay. Of course.

00:09:19.960 --> 00:09:21.960
<v Speaker 0>And we can just run.

00:09:23.000 --> 00:09:24.200
<v Speaker 0>Yeah. That looks good.

00:09:24.760 --> 00:09:26.040
<v Speaker 1>Yeah. That's good.

00:09:26.920 --> 00:09:27.560
<v Speaker 0>Yeah.

00:09:28.680 --> 00:09:29.000
<v Speaker 0>So

00:09:32.485 --> 00:09:34.885
<v Speaker 0>TLS handshake time out. That's gonna be one

00:09:34.885 --> 00:09:36.725
<v Speaker 0>of these weird error message that just phone

00:09:36.725 --> 00:09:37.445
<v Speaker 1>itself.

00:09:38.565 --> 00:09:40.805
<v Speaker 0>Oh, now you're getting scary. You know these

00:09:40.805 --> 00:09:42.404
<v Speaker 0>commands off the top of your head?

00:09:42.805 --> 00:09:44.900
<v Speaker 1>Yeah. I just I kind of use them

00:09:44.900 --> 00:09:45.860
<v Speaker 1>frequently.

00:09:47.380 --> 00:09:48.580
<v Speaker 1>And connect.

00:09:48.580 --> 00:09:50.020
<v Speaker 1>Lock the host.

00:09:50.020 --> 00:09:51.780
<v Speaker 1>Six o two three.

00:09:52.580 --> 00:09:53.300
<v Speaker 1>Oh,

00:09:54.339 --> 00:09:56.980
<v Speaker 1>right. Oh, I guess

00:09:57.140 --> 00:09:58.500
<v Speaker 1>it's really not listening.

00:10:01.935 --> 00:10:04.654
<v Speaker 0>So Good thing. It's lessening on ports six

00:10:04.654 --> 00:10:07.455
<v Speaker 0>four four three, but it's not actually running

00:10:08.095 --> 00:10:10.495
<v Speaker 0>TLS. Maybe that's what's happening here. Should we

00:10:10.495 --> 00:10:11.935
<v Speaker 0>go take a look at the

00:10:12.495 --> 00:10:13.695
<v Speaker 0>API server configuration?

00:10:15.120 --> 00:10:17.440
<v Speaker 1>Yep. Before that, let me check. Okay. It's

00:10:17.440 --> 00:10:18.880
<v Speaker 1>QA API server. I just want to know

00:10:18.880 --> 00:10:20.960
<v Speaker 1>if it's, any other process that's matched with

00:10:20.960 --> 00:10:21.440
<v Speaker 1>it.

00:10:22.160 --> 00:10:23.760
<v Speaker 0>Yeah. That would be sneaky.

00:10:24.480 --> 00:10:27.120
<v Speaker 0>Alright. Let's take a look at the

00:10:28.725 --> 00:10:30.085
<v Speaker 0>config. Kubernetes.

00:10:30.725 --> 00:10:31.285
<v Speaker 1>Ah,

00:10:38.005 --> 00:10:39.765
<v Speaker 1>so I don't get a full screen on

00:10:39.765 --> 00:10:42.325
<v Speaker 1>direct pro what what do it is?

00:10:44.150 --> 00:10:46.390
<v Speaker 0>Oh, yeah. We can just scroll up.

00:10:49.990 --> 00:10:51.510
<v Speaker 0>There we go. Okay.

00:10:52.230 --> 00:10:54.550
<v Speaker 0>I don't know. That's interesting.

00:10:54.710 --> 00:10:56.550
<v Speaker 0>We opened them and it started just halfway

00:10:56.550 --> 00:10:58.574
<v Speaker 0>down the file. It's as if maybe somebody

00:10:58.574 --> 00:11:00.894
<v Speaker 0>was sneakily in this file and didn't close

00:11:00.894 --> 00:11:01.774
<v Speaker 0>it properly.

00:11:02.894 --> 00:11:04.894
<v Speaker 0>So maybe that's a good indicator.

00:11:05.375 --> 00:11:06.894
<v Speaker 0>But let let's see what flags do we

00:11:06.894 --> 00:11:08.415
<v Speaker 0>have here in the API server.

00:11:10.175 --> 00:11:11.615
<v Speaker 1>Do you see the request

00:11:11.935 --> 00:11:12.735
<v Speaker 1>extra headers?

00:11:13.080 --> 00:11:14.120
<v Speaker 1>That's something

00:11:14.440 --> 00:11:16.440
<v Speaker 1>I had never seen them or I might

00:11:16.440 --> 00:11:17.880
<v Speaker 1>have missed it previously, but

00:11:19.800 --> 00:11:21.960
<v Speaker 0>You you would think I'd know most of

00:11:21.960 --> 00:11:23.800
<v Speaker 0>these arguments by now, but I must say

00:11:23.800 --> 00:11:26.360
<v Speaker 0>I just scroll over them looking for the

00:11:26.520 --> 00:11:28.280
<v Speaker 0>typos and swear words. Header,

00:11:28.835 --> 00:11:30.915
<v Speaker 1>it means, like, I think if you are

00:11:30.915 --> 00:11:32.595
<v Speaker 1>to authenticate, do you want to, like, pass

00:11:32.595 --> 00:11:33.795
<v Speaker 1>in those headers?

00:11:35.795 --> 00:11:37.475
<v Speaker 0>So you think these are suspect?

00:11:39.875 --> 00:11:41.475
<v Speaker 1>What is it? Like, friend, client?

00:11:42.860 --> 00:11:44.780
<v Speaker 1>I guess so. Let's try committing it out.

00:11:44.780 --> 00:11:46.220
<v Speaker 1>I had never seen them. I don't remember

00:11:46.220 --> 00:11:48.540
<v Speaker 1>seeing them previous cluster. So

00:11:54.460 --> 00:11:56.220
<v Speaker 0>Let's see if there's anything else here.

00:11:56.865 --> 00:11:59.265
<v Speaker 1>Look at that. Your media's a proper. It's

00:11:59.265 --> 00:12:02.465
<v Speaker 1>stroke view from spine. Yeah. Those look alright.

00:12:02.705 --> 00:12:05.904
<v Speaker 0>Probes, I'm gonna just skip over. Volume, spine.

00:12:05.904 --> 00:12:08.385
<v Speaker 1>You should take the time stamp. Yeah. I

00:12:09.185 --> 00:12:09.985
<v Speaker 0>I think

00:12:10.410 --> 00:12:12.089
<v Speaker 0>I think you're right. I'm not familiar with

00:12:12.089 --> 00:12:14.410
<v Speaker 0>these request header parameters.

00:12:14.410 --> 00:12:15.930
<v Speaker 0>So let's why don't we just get this

00:12:15.930 --> 00:12:17.610
<v Speaker 0>saved and

00:12:17.690 --> 00:12:19.449
<v Speaker 0>wait for the API server to restart and

00:12:19.449 --> 00:12:20.250
<v Speaker 0>we'll see what happens.

00:12:27.255 --> 00:12:28.295
<v Speaker 0>Let's see.

00:12:31.654 --> 00:12:32.935
<v Speaker 0>Sixteen o eight.

00:12:34.214 --> 00:12:37.015
<v Speaker 0>Two minutes ago? No. That's not restarted yet.

00:12:37.015 --> 00:12:37.495
<v Speaker 0>Right?

00:12:37.975 --> 00:12:38.375
<v Speaker 1>Yeah.

00:12:43.840 --> 00:12:45.920
<v Speaker 0>When did I sixteen

00:12:48.000 --> 00:12:50.160
<v Speaker 0>ten. Yeah. They've got it's not oh, there

00:12:50.160 --> 00:12:52.400
<v Speaker 0>we go. Okay. Restarting now. Okay. Took its

00:12:52.400 --> 00:12:52.720
<v Speaker 0>time.

00:12:59.015 --> 00:13:00.055
<v Speaker 1>You know,

00:13:00.775 --> 00:13:02.615
<v Speaker 0>always the telltale tale, but we can actually

00:13:02.615 --> 00:13:04.375
<v Speaker 0>see that all three of these files have

00:13:04.375 --> 00:13:05.735
<v Speaker 0>been modified in the last

00:13:06.615 --> 00:13:07.255
<v Speaker 0>oh, no. Wait.

00:13:08.100 --> 00:13:10.500
<v Speaker 0>No. It's it's it's the APIs ever have.

00:13:10.500 --> 00:13:11.060
<v Speaker 0>Okay.

00:13:12.259 --> 00:13:15.860
<v Speaker 0>Alright. So you wanna try? Yeah. Pods get

00:13:15.860 --> 00:13:16.579
<v Speaker 0>notes.

00:13:20.339 --> 00:13:20.660
<v Speaker 0>No.

00:13:24.135 --> 00:13:25.895
<v Speaker 0>So we don't have a comment from Leo.

00:13:25.895 --> 00:13:27.095
<v Speaker 1>Okay.

00:13:27.495 --> 00:13:29.975
<v Speaker 1>This okay. Yeah. Let's look at the comments.

00:13:31.095 --> 00:13:32.935
<v Speaker 0>So now we're probably Oh, so the word

00:13:32.935 --> 00:13:34.055
<v Speaker 1>was locked. Right?

00:13:36.055 --> 00:13:37.255
<v Speaker 0>Sorry. Can you say that again?

00:13:38.470 --> 00:13:40.150
<v Speaker 1>Oh, is it the comment about the verb

00:13:40.390 --> 00:13:43.350
<v Speaker 1>verbose logs? Yeah. Yeah. Leo suggested that we

00:13:43.350 --> 00:13:45.030
<v Speaker 0>pass in a couple of dash fees into

00:13:45.030 --> 00:13:46.630
<v Speaker 0>this and get some verbose log in. So

00:13:46.630 --> 00:13:48.230
<v Speaker 0>why don't we we do that with the

00:13:48.230 --> 00:13:49.510
<v Speaker 0>get nodes and we'll see if we get

00:13:49.510 --> 00:13:51.590
<v Speaker 0>any extra output. I suspect now that it

00:13:51.590 --> 00:13:54.095
<v Speaker 0>affects the weird request header thing that we're

00:13:54.095 --> 00:13:56.575
<v Speaker 0>gonna see an STD timeout. Oops.

00:13:58.735 --> 00:13:59.375
<v Speaker 1>Give

00:14:00.095 --> 00:14:01.695
<v Speaker 1>me minute. I just like it got locked

00:14:01.695 --> 00:14:02.255
<v Speaker 1>out.

00:14:02.575 --> 00:14:04.655
<v Speaker 0>Alright. I'll take over typing. Feel free just

00:14:04.655 --> 00:14:06.255
<v Speaker 0>to jump back in. Yep. Thank you.

00:14:07.360 --> 00:14:09.200
<v Speaker 1>I just pressed control w.

00:14:09.600 --> 00:14:11.200
<v Speaker 0>Oh, control w should work.

00:14:12.160 --> 00:14:14.080
<v Speaker 1>Oh, it just closed my tab, so maybe

00:14:14.080 --> 00:14:16.960
<v Speaker 1>it's on Linux. Oh, oh, yeah. That that

00:14:16.960 --> 00:14:17.840
<v Speaker 0>will be it.

00:14:18.800 --> 00:14:19.200
<v Speaker 1>Yep.

00:14:19.875 --> 00:14:21.955
<v Speaker 1>I'm just so used to that shortcut that

00:14:21.955 --> 00:14:22.995
<v Speaker 1>I always accidentally

00:14:24.275 --> 00:14:25.955
<v Speaker 0>Yeah. I've I've done that a few times,

00:14:25.955 --> 00:14:27.955
<v Speaker 0>especially when I was trying to work from

00:14:27.955 --> 00:14:29.315
<v Speaker 0>a Chromebook for a while.

00:14:29.555 --> 00:14:30.995
<v Speaker 0>That's painful.

00:14:31.315 --> 00:14:34.435
<v Speaker 0>Alright. We're still getting the TLS handshake timeout

00:14:34.435 --> 00:14:35.635
<v Speaker 0>on our

00:14:37.480 --> 00:14:39.320
<v Speaker 1>Do you remember what's the username?

00:14:41.240 --> 00:14:42.680
<v Speaker 0>No. I one. No one.

00:14:43.400 --> 00:14:43.880
<v Speaker 1>Okay.

00:14:47.975 --> 00:14:48.855
<v Speaker 0>Okay.

00:14:49.415 --> 00:14:50.935
<v Speaker 0>Guess I'm gonna just have to work at

00:14:50.935 --> 00:14:52.454
<v Speaker 0>what we do next year. So

00:14:53.815 --> 00:14:56.214
<v Speaker 0>enter loading discovery information.

00:14:57.975 --> 00:15:00.855
<v Speaker 0>PLS handshake time out. Skip cache discovery.

00:15:03.240 --> 00:15:04.680
<v Speaker 0>At this point, I was kinda hoping to

00:15:04.680 --> 00:15:06.840
<v Speaker 0>see an SCD problem. Oh, you've just joined

00:15:06.840 --> 00:15:08.760
<v Speaker 0>the session because it did that weird reload

00:15:08.760 --> 00:15:09.880
<v Speaker 0>thing. I'm back.

00:15:11.000 --> 00:15:11.880
<v Speaker 0>There we go.

00:15:12.840 --> 00:15:14.760
<v Speaker 0>Okay. So you're because everything

00:15:14.925 --> 00:15:17.645
<v Speaker 1>taking too long to respond?

00:15:20.845 --> 00:15:23.245
<v Speaker 0>Yeah. But your open SSL command confirmed that

00:15:23.245 --> 00:15:24.845
<v Speaker 0>it was now listening on

00:15:25.964 --> 00:15:27.644
<v Speaker 0>a t l s o. Right? Listening on

00:15:27.644 --> 00:15:28.529
<v Speaker 1>643.

00:15:28.610 --> 00:15:29.250
<v Speaker 1>But,

00:15:29.649 --> 00:15:31.810
<v Speaker 1>normally, I would see, like, it returning certificates,

00:15:31.810 --> 00:15:33.570
<v Speaker 1>but I had never actually get a Kubernetes

00:15:33.570 --> 00:15:35.010
<v Speaker 1>API server. So

00:15:35.490 --> 00:15:38.130
<v Speaker 1>I could be like, it could be just

00:15:38.130 --> 00:15:40.529
<v Speaker 1>that Kubernetes API server is differently. I never

00:15:40.529 --> 00:15:42.050
<v Speaker 1>hit a Kubernetes API server with it.

00:15:43.665 --> 00:15:45.265
<v Speaker 1>I mean, like, I should return me the

00:15:45.265 --> 00:15:47.105
<v Speaker 1>certificate and everything so I can, like, go

00:15:47.105 --> 00:15:48.385
<v Speaker 1>and figure out

00:15:48.705 --> 00:15:50.145
<v Speaker 1>stuff anyway.

00:15:50.865 --> 00:15:52.305
<v Speaker 1>What did we get, please?

00:15:53.025 --> 00:15:55.745
<v Speaker 0>We got nothing. Leo said we should try

00:15:55.745 --> 00:15:57.185
<v Speaker 0>v equals nine

00:15:58.120 --> 00:16:00.199
<v Speaker 0>because Waleed suggested that earlier, but I can't

00:16:00.199 --> 00:16:01.640
<v Speaker 1>find that format. So

00:16:02.760 --> 00:16:04.680
<v Speaker 0>so what's happening? Oh, we got a thirty

00:16:04.680 --> 00:16:06.040
<v Speaker 0>two second time out

00:16:06.680 --> 00:16:08.839
<v Speaker 0>twice. Okay. So by

00:16:09.320 --> 00:16:13.000
<v Speaker 1>default, it only has the user agent headers.

00:16:33.910 --> 00:16:35.670
<v Speaker 0>I have never seen this ever before in

00:16:35.670 --> 00:16:36.149
<v Speaker 0>my life.

00:16:41.685 --> 00:16:44.245
<v Speaker 0>So while he suggested that maybe there's something

00:16:44.245 --> 00:16:46.644
<v Speaker 0>in between us and the API server,

00:16:47.125 --> 00:16:48.565
<v Speaker 0>I think that's a good call but we

00:16:48.565 --> 00:16:50.245
<v Speaker 0>we did run a netstat and we did

00:16:50.245 --> 00:16:52.725
<v Speaker 0>see that the API server process was

00:16:53.139 --> 00:16:54.980
<v Speaker 0>responsible for that port.

00:16:57.540 --> 00:17:00.339
<v Speaker 1>Okay. So So it could be something network

00:17:00.339 --> 00:17:01.779
<v Speaker 0>wise on the machine.

00:17:02.820 --> 00:17:03.940
<v Speaker 0>Is that what you're checking now?

00:17:05.404 --> 00:17:07.404
<v Speaker 1>Is there any oops. I just closed it

00:17:07.404 --> 00:17:08.524
<v Speaker 1>again. Give me that.

00:17:10.605 --> 00:17:11.724
<v Speaker 1>Okay. I'm back.

00:17:13.325 --> 00:17:15.484
<v Speaker 1>I will learn, but not to use that.

00:17:16.204 --> 00:17:18.044
<v Speaker 1>I'm wondering if there is any, like, IP

00:17:18.044 --> 00:17:20.740
<v Speaker 1>tables. Someone messed up with IP tables. Yeah.

00:17:20.740 --> 00:17:21.780
<v Speaker 0>Let's take a look.

00:17:26.180 --> 00:17:28.260
<v Speaker 1>Dash l, I guess? Yeah. Just doing l.

00:17:28.260 --> 00:17:30.180
<v Speaker 0>Let's get everything. Maybe we could grab it

00:17:30.180 --> 00:17:31.300
<v Speaker 0>for $6.04 $4.03.

00:17:31.715 --> 00:17:33.875
<v Speaker 0>Or maybe it might be named or something

00:17:33.875 --> 00:17:34.755
<v Speaker 0>or alias.

00:17:34.915 --> 00:17:37.235
<v Speaker 1>Yeah. Not really good with, like, people.

00:17:38.755 --> 00:17:40.355
<v Speaker 0>Oh, we're screwed then, aren't we?

00:17:43.235 --> 00:17:46.100
<v Speaker 0>Alright. Okay. So selling stuff I'm gonna mostly

00:17:46.100 --> 00:17:47.059
<v Speaker 0>ignore.

00:17:55.140 --> 00:17:55.620
<v Speaker 0>Don't.

00:18:02.225 --> 00:18:04.145
<v Speaker 0>I don't think

00:18:04.385 --> 00:18:05.265
<v Speaker 0>there's

00:18:05.425 --> 00:18:07.105
<v Speaker 0>an effort on toward there.

00:18:08.225 --> 00:18:09.025
<v Speaker 1>Yep.

00:18:09.825 --> 00:18:13.345
<v Speaker 0>That is my rather naive IP tables knowledge

00:18:13.425 --> 00:18:14.625
<v Speaker 0>shining through. But,

00:18:15.790 --> 00:18:17.390
<v Speaker 0>yeah, I think that's okay.

00:18:18.990 --> 00:18:20.429
<v Speaker 1>Let's take a minute. Let's take a this

00:18:27.630 --> 00:18:28.990
<v Speaker 0>that error message is

00:18:29.725 --> 00:18:32.125
<v Speaker 0>bugging me. It says it's looking up discovery

00:18:32.125 --> 00:18:34.205
<v Speaker 0>information as if it's maybe trying to verify

00:18:34.205 --> 00:18:35.565
<v Speaker 0>the CA somehow,

00:18:35.565 --> 00:18:36.044
<v Speaker 0>but

00:18:37.085 --> 00:18:38.205
<v Speaker 0>I'm not sure

00:18:39.965 --> 00:18:40.764
<v Speaker 0>what that means.

00:18:42.809 --> 00:18:45.130
<v Speaker 1>Let's see if they are left out as

00:18:45.130 --> 00:18:46.489
<v Speaker 1>any

00:18:46.570 --> 00:18:48.570
<v Speaker 1>hidden files or something. Hence

00:18:49.049 --> 00:18:50.410
<v Speaker 0>Do you wanna jump into the p t

00:18:50.410 --> 00:18:51.610
<v Speaker 0>I folder, and we'll see if any of

00:18:51.610 --> 00:18:53.289
<v Speaker 0>the time stamps look a little bit?

00:18:54.010 --> 00:18:54.250
<v Speaker 0>Sure.

00:18:56.095 --> 00:18:56.734
<v Speaker 1>The

00:18:57.375 --> 00:18:58.654
<v Speaker 0>Kubernetes. Yeah.

00:18:59.135 --> 00:19:05.294
<v Speaker 0>Let's

00:19:05.294 --> 00:19:06.495
<v Speaker 0>check that entity one.

00:19:07.690 --> 00:19:09.770
<v Speaker 1>Yep. That seems like a completely

00:19:09.770 --> 00:19:11.049
<v Speaker 1>different time stamp.

00:19:11.930 --> 00:19:13.450
<v Speaker 1>Oops. What did I do?

00:19:17.130 --> 00:19:17.930
<v Speaker 0>Pure

00:19:17.930 --> 00:19:18.410
<v Speaker 0>cert.

00:19:23.155 --> 00:19:24.515
<v Speaker 0>That looks different. Right?

00:19:26.675 --> 00:19:28.995
<v Speaker 1>Is it like the XCP pairing is not

00:19:28.995 --> 00:19:31.154
<v Speaker 1>working? And, like, it's not

00:19:31.795 --> 00:19:33.635
<v Speaker 0>Well, I think the XCP pairing must be

00:19:33.635 --> 00:19:35.635
<v Speaker 0>working. We've been able to well, we never

00:19:35.635 --> 00:19:37.475
<v Speaker 0>checked the health, but we did created a

00:19:39.420 --> 00:19:40.299
<v Speaker 0>the API.

00:19:40.300 --> 00:19:41.900
<v Speaker 1>Yeah. Let's try the x c d client

00:19:41.900 --> 00:19:44.540
<v Speaker 1>help thing. Yeah. Let's try it. We could

00:19:44.540 --> 00:19:46.300
<v Speaker 0>probably just do a control r, pull up

00:19:46.300 --> 00:19:48.059
<v Speaker 0>that last x c d command.

00:19:52.975 --> 00:19:53.695
<v Speaker 1>Health.

00:19:59.775 --> 00:20:01.615
<v Speaker 0>Do we do you remember what this is?

00:20:04.335 --> 00:20:04.975
<v Speaker 0>Nope.

00:20:05.135 --> 00:20:05.855
<v Speaker 0>Alright. Let's

00:20:08.870 --> 00:20:11.269
<v Speaker 1>Okay. And what 10 health. Yeah. That

00:20:15.750 --> 00:20:16.390
<v Speaker 1>seems healthy.

00:20:19.645 --> 00:20:21.485
<v Speaker 0>Yeah. I'm okay with that.

00:20:23.005 --> 00:20:26.125
<v Speaker 0>And I I like that requesting something from

00:20:26.125 --> 00:20:27.885
<v Speaker 0>the Kubernetes in a space seems to return

00:20:27.885 --> 00:20:28.684
<v Speaker 0>okay.

00:20:29.325 --> 00:20:30.685
<v Speaker 0>I I think I'd see to yourself. I

00:20:30.685 --> 00:20:32.285
<v Speaker 0>think we'd we'd see error messages.

00:20:32.960 --> 00:20:35.039
<v Speaker 0>Why don't we check the API server logs?

00:20:35.120 --> 00:20:36.640
<v Speaker 0>Maybe we should have done that five minutes

00:20:36.640 --> 00:20:36.880
<v Speaker 0>ago.

00:20:46.295 --> 00:20:47.014
<v Speaker 1>Less

00:20:47.575 --> 00:20:48.455
<v Speaker 1>cube.

00:20:52.934 --> 00:20:55.575
<v Speaker 1>Oh, come on. It is over dash.

00:21:00.055 --> 00:21:02.200
<v Speaker 1>Let's go to the end.

00:21:07.799 --> 00:21:09.559
<v Speaker 0>Don't see that end.

00:21:25.075 --> 00:21:26.995
<v Speaker 0>I'm just gonna do a quick scan, but.

00:21:36.130 --> 00:21:38.530
<v Speaker 1>I think, like, that points in the end,

00:21:38.530 --> 00:21:40.050
<v Speaker 1>but I don't know if it's actually an

00:21:40.050 --> 00:21:41.570
<v Speaker 1>issue. Which one?

00:21:43.170 --> 00:21:44.450
<v Speaker 1>Let me search through.

00:21:47.664 --> 00:21:48.464
<v Speaker 1>Endpoint.

00:21:54.144 --> 00:21:55.424
<v Speaker 1>Yeah. So something

00:21:56.384 --> 00:21:57.585
<v Speaker 1>yeah. It's over here.

00:21:58.110 --> 00:21:59.149
<v Speaker 1>Loaded.

00:22:04.429 --> 00:22:06.510
<v Speaker 1>I know. Let's see. Like, crap.

00:22:15.625 --> 00:22:16.505
<v Speaker 1>Nothing.

00:22:18.345 --> 00:22:19.304
<v Speaker 1>Yep.

00:22:20.585 --> 00:22:21.625
<v Speaker 1>This is something

00:22:21.865 --> 00:22:25.065
<v Speaker 1>I was unable to register. I think this

00:22:25.065 --> 00:22:25.545
<v Speaker 1>is fine.

00:22:28.580 --> 00:22:31.780
<v Speaker 1>Revolve that points from Kubernetes service. Do you

00:22:31.780 --> 00:22:32.500
<v Speaker 1>see that?

00:22:33.460 --> 00:22:34.260
<v Speaker 0>Yeah.

00:22:37.380 --> 00:22:38.180
<v Speaker 0>So do we

00:22:38.900 --> 00:22:41.700
<v Speaker 1>I think that's about, like, the node registration.

00:22:41.700 --> 00:22:42.020
<v Speaker 1>Right?

00:22:42.715 --> 00:22:44.875
<v Speaker 1>I think it's about node registration.

00:22:46.555 --> 00:22:48.555
<v Speaker 1>Can you ignore it for now?

00:22:51.275 --> 00:22:52.555
<v Speaker 0>Okay. I'll trust you.

00:22:58.460 --> 00:23:00.780
<v Speaker 1>Yep. From the previous I don't I don't

00:23:00.780 --> 00:23:03.019
<v Speaker 0>think this is anything useful here. Right?

00:23:05.340 --> 00:23:06.380
<v Speaker 0>So annoying.

00:23:07.660 --> 00:23:08.380
<v Speaker 0>Yeah.

00:23:08.860 --> 00:23:10.700
<v Speaker 0>What could we try? Like, we should change

00:23:10.700 --> 00:23:12.460
<v Speaker 1>the logs while hitting the AP server.

00:23:15.955 --> 00:23:17.635
<v Speaker 0>Alright. We'll tell you what. Why don't you

00:23:17.635 --> 00:23:20.115
<v Speaker 0>tell the logs and I will pop open

00:23:20.115 --> 00:23:20.835
<v Speaker 0>another

00:23:22.515 --> 00:23:23.155
<v Speaker 0>session.

00:23:35.890 --> 00:23:37.970
<v Speaker 0>Oh, there's an error message I can't error

00:23:37.970 --> 00:23:38.930
<v Speaker 1>now. Yeah.

00:23:39.875 --> 00:23:41.475
<v Speaker 0>Okay. So what have we got here? We've

00:23:41.475 --> 00:23:42.674
<v Speaker 0>got Yep.

00:23:43.315 --> 00:23:44.195
<v Speaker 0>Unable

00:23:44.195 --> 00:23:46.434
<v Speaker 0>to perform initial I o.

00:23:46.835 --> 00:23:48.114
<v Speaker 0>Yeah. There's an error.

00:23:49.154 --> 00:23:49.554
<v Speaker 1>Yep.

00:23:58.250 --> 00:24:00.090
<v Speaker 1>Probably we looked at the logs of the

00:24:00.090 --> 00:24:01.370
<v Speaker 1>old APA server.

00:24:02.730 --> 00:24:03.770
<v Speaker 0>It keeps

00:24:04.730 --> 00:24:06.890
<v Speaker 0>scrolling to oh, so annoying.

00:24:07.370 --> 00:24:07.850
<v Speaker 0>What's that?

00:24:09.745 --> 00:24:11.265
<v Speaker 0>Is that just one error?

00:24:15.745 --> 00:24:18.145
<v Speaker 0>I'm gonna open I'm gonna open this and

00:24:18.145 --> 00:24:19.505
<v Speaker 0>then because I can't.

00:24:20.065 --> 00:24:20.705
<v Speaker 1>Okay. Yeah.

00:24:22.040 --> 00:24:22.759
<v Speaker 0>Okay.

00:24:24.280 --> 00:24:25.240
<v Speaker 0>Where's the start of Yeah.

00:24:26.679 --> 00:24:27.960
<v Speaker 0>That's that's beefy.

00:24:50.970 --> 00:24:52.330
<v Speaker 0>Just keeps coming.

00:24:55.050 --> 00:24:56.490
<v Speaker 1>Okay. Okay. Loaded.

00:24:57.130 --> 00:24:59.610
<v Speaker 0>Loaded. Loaded. Normal. Normal. Normal. Normal. Oh, just

00:24:59.770 --> 00:25:01.850
<v Speaker 1>so these are all standard or, like, see

00:25:01.850 --> 00:25:03.210
<v Speaker 1>exactly STRs.

00:25:03.210 --> 00:25:05.884
<v Speaker 1>So it's probably is our results.

00:25:06.365 --> 00:25:08.605
<v Speaker 1>It says about endpoint.go.

00:25:10.925 --> 00:25:11.725
<v Speaker 1>Oh,

00:25:13.885 --> 00:25:15.645
<v Speaker 1>there's an HCD connection time out.

00:25:22.230 --> 00:25:23.509
<v Speaker 1>Just after that.

00:25:26.309 --> 00:25:28.870
<v Speaker 1>Some Okay. There we go. Okay.

00:25:29.830 --> 00:25:31.269
<v Speaker 1>Ah, authentication

00:25:31.430 --> 00:25:32.309
<v Speaker 1>handshake failed.

00:25:34.135 --> 00:25:36.455
<v Speaker 0>Yeah. We gotta contact that thing. It's speaking

00:25:36.535 --> 00:25:39.175
<v Speaker 0>to HCT. Okay. So we can speak to

00:25:39.175 --> 00:25:41.415
<v Speaker 0>HCT, but the API server cannot speak to

00:25:41.415 --> 00:25:42.295
<v Speaker 0>HCT. Fine.

00:25:47.140 --> 00:25:49.860
<v Speaker 1>So it's probably the certificate that I mentioned

00:25:49.860 --> 00:25:51.779
<v Speaker 1>in the manifest might be wrong

00:25:52.900 --> 00:25:54.340
<v Speaker 1>or messed up.

00:25:58.419 --> 00:26:01.075
<v Speaker 0>Okay. So we check the API server configuration

00:26:01.075 --> 00:26:03.315
<v Speaker 0>to make sure it's using the right certificates.

00:26:10.275 --> 00:26:11.875
<v Speaker 0>Oh, we got a etcdca

00:26:11.875 --> 00:26:12.434
<v Speaker 0>fail.

00:26:14.279 --> 00:26:16.600
<v Speaker 0>But the server, that's fine. I got the

00:26:16.600 --> 00:26:18.039
<v Speaker 0>cert and the key fail.

00:26:19.880 --> 00:26:21.159
<v Speaker 1>That looks right.

00:26:23.480 --> 00:26:25.159
<v Speaker 0>That's this thing that I show and I

00:26:25.159 --> 00:26:26.600
<v Speaker 0>was screwed through your head.

00:26:28.765 --> 00:26:30.124
<v Speaker 0>It does look okay.

00:26:30.924 --> 00:26:32.605
<v Speaker 0>And we It does look okay?

00:26:34.684 --> 00:26:37.325
<v Speaker 0>Keep it preferred service address, internal, external host

00:26:37.325 --> 00:26:37.804
<v Speaker 0>name.

00:26:38.365 --> 00:26:39.485
<v Speaker 0>Yeah. I think so.

00:26:44.190 --> 00:26:46.510
<v Speaker 1>I mostly run k three, so I'm really

00:26:46.510 --> 00:26:48.830
<v Speaker 1>don't want to, like, look into all this

00:26:48.830 --> 00:26:49.389
<v Speaker 1>stuff.

00:26:54.110 --> 00:26:56.350
<v Speaker 1>Let's

00:26:56.350 --> 00:26:57.789
<v Speaker 1>look into that folder and see.

00:27:00.275 --> 00:27:02.195
<v Speaker 1>It is TKI.

00:27:05.955 --> 00:27:07.795
<v Speaker 0>I need to add a new rule. Nobody's

00:27:07.795 --> 00:27:08.674
<v Speaker 0>allowed to touch it, CD.

00:27:11.880 --> 00:27:15.400
<v Speaker 1>The one that was modified was peer.crd.

00:27:15.400 --> 00:27:17.240
<v Speaker 1>Let's open up and see if it's Yeah.

00:27:17.240 --> 00:27:18.840
<v Speaker 0>But the peer search should really only be

00:27:18.840 --> 00:27:20.360
<v Speaker 0>used with other SEDs

00:27:20.520 --> 00:27:21.639
<v Speaker 0>to Yep.

00:27:22.200 --> 00:27:23.960
<v Speaker 1>But that was only one that seems like

00:27:23.960 --> 00:27:25.240
<v Speaker 1>has a different time stamp.

00:27:28.164 --> 00:27:30.164
<v Speaker 1>Oh, it might be that the service no.

00:27:30.164 --> 00:27:31.765
<v Speaker 1>But then we should see those errors in

00:27:31.765 --> 00:27:32.884
<v Speaker 1>the CD logs.

00:27:38.005 --> 00:27:39.205
<v Speaker 0>Yeah. Let's let's take a look at the

00:27:39.205 --> 00:27:41.220
<v Speaker 0>CD logs and make sure just even though

00:27:41.220 --> 00:27:43.539
<v Speaker 0>we run an endpoint's health, it looked okay.

00:27:44.020 --> 00:27:45.300
<v Speaker 0>I I guess we should have run an

00:27:45.300 --> 00:27:46.980
<v Speaker 0>endpoints list to make sure. In fact, there's

00:27:46.980 --> 00:27:48.580
<v Speaker 0>only one entity. This is a single control

00:27:48.580 --> 00:27:49.460
<v Speaker 0>plane node.

00:27:50.260 --> 00:27:50.820
<v Speaker 1>Yep.

00:27:55.585 --> 00:27:56.385
<v Speaker 1>Let's

00:27:57.745 --> 00:27:59.585
<v Speaker 1>maybe I should operate in there. Hey, Rich.

00:28:09.480 --> 00:28:13.000
<v Speaker 0>We do have some errors there. Right? Yep.

00:28:13.800 --> 00:28:15.400
<v Speaker 1>Lease is not fine.

00:28:16.280 --> 00:28:18.279
<v Speaker 1>Okay. So it became leader.

00:28:20.120 --> 00:28:21.960
<v Speaker 1>Oh, read only range request key.

00:28:28.735 --> 00:28:30.414
<v Speaker 1>Okay. It's an error. It seems like a

00:28:30.414 --> 00:28:32.735
<v Speaker 1>read only. But someone did actually see the

00:28:32.735 --> 00:28:32.815
<v Speaker 1>only.

00:28:38.670 --> 00:28:41.070
<v Speaker 1>And if it's read only, actually, this should

00:28:41.070 --> 00:28:42.110
<v Speaker 1>return data.

00:28:42.350 --> 00:28:44.350
<v Speaker 1>Okay. It seems like end of file server

00:28:44.350 --> 00:28:47.550
<v Speaker 1>name. Yeah. We're getting a rejected connection from

00:28:48.430 --> 00:28:50.510
<v Speaker 0>adder EOF server name blank.

00:28:59.605 --> 00:29:00.325
<v Speaker 1>Right.

00:29:01.845 --> 00:29:02.965
<v Speaker 1>Oh, let's check that.

00:29:07.930 --> 00:29:09.130
<v Speaker 1>Let's take that

00:29:09.690 --> 00:29:10.650
<v Speaker 1>admin.com

00:29:10.650 --> 00:29:12.570
<v Speaker 1>if it was modified.

00:29:13.050 --> 00:29:14.890
<v Speaker 1>I mean, it was not. No.

00:29:19.225 --> 00:29:20.664
<v Speaker 1>What else I could

00:29:20.825 --> 00:29:23.544
<v Speaker 1>add any ex like, add or remove any

00:29:23.544 --> 00:29:25.945
<v Speaker 1>extra information. Right? Authenticates

00:29:25.945 --> 00:29:26.264
<v Speaker 1>to

00:29:27.465 --> 00:29:29.225
<v Speaker 1>no. That should only be the API server.

00:29:33.850 --> 00:29:34.650
<v Speaker 1>Maybe we should like

00:29:35.290 --> 00:29:38.010
<v Speaker 0>Maybe we should just set this cluster on

00:29:38.010 --> 00:29:39.289
<v Speaker 0>fire. I don't know.

00:29:42.250 --> 00:29:43.930
<v Speaker 0>Hey. That's a good tip from Walid there

00:29:43.930 --> 00:29:44.410
<v Speaker 0>in the chat.

00:29:44.975 --> 00:29:46.575
<v Speaker 0>Wally says, why don't we get the request

00:29:46.575 --> 00:29:48.415
<v Speaker 0>headers back because those have been confirmed as

00:29:48.415 --> 00:29:49.215
<v Speaker 0>unrelated.

00:29:49.295 --> 00:29:49.934
<v Speaker 1>Yep.

00:29:50.335 --> 00:29:53.135
<v Speaker 0>So I think that's probably a good start.

00:29:53.375 --> 00:29:54.815
<v Speaker 0>I'm

00:29:54.815 --> 00:29:56.575
<v Speaker 0>really annoyed that we can create the entity.

00:29:56.575 --> 00:29:58.415
<v Speaker 0>I'm trying to think what could be

00:30:00.029 --> 00:30:00.830
<v Speaker 0>blocking

00:30:00.830 --> 00:30:03.070
<v Speaker 0>the API server and a t d.

00:30:09.309 --> 00:30:09.630
<v Speaker 1>Yeah.

00:30:16.175 --> 00:30:18.095
<v Speaker 0>Let's just double check these search a little

00:30:18.095 --> 00:30:19.375
<v Speaker 0>bit in here. Like

00:30:20.895 --> 00:30:21.775
<v Speaker 0>We

00:30:21.775 --> 00:30:22.895
<v Speaker 0>got Discord

00:30:22.895 --> 00:30:25.135
<v Speaker 0>chats in the bottom of my screen is

00:30:25.375 --> 00:30:25.775
<v Speaker 0>hidden.

00:30:26.280 --> 00:30:28.919
<v Speaker 0>Hit that. I have fixed it. Okay.

00:30:33.400 --> 00:30:35.400
<v Speaker 0>Okay. So we're advertising on our own IP

00:30:35.400 --> 00:30:37.560
<v Speaker 0>address, the 1454. That looks fine to me.

00:30:38.535 --> 00:30:42.135
<v Speaker 0>Authorization mode, node and RBAC. Yeah. Sure. Yeah.

00:30:42.135 --> 00:30:42.934
<v Speaker 1>That's fine.

00:30:43.735 --> 00:30:46.775
<v Speaker 0>Client CA, we're using the PKI directory. I'm

00:30:46.775 --> 00:30:48.054
<v Speaker 0>gonna assume that's fine.

00:30:48.375 --> 00:30:50.055
<v Speaker 0>They hadn't touched anything there.

00:30:51.480 --> 00:30:53.799
<v Speaker 0>Yeah. We've got the entities,

00:30:53.960 --> 00:30:56.360
<v Speaker 0>CFL and search key fail.

00:30:57.320 --> 00:30:59.000
<v Speaker 0>Yeah. Let's look at the

00:31:12.075 --> 00:31:13.755
<v Speaker 0>Maybe we need to look up this kubelet

00:31:13.755 --> 00:31:15.515
<v Speaker 0>preferred address types. Could that be

00:31:16.235 --> 00:31:17.915
<v Speaker 0>but then it's not the kubelet. Right? I

00:31:17.915 --> 00:31:18.475
<v Speaker 0>don't know.

00:31:20.250 --> 00:31:22.010
<v Speaker 0>I hate this cluster at all really.

00:31:23.210 --> 00:31:24.010
<v Speaker 1>Silly.

00:31:31.610 --> 00:31:32.730
<v Speaker 1>Can we restart?

00:31:37.345 --> 00:31:39.985
<v Speaker 0>Not yet. No. Few minutes behind. Yeah.

00:31:44.865 --> 00:31:46.065
<v Speaker 1>It's

00:31:46.065 --> 00:31:48.145
<v Speaker 1>taking forever. Yeah. I don't know why. We

00:31:48.145 --> 00:31:51.360
<v Speaker 0>can always carry it, I guess, but we'll

00:31:51.360 --> 00:31:52.479
<v Speaker 0>give another moment.

00:31:53.279 --> 00:31:54.559
<v Speaker 1>Usually, it's fast.

00:31:55.600 --> 00:31:57.039
<v Speaker 1>Okay. It's dead.

00:31:58.080 --> 00:31:58.960
<v Speaker 1>Okay. It's back.

00:32:01.775 --> 00:32:02.494
<v Speaker 0>Okay.

00:32:02.655 --> 00:32:05.054
<v Speaker 0>So can you try that open SSL command

00:32:05.054 --> 00:32:06.734
<v Speaker 0>again and see if we get a response?

00:32:10.255 --> 00:32:12.575
<v Speaker 1>Oh, it's connected. Okay. So we were chasing

00:32:12.575 --> 00:32:13.934
<v Speaker 0>our tails on that the first time.

00:32:15.220 --> 00:32:17.299
<v Speaker 0>That was yeah. That definitely was unrelated.

00:32:17.539 --> 00:32:18.900
<v Speaker 0>And then you said you would normally see

00:32:18.900 --> 00:32:20.739
<v Speaker 0>a certificate coming back. Is that right?

00:32:21.940 --> 00:32:22.739
<v Speaker 1>Yep.

00:32:23.700 --> 00:32:24.419
<v Speaker 1>I don't know if I

00:32:25.700 --> 00:32:26.820
<v Speaker 1>find disconnect.

00:32:26.820 --> 00:32:27.539
<v Speaker 1>Yeah. That's it.

00:32:34.315 --> 00:32:35.195
<v Speaker 1>And

00:32:35.195 --> 00:32:35.915
<v Speaker 1>now

00:32:36.155 --> 00:32:38.715
<v Speaker 1>since we hit it, let's go check the

00:32:38.715 --> 00:32:39.115
<v Speaker 1>logs.

00:32:42.650 --> 00:32:43.850
<v Speaker 1>L.

00:32:43.850 --> 00:32:45.289
<v Speaker 1>Which one is latest?

00:32:45.450 --> 00:32:46.809
<v Speaker 1>A l t.

00:32:50.730 --> 00:32:51.289
<v Speaker 1>Right.

00:32:53.130 --> 00:32:53.610
<v Speaker 1>Copy.

00:32:58.524 --> 00:32:58.924
<v Speaker 0>Code.

00:33:17.340 --> 00:33:18.140
<v Speaker 0>You see anything?

00:33:23.275 --> 00:33:25.595
<v Speaker 1>It seems like c setting the address to

00:33:25.595 --> 00:33:28.075
<v Speaker 1>CC. Right? It's just it's an STDR,

00:33:28.075 --> 00:33:30.395
<v Speaker 1>so that's what kind of follows me.

00:33:34.490 --> 00:33:36.010
<v Speaker 1>And are these actual studios?

00:33:51.855 --> 00:33:52.255
<v Speaker 0>Alright.

00:34:04.030 --> 00:34:05.870
<v Speaker 0>Who in the chat's got an idea?

00:34:12.270 --> 00:34:15.344
<v Speaker 0>So there was some ideas that potentially the

00:34:15.344 --> 00:34:17.905
<v Speaker 0>sound check timeout could be expired certificates.

00:34:19.665 --> 00:34:21.345
<v Speaker 1>Yep. We can check that.

00:34:21.665 --> 00:34:22.545
<v Speaker 0>I mean, we

00:34:23.265 --> 00:34:25.025
<v Speaker 0>I don't think the tech certificates will be

00:34:25.025 --> 00:34:27.745
<v Speaker 0>expired and the timestamps haven't changed on any

00:34:27.745 --> 00:34:28.145
<v Speaker 0>of them.

00:34:29.559 --> 00:34:31.560
<v Speaker 1>Alright. So that we are not set.

00:34:31.960 --> 00:34:34.199
<v Speaker 1>I can check the expiry of that set.

00:34:34.359 --> 00:34:35.960
<v Speaker 0>Yeah. That's it. I know.

00:34:37.319 --> 00:34:38.920
<v Speaker 0>I'm glad you know how to check it.

00:34:38.920 --> 00:34:40.280
<v Speaker 0>I'd be on Google looking up the open

00:34:40.280 --> 00:34:41.319
<v Speaker 0>SSL command again.

00:34:43.594 --> 00:34:45.594
<v Speaker 1>No. It's a little x c d.

00:34:46.554 --> 00:34:49.594
<v Speaker 0>That was the peer dot cert. Yeah. Dot

00:34:49.594 --> 00:34:50.395
<v Speaker 1>cert

00:34:50.474 --> 00:34:51.275
<v Speaker 1>dash

00:34:51.275 --> 00:34:52.155
<v Speaker 1>text.

00:34:52.155 --> 00:34:53.114
<v Speaker 1>That's fine.

00:34:54.795 --> 00:34:56.795
<v Speaker 1>And I can actually type dash and take.

00:34:58.750 --> 00:34:59.870
<v Speaker 1>Right. Yeah.

00:35:00.510 --> 00:35:02.270
<v Speaker 1>Oh, I don't need text to that.

00:35:04.990 --> 00:35:05.870
<v Speaker 1>Okay.

00:35:05.870 --> 00:35:07.390
<v Speaker 1>It's April 6.

00:35:08.350 --> 00:35:09.790
<v Speaker 0>Yeah. That looks good.

00:35:11.185 --> 00:35:13.265
<v Speaker 0>And it's created when I expected it. That's,

00:35:13.265 --> 00:35:14.625
<v Speaker 0>you know, that's when I spun up the

00:35:14.625 --> 00:35:15.185
<v Speaker 0>cluster.

00:35:15.425 --> 00:35:16.625
<v Speaker 0>That tells me that

00:35:17.744 --> 00:35:19.425
<v Speaker 0>I mean, it has been modified,

00:35:19.425 --> 00:35:21.825
<v Speaker 0>obviously, but not the expiry date.

00:35:23.030 --> 00:35:24.470
<v Speaker 1>Yeah. It's not expired.

00:35:24.710 --> 00:35:27.190
<v Speaker 1>Yeah. I actually should have not expired. Would

00:35:27.190 --> 00:35:28.950
<v Speaker 1>be just not just bring it out after

00:35:28.950 --> 00:35:29.990
<v Speaker 1>a water. Yeah.

00:35:31.270 --> 00:35:33.190
<v Speaker 1>That's fine. Wow.

00:35:33.990 --> 00:35:35.190
<v Speaker 1>A hard one indeed.

00:35:39.425 --> 00:35:40.225
<v Speaker 0>Let's

00:35:40.945 --> 00:35:41.825
<v Speaker 0>oops. Sorry.

00:35:43.025 --> 00:35:45.265
<v Speaker 0>Let's run a PSC. I wanna see if

00:35:45.265 --> 00:35:46.785
<v Speaker 0>there's anything running on this that I don't

00:35:46.785 --> 00:35:47.985
<v Speaker 0>expect to be running.

00:35:49.585 --> 00:35:50.305
<v Speaker 1>Yep.

00:35:58.580 --> 00:35:59.540
<v Speaker 0>All normal.

00:36:00.180 --> 00:36:02.100
<v Speaker 0>NTP SSH.

00:36:04.820 --> 00:36:05.380
<v Speaker 0>NCT.

00:36:07.595 --> 00:36:09.595
<v Speaker 0>Speakers from metal l b,

00:36:13.595 --> 00:36:14.395
<v Speaker 0>filter.

00:36:15.515 --> 00:36:16.475
<v Speaker 0>Alright.

00:36:19.194 --> 00:36:20.954
<v Speaker 0>You see anything suspicious?

00:36:22.660 --> 00:36:23.300
<v Speaker 1>Nope.

00:36:24.340 --> 00:36:25.060
<v Speaker 1>I

00:36:26.180 --> 00:36:28.180
<v Speaker 0>don't even see a firewall running.

00:36:32.420 --> 00:36:33.540
<v Speaker 0>Let's just double check.

00:36:36.265 --> 00:36:37.625
<v Speaker 0>Status firewall

00:36:37.625 --> 00:36:38.345
<v Speaker 0>d.

00:36:40.025 --> 00:36:41.385
<v Speaker 1>And that won't that won't be fire. Yeah.

00:36:41.385 --> 00:36:42.185
<v Speaker 1>USW.

00:36:42.185 --> 00:36:43.385
<v Speaker 1>Yeah. That's the one that's out there.

00:36:47.450 --> 00:36:48.650
<v Speaker 0>It all looks

00:36:48.810 --> 00:36:51.690
<v Speaker 0>fine. We went through the IP tables.

00:36:57.130 --> 00:37:00.105
<v Speaker 0>We're not the ways to prevent a service

00:37:00.105 --> 00:37:02.905
<v Speaker 1>from responding is, like, they call c freeze

00:37:02.905 --> 00:37:05.625
<v Speaker 1>the c groups. But, like, since we restarted,

00:37:05.785 --> 00:37:08.185
<v Speaker 1>it should not bother it. So this must

00:37:08.185 --> 00:37:09.225
<v Speaker 1>be something else.

00:37:10.105 --> 00:37:10.425
<v Speaker 0>Yeah.

00:37:15.350 --> 00:37:16.310
<v Speaker 0>I hate this.

00:37:20.230 --> 00:37:22.550
<v Speaker 0>I hate that I'm relying now on modified

00:37:22.550 --> 00:37:25.190
<v Speaker 0>dates. Just The bold actually, the folder time

00:37:25.190 --> 00:37:26.070
<v Speaker 1>stamp is

00:37:26.470 --> 00:37:27.190
<v Speaker 1>shady.

00:37:28.070 --> 00:37:29.510
<v Speaker 0>Sorry. Say that again. It's easy.

00:37:30.275 --> 00:37:32.835
<v Speaker 1>Actually folders timestamp. Right? It says, like, ten

00:37:32.995 --> 00:37:35.235
<v Speaker 1>sixteen twenty six. That's the only thing that's

00:37:35.235 --> 00:37:36.515
<v Speaker 1>come kind of different.

00:37:37.075 --> 00:37:38.995
<v Speaker 0>Make sure what we're looking at is legit

00:37:38.995 --> 00:37:40.595
<v Speaker 0>as well. I'm just gonna make sure there's

00:37:40.595 --> 00:37:42.355
<v Speaker 0>no crazy amount of business going on.

00:37:47.770 --> 00:37:49.450
<v Speaker 0>Yeah. I don't think they're hiding

00:37:52.010 --> 00:37:53.770
<v Speaker 0>anything from us here.

00:37:54.905 --> 00:37:56.265
<v Speaker 0>Yeah. Okay. So

00:38:05.065 --> 00:38:07.385
<v Speaker 0>Sorry. Were you gonna type? Off you go.

00:38:09.545 --> 00:38:11.270
<v Speaker 0>I'm gonna read there again. I think what

00:38:11.270 --> 00:38:12.950
<v Speaker 0>we'll do is we'll give this one another

00:38:12.950 --> 00:38:14.710
<v Speaker 0>four minutes and then we'll move over to

00:38:14.710 --> 00:38:16.230
<v Speaker 0>the other cluster and then if we have

00:38:16.230 --> 00:38:18.550
<v Speaker 0>time we'll look back but I think Tim

00:38:18.550 --> 00:38:20.550
<v Speaker 0>may have actually clustered us.

00:38:21.750 --> 00:38:22.150
<v Speaker 1>Yep.

00:38:23.835 --> 00:38:26.235
<v Speaker 0>I I I just don't under it's

00:38:26.235 --> 00:38:28.075
<v Speaker 0>gotta be something so silly. Right? Because we

00:38:28.075 --> 00:38:29.595
<v Speaker 0>can run etcd.

00:38:29.595 --> 00:38:31.515
<v Speaker 1>Yep. And the edit might be something so

00:38:31.515 --> 00:38:32.155
<v Speaker 1>silly.

00:38:34.155 --> 00:38:34.795
<v Speaker 0>Endpoint.

00:38:37.550 --> 00:38:39.630
<v Speaker 1>Let's hit endpoint status too.

00:38:40.109 --> 00:38:41.390
<v Speaker 0>Let's do this.

00:38:44.990 --> 00:38:45.630
<v Speaker 0>I SCD is

00:38:46.350 --> 00:38:49.230
<v Speaker 0>is fine. Like Fine. We exported a whole

00:38:49.230 --> 00:38:50.750
<v Speaker 0>bunch of things. In fact, let's just look

00:38:50.750 --> 00:38:52.270
<v Speaker 0>at the cheat sheet. Right? So the certs

00:38:52.270 --> 00:38:53.635
<v Speaker 0>that we're using are

00:38:55.474 --> 00:38:56.194
<v Speaker 0>the CA

00:38:56.595 --> 00:38:58.435
<v Speaker 0>oh, that's just the health check ones.

00:38:59.875 --> 00:39:01.315
<v Speaker 0>I wonder if we point it to the

00:39:01.315 --> 00:39:04.194
<v Speaker 0>other search if it works or fails. Yep.

00:39:04.194 --> 00:39:06.540
<v Speaker 1>That's a good point. Okay. So let's

00:39:06.700 --> 00:39:09.900
<v Speaker 0>the CA doesn't change, but these two will.

00:39:09.900 --> 00:39:13.100
<v Speaker 0>So that is underscore set and underscore key.

00:39:13.660 --> 00:39:15.500
<v Speaker 0>Let's see what keys we've got.

00:39:15.900 --> 00:39:16.780
<v Speaker 0>So let's try

00:39:19.055 --> 00:39:21.695
<v Speaker 0>this one and go with

00:39:22.095 --> 00:39:23.855
<v Speaker 0>which one's the API server you're using?

00:39:24.734 --> 00:39:27.055
<v Speaker 1>Server one? Server dot server. Right?

00:39:27.934 --> 00:39:28.335
<v Speaker 1>Yep.

00:39:33.210 --> 00:39:35.130
<v Speaker 1>Let me open up a new session. Can

00:39:35.130 --> 00:39:35.850
<v Speaker 1>I join?

00:39:36.490 --> 00:39:37.770
<v Speaker 0>You can create a new session if you

00:39:37.770 --> 00:39:40.890
<v Speaker 0>want yet. Fire away. Alright. Let's try endpoint

00:39:40.890 --> 00:39:41.610
<v Speaker 0>status.

00:39:42.330 --> 00:39:44.650
<v Speaker 0>Yeah. It's still alright. That's fine.

00:39:46.295 --> 00:39:48.375
<v Speaker 1>Let's check if it's actually using this file.

00:39:48.375 --> 00:39:50.295
<v Speaker 1>We didn't really check which file it was

00:39:50.295 --> 00:39:51.015
<v Speaker 1>using.

00:39:52.455 --> 00:39:53.735
<v Speaker 0>Oh, sorry. I need to go. I'm gonna

00:39:53.735 --> 00:39:53.975
<v Speaker 0>type.

00:40:03.750 --> 00:40:05.350
<v Speaker 0>So Leo's asking,

00:40:06.150 --> 00:40:08.150
<v Speaker 0>is the breaker around for hand? No. I

00:40:08.150 --> 00:40:10.710
<v Speaker 0>think Tim is in meetings and cannot join

00:40:10.710 --> 00:40:12.445
<v Speaker 0>us live. Well, I'm sure he will take

00:40:12.445 --> 00:40:14.205
<v Speaker 0>great pleasure in laughing at us

00:40:14.525 --> 00:40:15.325
<v Speaker 0>later.

00:40:16.125 --> 00:40:18.045
<v Speaker 1>Okay. It was the wrong side we used.

00:40:18.045 --> 00:40:19.405
<v Speaker 1>It's it's it's

00:40:19.565 --> 00:40:22.845
<v Speaker 1>API API server, actually, decline. Yeah. Okay. Let's

00:40:22.845 --> 00:40:24.365
<v Speaker 0>let's hook it up to that. Give it

00:40:24.365 --> 00:40:26.090
<v Speaker 0>one more spin before we move on to

00:40:26.090 --> 00:40:27.610
<v Speaker 0>Matt Henderson's cluster.

00:40:28.090 --> 00:40:29.130
<v Speaker 1>API.

00:40:30.570 --> 00:40:32.170
<v Speaker 1>API server

00:40:33.450 --> 00:40:35.370
<v Speaker 1>at c d client dot

00:40:35.530 --> 00:40:36.250
<v Speaker 1>cert.

00:40:37.450 --> 00:40:39.850
<v Speaker 1>And let's see if it's a key, I

00:40:39.850 --> 00:40:40.090
<v Speaker 1>guess.

00:40:41.255 --> 00:40:41.975
<v Speaker 1>Yep.

00:40:44.135 --> 00:40:46.935
<v Speaker 1>K. K. So let's see client dot key.

00:40:53.940 --> 00:40:55.700
<v Speaker 0>Run a status as well. Just

00:40:57.619 --> 00:40:58.420
<v Speaker 0>okay.

00:40:58.420 --> 00:41:00.420
<v Speaker 1>Yep. It's working fine. So

00:41:00.740 --> 00:41:02.660
<v Speaker 1>nothing Let's easy there.

00:41:02.980 --> 00:41:04.980
<v Speaker 0>Let's take us through it. Everything

00:41:04.980 --> 00:41:06.820
<v Speaker 0>we're doing manually is working.

00:41:09.095 --> 00:41:12.135
<v Speaker 0>What is standing between our API server and

00:41:12.135 --> 00:41:15.095
<v Speaker 0>etcd? The API server has started as a

00:41:15.095 --> 00:41:16.615
<v Speaker 0>static manifest

00:41:18.295 --> 00:41:19.575
<v Speaker 0>running in a container.

00:41:21.640 --> 00:41:23.320
<v Speaker 0>We need to look at that API manifest

00:41:23.320 --> 00:41:24.040
<v Speaker 0>again.

00:41:25.800 --> 00:41:27.240
<v Speaker 0>Do you agree? Sure.

00:41:28.040 --> 00:41:28.760
<v Speaker 1>Yep.

00:41:29.000 --> 00:41:29.720
<v Speaker 1>Oops.

00:41:30.120 --> 00:41:30.920
<v Speaker 1>Sorry.

00:41:32.920 --> 00:41:34.920
<v Speaker 0>Alright. That's always the fun part. Okay.

00:41:40.755 --> 00:41:41.475
<v Speaker 0>So

00:41:42.275 --> 00:41:44.035
<v Speaker 0>let's check the image.

00:41:44.995 --> 00:41:48.355
<v Speaker 0>I'm gonna I wonder if he's brought in

00:41:48.915 --> 00:41:50.035
<v Speaker 0>a sneaky image.

00:41:52.170 --> 00:41:53.770
<v Speaker 0>Like I guess he could have replaced the

00:41:53.770 --> 00:41:54.570
<v Speaker 0>image with

00:41:55.130 --> 00:41:57.130
<v Speaker 0>with anything with it at present.

00:41:57.609 --> 00:41:58.730
<v Speaker 0>I don't even know. Is there a way

00:41:58.730 --> 00:42:01.210
<v Speaker 0>to know if that image pulled at all?

00:42:03.930 --> 00:42:04.730
<v Speaker 0>I don't know.

00:42:06.665 --> 00:42:08.505
<v Speaker 0>Four minutes ago, so it's not restarted yet.

00:42:08.505 --> 00:42:10.185
<v Speaker 0>Let's give that a minute. If that doesn't

00:42:10.185 --> 00:42:12.185
<v Speaker 0>help Yep. We'll jump onto cluster two and

00:42:12.185 --> 00:42:13.785
<v Speaker 0>then if we have time, we'll jump back.

00:42:13.785 --> 00:42:14.425
<v Speaker 0>But

00:42:15.065 --> 00:42:16.025
<v Speaker 0>I'm at a loss.

00:42:23.930 --> 00:42:25.050
<v Speaker 0>So impatient.

00:42:25.050 --> 00:42:27.290
<v Speaker 0>I'm gonna restart. I thought there must be

00:42:27.290 --> 00:42:30.570
<v Speaker 1>something in between these two, some component that

00:42:30.570 --> 00:42:32.410
<v Speaker 1>we are not aware of or, like, something

00:42:32.410 --> 00:42:35.265
<v Speaker 1>how it communicates with HCD,

00:42:35.825 --> 00:42:38.225
<v Speaker 1>or it must be some flag that's causing

00:42:38.225 --> 00:42:38.865
<v Speaker 1>this.

00:42:43.025 --> 00:42:44.145
<v Speaker 0>Okay. And let me

00:42:48.359 --> 00:42:51.240
<v Speaker 1>I think the cache discovery is fine. Okay.

00:42:51.240 --> 00:42:53.720
<v Speaker 1>But it says DLS handshake timeout.

00:42:55.720 --> 00:42:57.000
<v Speaker 0>Let's take that off.

00:42:57.240 --> 00:42:59.320
<v Speaker 0>That curl in verbose mode.

00:43:00.280 --> 00:43:00.760
<v Speaker 1>Wait.

00:43:01.974 --> 00:43:04.215
<v Speaker 1>Oh, but it's really was responding

00:43:04.695 --> 00:43:05.415
<v Speaker 1>and

00:43:07.655 --> 00:43:09.655
<v Speaker 0>So success Oh, do you see that?

00:43:10.214 --> 00:43:12.535
<v Speaker 1>It's saying TL is 1.3.

00:43:15.734 --> 00:43:16.455
<v Speaker 0>Is that bad?

00:43:19.280 --> 00:43:21.680
<v Speaker 1>Probably. Let's check that city manifest and, like,

00:43:21.680 --> 00:43:23.440
<v Speaker 1>see if it's actually only listening on p

00:43:23.440 --> 00:43:24.960
<v Speaker 1>l s 1.3.

00:43:27.200 --> 00:43:29.520
<v Speaker 0>Okay. I we could have tested it. But

00:43:29.520 --> 00:43:30.400
<v Speaker 1>if I said, yeah, whatever.

00:43:31.404 --> 00:43:32.925
<v Speaker 1>No. The NCD manifest.

00:43:34.684 --> 00:43:37.085
<v Speaker 0>Oh, the NCD. And probably the NCD CTL

00:43:37.085 --> 00:43:39.644
<v Speaker 1>might just work fine with TLS 1.3.

00:43:42.890 --> 00:43:44.810
<v Speaker 1>I know. It might be that just curl

00:43:44.810 --> 00:43:46.970
<v Speaker 1>used it by default. Like, it should have

00:43:46.970 --> 00:43:49.290
<v Speaker 1>been, like, tried using the fallback mechanisms,

00:43:49.290 --> 00:43:49.930
<v Speaker 1>whatever.

00:43:55.290 --> 00:43:56.890
<v Speaker 1>I don't believe it should appear.

00:44:00.224 --> 00:44:01.825
<v Speaker 0>I think that's okay.

00:44:07.585 --> 00:44:09.744
<v Speaker 0>So why would TLS 1.3 be a problem?

00:44:11.829 --> 00:44:14.150
<v Speaker 1>As the API server doesn't like that, I

00:44:14.150 --> 00:44:16.790
<v Speaker 1>can just quickly verify that. I might be

00:44:16.869 --> 00:44:19.190
<v Speaker 1>sometimes we might be just oops. Not this

00:44:19.190 --> 00:44:19.750
<v Speaker 1>one.

00:44:23.910 --> 00:44:26.150
<v Speaker 0>You think it's maybe restricted to 1.2?

00:44:27.765 --> 00:44:28.485
<v Speaker 1>Yep.

00:44:29.365 --> 00:44:31.685
<v Speaker 1>Okay. I think it's just PLS 1 2.

00:44:34.484 --> 00:44:36.085
<v Speaker 1>Oh, come on. Is that

00:44:36.565 --> 00:44:37.285
<v Speaker 1>sorry.

00:44:39.525 --> 00:44:40.805
<v Speaker 1>Day on beach.

00:44:41.045 --> 00:44:42.165
<v Speaker 1>It's after connect.

00:44:46.690 --> 00:44:47.890
<v Speaker 1>I don't

00:44:48.369 --> 00:44:48.770
<v Speaker 1>know, but

00:44:52.530 --> 00:44:54.210
<v Speaker 1>I know, like, we can pause and maybe,

00:44:54.210 --> 00:44:55.250
<v Speaker 1>like I don't know.

00:44:57.455 --> 00:44:59.535
<v Speaker 1>That's what I usually do. I don't have

00:44:59.535 --> 00:45:01.055
<v Speaker 1>it. Yeah. I don't think we have it.

00:45:14.720 --> 00:45:17.040
<v Speaker 1>Oh, it's DashTLS1Underscore2.

00:45:19.280 --> 00:45:20.480
<v Speaker 0>Of course, it is.

00:45:22.960 --> 00:45:23.440
<v Speaker 1>Why?

00:45:27.595 --> 00:45:29.675
<v Speaker 1>It's connecting, but I don't know why it

00:45:29.675 --> 00:45:32.555
<v Speaker 1>doesn't return the certificates. Like, it's viewed.

00:45:36.474 --> 00:45:36.875
<v Speaker 0>Alright.

00:45:37.320 --> 00:45:38.040
<v Speaker 1>You

00:45:38.120 --> 00:45:39.000
<v Speaker 1>Google

00:45:39.000 --> 00:45:39.800
<v Speaker 1>and, like

00:45:40.840 --> 00:45:43.720
<v Speaker 1>right. Like, it usually returns. Did I type

00:45:43.720 --> 00:45:44.520
<v Speaker 1>it wrong?

00:45:48.040 --> 00:45:49.880
<v Speaker 1>See, it just returns all this bunch of

00:45:49.880 --> 00:45:50.760
<v Speaker 1>data, which

00:45:51.640 --> 00:45:54.355
<v Speaker 1>makes me, like, like, verify that actually kind

00:45:54.355 --> 00:45:55.394
<v Speaker 1>of thing. But this is, like

00:45:56.275 --> 00:45:58.355
<v Speaker 1>right. This is what's kind of bugs me

00:45:58.355 --> 00:45:59.875
<v Speaker 1>off. Like, it doesn't show anything.

00:46:00.355 --> 00:46:02.595
<v Speaker 1>And if I do TLS one three,

00:46:03.474 --> 00:46:04.914
<v Speaker 1>let's see if it does something

00:46:05.160 --> 00:46:07.400
<v Speaker 1>just to verify. Ah, nothing. This is what

00:46:07.400 --> 00:46:09.080
<v Speaker 1>kind of confusing.

00:46:09.319 --> 00:46:10.920
<v Speaker 1>It should return those.

00:46:12.599 --> 00:46:14.040
<v Speaker 0>Okay. Let's

00:46:15.720 --> 00:46:18.200
<v Speaker 0>I don't wanna spend too much time on

00:46:18.200 --> 00:46:19.880
<v Speaker 0>it when we're not sure, but

00:46:20.655 --> 00:46:22.255
<v Speaker 0>let's try the IP address

00:46:22.735 --> 00:46:24.735
<v Speaker 0>instead of local host just

00:46:25.215 --> 00:46:27.135
<v Speaker 0>to rule out a couple of things. So

00:46:28.175 --> 00:46:29.055
<v Speaker 1>Oh, yeah.

00:46:31.855 --> 00:46:33.215
<v Speaker 0>Take off that protocol.

00:46:35.710 --> 00:46:36.510
<v Speaker 1>Yeah.

00:46:37.630 --> 00:46:39.950
<v Speaker 1>It's connecting, but it's not responding. I think

00:46:39.950 --> 00:46:41.630
<v Speaker 1>it respect to

00:46:43.790 --> 00:46:45.630
<v Speaker 0>So what would stop it? Certificate.

00:46:45.630 --> 00:46:46.830
<v Speaker 0>What could stop it responding?

00:46:48.525 --> 00:46:51.005
<v Speaker 1>I let's take the manifest again. It might

00:46:51.005 --> 00:46:53.484
<v Speaker 1>be that f certificates are not mentioned for

00:46:53.484 --> 00:46:55.724
<v Speaker 1>the API server. We could always bust out

00:46:55.724 --> 00:46:56.525
<v Speaker 0>TCP dump.

00:47:06.450 --> 00:47:07.250
<v Speaker 1>Wait.

00:47:08.850 --> 00:47:11.170
<v Speaker 1>Where is the certificates for the Kube API

00:47:11.170 --> 00:47:12.210
<v Speaker 1>server itself?

00:47:14.610 --> 00:47:16.370
<v Speaker 0>Do you think we're missing something from here?

00:47:18.565 --> 00:47:19.765
<v Speaker 1>I guess so.

00:47:22.645 --> 00:47:24.725
<v Speaker 1>Oh, there is TLS cert file.

00:47:26.325 --> 00:47:30.485
<v Speaker 1>So at cKubernetesAPIAPIserver.crp.

00:47:35.900 --> 00:47:37.820
<v Speaker 1>Let's take the things that expired.

00:47:44.700 --> 00:47:46.539
<v Speaker 0>Mean, the timestamp on them hadn't changed.

00:47:49.315 --> 00:47:52.355
<v Speaker 1>Yeah. But I think it's Yeah. Maybe maybe

00:47:52.355 --> 00:47:54.115
<v Speaker 0>on the, like, maybe unlikely.

00:48:02.369 --> 00:48:03.490
<v Speaker 1>I didn't pass the fly.

00:48:14.865 --> 00:48:16.145
<v Speaker 1>Let me find the

00:48:19.265 --> 00:48:19.825
<v Speaker 1>what were

00:48:20.945 --> 00:48:21.825
<v Speaker 1>oops.

00:48:22.545 --> 00:48:24.305
<v Speaker 1>Add intake.

00:48:25.425 --> 00:48:27.185
<v Speaker 1>Yep. It's eight or six. That's fine.

00:48:31.250 --> 00:48:32.050
<v Speaker 1>Beautiful.

00:48:32.130 --> 00:48:34.690
<v Speaker 1>It's fine. It's not even touching.

00:48:35.010 --> 00:48:36.610
<v Speaker 1>Permissions looks fine.

00:48:38.850 --> 00:48:39.490
<v Speaker 1>Why?

00:48:43.765 --> 00:48:45.845
<v Speaker 0>Something funny that locking it on. Like the

00:48:45.845 --> 00:48:48.085
<v Speaker 0>API server is obviously getting a request. It's

00:48:48.085 --> 00:48:50.325
<v Speaker 0>getting accepted and connected but it's unable to

00:48:50.325 --> 00:48:52.325
<v Speaker 0>respond to anything that we send to it.

00:48:55.670 --> 00:48:57.590
<v Speaker 1>Got my c dash view.

00:49:09.494 --> 00:49:10.775
<v Speaker 1>It's not responding.

00:49:10.775 --> 00:49:12.694
<v Speaker 1>That's a problem. So it's Well, it might

00:49:12.694 --> 00:49:14.454
<v Speaker 0>be responding. It it's just not getting to

00:49:14.454 --> 00:49:15.015
<v Speaker 0>us.

00:49:15.655 --> 00:49:17.974
<v Speaker 0>That's the thing. Right? It's like Yeah. Probably.

00:49:17.974 --> 00:49:19.494
<v Speaker 1>But, like, if you see, right, it sends

00:49:19.494 --> 00:49:21.575
<v Speaker 1>a hello, but the server now responded with

00:49:21.575 --> 00:49:23.170
<v Speaker 1>the what, like, I don't know what to

00:49:23.170 --> 00:49:24.930
<v Speaker 1>write. It does something with TCP. Yeah.

00:49:25.410 --> 00:49:25.730
<v Speaker 1>Like

00:49:26.290 --> 00:49:27.890
<v Speaker 1>so it's just like client is sending the

00:49:27.890 --> 00:49:30.290
<v Speaker 1>hello, but, like, the server is not responding.

00:49:32.290 --> 00:49:34.370
<v Speaker 0>Alright. Let's call it. Like, I don't we

00:49:34.370 --> 00:49:36.610
<v Speaker 0>we can't spend the full episode on this.

00:49:36.850 --> 00:49:37.890
<v Speaker 0>We'll come back to it.

00:49:38.595 --> 00:49:38.995
<v Speaker 0>Yeah.

00:49:39.715 --> 00:49:41.395
<v Speaker 0>I I'm at a lot right now. Let's

00:49:41.395 --> 00:49:42.835
<v Speaker 0>let's see what we can do over 16.

00:49:42.835 --> 00:49:43.235
<v Speaker 0>So

00:49:44.275 --> 00:49:45.315
<v Speaker 0>this cluster,

00:49:45.955 --> 00:49:47.955
<v Speaker 0>I've just joined and created a session. Please

00:49:47.955 --> 00:49:50.035
<v Speaker 0>just feel free to join that type echo

00:49:50.035 --> 00:49:50.995
<v Speaker 0>hello. Login.

00:49:51.715 --> 00:49:53.395
<v Speaker 0>This cluster is broken by Matt Anderson.

00:49:54.230 --> 00:49:56.950
<v Speaker 0>He leads our Kubernetes team at Equinix Medal.

00:49:57.990 --> 00:49:59.270
<v Speaker 0>I will set up

00:49:59.750 --> 00:50:00.950
<v Speaker 0>our alias.

00:50:01.109 --> 00:50:03.190
<v Speaker 0>I will set up our cube config.

00:50:09.035 --> 00:50:10.795
<v Speaker 0>And I will run again pods.

00:50:11.195 --> 00:50:13.195
<v Speaker 0>We actually have an API server.

00:50:14.955 --> 00:50:15.835
<v Speaker 1>Fake.

00:50:18.955 --> 00:50:19.595
<v Speaker 0>The

00:50:20.475 --> 00:50:21.355
<v Speaker 0>grep

00:50:21.355 --> 00:50:22.875
<v Speaker 0>be running.

00:50:25.960 --> 00:50:27.400
<v Speaker 0>Rawkode and Seth is

00:50:29.560 --> 00:50:31.160
<v Speaker 0>Lots of things are unhappy.

00:50:34.200 --> 00:50:36.440
<v Speaker 0>Maybe get get pods was the wrong idea.

00:50:36.440 --> 00:50:39.080
<v Speaker 0>What what about nodes? Okay. We have three

00:50:39.805 --> 00:50:42.445
<v Speaker 0>not ready Oh, it's not ready. Unhappy nodes.

00:50:42.445 --> 00:50:44.365
<v Speaker 0>So I guess our work in the control

00:50:44.365 --> 00:50:46.125
<v Speaker 0>plane is done. We're gonna need to jump

00:50:46.125 --> 00:50:46.765
<v Speaker 0>over

00:50:47.165 --> 00:50:49.245
<v Speaker 0>to the workers.

00:50:50.445 --> 00:50:52.605
<v Speaker 0>So let's jump onto the first one. Yeah.

00:50:52.605 --> 00:50:54.060
<v Speaker 1>That's might be easier.

00:51:04.300 --> 00:51:05.340
<v Speaker 1>Are sessions created?

00:51:06.865 --> 00:51:09.265
<v Speaker 0>I can't connect to the workers.

00:51:14.545 --> 00:51:15.185
<v Speaker 1>Wow.

00:51:15.424 --> 00:51:17.184
<v Speaker 0>If I can't connect to the workers, we

00:51:17.184 --> 00:51:17.984
<v Speaker 0>can't debug.

00:51:19.850 --> 00:51:22.890
<v Speaker 1>Okay. Not matching UUID like target.

00:51:23.850 --> 00:51:24.810
<v Speaker 1>What's that?

00:51:25.530 --> 00:51:28.010
<v Speaker 0>I will attempt to SSH manually,

00:51:28.090 --> 00:51:29.850
<v Speaker 0>which is not

00:51:29.850 --> 00:51:32.410
<v Speaker 0>good because we can't share screen.

00:51:34.224 --> 00:51:35.905
<v Speaker 0>At least we'll know if anything's running on

00:51:35.905 --> 00:51:36.464
<v Speaker 0>those machines.

00:51:55.290 --> 00:51:56.090
<v Speaker 0>Okay.

00:51:56.090 --> 00:51:56.650
<v Speaker 0>So

00:51:59.370 --> 00:52:01.575
<v Speaker 0>I was able to SSH on the worst

00:52:01.575 --> 00:52:03.494
<v Speaker 0>curve, but that means teleport is maybe just

00:52:03.494 --> 00:52:05.335
<v Speaker 0>broken. So I'm gonna just try and restart

00:52:05.335 --> 00:52:06.455
<v Speaker 0>the agents.

00:52:07.734 --> 00:52:09.095
<v Speaker 0>We'll see if those come online.

00:52:24.369 --> 00:52:26.050
<v Speaker 0>Let's try restarting it.

00:52:27.089 --> 00:52:27.490
<v Speaker 1>Yep.

00:52:35.425 --> 00:52:36.625
<v Speaker 0>Not looking good.

00:52:44.049 --> 00:52:46.369
<v Speaker 0>There are very few rules on custard, but

00:52:46.369 --> 00:52:48.849
<v Speaker 0>breaking teleport is one of them.

00:52:51.730 --> 00:52:53.010
<v Speaker 1>Yep. You should not.

00:53:03.975 --> 00:53:05.975
<v Speaker 0>Alright. That's not coming back even though we

00:53:05.975 --> 00:53:08.295
<v Speaker 0>have teleport running, which tells me there's potentially

00:53:08.295 --> 00:53:09.175
<v Speaker 0>network issues.

00:53:12.789 --> 00:53:20.710
<v Speaker 0>But we can't share a terminal. Let's

00:53:21.750 --> 00:53:22.309
<v Speaker 1>Yep.

00:53:26.615 --> 00:53:27.975
<v Speaker 0>And I get it angry.

00:53:29.174 --> 00:53:30.694
<v Speaker 0>I get it flustered.

00:53:30.694 --> 00:53:31.815
<v Speaker 0>Let's do that.

00:53:33.095 --> 00:53:33.815
<v Speaker 0>Alright.

00:53:34.615 --> 00:53:35.895
<v Speaker 0>We're gonna have to try and fix the

00:53:35.895 --> 00:53:36.934
<v Speaker 0>networking rules then.

00:53:39.280 --> 00:53:41.520
<v Speaker 0>Let's pull up the teleport

00:53:43.200 --> 00:53:44.000
<v Speaker 0>network

00:53:44.160 --> 00:53:44.960
<v Speaker 0>ports.

00:53:47.360 --> 00:53:48.880
<v Speaker 0>That's not gonna work.

00:53:48.960 --> 00:53:50.560
<v Speaker 0>Oh, wait. There was the admin thing there.

00:54:07.960 --> 00:54:09.320
<v Speaker 0>Not very useful.

00:54:10.119 --> 00:54:11.160
<v Speaker 0>Let's see.

00:54:12.920 --> 00:54:14.840
<v Speaker 0>Just need some port numbers.

00:54:15.880 --> 00:54:17.160
<v Speaker 0>Alright. There we go.

00:54:17.960 --> 00:54:18.599
<v Speaker 0>So

00:54:19.559 --> 00:54:20.760
<v Speaker 0>we've got

00:54:21.414 --> 00:54:24.295
<v Speaker 0>pretty much the three zero two range as

00:54:24.295 --> 00:54:25.255
<v Speaker 0>used by

00:54:26.694 --> 00:54:28.295
<v Speaker 0>teleport. Let's take a look at our IP

00:54:28.295 --> 00:54:29.894
<v Speaker 0>table rules on this worker.

00:54:36.490 --> 00:54:37.690
<v Speaker 0>Those look fine.

00:54:39.450 --> 00:54:40.170
<v Speaker 0>Okay.

00:54:40.490 --> 00:54:42.089
<v Speaker 0>Let's just use the control plane node right

00:54:42.089 --> 00:54:42.970
<v Speaker 0>now and see

00:54:44.089 --> 00:54:45.609
<v Speaker 0>at least if the workers are okay, we

00:54:45.609 --> 00:54:47.849
<v Speaker 0>SSH down on my local machine. I restarted

00:54:47.849 --> 00:54:50.755
<v Speaker 0>teleport. It actually seems to be okay. So

00:54:51.155 --> 00:54:52.675
<v Speaker 0>let's just try and work from the control

00:54:52.675 --> 00:54:53.875
<v Speaker 0>plane node and see if we can work

00:54:53.875 --> 00:54:55.075
<v Speaker 0>this out. So

00:54:56.755 --> 00:54:58.035
<v Speaker 0>IP tables

00:54:58.035 --> 00:54:58.915
<v Speaker 0>dash l.

00:55:02.920 --> 00:55:03.960
<v Speaker 0>Let's see.

00:55:07.000 --> 00:55:09.480
<v Speaker 1>Oh, I can join. Right? Yeah. Yeah. You

00:55:09.480 --> 00:55:10.440
<v Speaker 0>can join the the

00:55:10.840 --> 00:55:12.840
<v Speaker 0>control plane node on cluster 16. Let me

00:55:12.840 --> 00:55:14.280
<v Speaker 0>know. I've set I'll keep an eye on

00:55:14.280 --> 00:55:15.480
<v Speaker 0>it, but you should see when you pop

00:55:15.480 --> 00:55:15.880
<v Speaker 0>in here.

00:55:19.255 --> 00:55:21.255
<v Speaker 1>Okay. Must be on the wrong session.

00:55:22.055 --> 00:55:23.575
<v Speaker 1>Okay. I see it.

00:55:24.615 --> 00:55:26.455
<v Speaker 0>Yep. I just reload. It's got a weird

00:55:26.455 --> 00:55:28.135
<v Speaker 0>bug when you join that it just, you

00:55:28.135 --> 00:55:29.575
<v Speaker 0>know, freezes my screen.

00:55:30.210 --> 00:55:33.730
<v Speaker 0>Okay. So let's run that IP tables again.

00:55:38.770 --> 00:55:41.089
<v Speaker 0>I'm gonna ignore all the Cyllium stuff because

00:55:41.089 --> 00:55:43.330
<v Speaker 0>if Teleport can't reach over the back end

00:55:43.330 --> 00:55:45.835
<v Speaker 0>network, then I think our IP tables are

00:55:45.835 --> 00:55:47.035
<v Speaker 0>being messed with.

00:55:48.315 --> 00:55:50.875
<v Speaker 0>We can ignore WP

00:55:50.875 --> 00:55:51.675
<v Speaker 1>running.

00:55:53.115 --> 00:55:54.635
<v Speaker 0>I'm gonna check the firewall.

00:55:55.675 --> 00:55:56.395
<v Speaker 1>Yep.

00:55:58.395 --> 00:55:59.915
<v Speaker 1>I think it's just UFW. Right?

00:56:01.360 --> 00:56:02.720
<v Speaker 0>I think so. Yep.

00:56:07.040 --> 00:56:08.720
<v Speaker 1>It's just like UFW enabled. I don't know

00:56:08.720 --> 00:56:10.720
<v Speaker 1>if it's a system to service. Whatever. Yeah.

00:56:10.720 --> 00:56:11.280
<v Speaker 1>It's not running.

00:56:26.565 --> 00:56:27.365
<v Speaker 0>You see anything?

00:56:29.049 --> 00:56:31.130
<v Speaker 0>We do have Matt watching, I think. He

00:56:31.130 --> 00:56:32.730
<v Speaker 0>did leave us a comment earlier.

00:56:32.890 --> 00:56:34.170
<v Speaker 0>So at least if we Yeah. I have

00:56:34.170 --> 00:56:36.329
<v Speaker 1>a coworker who is, like, very expert in

00:56:36.329 --> 00:56:38.970
<v Speaker 1>networking. So whenever I hit a networking issue,

00:56:38.970 --> 00:56:40.569
<v Speaker 1>I just, like, ask him. He sends you

00:56:40.569 --> 00:56:42.410
<v Speaker 1>some commands. I just run it. Send him

00:56:42.410 --> 00:56:44.089
<v Speaker 1>the output. Tells me what to do.

00:56:46.994 --> 00:56:48.275
<v Speaker 0>These look alright.

00:56:48.835 --> 00:56:49.395
<v Speaker 0>I'm not

00:56:52.115 --> 00:56:53.235
<v Speaker 0>accept all.

00:56:53.235 --> 00:56:56.035
<v Speaker 0>Alright. So let's just let's try let's try

00:56:56.035 --> 00:56:56.835
<v Speaker 0>in them.

00:56:58.275 --> 00:56:59.235
<v Speaker 0>We're just the noise.

00:57:00.050 --> 00:57:02.530
<v Speaker 1>Actually, dash l doesn't list out everything. There's

00:57:02.530 --> 00:57:05.170
<v Speaker 1>something else that actually shows you everything else.

00:57:05.170 --> 00:57:06.530
<v Speaker 1>I don't know what does that like. One

00:57:06.690 --> 00:57:08.770
<v Speaker 1>like, I don't go running that once.

00:57:11.010 --> 00:57:13.010
<v Speaker 0>So this is a drop policy,

00:57:13.010 --> 00:57:14.770
<v Speaker 0>but it says it's for marked packets.

00:57:17.865 --> 00:57:19.865
<v Speaker 0>This is only doing local host

00:57:21.705 --> 00:57:22.425
<v Speaker 0>that's invalid.

00:57:29.680 --> 00:57:30.560
<v Speaker 0>Okay.

00:57:30.640 --> 00:57:33.520
<v Speaker 0>So whatever is affecting teleport is probably affecting

00:57:33.920 --> 00:57:36.080
<v Speaker 0>is probably the reason the nodes can't speak

00:57:36.080 --> 00:57:37.520
<v Speaker 0>to the API server.

00:57:40.960 --> 00:57:42.160
<v Speaker 0>So let's run a test.

00:57:44.175 --> 00:57:45.855
<v Speaker 0>K.

00:57:47.135 --> 00:57:48.415
<v Speaker 0>One four

00:57:48.415 --> 00:57:49.215
<v Speaker 0>seven.

00:57:49.215 --> 00:57:50.655
<v Speaker 0>Nope. 14.

00:57:50.655 --> 00:57:52.175
<v Speaker 0>1 4 5. Okay.

00:57:52.575 --> 00:57:55.615
<v Speaker 0>So 145. Yeah. This is the IP address.

00:57:57.590 --> 00:57:59.910
<v Speaker 0>So while it is asking from

00:58:00.070 --> 00:58:02.070
<v Speaker 1>the Yeah. Why we're not checking the the

00:58:02.070 --> 00:58:03.910
<v Speaker 0>network policies. The reason I'm not going straight

00:58:03.910 --> 00:58:05.830
<v Speaker 0>to that is because Teleport is effective and

00:58:05.830 --> 00:58:08.630
<v Speaker 0>Teleport runs directly in the operating system.

00:58:09.190 --> 00:58:09.430
<v Speaker 0>So

00:58:10.385 --> 00:58:12.704
<v Speaker 0>I'm not fussed about checking the Kubernetes policies

00:58:12.704 --> 00:58:14.944
<v Speaker 0>yet. Maybe that's naive of me. What do

00:58:14.944 --> 00:58:15.505
<v Speaker 0>you think?

00:58:16.065 --> 00:58:17.345
<v Speaker 0>But I think if we could if we

00:58:17.345 --> 00:58:18.865
<v Speaker 1>fix Telethorpe yeah.

00:58:20.305 --> 00:58:23.184
<v Speaker 1>I don't think that Kubernetes policies affect

00:58:23.184 --> 00:58:23.585
<v Speaker 1>nodes.

00:58:24.810 --> 00:58:27.370
<v Speaker 1>It can't write. It's only affecting the overlay

00:58:27.370 --> 00:58:29.770
<v Speaker 1>that, okay, Kubernetes manager. So Yeah. I don't

00:58:29.770 --> 00:58:30.250
<v Speaker 0>know.

00:58:30.570 --> 00:58:32.890
<v Speaker 0>I'm gonna try it. But my overlay yeah.

00:58:32.890 --> 00:58:34.810
<v Speaker 0>Carling six four four three.

00:58:37.055 --> 00:58:38.095
<v Speaker 0>Let's take for.

00:58:44.735 --> 00:58:47.135
<v Speaker 0>Yeah. There there's something in between

00:58:48.780 --> 00:58:50.140
<v Speaker 0>us and that machine.

00:58:53.260 --> 00:58:54.860
<v Speaker 0>Let's make sure I can even

00:58:55.020 --> 00:58:57.500
<v Speaker 0>hang it. Let's use the private IP address

00:58:57.500 --> 00:58:58.380
<v Speaker 0>too. Yeah.

00:59:02.635 --> 00:59:03.835
<v Speaker 1>Oh, they do.

00:59:03.994 --> 00:59:05.035
<v Speaker 1>The

00:59:05.035 --> 00:59:06.555
<v Speaker 1>post network policy.

00:59:07.674 --> 00:59:10.474
<v Speaker 1>Yep. Let's see if those things exist

00:59:10.635 --> 00:59:11.435
<v Speaker 1>yet.

00:59:12.474 --> 00:59:13.835
<v Speaker 1>CRDs.

00:59:13.914 --> 00:59:16.875
<v Speaker 0>Alright. There's something we learned today. Thanks, Matt.

00:59:17.310 --> 00:59:18.990
<v Speaker 0>Post network policies.

00:59:20.830 --> 00:59:21.710
<v Speaker 0>Do

00:59:21.710 --> 00:59:24.990
<v Speaker 0>get API resources? From API. Yeah. Yeah.

00:59:30.910 --> 00:59:32.030
<v Speaker 1>API resource.

00:59:32.030 --> 00:59:32.670
<v Speaker 1>What did I do?

00:59:35.375 --> 00:59:36.895
<v Speaker 0>It's not get. I think it's just keep

00:59:36.895 --> 00:59:39.935
<v Speaker 0>control API resource. Oh, yes. Just, yeah, API

00:59:39.935 --> 00:59:40.655
<v Speaker 1>resource.

00:59:43.295 --> 00:59:43.935
<v Speaker 0>Did

00:59:44.655 --> 00:59:46.015
<v Speaker 0>you mean yeah. Just do it.

00:59:47.450 --> 00:59:48.089
<v Speaker 0>Both.

00:59:48.490 --> 00:59:50.089
<v Speaker 0>You may wanna do a green dash I

00:59:50.089 --> 00:59:50.890
<v Speaker 0>maybe.

00:59:52.650 --> 00:59:52.970
<v Speaker 1>Yes.

01:00:01.015 --> 01:00:04.135
<v Speaker 1>Try a Selium cluster wide. Oh, okay. It's

01:00:04.135 --> 01:00:06.695
<v Speaker 1>probably Selium cluster wide network policies.

01:00:08.695 --> 01:00:10.375
<v Speaker 1>It says cluster wide, and then the other

01:00:10.375 --> 01:00:11.829
<v Speaker 1>is, like, CDM,

01:00:11.829 --> 01:00:14.790
<v Speaker 1>like, policy. So let's try get CCNP.

01:00:14.790 --> 01:00:15.510
<v Speaker 1>Wait.

01:00:16.790 --> 01:00:18.310
<v Speaker 1>It's very hard for me to.

01:00:31.855 --> 01:00:32.494
<v Speaker 1>Ah,

01:00:32.894 --> 01:00:33.455
<v Speaker 1>see?

01:00:36.174 --> 01:00:38.360
<v Speaker 1>Wow. I didn't know about this. This is

01:00:38.360 --> 01:00:38.840
<v Speaker 1>cool.

01:00:39.160 --> 01:00:41.240
<v Speaker 0>Yeah. New to me as well.

01:00:41.720 --> 01:00:44.200
<v Speaker 0>Let's let's describe them, take a look at

01:00:44.200 --> 01:00:45.960
<v Speaker 0>them before we go sledgehammer

01:00:45.960 --> 01:00:47.160
<v Speaker 0>deleting them. Oh.

01:00:47.880 --> 01:00:48.280
<v Speaker 0>Yep.

01:00:50.295 --> 01:00:52.695
<v Speaker 0>I have no idea that Kubernetes could modify

01:00:52.695 --> 01:00:55.655
<v Speaker 0>the That's

01:00:55.655 --> 01:00:58.695
<v Speaker 0>cool. Let's do it egress.

01:00:59.415 --> 01:01:00.135
<v Speaker 1>And

01:01:00.695 --> 01:01:02.455
<v Speaker 1>this is something I learned from Duffy.

01:01:05.470 --> 01:01:07.390
<v Speaker 0>Alright. Let's see what we have here.

01:01:08.830 --> 01:01:10.590
<v Speaker 1>Oh, it doesn't really. We probably need to

01:01:10.590 --> 01:01:11.550
<v Speaker 1>get the YAML.

01:01:13.550 --> 01:01:14.830
<v Speaker 0>Yeah. We can take a look at do

01:01:14.830 --> 01:01:16.510
<v Speaker 0>get old YAML too on it. Why not?

01:01:16.510 --> 01:01:17.790
<v Speaker 0>But it looks like we've got some sort

01:01:17.790 --> 01:01:20.125
<v Speaker 0>of egress to the world. I'm assuming world

01:01:20.125 --> 01:01:21.805
<v Speaker 0>is special for everything.

01:01:22.365 --> 01:01:23.565
<v Speaker 1>Spec

01:01:23.805 --> 01:01:24.605
<v Speaker 1>kind.

01:01:26.125 --> 01:01:27.885
<v Speaker 1>Okay. Two entries,

01:01:28.365 --> 01:01:29.485
<v Speaker 1>a word.

01:01:30.684 --> 01:01:32.444
<v Speaker 1>What does it say? It's, blocking.

01:01:35.350 --> 01:01:36.310
<v Speaker 0>It

01:01:37.750 --> 01:01:40.310
<v Speaker 1>shouldn't be a stack. It shouldn't be. Egress,

01:01:40.390 --> 01:01:42.790
<v Speaker 1>two entities, world, and what is the kind?

01:01:42.790 --> 01:01:45.190
<v Speaker 1>Is it, like, cluster or white network policies?

01:01:45.350 --> 01:01:47.910
<v Speaker 1>And this one was egress.

01:01:48.070 --> 01:01:49.270
<v Speaker 1>Is it, a default thing?

01:01:50.045 --> 01:01:51.805
<v Speaker 0>Well, yeah. Potentially,

01:01:52.125 --> 01:01:54.365
<v Speaker 0>why don't we do a kubectl

01:01:54.365 --> 01:01:56.205
<v Speaker 0>explain CCNP

01:01:57.565 --> 01:01:58.365
<v Speaker 0>spec?

01:01:59.325 --> 01:02:01.325
<v Speaker 0>What's the is it dot spec?

01:02:01.405 --> 01:02:01.725
<v Speaker 0>Yeah.

01:02:04.569 --> 01:02:07.369
<v Speaker 0>That's not They don't really have a description.

01:02:08.250 --> 01:02:09.770
<v Speaker 0>I say we delete them.

01:02:10.410 --> 01:02:14.010
<v Speaker 0>Valid. Yes. Yes. Yes. Thank you, Valid. Yeah.

01:02:15.210 --> 01:02:17.210
<v Speaker 1>World not equal to cluster. Wow.

01:02:20.385 --> 01:02:22.145
<v Speaker 0>World does not even cluster.

01:02:23.265 --> 01:02:24.145
<v Speaker 1>Come on.

01:02:25.105 --> 01:02:27.265
<v Speaker 0>Okay. Let's do CCNP.

01:02:27.905 --> 01:02:29.425
<v Speaker 0>Are we happy just to delete these? There's

01:02:29.425 --> 01:02:31.025
<v Speaker 0>not nothing nothing good of these ever came.

01:02:31.080 --> 01:02:33.080
<v Speaker 0>Right? Anyway, it's not clustered, so it can't

01:02:33.080 --> 01:02:35.160
<v Speaker 1>be like the default one. Right? Well, I

01:02:35.160 --> 01:02:36.920
<v Speaker 0>will delete the egress, and then I'm gonna

01:02:36.920 --> 01:02:37.880
<v Speaker 0>describe

01:02:40.120 --> 01:02:41.080
<v Speaker 0>CCNP.

01:02:41.080 --> 01:02:41.960
<v Speaker 0>I just wanna

01:02:43.240 --> 01:02:44.360
<v Speaker 0>see what that pretty much is.

01:02:45.095 --> 01:02:46.214
<v Speaker 0>This one,

01:02:46.375 --> 01:02:48.375
<v Speaker 0>ingress from the world. I'm assuming these are

01:02:48.375 --> 01:02:50.775
<v Speaker 0>just blocking all ingress and ingress traffic.

01:02:51.015 --> 01:02:51.815
<v Speaker 1>Yep.

01:02:54.535 --> 01:02:56.135
<v Speaker 0>Clust oh, custard

01:02:56.375 --> 01:02:57.015
<v Speaker 0>ingress.

01:02:58.440 --> 01:02:59.640
<v Speaker 0>See, I love it when we get a

01:02:59.640 --> 01:03:01.720
<v Speaker 0>break like that where we learn something. That's

01:03:01.720 --> 01:03:03.320
<v Speaker 0>that's the best thing.

01:03:04.359 --> 01:03:05.880
<v Speaker 0>So do we think

01:03:06.280 --> 01:03:08.040
<v Speaker 1>that That's tech telephone.

01:03:08.119 --> 01:03:10.200
<v Speaker 0>Look at that. We got one back there.

01:03:10.200 --> 01:03:11.984
<v Speaker 1>Yep. I'm assuming the other two are gonna

01:03:11.984 --> 01:03:13.425
<v Speaker 0>come back on momentarily

01:03:13.744 --> 01:03:16.065
<v Speaker 0>depending on the retry pause. Bullshit.

01:03:16.625 --> 01:03:18.464
<v Speaker 1>Come back soon. Yep. It's getting ready.

01:03:26.680 --> 01:03:28.440
<v Speaker 0>I hate it when I get taunted.

01:03:28.920 --> 01:03:30.119
<v Speaker 1>Matt is saying

01:03:31.079 --> 01:03:34.119
<v Speaker 1>it's not gonna be that easy. So let's

01:03:34.119 --> 01:03:36.200
<v Speaker 0>see. Did the yeah. The the notes are

01:03:36.200 --> 01:03:38.519
<v Speaker 0>coming back. So let's check if Celeum. Do

01:03:38.175 --> 01:03:40.735
<v Speaker 0>you wanna do a namespace Celeum get pods

01:03:40.735 --> 01:03:42.575
<v Speaker 0>and see if our networking is slowly starting

01:03:42.575 --> 01:03:43.695
<v Speaker 0>to come back to life?

01:03:46.335 --> 01:03:47.935
<v Speaker 1>Ah, so one of the nodes is still

01:03:47.935 --> 01:03:50.255
<v Speaker 1>not ready. I assume it would eventually be

01:03:50.255 --> 01:03:52.015
<v Speaker 1>ready. Yeah. Let's give that a few minutes,

01:03:52.015 --> 01:03:54.095
<v Speaker 0>but let let's check out the Celeum namespace.

01:04:03.130 --> 01:04:05.530
<v Speaker 1>What is pending? Getting there. Yes. We've got

01:04:05.530 --> 01:04:07.130
<v Speaker 0>two agents online, which means two of the

01:04:07.130 --> 01:04:09.055
<v Speaker 0>worker Yep. I think that's the one that's

01:04:09.055 --> 01:04:11.135
<v Speaker 1>scheduled on, but, oh, that's not ready.

01:04:12.175 --> 01:04:14.335
<v Speaker 1>Yeah. We could just do Dash 0 Pike.

01:04:15.855 --> 01:04:18.735
<v Speaker 1>And oh, come on. It's a little bit

01:04:18.735 --> 01:04:19.695
<v Speaker 1>hot read.

01:04:20.095 --> 01:04:21.375
<v Speaker 1>DP4.

01:04:22.175 --> 01:04:24.350
<v Speaker 1>Yeah. It's the one that's not ready.

01:04:24.510 --> 01:04:26.830
<v Speaker 1>So it's like maybe that's a breaker.

01:04:28.110 --> 01:04:29.630
<v Speaker 0>Yeah. I think we may have to get

01:04:31.070 --> 01:04:32.910
<v Speaker 0>Yeah. That's I'm gonna jump on that note.

01:04:32.910 --> 01:04:34.430
<v Speaker 0>Let's take a look. So t t j.

01:04:35.885 --> 01:04:37.484
<v Speaker 0>And then we don't have teleport access. I'll

01:04:37.484 --> 01:04:39.005
<v Speaker 0>just need to grab the IP address and

01:04:39.005 --> 01:04:41.325
<v Speaker 0>jump to my terminal for a second. We'll

01:04:41.325 --> 01:04:43.565
<v Speaker 0>do some Okay. Teleport is still on.

01:04:44.285 --> 01:04:44.925
<v Speaker 0>Is it back?

01:04:47.760 --> 01:04:48.720
<v Speaker 0>No. Okay.

01:04:49.040 --> 01:04:50.640
<v Speaker 0>Let's see if we can just encourage it

01:04:50.640 --> 01:04:52.000
<v Speaker 0>to pop back so we can use our

01:04:52.000 --> 01:04:54.480
<v Speaker 0>shared terminal. So BSSH.

01:04:57.600 --> 01:04:59.440
<v Speaker 0>And I will just do a restart

01:05:01.404 --> 01:05:03.244
<v Speaker 0>teleport and while I'm here,

01:05:04.045 --> 01:05:05.565
<v Speaker 0>I'll try a kiblet.

01:05:06.924 --> 01:05:09.244
<v Speaker 0>Why not? Like, who knows? It could just

01:05:09.244 --> 01:05:10.285
<v Speaker 0>be that simple.

01:05:11.404 --> 01:05:14.099
<v Speaker 0>Is teleport happy? Let's try hitting the API

01:05:14.099 --> 01:05:16.900
<v Speaker 1>server using code and see if it pops

01:05:16.900 --> 01:05:17.540
<v Speaker 1>up.

01:05:17.700 --> 01:05:18.500
<v Speaker 0>Alright.

01:05:21.859 --> 01:05:22.579
<v Speaker 1>Yep.

01:05:22.819 --> 01:05:23.940
<v Speaker 1>I'll do that.

01:05:24.259 --> 01:05:27.140
<v Speaker 0>It teleports back on that node. How's the

01:05:27.220 --> 01:05:27.619
<v Speaker 0>get

01:05:28.655 --> 01:05:30.495
<v Speaker 0>the cubelets start back yet?

01:05:40.415 --> 01:05:41.855
<v Speaker 1>My flakes still got go.

01:05:48.079 --> 01:05:50.079
<v Speaker 0>So Matt told us to note the IP

01:05:50.079 --> 01:05:52.079
<v Speaker 0>address and the node list. So let's do

01:05:52.079 --> 01:05:53.760
<v Speaker 0>a get nodes or wide and see if

01:05:53.760 --> 01:05:55.119
<v Speaker 0>there was something issue there.

01:06:00.934 --> 01:06:02.055
<v Speaker 0>What do we got?

01:06:03.894 --> 01:06:06.375
<v Speaker 1>The one that is not ready has, like,

01:06:06.375 --> 01:06:08.375
<v Speaker 1>25145.

01:06:08.535 --> 01:06:09.815
<v Speaker 1>Is that the one you're on?

01:06:15.010 --> 01:06:16.130
<v Speaker 0>That's okay.

01:06:17.170 --> 01:06:17.970
<v Speaker 1>Yep.

01:06:21.810 --> 01:06:23.810
<v Speaker 0>I'm on that machine. Right? So

01:06:26.694 --> 01:06:29.095
<v Speaker 0>yeah. The teleport came back.

01:06:29.575 --> 01:06:30.855
<v Speaker 0>IP address.

01:06:31.095 --> 01:06:32.135
<v Speaker 0>Excuse me.

01:06:38.615 --> 01:06:39.974
<v Speaker 0>Yeah. 145.

01:06:41.490 --> 01:06:43.730
<v Speaker 0>Let's check the kubelet logs. So

01:06:45.490 --> 01:06:46.210
<v Speaker 0>journal

01:06:47.010 --> 01:06:47.970
<v Speaker 0>kubelet.

01:06:50.450 --> 01:06:51.810
<v Speaker 0>Oh, okay. We got errors.

01:07:02.435 --> 01:07:04.995
<v Speaker 1>Dial. Oh, it's just failing to connect to

01:07:04.995 --> 01:07:05.795
<v Speaker 1>API server. Right?

01:07:06.930 --> 01:07:07.730
<v Speaker 1>Yep.

01:07:08.130 --> 01:07:09.730
<v Speaker 0>Connection timed out.

01:07:11.250 --> 01:07:11.970
<v Speaker 0>Okay.

01:07:13.089 --> 01:07:15.010
<v Speaker 1>Why is it to do the connection timing

01:07:15.010 --> 01:07:16.610
<v Speaker 1>or or everything today?

01:07:17.490 --> 01:07:20.290
<v Speaker 0>Yeah. No. Everyone just seems to be

01:07:21.065 --> 01:07:23.705
<v Speaker 0>targeting our networking knowledge.

01:07:26.185 --> 01:07:28.105
<v Speaker 0>Alright. Let's see what we got in IP

01:07:28.105 --> 01:07:31.225
<v Speaker 0>table. Although my scanning of this previously did

01:07:31.225 --> 01:07:32.985
<v Speaker 0>not do me any good whatsoever.

01:07:33.065 --> 01:07:33.305
<v Speaker 0>So

01:07:35.900 --> 01:07:38.220
<v Speaker 1>Maybe there's like something hidden again.

01:07:39.099 --> 01:07:39.580
<v Speaker 1>I

01:07:40.619 --> 01:07:43.340
<v Speaker 0>should get better at this networking nonsense.

01:07:44.539 --> 01:07:45.260
<v Speaker 1>Yeah.

01:07:46.140 --> 01:07:46.619
<v Speaker 1>Ephelia.

01:07:48.085 --> 01:07:49.605
<v Speaker 1>But maybe it's yeah.

01:07:50.645 --> 01:07:52.805
<v Speaker 0>Let's assume that the control plane or at

01:07:52.805 --> 01:07:53.845
<v Speaker 0>least something and cut

01:07:54.325 --> 01:07:55.765
<v Speaker 0>let's assume Matt's

01:07:56.485 --> 01:07:58.885
<v Speaker 0>doing something with Celeium and other cluster resources.

01:07:59.940 --> 01:08:02.100
<v Speaker 0>Maybe we should just do a cube control.

01:08:03.380 --> 01:08:04.740
<v Speaker 0>What do you see? See

01:08:06.099 --> 01:08:07.780
<v Speaker 1>there are, like, a lot of Celeum network

01:08:07.780 --> 01:08:08.660
<v Speaker 1>policies.

01:08:10.820 --> 01:08:13.060
<v Speaker 0>Oh, yeah. And it's

01:08:12.385 --> 01:08:14.545
<v Speaker 1>blocking in the namespace cube system, so I

01:08:14.545 --> 01:08:16.465
<v Speaker 1>guess it might be blocking it for that

01:08:16.465 --> 01:08:17.104
<v Speaker 1>node.

01:08:18.625 --> 01:08:20.785
<v Speaker 0>Thanks for the confirmation there, Matt. He has

01:08:20.785 --> 01:08:23.585
<v Speaker 0>confirmed that everything was done using Kubernetes.

01:08:23.585 --> 01:08:23.905
<v Speaker 0>Awesome.

01:08:24.510 --> 01:08:26.029
<v Speaker 0>Means we can stick to teleport. Oh, thank

01:08:26.029 --> 01:08:26.510
<v Speaker 1>you.

01:08:28.909 --> 01:08:30.989
<v Speaker 0>So you've pulled up the cellular network policies.

01:08:30.989 --> 01:08:33.229
<v Speaker 0>We've definitely got those custard egres and ingress

01:08:33.229 --> 01:08:33.949
<v Speaker 0>things again.

01:08:38.585 --> 01:08:39.225
<v Speaker 0>So you wanna

01:08:39.945 --> 01:08:41.305
<v Speaker 0>yeah. Good call.

01:08:42.104 --> 01:08:42.825
<v Speaker 0>Right.

01:08:44.185 --> 01:08:45.545
<v Speaker 0>Node

01:08:45.545 --> 01:08:46.665
<v Speaker 0>specific stuff Yep.

01:08:48.585 --> 01:08:50.985
<v Speaker 1>It has some selected. Let's delete it.

01:08:54.920 --> 01:08:57.319
<v Speaker 0>I love this sledgehammer approach. Just just delete

01:08:57.319 --> 01:08:58.840
<v Speaker 0>anything. In fact, I should just write a

01:08:58.840 --> 01:09:00.680
<v Speaker 0>script that looks for any changes to the

01:09:00.680 --> 01:09:02.520
<v Speaker 0>system within the last three days and just

01:09:02.520 --> 01:09:04.359
<v Speaker 0>delete them all. Although, maybe that will get

01:09:04.359 --> 01:09:06.664
<v Speaker 1>me in trouble. Like some of the monitoring

01:09:06.664 --> 01:09:09.704
<v Speaker 1>tools should do like once you deploy cluster,

01:09:09.704 --> 01:09:11.545
<v Speaker 1>it should monitor the state and if anything

01:09:11.545 --> 01:09:13.544
<v Speaker 1>changes, it should just go back.

01:09:13.944 --> 01:09:15.864
<v Speaker 0>I think it's actually I should run something

01:09:15.864 --> 01:09:18.024
<v Speaker 0>on the cluster that audits every API server

01:09:18.024 --> 01:09:19.864
<v Speaker 0>request so that I can replay it later.

01:09:21.240 --> 01:09:22.359
<v Speaker 0>Let's let's for now let's go with the

01:09:22.359 --> 01:09:25.560
<v Speaker 0>sledgehammer, delete anything we don't know and see

01:09:25.560 --> 01:09:27.399
<v Speaker 0>if we can get this cluster working again.

01:09:28.279 --> 01:09:29.800
<v Speaker 0>So that was one of those really cool

01:09:29.800 --> 01:09:32.200
<v Speaker 0>CNI plug ins and technologies that there's just

01:09:32.200 --> 01:09:33.640
<v Speaker 0>so much of it that I've not really

01:09:33.640 --> 01:09:35.479
<v Speaker 0>even started to play with enough of the

01:09:35.479 --> 01:09:37.875
<v Speaker 0>cool features in network policies. Although we do

01:09:37.875 --> 01:09:39.394
<v Speaker 0>have Hubble on our cluster.

01:09:40.114 --> 01:09:41.635
<v Speaker 0>Wonder if we should port forward to it

01:09:41.635 --> 01:09:42.594
<v Speaker 0>and show Hubble.

01:09:43.554 --> 01:09:45.234
<v Speaker 0>Because that would probably that would actually show

01:09:45.234 --> 01:09:46.994
<v Speaker 0>us I think all the policies right in

01:09:46.994 --> 01:09:47.874
<v Speaker 0>front of us.

01:09:48.675 --> 01:09:50.755
<v Speaker 0>Hold on. Let's let's try that.

01:09:52.729 --> 01:09:55.530
<v Speaker 0>DLB cluster. This is 16.

01:09:56.410 --> 01:09:57.210
<v Speaker 0>Export.

01:10:00.650 --> 01:10:02.890
<v Speaker 1>Okay. Should I delete things or wait for

01:10:03.130 --> 01:10:05.784
<v Speaker 0>Yeah. Just give me two seconds. Let's Yeah.

01:10:05.784 --> 01:10:07.864
<v Speaker 1>Let's yeah. Let's check the Huddl. I had

01:10:07.864 --> 01:10:09.704
<v Speaker 1>always checked that. I want wanted to deep

01:10:09.704 --> 01:10:12.184
<v Speaker 1>dive in my cluster, but, like, never got

01:10:12.184 --> 01:10:12.984
<v Speaker 1>around it.

01:10:14.505 --> 01:10:15.864
<v Speaker 0>Oh, Hubble was here.

01:10:18.600 --> 01:10:20.360
<v Speaker 1>Oh, what's the debug pod?

01:10:24.920 --> 01:10:25.719
<v Speaker 0>Where's Hubble?

01:10:33.065 --> 01:10:34.505
<v Speaker 0>Let me check if I just failed. Did

01:10:34.505 --> 01:10:35.785
<v Speaker 0>I not enable Hubble?

01:10:39.305 --> 01:10:40.585
<v Speaker 0>Hubble enabled.

01:10:40.665 --> 01:10:42.505
<v Speaker 0>Okay. I think Hubble was taken away from

01:10:42.505 --> 01:10:42.745
<v Speaker 0>us.

01:10:45.290 --> 01:10:47.770
<v Speaker 1>I see. Either that or it's not.

01:10:48.330 --> 01:10:50.090
<v Speaker 0>It could be on that node or no.

01:10:50.090 --> 01:10:51.690
<v Speaker 0>Could we see it as pending? Alright. Let's

01:10:51.690 --> 01:10:53.050
<v Speaker 0>just delete. Let's go.

01:10:54.810 --> 01:10:55.610
<v Speaker 1>Alright.

01:10:56.970 --> 01:10:57.610
<v Speaker 1>And

01:10:59.145 --> 01:10:59.864
<v Speaker 1>get

01:11:00.105 --> 01:11:00.824
<v Speaker 1>notes.

01:11:02.105 --> 01:11:02.985
<v Speaker 1>I can

01:11:04.665 --> 01:11:06.985
<v Speaker 0>I can gently encourage that kubelet to restart

01:11:06.985 --> 01:11:08.025
<v Speaker 0>too? So

01:11:13.200 --> 01:11:15.360
<v Speaker 0>t t j or was it another one?

01:11:15.440 --> 01:11:16.960
<v Speaker 0>No. T Alright.

01:11:17.200 --> 01:11:18.079
<v Speaker 0>Restart.

01:11:18.080 --> 01:11:18.720
<v Speaker 1>Yep. It's

01:11:19.440 --> 01:11:20.079
<v Speaker 1>Yep.

01:11:21.120 --> 01:11:22.560
<v Speaker 0>Come on. K.

01:11:23.840 --> 01:11:25.680
<v Speaker 0>Keep it as restarted.

01:11:33.745 --> 01:11:36.225
<v Speaker 1>I I guess we should delete all of

01:11:36.225 --> 01:11:38.385
<v Speaker 1>them because if you look at each, right,

01:11:38.385 --> 01:11:41.905
<v Speaker 1>it seems like hundred minutes. So probably

01:11:41.560 --> 01:11:43.080
<v Speaker 1>maybe some time back.

01:11:49.480 --> 01:11:51.560
<v Speaker 1>Right? Sorry. What was that?

01:11:52.120 --> 01:11:53.560
<v Speaker 1>So if you look at each of all

01:11:53.560 --> 01:11:55.555
<v Speaker 1>these policies, right, it's just created, like, a

01:11:55.555 --> 01:11:57.795
<v Speaker 1>hundred minutes back, but, like, the node is,

01:11:57.795 --> 01:12:00.515
<v Speaker 1>like, two days old. So probably all these

01:12:00.515 --> 01:12:01.955
<v Speaker 1>probably passing stuff.

01:12:03.635 --> 01:12:05.395
<v Speaker 0>Yeah. They're all two hours old.

01:12:07.075 --> 01:12:09.729
<v Speaker 1>Yep. Should I go and, like, delete everything?

01:12:10.610 --> 01:12:11.969
<v Speaker 0>I mean, it may get us in more

01:12:11.969 --> 01:12:14.050
<v Speaker 0>trouble, but I fully support your approach. Let's

01:12:14.050 --> 01:12:14.690
<v Speaker 0>do it.

01:12:15.090 --> 01:12:15.889
<v Speaker 0>Yep.

01:12:18.370 --> 01:12:20.610
<v Speaker 1>And this is my favorite thing.

01:12:24.825 --> 01:12:25.465
<v Speaker 0>Nice.

01:12:26.105 --> 01:12:26.985
<v Speaker 0>Alright.

01:12:27.305 --> 01:12:29.545
<v Speaker 0>I will restart the cue ball just in

01:12:29.545 --> 01:12:30.824
<v Speaker 0>case it needs a little

01:12:31.545 --> 01:12:32.025
<v Speaker 0>push.

01:12:40.580 --> 01:12:41.380
<v Speaker 1>Yep.

01:12:41.860 --> 01:12:43.780
<v Speaker 0>I'm gonna try to familiar with, you would

01:12:43.780 --> 01:12:45.540
<v Speaker 1>know, like, which one are the default.

01:12:45.700 --> 01:12:47.380
<v Speaker 1>That's, like, kind of a drainage.

01:12:48.020 --> 01:12:49.540
<v Speaker 0>Damn you, Where are you?

01:12:50.685 --> 01:12:52.605
<v Speaker 0>Alright. Let's get the logs for it again.

01:12:53.645 --> 01:12:55.485
<v Speaker 1>Yeah. Let's check the logs or, like, try

01:12:55.485 --> 01:12:57.965
<v Speaker 1>calling log. It's

01:12:57.965 --> 01:13:00.525
<v Speaker 0>telling me we're still getting a connection time

01:13:00.525 --> 01:13:01.165
<v Speaker 0>out on it.

01:13:03.020 --> 01:13:05.340
<v Speaker 1>Okay. So those are okay. Those are, like,

01:13:06.140 --> 01:13:08.220
<v Speaker 1>root log. We could ignore.

01:13:08.540 --> 01:13:11.340
<v Speaker 0>I love Matt's comments. I was procrastinating,

01:13:11.340 --> 01:13:12.940
<v Speaker 0>and I only broke it five minutes before

01:13:12.940 --> 01:13:13.740
<v Speaker 0>the stream.

01:13:14.060 --> 01:13:15.580
<v Speaker 0>And then five minutes, she's still got us

01:13:15.580 --> 01:13:17.815
<v Speaker 0>chasing her tail. So thanks a lot. Right.

01:13:17.815 --> 01:13:18.695
<v Speaker 0>Let's see.

01:13:21.655 --> 01:13:23.735
<v Speaker 1>Is there anything else with Serium?

01:13:25.415 --> 01:13:27.574
<v Speaker 0>Yeah. I would do a Oh, Serium. Resources

01:13:28.295 --> 01:13:30.454
<v Speaker 0>and grep to start. They've got all complete

01:13:30.454 --> 01:13:30.855
<v Speaker 0>in our mind.

01:13:32.010 --> 01:13:32.489
<v Speaker 1>Yeah.

01:13:33.610 --> 01:13:35.929
<v Speaker 1>Like, this is, like, why it's, like, autocomplete.

01:13:36.650 --> 01:13:38.489
<v Speaker 0>Okay. So let's Oh,

01:13:41.449 --> 01:13:43.210
<v Speaker 1>okay. There are some endpoints

01:13:44.145 --> 01:13:46.065
<v Speaker 1>which are named clustered.

01:13:46.625 --> 01:13:48.545
<v Speaker 1>Oh, no. It must be from the ports.

01:13:48.945 --> 01:13:50.385
<v Speaker 0>These are from the ports and the default

01:13:50.385 --> 01:13:52.145
<v Speaker 0>namespace that I was given an IP address

01:13:52.145 --> 01:13:53.505
<v Speaker 0>too. So that looks good.

01:13:53.825 --> 01:13:54.465
<v Speaker 1>Alright.

01:13:54.865 --> 01:13:56.865
<v Speaker 0>We checked network policies and customer by network

01:13:56.865 --> 01:13:58.145
<v Speaker 0>policies endpoints.

01:13:58.145 --> 01:13:59.985
<v Speaker 0>Let's choose the same nodes. That looks

01:14:01.800 --> 01:14:04.360
<v Speaker 0>yeah. I think that's standard. Just try this.

01:14:20.405 --> 01:14:22.724
<v Speaker 0>Matt says, if we burn the policies, we're

01:14:22.724 --> 01:14:24.565
<v Speaker 0>on to our next fun adventure. So we

01:14:24.565 --> 01:14:25.525
<v Speaker 0>got something else to do.

01:14:26.650 --> 01:14:27.289
<v Speaker 1>Yep.

01:14:27.770 --> 01:14:30.329
<v Speaker 1>And I assume it's probably based on CDM.

01:14:31.690 --> 01:14:34.329
<v Speaker 0>Let's check for the old classics. Right? Let's

01:14:34.329 --> 01:14:36.329
<v Speaker 0>check for a mutating webpack controller,

01:14:36.650 --> 01:14:38.809
<v Speaker 0>any validating webpack controllers. Let's see if there's

01:14:38.809 --> 01:14:41.050
<v Speaker 0>anything interfering with node registration.

01:14:43.185 --> 01:14:43.985
<v Speaker 0>Nothing.

01:14:44.705 --> 01:14:46.784
<v Speaker 1>I don't see this card. No.

01:14:47.264 --> 01:14:49.105
<v Speaker 1>You're dating that for configuration.

01:14:54.000 --> 01:14:55.599
<v Speaker 1>Damn it. Okay.

01:14:57.760 --> 01:14:59.040
<v Speaker 0>Let's check the

01:15:00.480 --> 01:15:03.679
<v Speaker 0>API server configuration and see if there's any

01:15:04.720 --> 01:15:06.480
<v Speaker 0>static admission controllers enabled.

01:15:07.885 --> 01:15:08.765
<v Speaker 1>Oh, yeah.

01:15:14.525 --> 01:15:15.245
<v Speaker 1>Oh,

01:15:15.485 --> 01:15:16.045
<v Speaker 1>wait.

01:15:16.925 --> 01:15:18.525
<v Speaker 0>Oh, I thought you did a control w

01:15:18.525 --> 01:15:19.885
<v Speaker 0>there, but you said alright.

01:15:20.520 --> 01:15:22.520
<v Speaker 0>Yeah. Those haven't changed. Yeah. I was going

01:15:22.520 --> 01:15:24.599
<v Speaker 1>to, but I don't know. But I saves

01:15:24.599 --> 01:15:26.119
<v Speaker 1>all the files none of the files that

01:15:26.119 --> 01:15:26.679
<v Speaker 1>I did.

01:15:27.159 --> 01:15:30.039
<v Speaker 0>Alright. So Matt has definitely used only cube

01:15:30.039 --> 01:15:32.679
<v Speaker 0>control, which means we're dealing with resources. Let's

01:15:33.719 --> 01:15:36.335
<v Speaker 1>Yeah. Let's let's go down this

01:15:36.895 --> 01:15:38.014
<v Speaker 1>rabbit hole.

01:15:40.255 --> 01:15:42.495
<v Speaker 0>Alright. Let's let's do a get pods all

01:15:42.495 --> 01:15:44.975
<v Speaker 0>and just make let's see what it let's

01:15:44.975 --> 01:15:46.735
<v Speaker 0>grab for dash v running and see what

01:15:46.735 --> 01:15:47.855
<v Speaker 0>we've got still pending.

01:15:56.949 --> 01:15:57.270
<v Speaker 1>Wow.

01:16:07.085 --> 01:16:07.804
<v Speaker 1>Alright.

01:16:07.965 --> 01:16:09.644
<v Speaker 1>Rawkode is pending, which

01:16:10.525 --> 01:16:13.565
<v Speaker 1>I'm not really worried about. Oh, Cognitive is

01:16:13.565 --> 01:16:14.445
<v Speaker 1>terminating.

01:16:17.725 --> 01:16:18.925
<v Speaker 1>Okay.

01:16:19.565 --> 01:16:23.005
<v Speaker 1>So But it shouldn't affect

01:16:22.340 --> 01:16:23.860
<v Speaker 1>the node registration.

01:16:25.620 --> 01:16:27.219
<v Speaker 0>Must be missing something.

01:16:29.700 --> 01:16:32.020
<v Speaker 1>If you type that Oh, we haven't actually

01:16:32.020 --> 01:16:33.620
<v Speaker 0>checked the node resource.

01:16:34.865 --> 01:16:36.705
<v Speaker 0>I wonder if he's just modified it.

01:16:37.105 --> 01:16:39.105
<v Speaker 0>Could that stop it registering?

01:16:41.505 --> 01:16:42.945
<v Speaker 1>No. Like, if you look at the logs,

01:16:42.945 --> 01:16:44.145
<v Speaker 1>right, it's still connected issue.

01:16:49.160 --> 01:16:51.560
<v Speaker 1>Can we check the latest logs?

01:16:52.520 --> 01:16:55.080
<v Speaker 0>From the Kubernetes? From the Kubernetes? Yeah. Yep.

01:16:55.080 --> 01:16:56.360
<v Speaker 0>I've got them here.

01:16:57.160 --> 01:16:58.840
<v Speaker 0>We're just seeing the connection time out.

01:17:01.655 --> 01:17:03.655
<v Speaker 1>I use the connection time out. Kubit node's

01:17:03.655 --> 01:17:04.695
<v Speaker 0>not synced.

01:17:07.655 --> 01:17:10.215
<v Speaker 0>Failed to watch the node. Is that IP

01:17:10.215 --> 01:17:11.094
<v Speaker 1>the right one?

01:17:13.880 --> 01:17:16.199
<v Speaker 0>90 three one one eight.

01:17:17.160 --> 01:17:18.280
<v Speaker 0>I think so.

01:17:22.920 --> 01:17:24.920
<v Speaker 0>Yeah. The IP address is fine.

01:17:26.200 --> 01:17:26.600
<v Speaker 1>Yep.

01:17:27.305 --> 01:17:28.425
<v Speaker 1>518.

01:17:31.145 --> 01:17:33.065
<v Speaker 0>Alright. Matt's given us all the hints here,

01:17:33.065 --> 01:17:34.025
<v Speaker 0>so that's good.

01:17:34.825 --> 01:17:36.665
<v Speaker 0>That's something to do with IP v four

01:17:36.665 --> 01:17:38.345
<v Speaker 0>address. So let let's go back into that.

01:17:44.150 --> 01:17:46.470
<v Speaker 0>I've got the machine here. Right? What are

01:17:46.470 --> 01:17:47.350
<v Speaker 0>we expecting?

01:17:55.510 --> 01:17:56.150
<v Speaker 0>It's useless.

01:17:57.735 --> 01:17:58.855
<v Speaker 0>14Dot5.

01:17:58.855 --> 01:17:59.574
<v Speaker 0>14

01:17:59.895 --> 01:18:01.814
<v Speaker 0>Dot 5. I feel like

01:18:04.455 --> 01:18:05.574
<v Speaker 1>Yep. The

01:18:06.455 --> 01:18:07.414
<v Speaker 1>CDR?

01:18:08.855 --> 01:18:09.655
<v Speaker 1>Wait.

01:18:09.975 --> 01:18:12.054
<v Speaker 0>This is wrong. The Sillyum host. Right?

01:18:12.920 --> 01:18:15.320
<v Speaker 0>This IP address is just flat out

01:18:15.960 --> 01:18:18.119
<v Speaker 0>wrong because that's the pod network.

01:18:18.199 --> 01:18:19.959
<v Speaker 0>I wonder if we drop in the

01:18:21.400 --> 01:18:23.159
<v Speaker 0>10 dot address here. That alright? Think I

01:18:23.159 --> 01:18:25.480
<v Speaker 0>got But let's let's be fine. Before

01:18:25.480 --> 01:18:26.840
<v Speaker 0>I go change it, I was No. That's

01:18:26.840 --> 01:18:28.119
<v Speaker 1>like a working note. Yeah.

01:18:30.765 --> 01:18:32.205
<v Speaker 0>The amount of times I've made this worse

01:18:32.205 --> 01:18:34.365
<v Speaker 0>for myself by modifying something that I shouldn't

01:18:34.365 --> 01:18:35.005
<v Speaker 0>touch.

01:18:35.885 --> 01:18:37.645
<v Speaker 0>Oh, no. That's got the same. Okay.

01:18:42.060 --> 01:18:43.820
<v Speaker 0>Podsider, Podsider.

01:18:44.140 --> 01:18:46.060
<v Speaker 0>I've got a status here with the address.

01:18:46.060 --> 01:18:47.340
<v Speaker 0>So let's confirm that.

01:18:51.900 --> 01:18:53.500
<v Speaker 0>Maybe we should just print these to file

01:18:53.500 --> 01:18:55.340
<v Speaker 0>and def them actually. Let's do that.

01:18:57.565 --> 01:19:00.284
<v Speaker 0>Okay. So this is our broken.

01:19:02.445 --> 01:19:03.165
<v Speaker 1>Yep.

01:19:03.325 --> 01:19:05.165
<v Speaker 1>Yep. That's what I usually do.

01:19:06.125 --> 01:19:08.205
<v Speaker 0>Yeah. I've definitely made I just like always

01:19:08.205 --> 01:19:10.365
<v Speaker 1>save the YAML before usually I always save

01:19:10.365 --> 01:19:12.820
<v Speaker 1>the YAML before deleting in my stuff just

01:19:12.820 --> 01:19:13.780
<v Speaker 1>to be safe.

01:19:17.940 --> 01:19:18.740
<v Speaker 0>I

01:19:18.740 --> 01:19:20.900
<v Speaker 0>can't type. I'm gonna reload.

01:19:22.420 --> 01:19:23.460
<v Speaker 0>Hold on.

01:19:23.700 --> 01:19:26.020
<v Speaker 1>Okay. Oh, just type in reset. Like, whenever

01:19:26.020 --> 01:19:28.020
<v Speaker 1>this happens, like, if you type in reset,

01:19:28.020 --> 01:19:30.364
<v Speaker 1>it, like, fix the prompt. Oh, nice.

01:19:31.565 --> 01:19:33.645
<v Speaker 1>Yep. Just type in reset. Like, sometimes some

01:19:33.645 --> 01:19:36.045
<v Speaker 1>applications messes up with output. Just type in

01:19:36.045 --> 01:19:38.045
<v Speaker 1>reset. Like, you won't see that, like, you're

01:19:38.045 --> 01:19:39.725
<v Speaker 1>typing it in, but it should fix it.

01:19:41.980 --> 01:19:43.900
<v Speaker 0>Okay. So let's get notes.

01:19:47.020 --> 01:19:48.620
<v Speaker 0>K. Get notes.

01:19:48.620 --> 01:19:51.660
<v Speaker 0>Drop in a working one. Dash o o

01:19:51.660 --> 01:19:52.460
<v Speaker 0>g m o.

01:19:52.700 --> 01:19:53.260
<v Speaker 0>Working.

01:19:56.054 --> 01:19:57.734
<v Speaker 0>And then our broken one.

01:19:58.054 --> 01:19:59.815
<v Speaker 1>I miss the plug in. Like, I have

01:19:59.815 --> 01:20:02.774
<v Speaker 1>a lockout plug in, like, called qcutl neat.

01:20:03.014 --> 01:20:05.574
<v Speaker 1>So I always pipe output of minus o

01:20:05.574 --> 01:20:07.815
<v Speaker 1>YAML to qcutl neat, which should remove all

01:20:07.815 --> 01:20:09.815
<v Speaker 1>the unwanted stuff. So it's easier to test.

01:20:10.190 --> 01:20:12.429
<v Speaker 1>It's like a nice tool. Nice.

01:20:12.510 --> 01:20:13.789
<v Speaker 0>I'll check that one out.

01:20:14.670 --> 01:20:16.189
<v Speaker 0>Okay. Let's see what we've got.

01:20:16.670 --> 01:20:18.909
<v Speaker 0>Besides a really crappy diff, but

01:20:21.310 --> 01:20:23.150
<v Speaker 0>not worried about this. No. Let's not worry

01:20:23.150 --> 01:20:24.750
<v Speaker 1>about all of these. This is not I

01:20:24.750 --> 01:20:25.869
<v Speaker 0>think you're really want. Those are, like,

01:20:27.045 --> 01:20:28.804
<v Speaker 1>I just go go to the top.

01:20:29.605 --> 01:20:32.165
<v Speaker 1>All the data. Okay. The pod CD. Oh,

01:20:32.165 --> 01:20:33.685
<v Speaker 1>what is the pod CD? Was there, like,

01:20:33.685 --> 01:20:34.245
<v Speaker 1>a definite?

01:20:38.280 --> 01:20:40.440
<v Speaker 1>192. Yeah. It's more that each each node

01:20:40.440 --> 01:20:41.880
<v Speaker 0>has this on pod side. Yeah. I would

01:20:41.880 --> 01:20:43.320
<v Speaker 0>expect that. Yep. That's right.

01:20:43.880 --> 01:20:45.719
<v Speaker 0>Alright. And the only

01:20:46.039 --> 01:20:49.400
<v Speaker 1>difference was with the annotations. Right? Those are

01:20:49.400 --> 01:20:50.679
<v Speaker 1>still annotations.

01:20:51.239 --> 01:20:51.719
<v Speaker 0>Sorry?

01:20:54.345 --> 01:20:56.505
<v Speaker 1>Can you diff it again? Oh, yeah. Sure.

01:20:56.505 --> 01:20:57.145
<v Speaker 1>Alright.

01:20:58.345 --> 01:21:04.905
<v Speaker 1>So it says CLMHost921683653171.

01:21:04.905 --> 01:21:06.264
<v Speaker 1>Oh, wait.

01:21:06.585 --> 01:21:08.585
<v Speaker 1>That all seems like a little bit weird.

01:21:08.585 --> 01:21:10.739
<v Speaker 1>Like, doesn't match up. Right? Like, one is,

01:21:10.739 --> 01:21:12.579
<v Speaker 1>like, dot three and another is dot seven.

01:21:12.579 --> 01:21:13.460
<v Speaker 1>That's like it goes like

01:21:14.579 --> 01:21:16.179
<v Speaker 1>I'm not sure if it's like a c

01:21:16.179 --> 01:21:16.579
<v Speaker 1>n thing.

01:21:22.295 --> 01:21:24.614
<v Speaker 0>Yeah. I think it's allocating its own

01:21:26.215 --> 01:21:28.215
<v Speaker 0>network to each node and each pod gets

01:21:28.215 --> 01:21:31.094
<v Speaker 0>its own address space. I think that's alright.

01:21:32.295 --> 01:21:34.935
<v Speaker 1>Okay. Let's take that CCM by second. Yeah.

01:21:39.440 --> 01:21:40.240
<v Speaker 1>Celium.

01:21:41.200 --> 01:21:42.480
<v Speaker 1>Celium by Fic.

01:21:43.520 --> 01:21:45.680
<v Speaker 0>I'm curious, Matt. Did you kill Hubble?

01:21:48.480 --> 01:21:50.080
<v Speaker 0>It's really annoying me that we don't have

01:21:50.080 --> 01:21:51.600
<v Speaker 0>Hubble. Oh, look at that.

01:21:53.145 --> 01:21:54.025
<v Speaker 0>Wow.

01:21:55.705 --> 01:21:57.385
<v Speaker 0>The classic table approach.

01:21:58.185 --> 01:21:58.824
<v Speaker 1>Yep.

01:22:00.825 --> 01:22:02.585
<v Speaker 0>See if there's anything else in here.

01:22:04.505 --> 01:22:07.670
<v Speaker 1>It should like once the series is over,

01:22:07.670 --> 01:22:09.750
<v Speaker 1>like, you should probably write a book, like,

01:22:09.750 --> 01:22:12.230
<v Speaker 1>100 ways to break Kubernetes clusters.

01:22:13.750 --> 01:22:15.590
<v Speaker 0>Alright. Let's fix both of those. I think

01:22:15.590 --> 01:22:17.430
<v Speaker 0>10 I think it should be 10 slash

01:22:17.430 --> 01:22:18.230
<v Speaker 0>16.

01:22:19.110 --> 01:22:20.150
<v Speaker 0>Not

01:22:20.230 --> 01:22:20.710
<v Speaker 0>a hundred.

01:22:21.825 --> 01:22:24.705
<v Speaker 0>No. Probably, like, try restarting the cube like

01:22:24.785 --> 01:22:25.264
<v Speaker 1>yeah.

01:22:29.985 --> 01:22:30.945
<v Speaker 0>That started.

01:22:38.500 --> 01:22:39.699
<v Speaker 0>Oh, no. It's not.

01:22:40.500 --> 01:22:42.820
<v Speaker 0>Oh, wait. Is it? Yeah. No.

01:22:43.539 --> 01:22:44.260
<v Speaker 0>Direct it?

01:22:49.265 --> 01:22:50.785
<v Speaker 0>Yeah. That's not starting. Damn it.

01:23:10.070 --> 01:23:10.949
<v Speaker 0>Disabled.

01:23:13.590 --> 01:23:14.550
<v Speaker 1>It's yeah. That's.

01:23:20.365 --> 01:23:22.845
<v Speaker 0>Matt says our CIDRs are wrong. I think

01:23:22.845 --> 01:23:24.045
<v Speaker 0>we just fixed that.

01:23:24.445 --> 01:23:25.165
<v Speaker 0>Right?

01:23:25.565 --> 01:23:26.605
<v Speaker 1>Or

01:23:26.845 --> 01:23:28.525
<v Speaker 1>is it, like, a wrong one?

01:23:31.245 --> 01:23:33.325
<v Speaker 1>This I assume this is a cluster c

01:23:33.325 --> 01:23:33.725
<v Speaker 1>a d r.

01:23:34.640 --> 01:23:37.440
<v Speaker 0>Yes. Thanks, Pop. I hope you're enjoying our

01:23:37.440 --> 01:23:38.400
<v Speaker 0>suffering here.

01:23:40.880 --> 01:23:42.800
<v Speaker 1>No. I don't want Pop mentioned he needs

01:23:42.800 --> 01:23:43.920
<v Speaker 1>to go for me.

01:23:45.360 --> 01:23:47.040
<v Speaker 0>Right. Okay. Let's go through this.

01:23:47.600 --> 01:23:49.440
<v Speaker 0>There's gonna be something here. So

01:23:51.895 --> 01:23:54.935
<v Speaker 0>the were insiders were 1000Slash16.

01:23:54.935 --> 01:23:55.975
<v Speaker 0>We think that was wrong. We set it

01:23:55.975 --> 01:23:58.055
<v Speaker 0>back to 1000016.

01:23:58.855 --> 01:24:00.935
<v Speaker 1>If we could verify from the working cluster

01:24:01.255 --> 01:24:02.855
<v Speaker 1>oh, I know what that was. We don't

01:24:02.855 --> 01:24:03.735
<v Speaker 1>have a working cluster.

01:24:06.170 --> 01:24:09.130
<v Speaker 0>Tim Hawkins cluster is permanently destroyed.

01:24:16.890 --> 01:24:19.050
<v Speaker 0>In fact, I have the Cilium config map.

01:24:19.675 --> 01:24:22.315
<v Speaker 0>Do I? Yeah. Let's take the local one.

01:24:24.315 --> 01:24:25.835
<v Speaker 0>Yeah. I might be able to.

01:24:27.435 --> 01:24:29.914
<v Speaker 1>Yeah. Probably, like it'd be, a different one.

01:24:30.074 --> 01:24:31.594
<v Speaker 0>Anyway I know we use the

01:24:33.355 --> 01:24:33.995
<v Speaker 0>let's see.

01:24:35.410 --> 01:24:37.650
<v Speaker 1>Oh, should we restart the CD ports

01:24:38.210 --> 01:24:40.210
<v Speaker 1>after Oh, yeah. Yeah. If we haven't reset

01:24:40.370 --> 01:24:42.690
<v Speaker 0>yeah. Of course. We have to restart the

01:24:43.650 --> 01:24:44.770
<v Speaker 1>CuteProttle,

01:24:44.770 --> 01:24:45.409
<v Speaker 1>rollout,

01:24:45.650 --> 01:24:46.610
<v Speaker 1>restart.

01:24:47.330 --> 01:24:48.130
<v Speaker 1>Just being nice.

01:24:50.385 --> 01:24:52.385
<v Speaker 0>You have people with your rollout restarts. I

01:24:52.385 --> 01:24:54.785
<v Speaker 0>generally just go for the delete approach and

01:24:54.785 --> 01:24:56.945
<v Speaker 0>let Kubernetes do it. I used to do

01:24:56.945 --> 01:24:58.864
<v Speaker 1>that, but after watching, like,

01:24:59.345 --> 01:25:01.745
<v Speaker 1>Jason doing it, I couldn't, like this seems

01:25:01.745 --> 01:25:02.784
<v Speaker 1>like more

01:25:05.330 --> 01:25:07.170
<v Speaker 1>Wait. Okay. It must be like a stateful

01:25:07.170 --> 01:25:08.050
<v Speaker 1>set. Right?

01:25:10.450 --> 01:25:11.250
<v Speaker 0>Honestly,

01:25:11.490 --> 01:25:14.530
<v Speaker 0>k dash n, solium, get paused, delete all,

01:25:14.530 --> 01:25:14.850
<v Speaker 0>like.

01:25:19.105 --> 01:25:21.585
<v Speaker 1>I don't know. It must be. Celeum is

01:25:21.585 --> 01:25:23.345
<v Speaker 1>a demon set. Okay. Yeah. I should be.

01:25:23.345 --> 01:25:25.105
<v Speaker 0>The deployment is oh, yeah. So the operators

01:25:25.105 --> 01:25:26.625
<v Speaker 0>are deployed, but we need to restart the

01:25:26.625 --> 01:25:29.185
<v Speaker 0>agent. So restart the demon set Celeum. Yes.

01:25:29.185 --> 01:25:29.905
<v Speaker 0>Celeum. Yep.

01:25:31.250 --> 01:25:32.050
<v Speaker 1>Matt

01:25:36.450 --> 01:25:38.610
<v Speaker 0>has thrown out some more tips. He's taken

01:25:38.610 --> 01:25:40.850
<v Speaker 0>absolute pity on us and saying if I

01:25:40.850 --> 01:25:42.450
<v Speaker 0>look at my helm values,

01:25:43.490 --> 01:25:45.890
<v Speaker 0>my pod cider starts with one name two.

01:25:46.095 --> 01:25:48.255
<v Speaker 0>So let me pop that open again.

01:25:49.375 --> 01:25:50.895
<v Speaker 0>So has that been changed in the config

01:25:50.895 --> 01:25:52.895
<v Speaker 0>map? Native. Oh, of course. Yeah. Native written

01:25:52.895 --> 01:25:54.815
<v Speaker 0>cider. I've set it to 1000,

01:25:54.815 --> 01:25:55.695
<v Speaker 0>which is stupid.

01:25:56.015 --> 01:25:57.615
<v Speaker 0>192168.

01:25:58.495 --> 01:26:00.895
<v Speaker 0>But we need to modify our our config

01:26:00.895 --> 01:26:01.375
<v Speaker 0>map again.

01:26:02.409 --> 01:26:05.690
<v Speaker 0>Thanks, Matt. So our cluster pool IPV four

01:26:05.690 --> 01:26:07.130
<v Speaker 0>should be 192168

01:26:07.130 --> 01:26:07.769
<v Speaker 0>as well.

01:26:09.369 --> 01:26:11.369
<v Speaker 0>It'll need to be a yes. Dot zero

01:26:11.369 --> 01:26:12.729
<v Speaker 0>dot zero slash sixteen.

01:26:13.289 --> 01:26:13.690
<v Speaker 1>Okay.

01:26:16.785 --> 01:26:18.304
<v Speaker 0>You're probably yeah.

01:26:18.705 --> 01:26:21.425
<v Speaker 1>Other one should be where are you?

01:26:30.150 --> 01:26:32.310
<v Speaker 0>And then we're ready to roll out. Roll

01:26:32.310 --> 01:26:32.869
<v Speaker 1>out.

01:26:34.310 --> 01:26:35.110
<v Speaker 1>Yep.

01:26:35.270 --> 01:26:38.710
<v Speaker 1>And there was one more roll out. That's

01:26:38.710 --> 01:26:40.550
<v Speaker 1>three. It's just the So

01:26:40.870 --> 01:26:44.165
<v Speaker 0>I The Equidix metal private IP foresider is

01:26:44.165 --> 01:26:44.804
<v Speaker 0>actually

01:26:45.205 --> 01:26:45.925
<v Speaker 0>ten

01:26:46.165 --> 01:26:46.804
<v Speaker 0>dot.

01:26:47.525 --> 01:26:49.685
<v Speaker 1>If we if if we tell Cillium to

01:26:49.685 --> 01:26:51.605
<v Speaker 0>work on that space, I'm surprised more bad

01:26:51.605 --> 01:26:52.485
<v Speaker 0>things didn't happen.

01:26:57.920 --> 01:26:59.440
<v Speaker 0>Look at that. We've got them all.

01:27:00.000 --> 01:27:01.519
<v Speaker 0>Do you wanna run get notes?

01:27:02.960 --> 01:27:03.679
<v Speaker 1>Yep.

01:27:07.280 --> 01:27:09.520
<v Speaker 0>Hold on. I'm gonna restart that kubelet that

01:27:09.520 --> 01:27:09.920
<v Speaker 0>kubelets.

01:27:10.425 --> 01:27:12.105
<v Speaker 1>What is the debug

01:27:12.105 --> 01:27:14.584
<v Speaker 1>board doing there? Let's delete that.

01:27:16.105 --> 01:27:17.304
<v Speaker 0>I don't know. People like to leave me

01:27:17.304 --> 01:27:19.385
<v Speaker 0>little presents on cluster, I've noticed.

01:27:23.560 --> 01:27:24.840
<v Speaker 1>Delete board.

01:27:25.080 --> 01:27:27.240
<v Speaker 0>Alright. I restarted that kubelet.

01:27:27.800 --> 01:27:29.480
<v Speaker 1>And it deleted the Deepak board.

01:27:35.905 --> 01:27:37.745
<v Speaker 1>But if it was an actual cluster, like,

01:27:37.745 --> 01:27:38.945
<v Speaker 1>if I see something like that, I would

01:27:38.945 --> 01:27:41.345
<v Speaker 1>always, like, find like, describe, see the YAML,

01:27:41.345 --> 01:27:43.185
<v Speaker 1>find the image, get the old file system,

01:27:43.185 --> 01:27:44.945
<v Speaker 1>save it somewhere, and, like, inspect it later

01:27:44.945 --> 01:27:47.585
<v Speaker 1>on. It's fun to do such things.

01:27:47.985 --> 01:27:49.665
<v Speaker 1>Right here, just the update.

01:27:51.450 --> 01:27:52.889
<v Speaker 1>Okay. Must be

01:27:56.170 --> 01:27:56.889
<v Speaker 1>yep.

01:27:58.650 --> 01:28:00.409
<v Speaker 1>Let me see if it's a deep pipeline.

01:28:00.730 --> 01:28:02.570
<v Speaker 1>Nope. I think my thing is that weird.

01:28:02.570 --> 01:28:03.290
<v Speaker 0>Let me refresh.

01:28:04.675 --> 01:28:06.755
<v Speaker 0>Did we have all all the nodes? Then

01:28:06.755 --> 01:28:08.035
<v Speaker 0>we will go, oh, we don't have all

01:28:08.035 --> 01:28:08.515
<v Speaker 0>that.

01:28:08.915 --> 01:28:09.795
<v Speaker 1>Not yet.

01:28:10.595 --> 01:28:12.435
<v Speaker 1>That's it. We will have lost the game.

01:28:12.435 --> 01:28:13.795
<v Speaker 1>And meantime,

01:28:13.875 --> 01:28:16.035
<v Speaker 1>I just want to see why those ports

01:28:16.035 --> 01:28:16.755
<v Speaker 1>are

01:28:17.235 --> 01:28:18.515
<v Speaker 1>not terminating.

01:28:18.515 --> 01:28:19.395
<v Speaker 1>It's kind of stuck.

01:28:24.770 --> 01:28:26.610
<v Speaker 1>Serial f w.

01:28:30.610 --> 01:28:32.370
<v Speaker 0>So we're still getting,

01:28:33.335 --> 01:28:35.255
<v Speaker 0>oh, we're getting a lease adder.

01:28:40.375 --> 01:28:42.135
<v Speaker 1>No. It's still a timeout. Right?

01:28:42.535 --> 01:28:44.295
<v Speaker 0>Oh, yeah. I missed that. Okay. I was

01:28:44.295 --> 01:28:46.535
<v Speaker 0>too busy reading this. Okay. So we're still

01:28:46.535 --> 01:28:47.575
<v Speaker 0>getting a timeout here.

01:28:48.770 --> 01:28:50.370
<v Speaker 1>It says terminating,

01:28:50.370 --> 01:28:51.810
<v Speaker 1>but it's not terminated.

01:28:52.610 --> 01:28:55.650
<v Speaker 1>And why is its priority, like, too high?

01:28:58.530 --> 01:28:59.890
<v Speaker 0>Where? I did.

01:29:02.145 --> 01:29:03.344
<v Speaker 1>Priority.

01:29:05.505 --> 01:29:07.264
<v Speaker 1>No. That's fine, I guess. Like, let's just

01:29:07.264 --> 01:29:09.344
<v Speaker 1>get the pods. But it's, like, still terminating

01:29:09.344 --> 01:29:11.584
<v Speaker 1>for, like, some Yeah. I'm gonna

01:29:11.905 --> 01:29:13.744
<v Speaker 0>gently encourage that. Yeah.

01:29:15.840 --> 01:29:17.519
<v Speaker 0>Chris, period.

01:29:17.520 --> 01:29:18.719
<v Speaker 1>Period. I can't.

01:29:19.040 --> 01:29:20.639
<v Speaker 0>Although, it's actually this is the one that's

01:29:20.639 --> 01:29:22.560
<v Speaker 0>on the Kubelet node that can't connect. So

01:29:22.560 --> 01:29:24.959
<v Speaker 0>that it's not even gonna terminate anyway.

01:29:25.199 --> 01:29:26.719
<v Speaker 1>Oh, yeah. K. Got it.

01:29:28.954 --> 01:29:29.594
<v Speaker 1>Just.

01:29:32.155 --> 01:29:34.235
<v Speaker 0>Yeah. So that's pending. Yep. Right? And because

01:29:34.235 --> 01:29:35.915
<v Speaker 0>we don't have a kuplet, it's

01:29:35.915 --> 01:29:36.794
<v Speaker 0>stuck there.

01:29:39.915 --> 01:29:41.835
<v Speaker 1>Okay. Let's describe

01:29:41.835 --> 01:29:43.034
<v Speaker 1>the node

01:29:43.960 --> 01:29:44.440
<v Speaker 1>again.

01:30:01.205 --> 01:30:02.005
<v Speaker 1>Wow.

01:30:02.405 --> 01:30:04.005
<v Speaker 1>That is cool. I'm

01:30:06.085 --> 01:30:07.605
<v Speaker 0>just gonna keep looking at the cubelet logs

01:30:07.605 --> 01:30:09.285
<v Speaker 0>and hope that something pops up.

01:30:11.220 --> 01:30:12.020
<v Speaker 0>In

01:30:12.580 --> 01:30:13.940
<v Speaker 0>fact you know I'm gonna stop it through

01:30:13.940 --> 01:30:15.699
<v Speaker 0>system D and I'm gonna maybe

01:30:16.660 --> 01:30:17.140
<v Speaker 0>I'll start it.

01:30:24.155 --> 01:30:26.235
<v Speaker 0>Matt says there there we go, but I

01:30:26.235 --> 01:30:27.994
<v Speaker 0>don't know. Oh wait.

01:30:34.955 --> 01:30:36.555
<v Speaker 0>The Wally doesn't matter to us to check

01:30:36.555 --> 01:30:37.595
<v Speaker 0>the Kubernetes service.

01:30:54.045 --> 01:30:56.445
<v Speaker 0>But the service wouldn't explain why our Kubelet

01:30:56.445 --> 01:30:57.244
<v Speaker 0>can't

01:30:58.285 --> 01:31:00.445
<v Speaker 0>connect. Right? Or is there Kubelet connect that

01:31:00.445 --> 01:31:01.965
<v Speaker 0>something's broken

01:31:01.965 --> 01:31:03.645
<v Speaker 0>even though it's speaking to the server? Hold

01:31:03.645 --> 01:31:04.605
<v Speaker 0>on. Let me see if I can get

01:31:04.605 --> 01:31:08.045
<v Speaker 0>an actual error. Has an endpoint said it's

01:31:07.170 --> 01:31:09.650
<v Speaker 1>oh, wait. Its endpoint is wrong. Right?

01:31:15.170 --> 01:31:17.170
<v Speaker 0>The endpoint should be

01:31:17.730 --> 01:31:19.010
<v Speaker 0>93118.

01:31:21.465 --> 01:31:22.185
<v Speaker 1>Yep.

01:31:22.345 --> 01:31:24.265
<v Speaker 1>And it's 127.

01:31:24.745 --> 01:31:27.145
<v Speaker 0>Well, that's the control plane's other IP address.

01:31:27.145 --> 01:31:28.345
<v Speaker 0>That should also work.

01:31:28.665 --> 01:31:29.705
<v Speaker 1>Oh, okay. Okay.

01:31:30.265 --> 01:31:32.185
<v Speaker 0>So we have a Oh, the target one

01:31:32.185 --> 01:31:34.425
<v Speaker 1>is wrong. Right? It says 123.

01:31:37.350 --> 01:31:38.150
<v Speaker 0>Oh, yeah.

01:31:42.150 --> 01:31:43.670
<v Speaker 0>But I still don't think that explains why

01:31:43.670 --> 01:31:45.430
<v Speaker 0>our Kubelet can't speak to the API server.

01:31:47.815 --> 01:31:50.055
<v Speaker 1>But what? Yeah. I don't understand, like, why

01:31:50.055 --> 01:31:51.655
<v Speaker 1>the service should affect it. Right? Like, it

01:31:51.655 --> 01:31:53.335
<v Speaker 1>just radically

01:31:54.135 --> 01:31:54.935
<v Speaker 1>hits the

01:31:56.535 --> 01:31:58.775
<v Speaker 1>and the target bot should be

01:31:59.335 --> 01:32:00.375
<v Speaker 1>6443.

01:32:02.240 --> 01:32:04.000
<v Speaker 0>Matt, same. We're looking right at it.

01:32:04.320 --> 01:32:06.080
<v Speaker 0>Yeah. Matt, you'll find out soon enough that

01:32:06.080 --> 01:32:07.680
<v Speaker 0>when you're on the stream, you're looking at

01:32:07.680 --> 01:32:09.760
<v Speaker 0>a lot of things and it's it's

01:32:09.760 --> 01:32:10.800
<v Speaker 0>it's difficult.

01:32:11.760 --> 01:32:13.840
<v Speaker 1>I guess it's 6443.

01:32:14.000 --> 01:32:14.320
<v Speaker 1>Right?

01:32:16.835 --> 01:32:17.795
<v Speaker 0>Yeah.

01:32:17.875 --> 01:32:18.114
<v Speaker 0>I

01:32:18.995 --> 01:32:20.114
<v Speaker 1>Yeah. It is.

01:32:28.355 --> 01:32:30.675
<v Speaker 1>Alright. It says 6443. Alright. Like, we could

01:32:30.675 --> 01:32:33.119
<v Speaker 1>like to queue port forward and, like, see.

01:32:33.360 --> 01:32:34.000
<v Speaker 1>And

01:32:34.640 --> 01:32:35.760
<v Speaker 1>there's the node.

01:32:36.000 --> 01:32:36.480
<v Speaker 1>I

01:32:38.960 --> 01:32:39.520
<v Speaker 0>hate this queue.

01:32:45.215 --> 01:32:46.735
<v Speaker 0>No. We're still getting a tame out. And

01:32:46.735 --> 01:32:48.015
<v Speaker 0>I don't think that's really easy to the

01:32:48.015 --> 01:32:50.255
<v Speaker 0>surface. This is something else. Yeah. But it

01:32:50.255 --> 01:32:51.695
<v Speaker 1>must be something different. Yeah.

01:32:52.015 --> 01:32:53.775
<v Speaker 0>Wait. I'm gonna restart it one more time

01:32:53.775 --> 01:32:55.935
<v Speaker 0>because, you know, I feel like I'm gonna

01:32:56.870 --> 01:32:58.230
<v Speaker 0>another circle.

01:33:00.550 --> 01:33:03.750
<v Speaker 0>So starting speaking to container d.

01:33:06.950 --> 01:33:08.950
<v Speaker 0>What was the very first error message?

01:33:18.985 --> 01:33:20.985
<v Speaker 0>Yeah. It's still a connection timeout on the

01:33:20.985 --> 01:33:22.185
<v Speaker 0>right IP address.

01:33:22.345 --> 01:33:23.545
<v Speaker 0>I'm just gonna

01:33:23.945 --> 01:33:25.385
<v Speaker 0>try this with curl again.

01:33:34.420 --> 01:33:36.340
<v Speaker 0>Yeah. I I just I can't get to

01:33:36.340 --> 01:33:36.820
<v Speaker 0>that note.

01:33:47.155 --> 01:33:48.594
<v Speaker 1>All the same stuff we're going.

01:33:51.000 --> 01:33:53.160
<v Speaker 0>But I don't I don't yeah. It can't

01:33:53.160 --> 01:33:54.920
<v Speaker 0>be the service. There must be

01:33:57.640 --> 01:33:59.560
<v Speaker 0>I'm gonna try and just make sure. Let's

01:33:59.560 --> 01:33:59.800
<v Speaker 0>see.

01:34:04.275 --> 01:34:06.514
<v Speaker 1>Just I get it from my local one.

01:34:06.515 --> 01:34:07.874
<v Speaker 1>Point 40 five.

01:34:10.114 --> 01:34:11.074
<v Speaker 0>Oh, alright.

01:34:17.500 --> 01:34:18.620
<v Speaker 0>No. On you go. Oh, it's not even

01:34:18.620 --> 01:34:21.260
<v Speaker 1>pinging. I was typing to yeah. It's I

01:34:21.260 --> 01:34:23.260
<v Speaker 0>can't even ping the private address.

01:34:23.660 --> 01:34:24.940
<v Speaker 0>I don't know if this is part of

01:34:24.940 --> 01:34:25.739
<v Speaker 0>Matt's

01:34:26.060 --> 01:34:27.820
<v Speaker 0>break or just completely unrelated.

01:34:34.405 --> 01:34:36.565
<v Speaker 0>Can you ping that IP address? Do you

01:34:36.565 --> 01:34:39.445
<v Speaker 0>wanna try a ping 1025141?

01:34:41.125 --> 01:34:42.805
<v Speaker 0>So 1025.

01:34:45.170 --> 01:34:48.210
<v Speaker 1>40 1. Right? 14.

01:34:49.410 --> 01:34:51.570
<v Speaker 0>No. Wait. That's that's not our computer.

01:34:52.050 --> 01:34:53.489
<v Speaker 0>Let me read out from here.

01:34:54.930 --> 01:34:55.650
<v Speaker 0>Try

01:34:56.850 --> 01:34:57.730
<v Speaker 0>pinging

01:34:57.810 --> 01:34:59.810
<v Speaker 0>ten twenty five fourteen dot five.

01:35:03.045 --> 01:35:03.764
<v Speaker 1>Nope.

01:35:03.925 --> 01:35:05.925
<v Speaker 0>Alright. And just for clarity, let's try and

01:35:05.925 --> 01:35:07.525
<v Speaker 0>ping one of the other machines. So let's

01:35:07.525 --> 01:35:08.485
<v Speaker 0>try pinging

01:35:09.125 --> 01:35:10.485
<v Speaker 0>4 143.

01:35:12.829 --> 01:35:14.349
<v Speaker 0>Right. Yeah. It does.

01:35:15.789 --> 01:35:17.389
<v Speaker 0>I think this is unrelated.

01:35:22.190 --> 01:35:24.510
<v Speaker 1>The I think, like, traffic both of these

01:35:24.510 --> 01:35:25.230
<v Speaker 1>is blocked. Right?

01:35:27.055 --> 01:35:29.855
<v Speaker 0>Yeah. But Matt said he only used kubectl.

01:35:29.855 --> 01:35:31.935
<v Speaker 0>And if I can't even ping the private

01:35:32.335 --> 01:35:34.175
<v Speaker 0>I p v four address,

01:35:37.535 --> 01:35:40.255
<v Speaker 0>that's a problem and not the one I

01:35:40.255 --> 01:35:41.215
<v Speaker 0>think Matt's given us.

01:35:42.230 --> 01:35:43.830
<v Speaker 0>Oh, maybe we should just ignore that for

01:35:43.830 --> 01:35:46.310
<v Speaker 0>now. Have we gotten the cluster healthy besides

01:35:46.310 --> 01:35:47.750
<v Speaker 0>that that machine?

01:35:49.110 --> 01:35:51.350
<v Speaker 1>Oh, yeah. We should. If did, let me

01:35:51.350 --> 01:35:51.989
<v Speaker 1>just

01:35:56.125 --> 01:35:58.445
<v Speaker 1>Yep. It does connect. Yeah. That's right. So

01:36:02.685 --> 01:36:05.724
<v Speaker 1>oh, it's terminating. It's prop okay. The other

01:36:05.724 --> 01:36:08.445
<v Speaker 1>one is running. So and the Postgres, it

01:36:08.445 --> 01:36:10.045
<v Speaker 1>probably like, if it delete and it gets

01:36:10.045 --> 01:36:12.400
<v Speaker 1>rescheduled on the Yeah. If we force delete

01:36:12.400 --> 01:36:14.480
<v Speaker 0>Postgres, I reckon that'll restart on a node

01:36:14.480 --> 01:36:16.000
<v Speaker 0>that works. I think we just got unlucky

01:36:16.000 --> 01:36:17.519
<v Speaker 0>and had some other random

01:36:18.159 --> 01:36:20.639
<v Speaker 0>networking problem. And remember I said when we

01:36:20.639 --> 01:36:23.599
<v Speaker 0>set the native pod CIDR to 10 dot,

01:36:23.599 --> 01:36:25.280
<v Speaker 0>I was surprised that more things didn't break.

01:36:25.280 --> 01:36:26.800
<v Speaker 0>Well, I think maybe that's what's happened.

01:36:28.005 --> 01:36:30.885
<v Speaker 1>I just created my password from my clipboard.

01:36:33.045 --> 01:36:33.764
<v Speaker 0>Oops.

01:36:34.405 --> 01:36:36.485
<v Speaker 0>I have done that before. Don't worry.

01:36:38.005 --> 01:36:40.085
<v Speaker 1>It's fine. It's just for this episode, so

01:36:40.085 --> 01:36:41.285
<v Speaker 1>it's, like, a temporary thing.

01:36:44.807 --> 01:36:47.287
<v Speaker 1>Oh, but it okay. I had to forcefully.

01:36:48.327 --> 01:36:50.648
<v Speaker 0>Yeah. Force grace, you know, grace period, you

01:36:50.648 --> 01:36:50.807
<v Speaker 0>know.
