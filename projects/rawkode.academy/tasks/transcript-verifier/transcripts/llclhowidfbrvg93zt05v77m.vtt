WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: d795b3c4-8e9a-4ba4-ae45-f325da147b77
Created: 2025-04-29T17:28:22.915Z
Duration: 4305.973
Channels: 1

00:01:01.720 --> 00:01:02.600
<v Speaker 0>Hello,

00:01:02.680 --> 00:01:05.640
<v Speaker 0>and welcome to today's episode of Clustered at

00:01:05.640 --> 00:01:06.840
<v Speaker 0>the Rawkode Academy.

00:01:07.295 --> 00:01:09.215
<v Speaker 0>My name is David Flanagan, although you may

00:01:09.215 --> 00:01:11.454
<v Speaker 0>know me across the internet as Rawkode.

00:01:12.095 --> 00:01:14.335
<v Speaker 0>Today we have a fantastic episode of Clustered,

00:01:14.335 --> 00:01:15.775
<v Speaker 0>but before we start that, there is a

00:01:15.775 --> 00:01:16.975
<v Speaker 0>little bit of housekeeping.

00:01:17.215 --> 00:01:20.174
<v Speaker 0>Please remember to like these videos, add comments,

00:01:20.174 --> 00:01:21.215
<v Speaker 0>share them, subscribe.

00:01:22.530 --> 00:01:24.450
<v Speaker 0>It just helps other people find this content

00:01:24.450 --> 00:01:26.450
<v Speaker 0>and we all have a lot more fun.

00:01:26.850 --> 00:01:28.850
<v Speaker 0>If you really wish, there are membership options

00:01:28.850 --> 00:01:31.250
<v Speaker 0>available on the academy to support the channel

00:01:31.250 --> 00:01:33.729
<v Speaker 0>and to get access to an InfluxDB Complete

00:01:33.729 --> 00:01:36.335
<v Speaker 0>Guide course, which is currently in flight. We

00:01:36.335 --> 00:01:38.895
<v Speaker 0>also have a very active discord community available

00:01:38.895 --> 00:01:40.255
<v Speaker 0>at Rawkode Chat,

00:01:40.415 --> 00:01:42.015
<v Speaker 0>where you can come and say hello, talk

00:01:42.015 --> 00:01:45.615
<v Speaker 0>all things Kubernetes, cloud native, Clustard, eBPF,

00:01:45.615 --> 00:01:47.375
<v Speaker 0>and just so much more cool stuff. It's

00:01:47.375 --> 00:01:49.295
<v Speaker 0>a great place. I look forward to meeting

00:01:49.295 --> 00:01:49.455
<v Speaker 0>you.

00:01:50.800 --> 00:01:51.520
<v Speaker 0>Alright.

00:01:52.720 --> 00:01:55.680
<v Speaker 0>Today is clustered. We are joined by two

00:01:56.080 --> 00:01:59.280
<v Speaker 0>members of the Discord community, our book club

00:01:59.280 --> 00:02:00.240
<v Speaker 0>organizers,

00:02:00.240 --> 00:02:01.760
<v Speaker 0>Eric and Carlos.

00:02:01.840 --> 00:02:03.600
<v Speaker 0>Hello, both of you. How are you both

00:02:03.600 --> 00:02:07.415
<v Speaker 0>doing today? Hello. Doing great. Alright. Let's start

00:02:07.415 --> 00:02:09.095
<v Speaker 0>with you, Eric. Do you wanna introduce yourself,

00:02:09.095 --> 00:02:09.495
<v Speaker 0>please?

00:02:09.975 --> 00:02:11.015
<v Speaker 1>Sure. So

00:02:11.415 --> 00:02:13.575
<v Speaker 1>I'm the guy who's here to learn because

00:02:13.735 --> 00:02:15.655
<v Speaker 1>I'm sure Carlos is going to decimate me

00:02:15.655 --> 00:02:17.815
<v Speaker 1>here, but not that it's competitive as we're

00:02:17.815 --> 00:02:18.695
<v Speaker 1>talking before the call.

00:02:19.650 --> 00:02:22.610
<v Speaker 1>Now I'm Eric Smalling. I am a former

00:02:23.410 --> 00:02:26.610
<v Speaker 1>DevOps consultant. I've been with VMware Docker VMware

00:02:26.610 --> 00:02:27.810
<v Speaker 1>twice, actually.

00:02:28.450 --> 00:02:30.450
<v Speaker 1>And I've been doing Docker containers

00:02:30.450 --> 00:02:33.165
<v Speaker 1>for, gosh, since, like, dot o six days.

00:02:34.365 --> 00:02:36.445
<v Speaker 1>Now I am a senior dev advocate at

00:02:36.445 --> 00:02:37.965
<v Speaker 1>Snyk. I've been there for almost a year

00:02:37.965 --> 00:02:41.085
<v Speaker 1>now, so focusing on container security and stuff

00:02:41.085 --> 00:02:41.725
<v Speaker 1>like that.

00:02:42.285 --> 00:02:44.125
<v Speaker 0>Thank you very much. Thanks for sharing. And

00:02:44.125 --> 00:02:44.525
<v Speaker 0>Carlos.

00:02:45.730 --> 00:02:48.530
<v Speaker 2>Hello. Hello. So glad to be here with

00:02:48.530 --> 00:02:51.250
<v Speaker 2>Eric. We meet every every Friday. We have

00:02:51.250 --> 00:02:54.210
<v Speaker 2>an open book club on Kubernetes, so anyone

00:02:54.210 --> 00:02:56.450
<v Speaker 2>wants to join our Discord.

00:02:56.610 --> 00:02:58.450
<v Speaker 2>So this is a fun thing because we

00:02:58.450 --> 00:02:58.850
<v Speaker 2>always

00:02:59.975 --> 00:03:01.335
<v Speaker 2>spend time on the book, and this time,

00:03:01.335 --> 00:03:03.255
<v Speaker 2>we're going to actually implement the stuff we're

00:03:03.255 --> 00:03:04.135
<v Speaker 2>learning. So

00:03:04.695 --> 00:03:05.095
<v Speaker 2>I

00:03:05.655 --> 00:03:07.415
<v Speaker 2>like I said, I worked in IBM for

00:03:07.415 --> 00:03:09.415
<v Speaker 2>the last about twenty years.

00:03:09.735 --> 00:03:13.255
<v Speaker 2>Last things around cloud native, I implemented something

00:03:13.255 --> 00:03:14.615
<v Speaker 2>called IBM Cloud Functions,

00:03:15.310 --> 00:03:17.870
<v Speaker 2>serverless. And then the last four years, I've

00:03:17.870 --> 00:03:18.670
<v Speaker 2>been doing,

00:03:19.150 --> 00:03:22.590
<v Speaker 2>cloud architecture with Kubernetes OpenShift most likely,

00:03:23.710 --> 00:03:26.830
<v Speaker 2>and, yeah, helping customers get into production with,

00:03:27.550 --> 00:03:29.070
<v Speaker 2>cloud and Kubernetes.

00:03:29.765 --> 00:03:32.245
<v Speaker 2>And I'm also a a technical lead for

00:03:32.245 --> 00:03:33.605
<v Speaker 2>the Knative, so I do a lot of

00:03:33.605 --> 00:03:34.405
<v Speaker 2>open source.

00:03:35.605 --> 00:03:37.125
<v Speaker 0>Alright. Thank you very much.

00:03:37.525 --> 00:03:39.525
<v Speaker 0>We have a question from Noel in the

00:03:39.525 --> 00:03:42.165
<v Speaker 0>chat. Is Carlos wearing a clustered shirt?

00:03:42.485 --> 00:03:43.525
<v Speaker 2>Yes. I mean,

00:03:44.610 --> 00:03:46.450
<v Speaker 2>David is trying to hire me, so I

00:03:46.450 --> 00:03:47.730
<v Speaker 2>feel like one over one.

00:03:48.850 --> 00:03:52.130
<v Speaker 0>Alright. Awesome. So we're about to kick off

00:03:52.130 --> 00:03:54.770
<v Speaker 0>first. It's going to be Carlos and I

00:03:54.770 --> 00:03:55.410
<v Speaker 0>working on

00:03:56.025 --> 00:03:59.224
<v Speaker 0>Eric's cluster. Yep. I have Eric's cluster available.

00:03:59.224 --> 00:04:01.305
<v Speaker 0>So before we do that, I just wanna

00:04:01.305 --> 00:04:04.345
<v Speaker 0>thank Teleport. They've been sponsoring Clustered recently. I

00:04:04.345 --> 00:04:06.345
<v Speaker 0>really appreciate all their support. We've been using

00:04:06.345 --> 00:04:08.745
<v Speaker 0>their product since, like, the first episode. I

00:04:08.745 --> 00:04:10.265
<v Speaker 0>love it. You're gonna see us using it

00:04:10.265 --> 00:04:12.560
<v Speaker 0>today. It's a wonderful tool. So thank you

00:04:12.560 --> 00:04:13.440
<v Speaker 0>to Teleport.

00:04:14.400 --> 00:04:16.320
<v Speaker 0>Alright. Eric, Chris is where you get to

00:04:16.320 --> 00:04:18.800
<v Speaker 0>sit back, relax, pop a beer, have some

00:04:18.800 --> 00:04:20.880
<v Speaker 0>laughs, taunt us in the chat, whatever you

00:04:20.880 --> 00:04:23.360
<v Speaker 0>wish. Carlos, I'm gonna pause our timer. That's

00:04:23.360 --> 00:04:25.175
<v Speaker 0>a bit harsh. I'll start that when we

00:04:25.175 --> 00:04:28.455
<v Speaker 0>go. We have forty minutes. Our mission

00:04:28.775 --> 00:04:31.815
<v Speaker 0>is to upgrade our cluster deployment on the

00:04:31.815 --> 00:04:34.455
<v Speaker 0>server to v two and browse to the

00:04:34.455 --> 00:04:35.175
<v Speaker 0>application.

00:04:35.975 --> 00:04:38.720
<v Speaker 0>I'm going to on Teleport, pop open our

00:04:38.720 --> 00:04:40.480
<v Speaker 0>root session on the control plane one. If

00:04:40.480 --> 00:04:41.920
<v Speaker 0>you could do me a favor and join

00:04:41.920 --> 00:04:44.560
<v Speaker 0>this session and just type an echo hello,

00:04:44.560 --> 00:04:45.760
<v Speaker 0>anything to let me know that you are

00:04:45.760 --> 00:04:47.360
<v Speaker 0>there, and we will get underway.

00:04:49.375 --> 00:04:51.455
<v Speaker 2>And my mic's still working. Right? It is

00:04:51.455 --> 00:04:53.135
<v Speaker 0>still working. We can hear you.

00:04:56.335 --> 00:04:59.135
<v Speaker 2>See if that's me. Perfect. Cool. Alright.

00:04:59.695 --> 00:05:02.735
<v Speaker 0>So I will start the timer now, Carla.

00:05:02.910 --> 00:05:05.310
<v Speaker 0>Feel free to get our KubeConfig set up,

00:05:05.310 --> 00:05:07.390
<v Speaker 0>and let's check for a control plan.

00:05:08.110 --> 00:05:09.630
<v Speaker 2>Cool. So

00:05:09.790 --> 00:05:11.630
<v Speaker 2>let's do export.

00:05:12.510 --> 00:05:13.790
<v Speaker 2>KubeConfig.

00:05:14.830 --> 00:05:18.555
<v Speaker 2>It should be in a to c Kubernetes.

00:05:19.514 --> 00:05:20.635
<v Speaker 2>Should be no

00:05:22.315 --> 00:05:23.515
<v Speaker 2>config. Right?

00:05:23.995 --> 00:05:25.595
<v Speaker 2>Perfect. My alias

00:05:25.835 --> 00:05:27.595
<v Speaker 2>k equals kubectl.

00:05:27.595 --> 00:05:28.235
<v Speaker 0>Good call.

00:05:29.020 --> 00:05:31.820
<v Speaker 2>I'm a fan of completion.

00:05:32.139 --> 00:05:34.380
<v Speaker 2>I cannot live without completion.

00:05:34.780 --> 00:05:35.500
<v Speaker 2>So

00:05:36.460 --> 00:05:38.620
<v Speaker 2>completion, I can never remember

00:05:39.180 --> 00:05:40.460
<v Speaker 2>the solution,

00:05:40.539 --> 00:05:41.900
<v Speaker 2>but it's always in the help.

00:05:44.294 --> 00:05:45.255
<v Speaker 2>So that

00:05:46.694 --> 00:05:49.414
<v Speaker 2>and then I'm a fan of completing

00:05:49.414 --> 00:05:50.055
<v Speaker 2>on

00:05:51.815 --> 00:05:55.095
<v Speaker 2>pay. Right? So that's that's the problem. So

00:05:55.095 --> 00:05:56.055
<v Speaker 2>our graph

00:05:56.610 --> 00:05:57.330
<v Speaker 2>is

00:05:57.889 --> 00:06:00.290
<v Speaker 2>stuff showing up on your site? It is.

00:06:00.290 --> 00:06:00.770
<v Speaker 0>Yeah.

00:06:01.169 --> 00:06:04.130
<v Speaker 2>Okay. Just, like, be I'm being anal about

00:06:04.130 --> 00:06:07.090
<v Speaker 2>my terminal and my Kubernetes stuff. I don't

00:06:07.090 --> 00:06:09.090
<v Speaker 2>have all my tools here, so I'll I'll

00:06:09.090 --> 00:06:10.625
<v Speaker 2>see what I can do. To honest, I

00:06:10.625 --> 00:06:11.905
<v Speaker 0>don't know how to set up the completion

00:06:11.905 --> 00:06:13.585
<v Speaker 0>on the key alias, so that was nice.

00:06:13.585 --> 00:06:14.385
<v Speaker 0>I like that.

00:06:14.945 --> 00:06:17.345
<v Speaker 2>I I think I did. Right? We're about

00:06:17.345 --> 00:06:18.385
<v Speaker 0>to find out. Yeah. So

00:06:19.745 --> 00:06:20.785
<v Speaker 2>get get

00:06:22.620 --> 00:06:24.060
<v Speaker 2>yep. Namespaces,

00:06:24.060 --> 00:06:26.220
<v Speaker 2>network policies, and notes. So do we have

00:06:26.220 --> 00:06:27.020
<v Speaker 2>notes?

00:06:28.300 --> 00:06:31.180
<v Speaker 2>Oh. So nice. So Eric left me

00:06:31.740 --> 00:06:32.620
<v Speaker 2>Control

00:06:33.180 --> 00:06:35.660
<v Speaker 2>Yeah. Control play. Right? So API.

00:06:36.405 --> 00:06:38.565
<v Speaker 2>I I prepare I I prepare all week

00:06:38.565 --> 00:06:40.565
<v Speaker 2>for fixing the API server, so now I

00:06:40.565 --> 00:06:41.605
<v Speaker 2>don't know what to do.

00:06:43.764 --> 00:06:46.085
<v Speaker 2>So let's see. We have pods. Right?

00:06:48.820 --> 00:06:52.420
<v Speaker 2>Yeah. We have Interesting restarts going on there.

00:06:53.940 --> 00:06:56.500
<v Speaker 2>Restart I mean, things are running, but they've

00:06:56.500 --> 00:06:58.340
<v Speaker 0>been they've been flip tapping.

00:06:59.300 --> 00:06:59.940
<v Speaker 2>Yeah.

00:07:01.060 --> 00:07:03.380
<v Speaker 2>And the one that we're looking for is

00:07:04.045 --> 00:07:05.085
<v Speaker 2>cluster.

00:07:05.885 --> 00:07:07.645
<v Speaker 2>Right? So we are

00:07:08.764 --> 00:07:10.125
<v Speaker 2>see how

00:07:10.125 --> 00:07:11.645
<v Speaker 2>is our deployment doing.

00:07:14.685 --> 00:07:16.925
<v Speaker 0>Look at the format of those pod names.

00:07:16.925 --> 00:07:18.605
<v Speaker 0>Those do not look like a replica set

00:07:18.605 --> 00:07:19.325
<v Speaker 0>to close to me.

00:07:21.620 --> 00:07:22.340
<v Speaker 0>Right?

00:07:23.460 --> 00:07:25.700
<v Speaker 2>The you mean the these two guys? Yeah.

00:07:25.700 --> 00:07:27.780
<v Speaker 0>Clustered, and then there's a replica set ID,

00:07:27.780 --> 00:07:30.020
<v Speaker 0>and then a pod ID, and then a

00:07:30.020 --> 00:07:30.900
<v Speaker 0>suffix?

00:07:31.460 --> 00:07:33.220
<v Speaker 2>Yeah. So it's like they're

00:07:33.655 --> 00:07:36.055
<v Speaker 2>static bugs. Sets or something maybe or static.

00:07:36.055 --> 00:07:37.895
<v Speaker 0>Yeah. Maybe. Static bugs.

00:07:38.854 --> 00:07:40.455
<v Speaker 2>Where are they coming from? So let's check

00:07:40.455 --> 00:07:42.615
<v Speaker 2>who the owner is. Right? So we do

00:07:42.615 --> 00:07:43.255
<v Speaker 2>get bug.

00:07:45.540 --> 00:07:48.260
<v Speaker 2>Let's look at one of them, worker one.

00:07:49.940 --> 00:07:51.620
<v Speaker 2>That's o yaml.

00:07:53.220 --> 00:07:55.860
<v Speaker 2>And this guy oh, scrolling is working.

00:07:58.660 --> 00:08:00.020
<v Speaker 2>And we have

00:08:00.915 --> 00:08:03.635
<v Speaker 2>who created this thing? Owner reference. Right? Yeah.

00:08:03.635 --> 00:08:05.955
<v Speaker 0>The owner reference. Was created by

00:08:06.515 --> 00:08:07.555
<v Speaker 2>the node.

00:08:07.875 --> 00:08:10.035
<v Speaker 2>How come this thing is created by the

00:08:10.035 --> 00:08:10.675
<v Speaker 2>node?

00:08:11.395 --> 00:08:14.355
<v Speaker 2>So this should be a a static pod.

00:08:14.355 --> 00:08:17.370
<v Speaker 2>Let me check the the deployment still here.

00:08:18.330 --> 00:08:20.570
<v Speaker 0>Yeah. Let's take it Right. Scale down. Let's

00:08:20.570 --> 00:08:23.370
<v Speaker 2>see if the the replica was scaled down.

00:08:25.130 --> 00:08:26.410
<v Speaker 2>Let's see how many

00:08:27.290 --> 00:08:28.330
<v Speaker 2>replicas we have.

00:08:30.985 --> 00:08:31.785
<v Speaker 2>Spec.

00:08:33.544 --> 00:08:34.985
<v Speaker 2>Where's the replicas?

00:08:35.065 --> 00:08:36.105
<v Speaker 2>Replicas?

00:08:37.385 --> 00:08:38.745
<v Speaker 2>Where's the replicas?

00:08:39.065 --> 00:08:40.664
<v Speaker 0>Yeah. They're set to zero.

00:08:41.385 --> 00:08:43.709
<v Speaker 2>You see it? I see it. In fact,

00:08:43.709 --> 00:08:45.149
<v Speaker 0>if we if we use less,

00:08:45.630 --> 00:08:47.149
<v Speaker 0>we can page it together. That might be

00:08:47.149 --> 00:08:48.750
<v Speaker 0>a bit easier. But yeah. It's We have

00:08:48.750 --> 00:08:49.470
<v Speaker 2>hours?

00:08:49.949 --> 00:08:50.910
<v Speaker 2>Ah, here it is.

00:08:51.790 --> 00:08:52.510
<v Speaker 2>Right.

00:08:53.070 --> 00:08:55.310
<v Speaker 2>But we have we have fake bugs. We

00:08:55.310 --> 00:08:56.910
<v Speaker 2>can try to delete them, I I guess

00:08:56.910 --> 00:08:57.949
<v Speaker 2>in the will come back.

00:08:59.445 --> 00:09:00.165
<v Speaker 2>Right?

00:09:00.965 --> 00:09:01.445
<v Speaker 2>I do

00:09:03.125 --> 00:09:04.405
<v Speaker 2>unless we want to

00:09:05.365 --> 00:09:07.205
<v Speaker 2>see if we have endpoints in this team.

00:09:07.205 --> 00:09:08.885
<v Speaker 0>I I don't know if they're actually harming

00:09:08.885 --> 00:09:10.565
<v Speaker 0>us yet. I mean, we could just Yeah.

00:09:10.565 --> 00:09:12.405
<v Speaker 0>Scale back. They could be running. Right? Yeah.

00:09:13.520 --> 00:09:15.120
<v Speaker 2>So maybe we can do

00:09:18.160 --> 00:09:20.880
<v Speaker 2>they're they're there. K. Get service

00:09:21.920 --> 00:09:24.960
<v Speaker 2>and cluster it on 3,000. Right? So we

00:09:24.960 --> 00:09:26.640
<v Speaker 2>do local host

00:09:27.404 --> 00:09:29.644
<v Speaker 2>3,000. You have it configured for

00:09:30.365 --> 00:09:31.565
<v Speaker 0>Yep. 30,000

00:09:31.565 --> 00:09:32.845
<v Speaker 0>that is running on. Yep.

00:09:34.285 --> 00:09:35.165
<v Speaker 2>Not responding.

00:09:39.490 --> 00:09:40.370
<v Speaker 2>Interesting.

00:09:40.530 --> 00:09:41.250
<v Speaker 2>Okay.

00:09:41.810 --> 00:09:42.610
<v Speaker 2>So

00:09:43.890 --> 00:09:45.970
<v Speaker 2>network policy, just in case.

00:09:47.010 --> 00:09:49.490
<v Speaker 2>We don't have network policies. K get

00:09:49.650 --> 00:09:50.210
<v Speaker 2>Cilium.

00:09:51.965 --> 00:09:54.925
<v Speaker 0>Yeah. CMP and c c c m p,

00:09:54.925 --> 00:09:56.685
<v Speaker 0>I think. C CMP?

00:09:56.845 --> 00:09:58.925
<v Speaker 0>CMP and C CMP. Yeah.

00:09:59.645 --> 00:10:02.285
<v Speaker 2>C c And CMP is so as cluster

00:10:02.285 --> 00:10:05.085
<v Speaker 0>network policies and then cluster wide network policies.

00:10:07.600 --> 00:10:09.760
<v Speaker 2>I see it now. Selium

00:10:10.640 --> 00:10:14.080
<v Speaker 2>cluster network policy. Selium

00:10:17.120 --> 00:10:19.440
<v Speaker 2>what's the other one? Network policies.

00:10:23.935 --> 00:10:24.575
<v Speaker 2>Yep.

00:10:25.855 --> 00:10:26.655
<v Speaker 2>Okay.

00:10:27.935 --> 00:10:30.255
<v Speaker 0>So do you want to describe the service?

00:10:32.415 --> 00:10:34.095
<v Speaker 2>Yeah. We can describe the service.

00:10:38.640 --> 00:10:41.200
<v Speaker 2>Yeah. So, yeah, port. It's eighty eighty, three

00:10:41.200 --> 00:10:43.920
<v Speaker 2>thousand. It looks fine. I'm getting endpoints. So

00:10:44.160 --> 00:10:45.920
<v Speaker 2>let me describe the pods.

00:10:46.800 --> 00:10:48.480
<v Speaker 2>I did I think I already did describe

00:10:48.480 --> 00:10:49.680
<v Speaker 2>the pods, right, underwear.

00:10:50.475 --> 00:10:51.355
<v Speaker 2>Happy,

00:10:51.515 --> 00:10:52.315
<v Speaker 2>I think.

00:10:55.035 --> 00:10:56.155
<v Speaker 2>No events.

00:10:56.235 --> 00:10:57.275
<v Speaker 0>Do you see it?

00:10:59.275 --> 00:11:00.155
<v Speaker 2>Let me see.

00:11:01.915 --> 00:11:03.115
<v Speaker 0>He's being sneaky.

00:11:04.750 --> 00:11:06.430
<v Speaker 2>The image. The

00:11:09.550 --> 00:11:10.350
<v Speaker 2>image.

00:11:12.510 --> 00:11:14.830
<v Speaker 2>This guy. Eric? So it's a different image.

00:11:15.150 --> 00:11:16.190
<v Speaker 2>Welcome.

00:11:17.615 --> 00:11:19.214
<v Speaker 0>I kinda wanna try to present to it.

00:11:19.295 --> 00:11:19.695
<v Speaker 2>See

00:11:21.135 --> 00:11:23.774
<v Speaker 2>we have logs for this for this. It

00:11:23.774 --> 00:11:25.535
<v Speaker 2>is not our image anyway. Right? So we

00:11:25.535 --> 00:11:27.295
<v Speaker 2>don't Yeah. I'm hoping he's left as a

00:11:27.295 --> 00:11:27.774
<v Speaker 0>wee

00:11:28.654 --> 00:11:29.535
<v Speaker 0>a wee message.

00:11:31.180 --> 00:11:33.579
<v Speaker 0>No. I don't think it's gonna resolve. You

00:11:36.300 --> 00:11:38.699
<v Speaker 2>wanna see the logs? Yeah. Let's do the

00:11:38.699 --> 00:11:38.940
<v Speaker 0>logs.

00:11:44.475 --> 00:11:46.154
<v Speaker 0>It's just asking that we scale up the

00:11:46.154 --> 00:11:47.915
<v Speaker 0>cluster deployment. No. We've not done that yet.

00:11:47.915 --> 00:11:50.395
<v Speaker 0>We're still exploring the the rogue image.

00:11:50.555 --> 00:11:52.955
<v Speaker 1>Yeah. I will tell you those pods are

00:11:52.955 --> 00:11:53.595
<v Speaker 1>hosting something.

00:11:55.200 --> 00:11:57.920
<v Speaker 2>Are hosting something? They are. They're there.

00:11:58.720 --> 00:12:00.320
<v Speaker 0>Alright. So if we fix the ingress to

00:12:00.320 --> 00:12:01.760
<v Speaker 0>the cluster, we should be able to see

00:12:01.760 --> 00:12:03.600
<v Speaker 0>what the sum is. Do you want to

00:12:03.600 --> 00:12:05.920
<v Speaker 2>open it in the ingress? Yeah. It's not

00:12:05.920 --> 00:12:08.000
<v Speaker 0>working. We're getting an internal server error. So

00:12:08.000 --> 00:12:10.560
<v Speaker 0>if there's some network policy or IP tables

00:12:10.605 --> 00:12:12.845
<v Speaker 0>blocking access to the node port?

00:12:19.324 --> 00:12:22.605
<v Speaker 2>Yeah. This looks like just NGINX image, I

00:12:22.605 --> 00:12:22.845
<v Speaker 2>guess.

00:12:23.690 --> 00:12:27.450
<v Speaker 2>We can do a k exec inside the

00:12:28.410 --> 00:12:29.690
<v Speaker 0>Yeah. Cluster.

00:12:31.130 --> 00:12:33.370
<v Speaker 2>Let's see if what we have inside.

00:12:34.730 --> 00:12:34.970
<v Speaker 2>Oh,

00:12:37.645 --> 00:12:38.365
<v Speaker 2>right.

00:12:38.765 --> 00:12:39.885
<v Speaker 2>Local host

00:12:40.125 --> 00:12:41.165
<v Speaker 2>eighty eighty.

00:12:44.765 --> 00:12:45.965
<v Speaker 2>Connection refused.

00:12:51.660 --> 00:12:53.180
<v Speaker 0>There. Get the port run. So

00:12:55.260 --> 00:12:56.700
<v Speaker 2>I'm thinking, like, maybe

00:12:57.660 --> 00:12:59.260
<v Speaker 2>we don't care about this bot. Let's delete

00:12:59.260 --> 00:13:01.180
<v Speaker 2>them and get yours running. Oh, but I

00:13:01.180 --> 00:13:02.540
<v Speaker 0>wanna see what your left is.

00:13:02.940 --> 00:13:03.740
<v Speaker 2>Oh, okay.

00:13:05.415 --> 00:13:07.334
<v Speaker 0>Let's see what's running on this thing.

00:13:08.855 --> 00:13:10.454
<v Speaker 0>Ah, interesting.

00:13:13.815 --> 00:13:14.454
<v Speaker 2>What?

00:13:15.415 --> 00:13:17.014
<v Speaker 0>He's running get TTY.

00:13:21.129 --> 00:13:23.130
<v Speaker 0>What sneaky thing have you been doing?

00:13:29.610 --> 00:13:31.129
<v Speaker 0>So I think this is run as a

00:13:31.129 --> 00:13:33.689
<v Speaker 0>static pod because it's properly run-in as privilege,

00:13:33.785 --> 00:13:36.585
<v Speaker 0>and he's trying to pipe something through from

00:13:36.585 --> 00:13:37.545
<v Speaker 0>the horse,

00:13:41.065 --> 00:13:42.745
<v Speaker 0>like a TTY console.

00:13:46.265 --> 00:13:48.345
<v Speaker 0>But it's not serving a web server. Right,

00:13:48.345 --> 00:13:48.825
<v Speaker 0>Eric?

00:13:50.150 --> 00:13:51.990
<v Speaker 2>Yeah. I think I saw a message that

00:13:51.990 --> 00:13:53.750
<v Speaker 1>logs. Since I started it. Yes. There is

00:13:53.750 --> 00:13:55.510
<v Speaker 1>an NGINX server running in there.

00:13:56.070 --> 00:13:57.190
<v Speaker 1>There was.

00:13:58.310 --> 00:13:59.670
<v Speaker 1>Gonna say crashed.

00:14:00.710 --> 00:14:02.630
<v Speaker 1>There's no guarantees what I did was stable.

00:14:03.545 --> 00:14:05.545
<v Speaker 0>And look at the pet numbers as well,

00:14:05.545 --> 00:14:07.945
<v Speaker 0>actually. This this is definitely a privileged container.

00:14:08.505 --> 00:14:10.425
<v Speaker 0>Right? Oh, yeah.

00:14:12.584 --> 00:14:13.865
<v Speaker 2>Okay. So we are inside.

00:14:16.150 --> 00:14:17.910
<v Speaker 2>What's PID? So it's just running as a

00:14:17.910 --> 00:14:19.750
<v Speaker 2>privileged container. Oh, we we are not inside

00:14:19.750 --> 00:14:20.550
<v Speaker 0>the container,

00:14:20.790 --> 00:14:21.430
<v Speaker 0>are we?

00:14:21.910 --> 00:14:24.230
<v Speaker 2>Think so. Yeah. No? No. We are in

00:14:24.230 --> 00:14:25.830
<v Speaker 0>a host. Oh, no. No. No. I think

00:14:25.830 --> 00:14:27.750
<v Speaker 2>I was inside for a second.

00:14:28.150 --> 00:14:30.895
<v Speaker 0>Right. Right. Right. Okay. No. No. I know.

00:14:30.895 --> 00:14:32.655
<v Speaker 2>I'm not Oh, you forgot dash IT.

00:14:33.455 --> 00:14:34.895
<v Speaker 2>Yeah. Right

00:14:37.775 --> 00:14:40.175
<v Speaker 2>now we are. Local host.

00:14:41.135 --> 00:14:43.855
<v Speaker 2>I don't have colors in my terminal. Tell

00:14:43.855 --> 00:14:46.800
<v Speaker 2>me where I am. Alright. We have HTML.

00:14:46.800 --> 00:14:47.680
<v Speaker 2>Okay. Right?

00:14:54.240 --> 00:14:56.160
<v Speaker 2>And you said that maybe the ingress is

00:14:56.160 --> 00:14:58.480
<v Speaker 2>broken? Yeah. I think those IP tables or

00:14:58.480 --> 00:15:00.560
<v Speaker 0>something is blocking the node port access because

00:15:00.560 --> 00:15:02.834
<v Speaker 0>we can't do a curl local host 30,000.

00:15:02.834 --> 00:15:04.834
<v Speaker 0>But let's confirm. Right? I mean, let me

00:15:04.834 --> 00:15:05.875
<v Speaker 0>grab the

00:15:07.955 --> 00:15:10.355
<v Speaker 0>worker one IP address,

00:15:11.075 --> 00:15:12.834
<v Speaker 0>and I'll just browse to it at my

00:15:12.834 --> 00:15:13.394
<v Speaker 0>browser.

00:15:14.120 --> 00:15:16.040
<v Speaker 2>You can do a port forward. Right?

00:15:18.920 --> 00:15:19.800
<v Speaker 0>There

00:15:19.800 --> 00:15:20.440
<v Speaker 0>we go.

00:15:21.640 --> 00:15:23.400
<v Speaker 2>Oh, you got it? Yeah.

00:15:24.920 --> 00:15:27.800
<v Speaker 0>So the service the NodePort service isn't working,

00:15:27.800 --> 00:15:29.560
<v Speaker 0>but if I browse the Node IP

00:15:32.645 --> 00:15:34.005
<v Speaker 2>to Zambokov. This

00:15:36.565 --> 00:15:38.085
<v Speaker 1>some This may be too old for most

00:15:38.085 --> 00:15:40.165
<v Speaker 1>people on the call. Welcome.

00:15:42.245 --> 00:15:44.965
<v Speaker 2>This is some Are you familiar with Zambokov?

00:15:44.965 --> 00:15:46.880
<v Speaker 1>Welcome to Zombokam.

00:15:46.959 --> 00:15:48.560
<v Speaker 1>I'll leave that for a minute. You can

00:15:48.560 --> 00:15:50.720
<v Speaker 1>do it. Can First way to Zombokam.

00:15:50.720 --> 00:15:53.120
<v Speaker 0>Alright. I've had enough So what so maybe

00:15:53.120 --> 00:15:55.760
<v Speaker 2>Rawkode's Rawkode's going with the ingress? The ingress

00:15:55.760 --> 00:15:56.880
<v Speaker 2>cannot talk to

00:15:57.279 --> 00:15:57.760
<v Speaker 2>the thing?

00:15:58.605 --> 00:16:00.845
<v Speaker 0>So Teleport runs on the control plane, and

00:16:00.845 --> 00:16:03.805
<v Speaker 0>it would appear the control plane can't hit

00:16:03.805 --> 00:16:06.125
<v Speaker 0>the node port on one of the workers.

00:16:06.925 --> 00:16:07.965
<v Speaker 0>I I don't know if we need

00:16:08.685 --> 00:16:10.285
<v Speaker 0>yeah. We will need to worry about it,

00:16:10.285 --> 00:16:12.149
<v Speaker 0>but we've seen what this You

00:16:12.310 --> 00:16:13.589
<v Speaker 2>can access it through

00:16:14.149 --> 00:16:14.790
<v Speaker 2>okay.

00:16:16.149 --> 00:16:17.350
<v Speaker 0>Yeah. I think we can just get rid

00:16:17.350 --> 00:16:19.110
<v Speaker 0>of those static pods now. I think Alex

00:16:19.110 --> 00:16:21.269
<v Speaker 0>had his his fun with ZomboCom and

00:16:21.750 --> 00:16:24.149
<v Speaker 1>Okay. That was meant for later. I didn't

00:16:24.149 --> 00:16:26.230
<v Speaker 1>think you'd solve that one first.

00:16:28.235 --> 00:16:30.394
<v Speaker 0>Okay. Let's get rid of static pods, so

00:16:30.394 --> 00:16:31.835
<v Speaker 0>then we'll we'll do something.

00:16:32.154 --> 00:16:33.355
<v Speaker 0>We'll work it through. How do we get

00:16:33.355 --> 00:16:35.515
<v Speaker 2>to the other worker nodes? Yeah. I'll open

00:16:35.515 --> 00:16:37.195
<v Speaker 0>a session on the worker nodes now, and

00:16:37.195 --> 00:16:39.115
<v Speaker 0>you can just join a session. So

00:16:39.355 --> 00:16:42.610
<v Speaker 0>we got worker one now available for you.

00:16:43.890 --> 00:16:44.690
<v Speaker 2>Let me see.

00:16:45.010 --> 00:16:45.730
<v Speaker 0>Maybe.

00:16:46.050 --> 00:16:48.130
<v Speaker 2>I need to refresh on my side?

00:16:48.290 --> 00:16:51.410
<v Speaker 0>No. It's actually failing to get a connection.

00:16:55.645 --> 00:16:56.205
<v Speaker 0>Hey.

00:16:57.405 --> 00:17:00.765
<v Speaker 0>One rule, Eric. There's one rule. I didn't

00:17:00.765 --> 00:17:01.965
<v Speaker 1>break that rule

00:17:02.525 --> 00:17:05.165
<v Speaker 1>as of Friday afternoon or sun Saturday, whenever

00:17:05.165 --> 00:17:07.085
<v Speaker 1>it was. I Alright. I see now.

00:17:08.510 --> 00:17:10.589
<v Speaker 0>It didn't load for me. I'm trying worker

00:17:10.589 --> 00:17:11.869
<v Speaker 0>to oh.

00:17:12.669 --> 00:17:14.589
<v Speaker 2>I saw a session on worker one.

00:17:15.149 --> 00:17:17.309
<v Speaker 2>Oh, but it's not getting a prompt. Yeah.

00:17:18.190 --> 00:17:20.269
<v Speaker 1>K. That's not intended.

00:17:23.325 --> 00:17:25.964
<v Speaker 2>Can you SSH from somewhere? I can. Yes.

00:17:25.964 --> 00:17:27.484
<v Speaker 2>The working one? Yeah. We could do it

00:17:27.484 --> 00:17:28.284
<v Speaker 0>old school.

00:17:32.765 --> 00:17:34.445
<v Speaker 0>I've got a terminal

00:17:35.565 --> 00:17:36.365
<v Speaker 0>going in.

00:17:38.610 --> 00:17:40.690
<v Speaker 0>We just want to remove the static manifest.

00:17:40.690 --> 00:17:42.529
<v Speaker 0>Right? So I'll just do that and then

00:17:43.409 --> 00:17:44.129
<v Speaker 0>Yeah.

00:17:47.409 --> 00:17:49.649
<v Speaker 0>Alright. The static manifest is gone from worker

00:17:49.649 --> 00:17:51.169
<v Speaker 0>one, and I'll do worker two.

00:17:51.995 --> 00:17:52.875
<v Speaker 2>I see.

00:17:58.395 --> 00:17:59.995
<v Speaker 1>David knows that at one point, I did

00:17:59.995 --> 00:18:01.275
<v Speaker 1>break rule number one, and he had to

00:18:01.275 --> 00:18:02.315
<v Speaker 1>reset my cluster.

00:18:02.955 --> 00:18:05.835
<v Speaker 2>Oh, really? Yeah. That that that man you

00:18:05.835 --> 00:18:08.129
<v Speaker 2>wanted to be? That that how much you

00:18:08.450 --> 00:18:10.049
<v Speaker 2>you hate me, I guess.

00:18:10.370 --> 00:18:12.690
<v Speaker 1>No. It was it was my mistake. It

00:18:12.690 --> 00:18:13.250
<v Speaker 1>was not a

00:18:15.490 --> 00:18:16.849
<v Speaker 1>it was not intentional.

00:18:18.130 --> 00:18:20.485
<v Speaker 0>Okay. Now we get pods. Looks normal. So

00:18:20.485 --> 00:18:22.885
<v Speaker 0>let's fix our scaled down deployment,

00:18:22.885 --> 00:18:24.005
<v Speaker 0>I guess. So

00:18:24.165 --> 00:18:25.205
<v Speaker 2>let's do

00:18:25.685 --> 00:18:27.525
<v Speaker 2>k scale deployment.

00:18:29.605 --> 00:18:31.044
<v Speaker 2>We're gonna cluster.

00:18:31.205 --> 00:18:33.925
<v Speaker 2>That's dash replicas equals how many replicas you

00:18:33.925 --> 00:18:34.405
<v Speaker 2>want? One?

00:18:35.150 --> 00:18:36.509
<v Speaker 0>Yeah. One's fine.

00:18:37.950 --> 00:18:38.830
<v Speaker 2>But

00:18:39.710 --> 00:18:40.830
<v Speaker 2>it's creating.

00:18:46.029 --> 00:18:47.470
<v Speaker 2>It's creating. Let's see.

00:18:48.925 --> 00:18:50.924
<v Speaker 2>Wow. It's taking a long time. So

00:18:52.125 --> 00:18:55.565
<v Speaker 2>the Rust Rust code must be big. Yep.

00:18:56.445 --> 00:18:57.965
<v Speaker 0>Oh, we got an error.

00:18:58.765 --> 00:18:59.725
<v Speaker 2>Yeah. Let's see.

00:19:03.490 --> 00:19:05.250
<v Speaker 2>I cannot get to

00:19:05.810 --> 00:19:07.570
<v Speaker 0>It is a networking bug.

00:19:08.450 --> 00:19:09.650
<v Speaker 0>There we go. Failed.

00:19:10.850 --> 00:19:12.530
<v Speaker 0>So the DNS resolved.

00:19:12.530 --> 00:19:13.330
<v Speaker 2>DNS.

00:19:13.730 --> 00:19:14.210
<v Speaker 0>Did it?

00:19:15.535 --> 00:19:18.414
<v Speaker 0>Oh, no. Wait. So DNS request is DNS.

00:19:19.615 --> 00:19:22.255
<v Speaker 2>Image rank. Yeah. Look up g c g

00:19:22.255 --> 00:19:24.015
<v Speaker 0>h c r I o on why is

00:19:24.015 --> 00:19:25.135
<v Speaker 0>it going out of my

00:19:26.175 --> 00:19:27.615
<v Speaker 0>that could be one of the node IPs

00:19:27.615 --> 00:19:28.735
<v Speaker 0>14775,

00:19:28.735 --> 00:19:30.735
<v Speaker 0>actually. Okay. So Failed to resolve reference.

00:19:31.309 --> 00:19:32.909
<v Speaker 2>Failed to resolve reference.

00:19:33.550 --> 00:19:35.389
<v Speaker 2>Failed to request.

00:19:35.470 --> 00:19:38.350
<v Speaker 2>Oh, the head. Right? So I failed the

00:19:38.350 --> 00:19:39.149
<v Speaker 2>LTCP.

00:19:39.309 --> 00:19:40.669
<v Speaker 0>I think it's DNS.

00:19:42.830 --> 00:19:44.670
<v Speaker 2>Yeah. I'm getting back an IP address.

00:19:45.664 --> 00:19:47.265
<v Speaker 0>But I think that's the cost the node

00:19:47.265 --> 00:19:47.904
<v Speaker 0>IP.

00:19:48.705 --> 00:19:50.705
<v Speaker 2>Oh, yeah. This is 53. So this is,

00:19:50.705 --> 00:19:52.705
<v Speaker 2>like, the DNS server. Yeah. I think this

00:19:52.705 --> 00:19:54.625
<v Speaker 0>is our control plane or one of our

00:19:54.625 --> 00:19:56.945
<v Speaker 0>working node IP addresses, which I can confirm.

00:19:59.020 --> 00:20:00.220
<v Speaker 0>To wait.

00:20:00.860 --> 00:20:01.500
<v Speaker 0>So

00:20:03.580 --> 00:20:05.820
<v Speaker 2>the way DNS works is

00:20:06.060 --> 00:20:07.980
<v Speaker 2>oh, I cannot type any longer.

00:20:08.380 --> 00:20:10.700
<v Speaker 2>We're

00:20:10.700 --> 00:20:11.660
<v Speaker 2>using core DNS?

00:20:13.215 --> 00:20:16.894
<v Speaker 0>We are. Yeah. And then core DNS uses

00:20:18.015 --> 00:20:19.374
<v Speaker 2>our resolve.

00:20:19.535 --> 00:20:20.575
<v Speaker 2>ETC

00:20:21.615 --> 00:20:22.494
<v Speaker 2>resolve.

00:20:22.575 --> 00:20:23.695
<v Speaker 2>Does that look correct?

00:20:28.950 --> 00:20:30.149
<v Speaker 0>So this is

00:20:31.590 --> 00:20:33.590
<v Speaker 2>Where how do I resolve Google? How do

00:20:33.590 --> 00:20:35.350
<v Speaker 2>I resolve GCR.io?

00:20:35.350 --> 00:20:37.429
<v Speaker 2>I think I need a a a a.

00:20:37.909 --> 00:20:39.590
<v Speaker 0>So the 14775

00:20:39.590 --> 00:20:42.155
<v Speaker 0>is the correct prefix for this, that what

00:20:42.155 --> 00:20:44.554
<v Speaker 0>I would expect. But those last two octets

00:20:44.554 --> 00:20:46.874
<v Speaker 0>are wrong from what I can tell.

00:20:47.515 --> 00:20:49.755
<v Speaker 2>But you don't have a DNS server running

00:20:49.755 --> 00:20:50.554
<v Speaker 2>on these

00:20:51.115 --> 00:20:54.155
<v Speaker 2>folks? Not unless EquinixMetel are providing DNS, which

00:20:54.155 --> 00:20:55.674
<v Speaker 0>I don't think is normally the case.

00:20:59.570 --> 00:21:01.970
<v Speaker 2>Right? Because the other place would be

00:21:02.450 --> 00:21:03.330
<v Speaker 2>bar

00:21:03.490 --> 00:21:04.529
<v Speaker 2>lib

00:21:05.090 --> 00:21:06.129
<v Speaker 2>to lead

00:21:06.850 --> 00:21:08.049
<v Speaker 2>it. Right?

00:21:08.130 --> 00:21:10.530
<v Speaker 0>Let's just because the first two octets are

00:21:10.530 --> 00:21:12.370
<v Speaker 0>right, I'm inclined to think

00:21:12.405 --> 00:21:14.565
<v Speaker 0>they're okay. I think we just need to

00:21:14.565 --> 00:21:16.085
<v Speaker 0>fix the networking maybe.

00:21:18.805 --> 00:21:20.005
<v Speaker 2>Right. So

00:21:20.645 --> 00:21:22.645
<v Speaker 2>are you saying that this is not DNS?

00:21:22.645 --> 00:21:24.485
<v Speaker 2>Would I have to resolve the DNS?

00:21:27.820 --> 00:21:29.100
<v Speaker 0>Let's let's check.

00:21:31.100 --> 00:21:31.980
<v Speaker 0>Bind.

00:21:32.860 --> 00:21:34.700
<v Speaker 0>Now I need to do the weird 50

00:21:34.700 --> 00:21:37.260
<v Speaker 0>variations of DNS and binder tools. There we

00:21:37.260 --> 00:21:37.420
<v Speaker 0>go.

00:21:38.654 --> 00:21:41.214
<v Speaker 2>DNS Tools. Oh, there we go. Okay. Yeah.

00:21:45.455 --> 00:21:46.975
<v Speaker 2>How are you going to install something? We

00:21:46.975 --> 00:21:49.215
<v Speaker 2>cannot the DNS is not working. Right?

00:21:54.740 --> 00:21:57.299
<v Speaker 2>So let's Yeah. Okay. So

00:21:58.260 --> 00:22:00.419
<v Speaker 2>This DNS is not working on this machine,

00:22:00.419 --> 00:22:02.899
<v Speaker 2>so let's configure it with

00:22:03.140 --> 00:22:04.020
<v Speaker 2>Google's DNS?

00:22:07.184 --> 00:22:07.744
<v Speaker 0>Yeah.

00:22:08.225 --> 00:22:10.465
<v Speaker 0>We can. Although, we ping eight dot eight

00:22:10.465 --> 00:22:11.985
<v Speaker 0>dot eight dot eight? Let's check if it's

00:22:11.985 --> 00:22:13.904
<v Speaker 0>the full stack or if it has DNS.

00:22:14.785 --> 00:22:17.504
<v Speaker 2>I don't know if this thing will work.

00:22:17.505 --> 00:22:19.345
<v Speaker 2>Okay. Yeah. Okay. So let's just swap out

00:22:19.345 --> 00:22:20.065
<v Speaker 0>the resolve then.

00:22:20.610 --> 00:22:22.770
<v Speaker 2>So do we do the system d or

00:22:22.770 --> 00:22:24.690
<v Speaker 2>the ETC? I'm not remember.

00:22:25.010 --> 00:22:27.410
<v Speaker 0>We can just modify the ETC resolve. I

00:22:27.410 --> 00:22:29.170
<v Speaker 0>don't I don't think we need to change

00:22:29.170 --> 00:22:31.170
<v Speaker 0>this system d one. And we can just

00:22:31.170 --> 00:22:32.530
<v Speaker 0>go with, yeah, e.e.e.

00:22:33.705 --> 00:22:35.784
<v Speaker 2>Server. So try this

00:22:36.664 --> 00:22:38.424
<v Speaker 2>at first. Right?

00:22:38.985 --> 00:22:39.784
<v Speaker 0>Correct.

00:22:40.505 --> 00:22:42.345
<v Speaker 2>And then we should be able to

00:22:43.625 --> 00:22:44.424
<v Speaker 2>in Google.

00:22:47.440 --> 00:22:49.360
<v Speaker 2>That might not be the one

00:22:51.520 --> 00:22:52.400
<v Speaker 2>unless

00:22:52.400 --> 00:22:54.880
<v Speaker 2>we have IP tables. It went to IP

00:22:54.880 --> 00:22:55.680
<v Speaker 2>tables.

00:22:57.280 --> 00:22:58.320
<v Speaker 0>Show

00:22:58.640 --> 00:23:00.640
<v Speaker 0>dump. Dash l, capital l.

00:23:02.775 --> 00:23:03.575
<v Speaker 0>That's it.

00:23:06.855 --> 00:23:07.975
<v Speaker 2>Any drops?

00:23:10.935 --> 00:23:14.054
<v Speaker 0>None. I don't expect this. Oh, wait. There.

00:23:14.855 --> 00:23:16.054
<v Speaker 2>It's fine. Right?

00:23:16.455 --> 00:23:18.295
<v Speaker 0>Yeah. Drop all UDP traffic.

00:23:20.180 --> 00:23:22.420
<v Speaker 1>Is that a problem? That is a problem.

00:23:22.420 --> 00:23:24.500
<v Speaker 2>Yeah. Yeah. That's a problem.

00:23:25.460 --> 00:23:26.660
<v Speaker 0>So we need to

00:23:27.060 --> 00:23:28.260
<v Speaker 0>flush that rule.

00:23:28.580 --> 00:23:29.860
<v Speaker 0>I mean, we could just flush them all

00:23:29.860 --> 00:23:30.500
<v Speaker 0>and restart

00:23:30.835 --> 00:23:32.675
<v Speaker 0>the With the firewall?

00:23:33.475 --> 00:23:36.434
<v Speaker 0>We could just do IP tables flush,

00:23:38.115 --> 00:23:40.275
<v Speaker 0>and then we should be able to

00:23:40.835 --> 00:23:42.355
<v Speaker 0>there we go. Yeah.

00:23:44.850 --> 00:23:46.369
<v Speaker 2>That it? That's DNS?

00:23:46.610 --> 00:23:48.129
<v Speaker 0>Well, I mean, we also have flushed every

00:23:48.129 --> 00:23:51.009
<v Speaker 0>Selium role, but Selium will catch up eventually.

00:23:51.490 --> 00:23:54.129
<v Speaker 2>Yeah. So let's see let's see the pod.

00:23:54.129 --> 00:23:55.409
<v Speaker 2>Right? And let's

00:23:56.365 --> 00:23:58.524
<v Speaker 2>I'm impatient. So let's delete the plot.

00:24:00.284 --> 00:24:01.325
<v Speaker 2>Try again.

00:24:11.669 --> 00:24:13.590
<v Speaker 2>You left hints in this?

00:24:14.070 --> 00:24:14.629
<v Speaker 1>No.

00:24:15.270 --> 00:24:17.110
<v Speaker 1>I'm your verbal your homework?

00:24:18.150 --> 00:24:19.509
<v Speaker 2>Started say verbally.

00:24:20.470 --> 00:24:23.115
<v Speaker 2>You haven't spoke since we started. Yes. I

00:24:23.115 --> 00:24:24.715
<v Speaker 1>did. Okay.

00:24:24.715 --> 00:24:26.475
<v Speaker 2>And what's going on in the chat? Anybody

00:24:26.475 --> 00:24:27.434
<v Speaker 2>making fun?

00:24:29.515 --> 00:24:31.434
<v Speaker 2>Yeah. We have Noel.

00:24:31.835 --> 00:24:34.075
<v Speaker 2>Hi, Noel. Khalid. Walid.

00:24:34.890 --> 00:24:36.410
<v Speaker 2>What's the all the book club is here.

00:24:36.410 --> 00:24:38.250
<v Speaker 2>I don't know. People, I think, want to

00:24:38.250 --> 00:24:40.010
<v Speaker 2>skip homework for Friday.

00:24:42.250 --> 00:24:43.049
<v Speaker 0>Alright.

00:24:43.450 --> 00:24:44.730
<v Speaker 0>So we're still getting

00:24:44.890 --> 00:24:46.890
<v Speaker 0>filled. Oh, because that's on the worker nodes.

00:24:46.890 --> 00:24:48.810
<v Speaker 0>So I bet that rule's that rule's been

00:24:48.810 --> 00:24:49.770
<v Speaker 0>replicated, hasn't it?

00:24:52.235 --> 00:24:53.915
<v Speaker 0>I'll try the session.

00:24:53.915 --> 00:24:56.955
<v Speaker 0>Alright. Yeah. So IP tables dash l for

00:24:56.955 --> 00:24:58.154
<v Speaker 0>a p two p.

00:25:01.674 --> 00:25:01.995
<v Speaker 2>Actually,

00:25:05.000 --> 00:25:07.159
<v Speaker 2>I don't think there's a check over there.

00:25:07.159 --> 00:25:09.080
<v Speaker 0>He he replicated the rules on all the

00:25:09.080 --> 00:25:09.639
<v Speaker 0>machines.

00:25:09.960 --> 00:25:12.039
<v Speaker 2>Oh, okay. Just to frustrate it. Yeah.

00:25:12.360 --> 00:25:14.519
<v Speaker 2>So the, yeah, the DNS

00:25:15.399 --> 00:25:17.159
<v Speaker 2>so the I guess the DNS was correct.

00:25:17.159 --> 00:25:18.120
<v Speaker 2>Was just IP tables.

00:25:18.655 --> 00:25:20.255
<v Speaker 2>But if it was DNS,

00:25:20.255 --> 00:25:22.815
<v Speaker 2>was the the work the pods get the

00:25:22.815 --> 00:25:25.055
<v Speaker 2>DNS from from CD and CD from the

00:25:25.055 --> 00:25:27.695
<v Speaker 2>control plane. So it's easy to resolve on

00:25:27.695 --> 00:25:30.335
<v Speaker 2>the workers will not do anything. Okay. I

00:25:30.495 --> 00:25:32.220
<v Speaker 2>So you fixed the other two? Yeah. I

00:25:32.220 --> 00:25:33.500
<v Speaker 0>have. I think if we delete that pod

00:25:33.500 --> 00:25:35.340
<v Speaker 0>and try again, maybe we'll we'll get back

00:25:35.340 --> 00:25:35.740
<v Speaker 2>in.

00:25:36.460 --> 00:25:37.659
<v Speaker 2>Let's try again.

00:25:40.780 --> 00:25:41.660
<v Speaker 2>Okay.

00:25:41.660 --> 00:25:41.900
<v Speaker 2>Delete.

00:25:44.725 --> 00:25:45.605
<v Speaker 2>Delete

00:25:45.605 --> 00:25:46.484
<v Speaker 2>bug.

00:25:47.125 --> 00:25:48.244
<v Speaker 2>Let's do it.

00:25:50.245 --> 00:25:52.484
<v Speaker 2>I think that bugs h w.

00:25:53.284 --> 00:25:55.445
<v Speaker 2>Oh, it's running. Wee.

00:25:55.845 --> 00:25:58.085
<v Speaker 0>Alright. So we have Refresh our

00:25:59.284 --> 00:26:00.970
<v Speaker 2>I check if we have endpoints.

00:26:01.050 --> 00:26:02.490
<v Speaker 0>Yep. We've got the watch.

00:26:03.530 --> 00:26:04.409
<v Speaker 2>Oh, cool.

00:26:04.730 --> 00:26:07.370
<v Speaker 2>So now we can update? We can try.

00:26:08.730 --> 00:26:09.690
<v Speaker 2>Appointment.

00:26:10.090 --> 00:26:11.210
<v Speaker 2>Customer led.

00:26:12.285 --> 00:26:13.565
<v Speaker 2>Change to v

00:26:14.045 --> 00:26:15.405
<v Speaker 2>I don't know if you explained the rules

00:26:15.405 --> 00:26:17.965
<v Speaker 2>for the audience if somebody's new. So idea

00:26:17.965 --> 00:26:19.885
<v Speaker 2>is to get v one working and then

00:26:19.885 --> 00:26:22.045
<v Speaker 2>upgrade to v two. Let's do

00:26:22.525 --> 00:26:23.485
<v Speaker 2>clear.

00:26:24.365 --> 00:26:25.805
<v Speaker 2>If you're not a fan of the show,

00:26:25.805 --> 00:26:26.285
<v Speaker 2>you should be.

00:26:29.080 --> 00:26:29.799
<v Speaker 2>But

00:26:31.400 --> 00:26:33.480
<v Speaker 2>w terminating

00:26:33.799 --> 00:26:35.080
<v Speaker 2>terminating.

00:26:37.080 --> 00:26:38.119
<v Speaker 2>Let's see.

00:26:38.679 --> 00:26:39.879
<v Speaker 2>I think running.

00:26:39.880 --> 00:26:41.400
<v Speaker 0>Not yet. But

00:26:42.545 --> 00:26:44.225
<v Speaker 0>sometimes it takes 15,000

00:26:44.225 --> 00:26:46.304
<v Speaker 0>refreshes before I get my dance.

00:26:47.345 --> 00:26:48.784
<v Speaker 0>Haven't worked out why.

00:26:54.385 --> 00:26:57.350
<v Speaker 2>What's going on? Maybe it's already running. You

00:26:57.670 --> 00:27:00.310
<v Speaker 0>wanna confirm the image? Oh, yeah. It's it's

00:27:00.310 --> 00:27:01.269
<v Speaker 2>running already.

00:27:02.150 --> 00:27:03.350
<v Speaker 2>So let's

00:27:03.750 --> 00:27:04.310
<v Speaker 2>let's see.

00:27:08.725 --> 00:27:10.404
<v Speaker 0>Yeah. We got events.

00:27:11.285 --> 00:27:14.405
<v Speaker 2>Yeah. Are we done? Yep. There we go.

00:27:14.405 --> 00:27:15.284
<v Speaker 2>That's it?

00:27:15.685 --> 00:27:18.085
<v Speaker 1>There was a second hack that apparently didn't

00:27:18.085 --> 00:27:18.885
<v Speaker 1>didn't work.

00:27:19.650 --> 00:27:21.250
<v Speaker 1>What was the hack? Supposed to be able

00:27:21.250 --> 00:27:22.850
<v Speaker 1>to do it after just clearing the IP

00:27:22.850 --> 00:27:23.570
<v Speaker 1>tables.

00:27:25.970 --> 00:27:28.130
<v Speaker 1>Interesting. Can you do a a a

00:27:29.410 --> 00:27:31.170
<v Speaker 1>I don't wanna give it away, but okay.

00:27:31.170 --> 00:27:32.610
<v Speaker 1>Can you do a t c We're done.

00:27:34.615 --> 00:27:37.174
<v Speaker 1>I'm curious about something on my cluster because,

00:27:37.655 --> 00:27:39.815
<v Speaker 1>basically, the DNS was just bonus. That wasn't

00:27:39.815 --> 00:27:41.335
<v Speaker 1>really what I was aiming for there. I

00:27:41.335 --> 00:27:43.015
<v Speaker 1>was trying to destroy

00:27:43.015 --> 00:27:44.774
<v Speaker 1>the VXLAN communications

00:27:45.175 --> 00:27:45.975
<v Speaker 1>Yeah. And

00:27:46.535 --> 00:27:47.175
<v Speaker 1>which I did,

00:27:48.100 --> 00:27:49.059
<v Speaker 1>which is why

00:27:50.019 --> 00:27:51.940
<v Speaker 1>even without DNS, you weren't gonna be weren't

00:27:51.940 --> 00:27:54.259
<v Speaker 1>gonna be able to get that thing connectable.

00:27:54.980 --> 00:27:55.779
<v Speaker 1>However,

00:27:56.019 --> 00:27:59.220
<v Speaker 1>there's a second stage to it that apparently

00:27:59.220 --> 00:28:00.419
<v Speaker 1>didn't work

00:28:00.980 --> 00:28:02.500
<v Speaker 1>long term. I'm not sure why.

00:28:04.145 --> 00:28:06.865
<v Speaker 1>I also had a a a traffic control

00:28:06.865 --> 00:28:09.345
<v Speaker 1>command in there that if you do a

00:28:09.345 --> 00:28:10.624
<v Speaker 1>t c space

00:28:11.905 --> 00:28:14.385
<v Speaker 1>q d I s c space show.

00:28:15.940 --> 00:28:18.740
<v Speaker 2>Q what? D I s c. I s

00:28:18.740 --> 00:28:20.180
<v Speaker 1>c, like disk,

00:28:20.500 --> 00:28:21.700
<v Speaker 1>space show.

00:28:28.900 --> 00:28:30.340
<v Speaker 1>I wonder if this got cleared out.

00:28:31.835 --> 00:28:33.275
<v Speaker 2>With the IP tables

00:28:33.835 --> 00:28:35.355
<v Speaker 2>flushed? There should be a so there should

00:28:35.355 --> 00:28:37.835
<v Speaker 1>be something that's basically throwing away a %

00:28:37.835 --> 00:28:39.995
<v Speaker 1>of all traffic on the Cilium VX LAN

00:28:39.995 --> 00:28:41.115
<v Speaker 1>on all nodes.

00:28:41.755 --> 00:28:43.915
<v Speaker 1>And it looks like it got cleared out.

00:28:43.915 --> 00:28:46.315
<v Speaker 1>So something I I didn't count on something

00:28:47.330 --> 00:28:48.210
<v Speaker 1>maintaining

00:28:48.530 --> 00:28:51.730
<v Speaker 1>traffic control behind my back. Yeah. You'll probably

00:28:51.730 --> 00:28:53.490
<v Speaker 0>find with because if we take a look

00:28:53.490 --> 00:28:56.050
<v Speaker 0>at the custom namespace, those silly and pause

00:28:56.050 --> 00:28:57.010
<v Speaker 0>were rotating

00:28:57.250 --> 00:28:59.010
<v Speaker 0>a fair bit, and I wonder if maybe

00:28:59.010 --> 00:28:59.570
<v Speaker 0>the

00:29:00.355 --> 00:29:02.355
<v Speaker 0>oh, I don't know. I'm guessing. What about

00:29:02.355 --> 00:29:05.075
<v Speaker 2>persistent on the worker nodes? Did they reboot

00:29:05.075 --> 00:29:05.634
<v Speaker 2>it?

00:29:09.794 --> 00:29:11.715
<v Speaker 2>How how do you persist that traffic control

00:29:11.715 --> 00:29:12.674
<v Speaker 2>configuration

00:29:12.540 --> 00:29:14.700
<v Speaker 2>when the server I thought it auto persisted.

00:29:14.700 --> 00:29:16.620
<v Speaker 1>I'm I'm not enough of an expert on

00:29:16.620 --> 00:29:18.700
<v Speaker 1>it. This was a bonus that somebody I

00:29:18.700 --> 00:29:19.820
<v Speaker 1>was talking to said, hey. You could do

00:29:19.820 --> 00:29:20.940
<v Speaker 1>this too. And then well, that way they

00:29:20.940 --> 00:29:22.620
<v Speaker 1>wouldn't see it in the IP tables.

00:29:22.860 --> 00:29:24.780
<v Speaker 1>I thought, oh, that's a good idea. But

00:29:25.774 --> 00:29:27.615
<v Speaker 0>Yeah. I don't see it on the workers

00:29:27.615 --> 00:29:29.855
<v Speaker 0>either, so not sure what happened there. I

00:29:29.855 --> 00:29:30.174
<v Speaker 2>I

00:29:31.774 --> 00:29:33.855
<v Speaker 2>so you went to the extra you went

00:29:33.855 --> 00:29:35.934
<v Speaker 2>to the extra mile to ask someone how

00:29:35.934 --> 00:29:38.575
<v Speaker 2>to be meaner with this this app. Right?

00:29:38.575 --> 00:29:41.230
<v Speaker 2>Right. I was saying to try. Thank you

00:29:41.230 --> 00:29:42.669
<v Speaker 2>for not trying. Sorry.

00:29:43.230 --> 00:29:45.150
<v Speaker 1>Like I was saying, this was

00:29:46.110 --> 00:29:47.630
<v Speaker 1>this was an

00:29:47.950 --> 00:29:49.470
<v Speaker 1>exercise in trying to

00:29:49.870 --> 00:29:51.710
<v Speaker 1>David and Goliath, except I have no rocks.

00:29:51.710 --> 00:29:52.510
<v Speaker 1>Let's put it that way.

00:29:53.715 --> 00:29:56.595
<v Speaker 1>You are the much more experienced here. So

00:29:56.595 --> 00:29:57.875
<v Speaker 1>this should be interesting when we flip the

00:29:57.875 --> 00:30:00.435
<v Speaker 1>tables. Alright. Let's do it then. Okay. Let's

00:30:00.435 --> 00:30:02.835
<v Speaker 0>drop the session. No. That would be boring.

00:30:02.835 --> 00:30:03.315
<v Speaker 2>Thanks.

00:30:06.035 --> 00:30:07.475
<v Speaker 1>Alright. Well done,

00:30:08.460 --> 00:30:09.419
<v Speaker 0>Carlos.

00:30:09.820 --> 00:30:10.619
<v Speaker 0>Eric,

00:30:11.980 --> 00:30:13.979
<v Speaker 0>your turn. So

00:30:14.860 --> 00:30:16.940
<v Speaker 1>now I go to hold on a second.

00:30:16.940 --> 00:30:18.539
<v Speaker 1>Let me get over to the right window.

00:30:19.820 --> 00:30:23.245
<v Speaker 0>Alright. I have got Carlos' cluster. I have

00:30:23.245 --> 00:30:25.245
<v Speaker 0>opened a root session. Just let me know

00:30:25.245 --> 00:30:26.445
<v Speaker 0>when you are there.

00:30:29.165 --> 00:30:30.125
<v Speaker 1>Where

00:30:30.125 --> 00:30:30.925
<v Speaker 1>is the sessions?

00:30:36.230 --> 00:30:38.309
<v Speaker 2>I see the chat. I think the people

00:30:39.110 --> 00:30:41.749
<v Speaker 0>Just ignore Noel. Noel's being mean.

00:30:42.390 --> 00:30:43.269
<v Speaker 2>Noel,

00:30:43.270 --> 00:30:46.070
<v Speaker 2>I was afraid of a eBPF hack on

00:30:46.070 --> 00:30:48.414
<v Speaker 2>the system d that are for not that

00:30:48.414 --> 00:30:50.654
<v Speaker 2>I watch every episode this week, but

00:30:54.014 --> 00:30:54.974
<v Speaker 1>There we go.

00:30:56.495 --> 00:30:58.414
<v Speaker 1>Joining session. Mobile eBPF.

00:31:02.770 --> 00:31:03.649
<v Speaker 0>Alright.

00:31:03.730 --> 00:31:06.450
<v Speaker 0>Let's see. You see me? I can see

00:31:06.450 --> 00:31:08.690
<v Speaker 0>you. Alright. I will start the timer. You

00:31:08.690 --> 00:31:10.050
<v Speaker 0>set up your config.

00:31:10.050 --> 00:31:10.929
<v Speaker 0>Check the

00:31:11.810 --> 00:31:14.610
<v Speaker 0>the API server, and let's see what happens.

00:31:14.610 --> 00:31:15.970
<v Speaker 1>Let's see if we have we don't have

00:31:15.970 --> 00:31:16.370
<v Speaker 1>it yet.

00:31:25.545 --> 00:31:26.184
<v Speaker 1>I

00:31:28.585 --> 00:31:31.639
<v Speaker 0>think teleport have fixed the scroll. That's awesome.

00:31:37.880 --> 00:31:39.559
<v Speaker 0>Said in the chat saying, what are the

00:31:39.559 --> 00:31:42.120
<v Speaker 0>odds that Carlos's break involves k native?

00:31:44.285 --> 00:31:46.205
<v Speaker 0>Do you have any admission controllers run with

00:31:46.205 --> 00:31:47.404
<v Speaker 0>k native, Carlos?

00:31:47.645 --> 00:31:50.125
<v Speaker 2>It involves k native in some way. Yes.

00:31:50.125 --> 00:31:51.644
<v Speaker 2>It involves k native, actually.

00:31:52.445 --> 00:31:53.565
<v Speaker 2>Oh, I shouldn't say anything.

00:31:57.870 --> 00:32:00.750
<v Speaker 0>Alright. Well, we we have an API server.

00:32:00.750 --> 00:32:02.590
<v Speaker 0>We don't have two worker nodes.

00:32:04.670 --> 00:32:06.590
<v Speaker 1>Cluster, it looks like it's

00:32:06.670 --> 00:32:09.390
<v Speaker 1>not happy. Yeah. It's a little bit broken.

00:32:15.470 --> 00:32:18.075
<v Speaker 0>And yeah. Alright. K. Postgres is scaled down,

00:32:18.075 --> 00:32:19.195
<v Speaker 0>but it looks good too.

00:32:20.395 --> 00:32:21.835
<v Speaker 0>And what do you wanna start with then,

00:32:21.835 --> 00:32:22.315
<v Speaker 0>Eric?

00:32:23.915 --> 00:32:25.435
<v Speaker 1>Hold on. Let me rearrange so I can

00:32:25.435 --> 00:32:28.260
<v Speaker 1>see both your screen and mine. Yeah. Take

00:32:28.260 --> 00:32:28.740
<v Speaker 1>a look.

00:32:29.860 --> 00:32:31.700
<v Speaker 1>I'm Well, there's no point. Sorry.

00:32:31.700 --> 00:32:32.340
<v Speaker 1>Go ahead.

00:32:32.660 --> 00:32:34.340
<v Speaker 0>I thought you were setting some stuff up

00:32:34.340 --> 00:32:35.300
<v Speaker 0>on your screen. Was gonna say I was

00:32:35.300 --> 00:32:36.580
<v Speaker 0>just gonna describe an order and see if

00:32:36.580 --> 00:32:38.020
<v Speaker 0>we could see the not ready states, but

00:32:38.020 --> 00:32:39.380
<v Speaker 0>I'll Go go

00:32:39.780 --> 00:32:41.940
<v Speaker 1>ahead and do that. Alright. So

00:32:48.434 --> 00:32:50.914
<v Speaker 0>I'll paper through left so we share scroll.

00:32:51.154 --> 00:32:51.554
<v Speaker 1>Yeah.

00:32:57.250 --> 00:32:59.170
<v Speaker 1>Network unavailable false.

00:33:00.450 --> 00:33:02.050
<v Speaker 0>Node status unknown.

00:33:03.010 --> 00:33:04.610
<v Speaker 0>I think the kubelet's just not running.

00:33:09.725 --> 00:33:10.445
<v Speaker 0>Yeah.

00:33:11.085 --> 00:33:12.845
<v Speaker 0>I think our first mission is to jump

00:33:12.845 --> 00:33:15.325
<v Speaker 0>onto the worker one. So

00:33:17.245 --> 00:33:19.645
<v Speaker 0>I popped a session on there. Let's check

00:33:19.965 --> 00:33:22.045
<v Speaker 0>the status of the kubelet.

00:33:24.540 --> 00:33:25.340
<v Speaker 1>K.

00:33:26.700 --> 00:33:28.140
<v Speaker 1>I'm jumping on that session.

00:33:42.195 --> 00:33:42.755
<v Speaker 0>Okay. There.

00:33:53.320 --> 00:33:54.600
<v Speaker 1>I think it did.

00:33:57.640 --> 00:33:59.480
<v Speaker 0>Hopefully,

00:33:59.480 --> 00:34:00.360
<v Speaker 0>he just stopped it.

00:34:08.735 --> 00:34:09.855
<v Speaker 0>Scroll broke.

00:34:11.054 --> 00:34:11.935
<v Speaker 0>There we go.

00:34:13.295 --> 00:34:14.094
<v Speaker 1>You see anything?

00:34:15.849 --> 00:34:17.449
<v Speaker 0>I don't see any. I think he literally

00:34:17.449 --> 00:34:19.770
<v Speaker 0>just did a system control stop kubelet.

00:34:22.250 --> 00:34:23.770
<v Speaker 0>I think we should just start it and

00:34:23.770 --> 00:34:24.730
<v Speaker 0>see what happens. Yeah.

00:34:29.385 --> 00:34:30.505
<v Speaker 1>It's up and running.

00:34:30.745 --> 00:34:31.945
<v Speaker 0>Yeah. It looks good.

00:34:32.905 --> 00:34:34.185
<v Speaker 0>Let's see if we can get some node

00:34:34.185 --> 00:34:34.985
<v Speaker 0>status.

00:34:37.145 --> 00:34:37.945
<v Speaker 0>Yeah.

00:34:38.745 --> 00:34:41.225
<v Speaker 0>It's now ready. So I I'll start it

00:34:41.225 --> 00:34:42.425
<v Speaker 0>on worker two.

00:34:42.665 --> 00:34:43.065
<v Speaker 0>Okay.

00:34:43.550 --> 00:34:45.469
<v Speaker 0>And then we'll go back to the control

00:34:45.469 --> 00:34:45.790
<v Speaker 0>plane.

00:34:57.505 --> 00:34:59.825
<v Speaker 0>Oops. Sorry. Oh, I'm sorry. Go ahead. I

00:34:59.825 --> 00:35:01.265
<v Speaker 0>was just trying to get notes to confirm

00:35:01.265 --> 00:35:02.385
<v Speaker 0>they were both ready.

00:35:02.625 --> 00:35:03.505
<v Speaker 1>Go for it.

00:35:06.385 --> 00:35:07.105
<v Speaker 0>Alright.

00:35:07.345 --> 00:35:08.385
<v Speaker 0>What's next?

00:35:10.224 --> 00:35:12.145
<v Speaker 1>So the pods are gonna count. It's pending

00:35:12.145 --> 00:35:12.465
<v Speaker 1>now.

00:35:16.200 --> 00:35:18.280
<v Speaker 1>Service up it is. So

00:35:35.474 --> 00:35:37.234
<v Speaker 1>The auto complete thing like him, I'm not

00:35:37.234 --> 00:35:38.035
<v Speaker 1>fancy.

00:35:38.835 --> 00:35:41.234
<v Speaker 0>Yeah. I think I can remember that command.

00:35:41.234 --> 00:35:43.315
<v Speaker 0>So Carlos did a complete,

00:35:43.315 --> 00:35:43.714
<v Speaker 0>like, create

00:35:45.010 --> 00:35:47.650
<v Speaker 0>cube control and then he copied this and

00:35:47.650 --> 00:35:50.050
<v Speaker 0>changed second cube control to k.

00:35:50.930 --> 00:35:52.850
<v Speaker 0>That's now my favorite type of all time.

00:35:52.850 --> 00:35:54.130
<v Speaker 0>So Nice.

00:35:55.010 --> 00:35:56.530
<v Speaker 0>Did we load the completion at the start?

00:35:59.845 --> 00:36:02.325
<v Speaker 1>Say that again? Did we load completion? Yeah.

00:36:02.325 --> 00:36:04.165
<v Speaker 0>We did. Okay. Yeah. We're good. Take it

00:36:04.165 --> 00:36:04.645
<v Speaker 0>away.

00:36:11.445 --> 00:36:13.365
<v Speaker 2>Are you guys trying to see the bot?

00:36:16.370 --> 00:36:18.530
<v Speaker 1>It was still pending, so I was wanting

00:36:18.530 --> 00:36:20.770
<v Speaker 1>to see what's going on. If

00:36:23.010 --> 00:36:25.570
<v Speaker 0>you watched the search magic on Cloud Native

00:36:25.570 --> 00:36:28.130
<v Speaker 0>TV this afternoon, I discussed the pending state

00:36:28.130 --> 00:36:28.850
<v Speaker 0>on a pod.

00:36:29.755 --> 00:36:31.035
<v Speaker 1>No. I did not.

00:36:32.155 --> 00:36:34.235
<v Speaker 1>Why is our image from Quay? Is that

00:36:34.235 --> 00:36:35.835
<v Speaker 1>normal? No.

00:36:35.915 --> 00:36:36.955
<v Speaker 0>That's cheeky.

00:36:37.675 --> 00:36:40.635
<v Speaker 0>Also, did not rename my username from Rawkode

00:36:40.635 --> 00:36:42.875
<v Speaker 1>to

00:36:41.700 --> 00:36:42.980
<v Speaker 1>Carlos Santana.

00:36:48.180 --> 00:36:50.339
<v Speaker 2>Then you can delete them, the parts, and

00:36:50.339 --> 00:36:53.300
<v Speaker 2>get them with Russell's giving me a trouble

00:36:53.300 --> 00:36:55.700
<v Speaker 0>for blindly starting the Kubelet service without checking

00:36:55.700 --> 00:36:56.339
<v Speaker 0>the definition.

00:36:57.414 --> 00:36:58.135
<v Speaker 0>Whoops.

00:36:59.255 --> 00:37:02.375
<v Speaker 0>And then Noel wants YouTube to have GIF

00:37:02.375 --> 00:37:03.095
<v Speaker 0>support.

00:37:03.895 --> 00:37:06.055
<v Speaker 0>I do not need trolled with GIFs too.

00:37:07.974 --> 00:37:10.055
<v Speaker 2>So the the hint you can look at

00:37:10.055 --> 00:37:10.855
<v Speaker 2>the hints,

00:37:11.095 --> 00:37:14.020
<v Speaker 2>but to retry, just delete the pods and

00:37:14.020 --> 00:37:16.740
<v Speaker 2>then We don't need no hints, Carlos.

00:37:16.900 --> 00:37:18.100
<v Speaker 2>We got this.

00:37:19.300 --> 00:37:20.500
<v Speaker 2>Delete the pods

00:37:20.820 --> 00:37:22.500
<v Speaker 2>so you don't lose time on the other

00:37:22.500 --> 00:37:24.660
<v Speaker 2>stuff. That would make sense. To deploy the

00:37:24.660 --> 00:37:26.339
<v Speaker 1>the image looks fine. So

00:37:28.525 --> 00:37:30.525
<v Speaker 2>Yeah. Delete them. See what happens.

00:37:31.325 --> 00:37:32.205
<v Speaker 2>They come back.

00:37:32.525 --> 00:37:33.965
<v Speaker 1>You're a little too

00:37:35.805 --> 00:37:37.165
<v Speaker 2>was not a little bit If I if

00:37:37.165 --> 00:37:38.365
<v Speaker 2>I broke it correctly now.

00:37:39.660 --> 00:37:40.300
<v Speaker 2>It should be

00:37:42.140 --> 00:37:43.580
<v Speaker 2>okay. Three seconds.

00:37:43.660 --> 00:37:45.660
<v Speaker 2>Now you can describe it. Yeah. Describe that.

00:37:45.660 --> 00:37:46.700
<v Speaker 0>Pending is never good.

00:37:51.675 --> 00:37:53.435
<v Speaker 2>Yeah. More useful message.

00:37:54.475 --> 00:37:56.155
<v Speaker 0>Oh, the image came back.

00:37:57.115 --> 00:37:58.795
<v Speaker 0>So I think we need to check for

00:37:58.795 --> 00:38:00.635
<v Speaker 0>a mutating admission controller.

00:38:06.090 --> 00:38:06.890
<v Speaker 1>Nope. But

00:38:07.690 --> 00:38:08.330
<v Speaker 1>pipe.

00:38:09.450 --> 00:38:10.650
<v Speaker 0>Yeah. Mutation

00:38:10.650 --> 00:38:11.930
<v Speaker 0>web configurations,

00:38:11.930 --> 00:38:13.770
<v Speaker 0>I believe, is the name.

00:38:14.650 --> 00:38:16.010
<v Speaker 1>Help me out. Yep.

00:38:19.835 --> 00:38:20.715
<v Speaker 0>Okay.

00:38:21.994 --> 00:38:23.355
<v Speaker 0>So we don't have one of those.

00:38:24.795 --> 00:38:26.555
<v Speaker 0>Do you mind if I let's describe the

00:38:26.555 --> 00:38:27.675
<v Speaker 0>replica set.

00:38:29.515 --> 00:38:31.515
<v Speaker 0>Well, you checked the deployment. The the deployment

00:38:31.515 --> 00:38:33.350
<v Speaker 0>had the correct image. So let's check the

00:38:33.350 --> 00:38:34.790
<v Speaker 0>replica set and see if that's got the

00:38:34.790 --> 00:38:36.310
<v Speaker 0>right image. I wanna know if it's happening

00:38:36.310 --> 00:38:38.230
<v Speaker 0>at the pod level or the rep set

00:38:38.230 --> 00:38:38.790
<v Speaker 0>level.

00:38:40.390 --> 00:38:42.550
<v Speaker 2>I'm now I'm curious why you're not getting

00:38:42.550 --> 00:38:43.350
<v Speaker 2>messages.

00:38:44.230 --> 00:38:45.510
<v Speaker 2>Oh, I see. I see.

00:38:45.750 --> 00:38:47.270
<v Speaker 2>What I broke. I forgot that I broke

00:38:47.270 --> 00:38:47.750
<v Speaker 2>something else.

00:38:48.865 --> 00:38:51.505
<v Speaker 2>Check check the hints if you want. They're

00:38:51.505 --> 00:38:52.785
<v Speaker 2>funny. I don't know.

00:38:53.985 --> 00:38:56.145
<v Speaker 0>Yeah. Check the hints with three minutes left.

00:38:57.505 --> 00:38:58.145
<v Speaker 0>Okay.

00:38:58.385 --> 00:38:59.745
<v Speaker 0>No. Don't look at the hints. No. This

00:38:59.745 --> 00:39:01.745
<v Speaker 2>is this is a good one. Like yeah.

00:39:01.745 --> 00:39:03.700
<v Speaker 2>Don't don't look at the hints. Don't look

00:39:03.700 --> 00:39:04.740
<v Speaker 1>at the hints? Okay.

00:39:06.020 --> 00:39:07.860
<v Speaker 2>Why don't we Yeah. The white spot what's

00:39:07.860 --> 00:39:10.020
<v Speaker 2>happening? This spot is not being what?

00:39:12.740 --> 00:39:15.714
<v Speaker 2>What should be what? Yeah. Yep. You found

00:39:15.714 --> 00:39:17.475
<v Speaker 2>it. Our replica sets.

00:39:18.355 --> 00:39:20.995
<v Speaker 0>Okay. So the replica set is actually correct.

00:39:23.635 --> 00:39:25.954
<v Speaker 0>Yeah. Our pod was created. So

00:39:31.660 --> 00:39:33.579
<v Speaker 0>interesting. What is the what is the process

00:39:33.579 --> 00:39:34.300
<v Speaker 2>of

00:39:34.619 --> 00:39:36.060
<v Speaker 2>creating a pod?

00:39:39.260 --> 00:39:41.339
<v Speaker 2>The bug gets created? And then I'll then

00:39:41.420 --> 00:39:42.619
<v Speaker 1>customer must be care again.

00:39:53.215 --> 00:39:54.895
<v Speaker 0>What's running in our cluster? Can we do

00:39:54.895 --> 00:39:55.695
<v Speaker 0>a get pods all?

00:39:58.660 --> 00:40:00.500
<v Speaker 2>Yeah. There might be something sick.

00:40:04.260 --> 00:40:05.460
<v Speaker 1>Ambassador.

00:40:06.500 --> 00:40:07.220
<v Speaker 1>Everything.

00:40:07.460 --> 00:40:09.620
<v Speaker 0>Yeah. I'm gonna assume he swapped out the

00:40:09.620 --> 00:40:11.940
<v Speaker 0>images on the controller manager.

00:40:17.565 --> 00:40:19.405
<v Speaker 0>Let's describe the controller manager.

00:40:27.720 --> 00:40:29.080
<v Speaker 0>Come on. Autocomplete.

00:40:30.040 --> 00:40:31.480
<v Speaker 1>Helps to give it pod.

00:40:38.760 --> 00:40:40.040
<v Speaker 1>I'm looking at your scroll.

00:40:42.045 --> 00:40:44.925
<v Speaker 0>The image is is good, annoyingly.

00:40:45.805 --> 00:40:47.245
<v Speaker 0>So it's a nice effect.

00:40:48.285 --> 00:40:50.445
<v Speaker 0>Delete the pod. The pod comes back.

00:40:53.885 --> 00:40:55.085
<v Speaker 0>The image has changed.

00:40:58.220 --> 00:40:59.420
<v Speaker 0>So we're gonna have to check the image

00:40:59.420 --> 00:41:00.860
<v Speaker 1>on the API server now. Should we go

00:41:00.860 --> 00:41:03.020
<v Speaker 0>to the static pod directory and take a

00:41:03.020 --> 00:41:03.740
<v Speaker 0>relook?

00:41:04.540 --> 00:41:06.860
<v Speaker 1>The worker on the oh, sorry. Which one?

00:41:06.860 --> 00:41:09.180
<v Speaker 0>On the control plane. Yeah. It's a Kubernetes

00:41:09.180 --> 00:41:09.820
<v Speaker 0>manifest.

00:41:10.135 --> 00:41:12.455
<v Speaker 0>Let's see what is changed in here.

00:41:17.975 --> 00:41:19.175
<v Speaker 1>Oh, beta dog 20.

00:41:25.730 --> 00:41:28.130
<v Speaker 0>Yeah. We'll need to check the API server

00:41:28.130 --> 00:41:29.010
<v Speaker 0>too.

00:41:31.250 --> 00:41:32.690
<v Speaker 0>The image looks good.

00:41:34.529 --> 00:41:36.849
<v Speaker 0>Assuming this is the right static pod directory,

00:41:36.849 --> 00:41:37.970
<v Speaker 0>which you could also have changed.

00:41:39.125 --> 00:41:42.005
<v Speaker 0>That's true. Let's check the API server before

00:41:42.005 --> 00:41:43.685
<v Speaker 0>we go down another rabbit hole.

00:41:57.690 --> 00:41:58.970
<v Speaker 0>Image is good. Okay.

00:42:09.975 --> 00:42:11.975
<v Speaker 0>Could be a container D trick.

00:42:14.135 --> 00:42:15.095
<v Speaker 1>Like what?

00:42:15.575 --> 00:42:16.455
<v Speaker 1>Like he's

00:42:17.430 --> 00:42:18.630
<v Speaker 1>wait a second.

00:42:23.830 --> 00:42:25.670
<v Speaker 0>Yeah. Did you I I thought you you

00:42:25.670 --> 00:42:27.750
<v Speaker 0>described clustered. Right? And it was

00:42:28.310 --> 00:42:29.670
<v Speaker 1>I was wanting to see if he changed

00:42:29.670 --> 00:42:33.255
<v Speaker 1>the image load policy and if it's only

00:42:33.255 --> 00:42:34.535
<v Speaker 1>loading from cached.

00:42:35.494 --> 00:42:38.695
<v Speaker 1>Oops. I'm

00:42:38.695 --> 00:42:39.335
<v Speaker 1>failing.

00:42:40.055 --> 00:42:42.295
<v Speaker 0>Yeah. Let's let's grab that for image and

00:42:42.295 --> 00:42:43.175
<v Speaker 0>see what we get back.

00:42:49.110 --> 00:42:50.470
<v Speaker 1>Full policy always.

00:42:57.030 --> 00:42:58.470
<v Speaker 0>I like I like it.

00:42:59.270 --> 00:42:59.590
<v Speaker 0>So

00:43:00.665 --> 00:43:02.744
<v Speaker 0>let's think what's just see, it's really weird

00:43:02.744 --> 00:43:04.345
<v Speaker 0>because the API server is giving us back

00:43:04.345 --> 00:43:05.545
<v Speaker 0>the image, is

00:43:06.425 --> 00:43:08.505
<v Speaker 0>car loss. They're infuriating.

00:43:13.465 --> 00:43:13.705
<v Speaker 0>Hot.

00:43:21.510 --> 00:43:22.150
<v Speaker 1>Check that.

00:43:32.425 --> 00:43:34.905
<v Speaker 1>Noelle, we did check for mutating webhooks.

00:43:36.825 --> 00:43:39.785
<v Speaker 0>That is sneaky, Carlos, whatever you've done here.

00:43:40.345 --> 00:43:42.025
<v Speaker 0>So the replica set is created with the

00:43:42.025 --> 00:43:43.865
<v Speaker 0>right image. The pod is then being created

00:43:43.865 --> 00:43:45.440
<v Speaker 0>with one. I think the only way I

00:43:45.440 --> 00:43:46.480
<v Speaker 0>know how to do that would be for

00:43:46.480 --> 00:43:47.760
<v Speaker 0>him to swap out

00:43:48.799 --> 00:43:50.240
<v Speaker 0>API server

00:43:50.559 --> 00:43:53.680
<v Speaker 0>or to a mutating admission control. Now he

00:43:53.680 --> 00:43:56.240
<v Speaker 0>could be hiding the mutating admission control from

00:43:56.240 --> 00:43:57.599
<v Speaker 0>us. Right? Like Yeah.

00:43:59.355 --> 00:43:59.995
<v Speaker 1>But

00:44:00.555 --> 00:44:01.435
<v Speaker 1>I'm I'm

00:44:01.835 --> 00:44:03.275
<v Speaker 1>it's I will be over my head on

00:44:03.275 --> 00:44:04.635
<v Speaker 1>that then. How would you do that?

00:44:06.955 --> 00:44:10.395
<v Speaker 1>Rename it rename it something that looks innocuous?

00:44:11.195 --> 00:44:12.555
<v Speaker 2>It's it's simpler than that.

00:44:14.580 --> 00:44:16.660
<v Speaker 2>Look at the hint. Check. Oh, yeah. Check

00:44:16.660 --> 00:44:18.420
<v Speaker 0>the hints. I we checked the hints. I

00:44:18.420 --> 00:44:20.340
<v Speaker 0>I think Unless but don't look at all

00:44:20.340 --> 00:44:22.500
<v Speaker 2>of them. Just them in order so you

00:44:22.500 --> 00:44:23.780
<v Speaker 2>see only the beginning.

00:44:29.315 --> 00:44:30.915
<v Speaker 0>Alright. So we fixed that one.

00:44:31.395 --> 00:44:32.835
<v Speaker 2>Yep. Fixed.

00:44:36.915 --> 00:44:38.915
<v Speaker 0>Yeah. You let it down.

00:44:39.315 --> 00:44:40.115
<v Speaker 0>Is that important?

00:44:41.109 --> 00:44:43.349
<v Speaker 2>Yeah. That's fixed already. Alright. Okay. Yeah. I

00:44:43.349 --> 00:44:45.510
<v Speaker 0>wasn't sure what there's a play on words

00:44:45.510 --> 00:44:46.790
<v Speaker 1>for Kubelet, I believe.

00:44:47.670 --> 00:44:49.270
<v Speaker 2>Yeah. This is I think you're using a

00:44:49.270 --> 00:44:50.950
<v Speaker 0>static pod. Alright. Okay.

00:44:51.349 --> 00:44:52.550
<v Speaker 2>So read read the sentence.

00:44:53.345 --> 00:44:55.825
<v Speaker 1>You think in action this poor static pod.

00:44:55.825 --> 00:44:57.185
<v Speaker 0>So you can hide

00:44:57.265 --> 00:44:59.424
<v Speaker 0>resource. We can hide the the mutate and

00:44:59.424 --> 00:45:01.105
<v Speaker 0>admission controller configuration.

00:45:04.785 --> 00:45:07.505
<v Speaker 2>Missing in action, this poor static pod.

00:45:13.670 --> 00:45:16.550
<v Speaker 0>No DNS, but then that's not

00:45:18.390 --> 00:45:19.190
<v Speaker 0>scheduler,

00:45:19.190 --> 00:45:21.510
<v Speaker 0>tool manager, API server, etcd.

00:45:31.984 --> 00:45:32.625
<v Speaker 1>So what's

00:45:38.710 --> 00:45:40.470
<v Speaker 0>Is that the right hand for this problem,

00:45:40.470 --> 00:45:41.110
<v Speaker 0>Carlos?

00:45:41.350 --> 00:45:43.030
<v Speaker 2>Yes. Yes. Okay.

00:45:43.510 --> 00:45:46.230
<v Speaker 0>Missing an action. That's pure static. I'm going

00:45:46.230 --> 00:45:49.190
<v Speaker 0>to check. So there's there needs to be

00:45:49.190 --> 00:45:50.790
<v Speaker 2>a a list of yep.

00:45:53.755 --> 00:45:56.395
<v Speaker 0>He did change the static directory.

00:45:59.195 --> 00:46:00.955
<v Speaker 1>You even said that, and we didn't follow-up

00:46:00.955 --> 00:46:01.915
<v Speaker 1>on it. That's

00:46:02.155 --> 00:46:04.795
<v Speaker 0>So I bet he has swapped our controller

00:46:04.795 --> 00:46:07.160
<v Speaker 0>manager and API server. Yeah.

00:46:08.440 --> 00:46:11.320
<v Speaker 0>Controller manager is maybe alright. I didn't search

00:46:11.320 --> 00:46:12.120
<v Speaker 0>a bunch.

00:46:13.080 --> 00:46:14.840
<v Speaker 0>And API server alright. We're gonna have to

00:46:14.840 --> 00:46:16.200
<v Speaker 0>go through the options then.

00:46:16.360 --> 00:46:18.040
<v Speaker 0>And so with the API server, he could

00:46:18.040 --> 00:46:20.680
<v Speaker 0>have configured a static admission controller,

00:46:20.840 --> 00:46:21.560
<v Speaker 0>which he's not.

00:46:28.974 --> 00:46:30.655
<v Speaker 0>I have no idea what I'm looking for.

00:46:30.655 --> 00:46:32.415
<v Speaker 0>I'm just dim scrolling at the moment.

00:46:35.490 --> 00:46:37.330
<v Speaker 0>Oh, there's no scheduler here.

00:46:39.650 --> 00:46:41.730
<v Speaker 1>That's true. That is accurate,

00:46:41.890 --> 00:46:43.650
<v Speaker 1>which makes sense. That's why it's that's why

00:46:43.650 --> 00:46:45.250
<v Speaker 1>it's pending because it has it doesn't know

00:46:45.250 --> 00:46:46.050
<v Speaker 1>what node to put it on.

00:46:48.305 --> 00:46:50.065
<v Speaker 0>But the image has also changed in the

00:46:50.065 --> 00:46:50.705
<v Speaker 0>pod.

00:46:51.825 --> 00:46:52.545
<v Speaker 0>Right?

00:46:53.425 --> 00:46:55.185
<v Speaker 1>Yeah. Scheduler wouldn't do that.

00:46:56.145 --> 00:46:57.185
<v Speaker 1>I don't think.

00:46:59.505 --> 00:47:01.585
<v Speaker 0>Okay. Let's bring back the scheduler.

00:47:08.740 --> 00:47:11.220
<v Speaker 1>That's hiding the fact that yeah. It would

00:47:11.220 --> 00:47:13.220
<v Speaker 1>not normally would say image pull problem or

00:47:13.220 --> 00:47:13.940
<v Speaker 1>something

00:47:14.020 --> 00:47:15.620
<v Speaker 1>unless he's got it. No. He probably has

00:47:15.620 --> 00:47:16.900
<v Speaker 1>an image on Quay. Never mind.

00:47:18.895 --> 00:47:21.535
<v Speaker 0>Yeah. I'm gonna trust that the manifests in

00:47:21.535 --> 00:47:23.695
<v Speaker 0>here are actually okay. I think saying enable

00:47:24.495 --> 00:47:25.295
<v Speaker 2>the hack.

00:47:29.135 --> 00:47:30.735
<v Speaker 0>Okay. We have a scheduler now.

00:47:49.505 --> 00:47:51.185
<v Speaker 0>Let's just kill those puppets.

00:47:52.945 --> 00:47:54.305
<v Speaker 2>Yeah. Let's kill the pot so we don't

00:47:54.305 --> 00:47:55.025
<v Speaker 2>lose time.

00:47:55.665 --> 00:47:58.465
<v Speaker 2>That's my sister in the in the chanting,

00:47:58.465 --> 00:47:58.625
<v Speaker 2>Russell.

00:47:59.850 --> 00:48:01.450
<v Speaker 2>Delete the pass so you don't lose time

00:48:01.450 --> 00:48:02.410
<v Speaker 2>on the other stuff.

00:48:03.610 --> 00:48:04.890
<v Speaker 1>Let's take a look at

00:48:05.770 --> 00:48:08.090
<v Speaker 1>why are we in Kubernetes with a c?

00:48:09.850 --> 00:48:11.770
<v Speaker 2>Did we did you delete it?

00:48:12.170 --> 00:48:13.610
<v Speaker 2>No. Did you describe it?

00:48:15.515 --> 00:48:17.675
<v Speaker 2>Describe it to see if you have events.

00:48:23.275 --> 00:48:24.875
<v Speaker 0>Oh, he just tinted the notes.

00:48:35.960 --> 00:48:37.640
<v Speaker 0>You happy for us to delete the tents?

00:48:50.515 --> 00:48:52.755
<v Speaker 0>Okay. So we have a container creating, but

00:48:52.755 --> 00:48:54.275
<v Speaker 0>I'm still really worried about that image on

00:48:54.275 --> 00:48:54.995
<v Speaker 0>the pod.

00:48:56.435 --> 00:48:57.955
<v Speaker 0>I don't know how he's achieved that yet.

00:48:58.670 --> 00:48:59.950
<v Speaker 2>You're seeing things.

00:49:00.270 --> 00:49:02.270
<v Speaker 2>The deployment should have the right image.

00:49:02.670 --> 00:49:04.670
<v Speaker 0>The deployment did. The replica set that the

00:49:04.670 --> 00:49:05.630
<v Speaker 0>pod didn't.

00:49:06.510 --> 00:49:08.510
<v Speaker 0>I don't know how you did that. Yeah.

00:49:08.510 --> 00:49:09.870
<v Speaker 0>So now you're surprised.

00:49:11.775 --> 00:49:14.015
<v Speaker 2>Check the deployment. I think the deployment was

00:49:14.015 --> 00:49:14.655
<v Speaker 2>correct.

00:49:16.174 --> 00:49:18.015
<v Speaker 0>Oh, correct. So is

00:49:18.734 --> 00:49:19.295
<v Speaker 2>it running?

00:49:28.910 --> 00:49:31.630
<v Speaker 2>We have blank blank, but They are running.

00:49:31.630 --> 00:49:33.230
<v Speaker 0>Would you like me to browse to your

00:49:33.230 --> 00:49:33.950
<v Speaker 0>application?

00:49:34.510 --> 00:49:34.990
<v Speaker 2>If

00:49:35.630 --> 00:49:37.950
<v Speaker 2>the if the database is not working, I

00:49:37.950 --> 00:49:38.829
<v Speaker 2>don't think it will work.

00:49:40.885 --> 00:49:43.845
<v Speaker 2>Right? I tested your image. Yeah. I'm trying

00:49:43.845 --> 00:49:45.765
<v Speaker 0>to think you've been writing some Rust, Carlos.

00:49:47.925 --> 00:49:48.965
<v Speaker 2>I yeah.

00:49:49.205 --> 00:49:50.085
<v Speaker 2>I like Rust.

00:49:55.260 --> 00:49:56.380
<v Speaker 0>Do we have a

00:49:56.780 --> 00:49:59.020
<v Speaker 0>database yet? No. Crashed.

00:50:01.900 --> 00:50:02.780
<v Speaker 0>Alright.

00:50:03.420 --> 00:50:04.140
<v Speaker 0>Oh,

00:50:04.540 --> 00:50:07.260
<v Speaker 2>crash? I didn't do that. Check the database.

00:50:12.565 --> 00:50:13.285
<v Speaker 0>K.

00:50:13.365 --> 00:50:15.605
<v Speaker 0>Yeah. We're getting an internal server at our

00:50:15.605 --> 00:50:17.765
<v Speaker 0>our databases, and I crashed it back up.

00:50:17.765 --> 00:50:18.964
<v Speaker 0>Oh, no. It's restarting.

00:50:22.080 --> 00:50:22.800
<v Speaker 2>Oh,

00:50:22.880 --> 00:50:24.720
<v Speaker 2>I need to do that, I think.

00:50:26.880 --> 00:50:27.840
<v Speaker 0>Are you sure?

00:50:31.440 --> 00:50:32.240
<v Speaker 1>It's flapping.

00:50:41.615 --> 00:50:43.695
<v Speaker 0>Do you edit my stateful set?

00:50:44.095 --> 00:50:46.415
<v Speaker 2>I didn't do anything with the database.

00:51:10.055 --> 00:51:12.295
<v Speaker 2>Well, you should you should get if you

00:51:12.295 --> 00:51:13.655
<v Speaker 2>you don't have a database, you should get

00:51:13.655 --> 00:51:16.135
<v Speaker 2>your angry man. Right? Yeah. So we still

00:51:16.135 --> 00:51:17.495
<v Speaker 0>have a networking problem.

00:51:18.375 --> 00:51:20.615
<v Speaker 2>Yeah. So that one, I did.

00:51:21.660 --> 00:51:22.460
<v Speaker 2>Let's see.

00:51:23.020 --> 00:51:25.900
<v Speaker 0>Alright. Let's work at the networking problem, Eric.

00:51:25.980 --> 00:51:26.780
<v Speaker 1>Okay.

00:51:27.260 --> 00:51:28.940
<v Speaker 1>I I was looking at documents for a

00:51:28.940 --> 00:51:31.660
<v Speaker 1>second while you apparently the the c the

00:51:31.660 --> 00:51:34.220
<v Speaker 1>Kubernetes with the c, is that his alternative

00:51:34.220 --> 00:51:35.020
<v Speaker 1>directory, I guess?

00:51:35.744 --> 00:51:37.664
<v Speaker 0>Correct. So I copied the scheduler and and

00:51:37.664 --> 00:51:39.744
<v Speaker 0>trusted that the other manifests were okay.

00:51:40.625 --> 00:51:42.144
<v Speaker 2>More fun hints.

00:51:42.144 --> 00:51:43.984
<v Speaker 2>We want to look at the hints.

00:51:45.585 --> 00:51:47.585
<v Speaker 0>No. I think we got enough things threads

00:51:47.585 --> 00:51:49.105
<v Speaker 0>to put on right now. I'm curious about

00:51:49.105 --> 00:51:50.690
<v Speaker 0>the networking. I wanna be able to fix

00:51:50.690 --> 00:51:52.530
<v Speaker 0>the ingress onto the cluster.

00:51:52.930 --> 00:51:54.690
<v Speaker 0>And I also wanna check the container d

00:51:54.690 --> 00:51:55.570
<v Speaker 0>configuration

00:51:55.570 --> 00:51:56.930
<v Speaker 0>for using

00:51:56.930 --> 00:51:58.610
<v Speaker 0>the matter alias.

00:52:01.810 --> 00:52:03.010
<v Speaker 2>Perfect. No worries.

00:52:04.025 --> 00:52:05.625
<v Speaker 1>If the pod is coming up and then

00:52:05.625 --> 00:52:08.025
<v Speaker 1>crashing, and is it not logging anything?

00:52:08.825 --> 00:52:09.705
<v Speaker 1>Any reason?

00:52:10.185 --> 00:52:11.865
<v Speaker 2>No. I'm saying the first time we see

00:52:11.865 --> 00:52:13.785
<v Speaker 2>prod is crashing like that, I don't know.

00:52:14.505 --> 00:52:16.185
<v Speaker 2>But it might be some related to some

00:52:16.185 --> 00:52:17.065
<v Speaker 2>builder hacks.

00:52:19.450 --> 00:52:21.690
<v Speaker 0>Alright. Let's do curl

00:52:21.850 --> 00:52:22.810
<v Speaker 0>h p.

00:52:23.610 --> 00:52:25.130
<v Speaker 0>Let's check our node port.

00:52:27.610 --> 00:52:28.970
<v Speaker 0>Broken.

00:52:29.130 --> 00:52:30.890
<v Speaker 0>I'm gonna do that on a worker node

00:52:30.890 --> 00:52:31.290
<v Speaker 0>as well.

00:52:33.635 --> 00:52:34.675
<v Speaker 0>Broken.

00:52:35.315 --> 00:52:36.755
<v Speaker 0>No. Fine. Okay.

00:52:36.915 --> 00:52:38.115
<v Speaker 0>That's expected.

00:52:38.835 --> 00:52:41.395
<v Speaker 0>So the control plane can't reach the worker

00:52:41.395 --> 00:52:41.955
<v Speaker 0>nodes.

00:52:46.400 --> 00:52:47.920
<v Speaker 0>When do you wanna check first?

00:52:49.200 --> 00:52:51.520
<v Speaker 1>I mean, the first thing, just like you

00:52:51.520 --> 00:52:52.720
<v Speaker 1>did for mine, let us look at see

00:52:52.720 --> 00:52:54.640
<v Speaker 1>if there's any net policies. Oh, yeah. Oh,

00:52:54.640 --> 00:52:56.560
<v Speaker 1>look at app tables, know, I mean, obviously.

00:53:07.984 --> 00:53:09.025
<v Speaker 1>Defaults,

00:53:09.025 --> 00:53:09.905
<v Speaker 1>all pods.

00:53:12.119 --> 00:53:13.960
<v Speaker 0>I don't think that's allowing. I think that's

00:53:13.960 --> 00:53:14.840
<v Speaker 0>a denial. Yeah.

00:53:15.640 --> 00:53:17.559
<v Speaker 1>That's that's saying the opposite of what it

00:53:17.559 --> 00:53:18.119
<v Speaker 1>is.

00:53:18.599 --> 00:53:18.839
<v Speaker 1>Yeah.

00:53:24.135 --> 00:53:26.455
<v Speaker 0>Since we checked these on your cluster, we'll

00:53:26.455 --> 00:53:27.495
<v Speaker 0>check them here.

00:53:27.815 --> 00:53:28.775
<v Speaker 0>Alright. Good.

00:53:29.655 --> 00:53:31.815
<v Speaker 0>So we'll try the curl again.

00:53:34.535 --> 00:53:35.655
<v Speaker 0>Okay. We fixed that.

00:53:37.190 --> 00:53:38.550
<v Speaker 0>I like that you both used a network

00:53:38.550 --> 00:53:39.350
<v Speaker 0>policy.

00:53:42.310 --> 00:53:42.950
<v Speaker 0>I

00:53:45.510 --> 00:53:47.750
<v Speaker 1>can't believe that that would be that's not

00:53:47.750 --> 00:53:50.615
<v Speaker 1>the database issue, though. I have Wouldn't I?

00:53:50.615 --> 00:53:53.255
<v Speaker 0>I mean, the database doesn't rely on

00:53:53.655 --> 00:53:54.455
<v Speaker 0>anything.

00:53:54.935 --> 00:53:55.655
<v Speaker 2>No.

00:53:56.695 --> 00:53:58.455
<v Speaker 2>It's the self bootstrapping Is

00:53:58.935 --> 00:54:01.175
<v Speaker 1>it does it have a volume that it's

00:54:01.175 --> 00:54:02.055
<v Speaker 1>mounting that it can't?

00:54:03.030 --> 00:54:03.590
<v Speaker 1>No.

00:54:04.390 --> 00:54:06.950
<v Speaker 1>Is it all it's all self contained? Yeah.

00:54:09.430 --> 00:54:11.110
<v Speaker 0>Let's see what happens after

00:54:12.230 --> 00:54:13.510
<v Speaker 0>a few seconds.

00:54:16.390 --> 00:54:17.590
<v Speaker 0>No. Press restart.

00:54:26.625 --> 00:54:28.305
<v Speaker 0>Are you sure you didn't break this?

00:54:29.185 --> 00:54:30.865
<v Speaker 2>Yeah. I think so. I I think I

00:54:30.865 --> 00:54:31.665
<v Speaker 2>broke it

00:54:34.000 --> 00:54:36.400
<v Speaker 2>without Is the liveness probe?

00:54:37.200 --> 00:54:38.640
<v Speaker 2>Yeah. Check.

00:54:40.559 --> 00:54:42.240
<v Speaker 0>I mean, we don't need wherever you're going,

00:54:42.240 --> 00:54:43.360
<v Speaker 0>we don't need probes.

00:54:43.920 --> 00:54:44.720
<v Speaker 2>Check the image.

00:54:45.395 --> 00:54:47.155
<v Speaker 2>Just yeah. I want to help out. Check

00:54:47.155 --> 00:54:49.315
<v Speaker 2>the image of that database

00:54:49.315 --> 00:54:50.435
<v Speaker 2>in the pod.

00:54:54.195 --> 00:54:56.515
<v Speaker 0>Did I delete too much? No. It's okay.

00:54:56.595 --> 00:54:57.795
<v Speaker 0>I'm just removing them.

00:55:13.625 --> 00:55:14.744
<v Speaker 0>Okay. Running.

00:55:29.470 --> 00:55:32.350
<v Speaker 0>Okay. So there's maybe another networking thing then.

00:55:34.670 --> 00:55:37.470
<v Speaker 1>Is there anything that your app logs

00:55:37.550 --> 00:55:38.750
<v Speaker 1>that would be more sorry.

00:55:39.310 --> 00:55:42.215
<v Speaker 1>Go ahead. Check the images on that database

00:55:42.215 --> 00:55:43.255
<v Speaker 2>on the pod.

00:55:45.415 --> 00:55:47.015
<v Speaker 1>Oh, if you turn a weird thing with

00:55:47.015 --> 00:55:49.655
<v Speaker 1>both of them, you cheeky monkey. Yeah. I

00:55:49.655 --> 00:55:51.015
<v Speaker 2>wanted to break one, but I think I

00:55:51.015 --> 00:55:51.495
<v Speaker 2>broke two.

00:55:53.540 --> 00:55:54.180
<v Speaker 0>Yep.

00:55:55.220 --> 00:55:56.660
<v Speaker 0>I hate you so much.

00:55:58.180 --> 00:56:00.020
<v Speaker 2>I unintentionally

00:56:00.020 --> 00:56:01.060
<v Speaker 2>broke the

00:56:01.540 --> 00:56:02.660
<v Speaker 2>the database.

00:56:03.700 --> 00:56:05.140
<v Speaker 0>Alright. So we need to we need to

00:56:05.140 --> 00:56:07.605
<v Speaker 0>solve this. Right? Like, the deployment, the rep,

00:56:07.605 --> 00:56:09.605
<v Speaker 0>like I said, have the correct image. How

00:56:09.605 --> 00:56:12.245
<v Speaker 0>is he solving gonna be a great hack.

00:56:12.245 --> 00:56:14.085
<v Speaker 2>It's going to be me dancing, but it

00:56:14.085 --> 00:56:15.525
<v Speaker 2>didn't work anyway.

00:56:15.925 --> 00:56:16.565
<v Speaker 2>Alright.

00:56:19.685 --> 00:56:22.405
<v Speaker 0>I'm gonna because I had a hunch that

00:56:21.480 --> 00:56:23.480
<v Speaker 0>he's used the container deconfig,

00:56:23.480 --> 00:56:24.120
<v Speaker 0>so

00:56:24.520 --> 00:56:26.040
<v Speaker 0>and he is not. Alright.

00:56:33.895 --> 00:56:35.255
<v Speaker 0>I'm gonna be honest. I don't know how

00:56:35.255 --> 00:56:37.495
<v Speaker 0>he's done that without mutating the machine controller.

00:56:48.390 --> 00:56:51.110
<v Speaker 0>And all the control plane components seem normal.

00:56:51.910 --> 00:56:53.510
<v Speaker 0>I'm starting to think it could just have

00:56:53.510 --> 00:56:56.070
<v Speaker 0>modified the DNS to resolve the query, but

00:56:56.070 --> 00:56:57.110
<v Speaker 0>I don't know why

00:56:58.790 --> 00:57:00.150
<v Speaker 1>It wouldn't say this. It wouldn't update it

00:57:00.150 --> 00:57:01.430
<v Speaker 0>in the pod. Yeah. It would just be

00:57:01.430 --> 00:57:02.790
<v Speaker 0>the one time use a different image.

00:57:03.405 --> 00:57:04.285
<v Speaker 0>You're right.

00:57:04.925 --> 00:57:07.885
<v Speaker 0>That's a really cool trick, Carlos. I hate

00:57:07.885 --> 00:57:08.445
<v Speaker 0>you.

00:57:11.325 --> 00:57:12.845
<v Speaker 2>I have to hit me.

00:57:14.845 --> 00:57:16.525
<v Speaker 0>But how I said it wasn't competitive, it's

00:57:16.525 --> 00:57:19.310
<v Speaker 0>competitive now. Alright? That's it. Yeah.

00:57:21.790 --> 00:57:22.670
<v Speaker 0>I'm

00:57:22.670 --> 00:57:24.270
<v Speaker 0>thinking we'd use the hints,

00:57:24.270 --> 00:57:26.590
<v Speaker 0>Eric. I'm I'm at a loss, mate.

00:57:27.070 --> 00:57:29.150
<v Speaker 1>Use the what? I'm thinking we look at

00:57:29.150 --> 00:57:29.630
<v Speaker 0>the hints.

00:57:32.495 --> 00:57:35.135
<v Speaker 2>Yeah. They're in order. Yeah. I just

00:57:36.975 --> 00:57:38.895
<v Speaker 1>what hint what's what hint are we on?

00:57:39.535 --> 00:57:41.295
<v Speaker 2>What well, Dave said that he was going

00:57:41.295 --> 00:57:42.415
<v Speaker 2>to wait three minutes.

00:57:42.655 --> 00:57:45.519
<v Speaker 2>Like, when what's left to secret hint? It

00:57:45.519 --> 00:57:46.640
<v Speaker 2>doesn't want to wait. Let's take a look

00:57:46.640 --> 00:57:49.440
<v Speaker 0>at three or four. I can't remember which.

00:57:52.880 --> 00:57:56.079
<v Speaker 2>Cannot Cannot or node. It may be painted.

00:57:56.079 --> 00:57:57.440
<v Speaker 0>Alright. We will do that. We will do

00:57:57.440 --> 00:57:57.599
<v Speaker 1>that.

00:58:01.875 --> 00:58:03.235
<v Speaker 1>Yep. We got that. Oh,

00:58:03.875 --> 00:58:06.515
<v Speaker 2>please allow all do not deny policy. Yeah.

00:58:06.515 --> 00:58:07.315
<v Speaker 2>You got that one.

00:58:12.519 --> 00:58:14.200
<v Speaker 2>That was that was the thing that you

00:58:14.200 --> 00:58:15.640
<v Speaker 2>were you were going to see, but you

00:58:15.640 --> 00:58:17.640
<v Speaker 2>didn't see. So that was that was the

00:58:17.640 --> 00:58:18.760
<v Speaker 2>swap of the image.

00:58:19.240 --> 00:58:21.000
<v Speaker 2>It was going to be me dancing, but

00:58:22.200 --> 00:58:22.839
<v Speaker 1>So

00:58:25.725 --> 00:58:27.485
<v Speaker 2>So the next the next hint to

00:58:28.685 --> 00:58:30.365
<v Speaker 2>oh, no. Yeah. This is the hint.

00:58:30.845 --> 00:58:32.365
<v Speaker 0>I'm sorry. Yeah. Is there mean, do we

00:58:32.365 --> 00:58:33.565
<v Speaker 1>wanna go to six? Or

00:58:35.325 --> 00:58:37.965
<v Speaker 0>I wanna check some more manifest. That's that's

00:58:37.965 --> 00:58:39.325
<v Speaker 2>half of the hint in this one and

00:58:39.325 --> 00:58:40.525
<v Speaker 2>the next one have the other half.

00:58:41.180 --> 00:58:43.340
<v Speaker 2>So, yeah, this this hint. This problem is

00:58:43.340 --> 00:58:44.540
<v Speaker 2>split in two.

00:58:45.340 --> 00:58:47.260
<v Speaker 2>So what does this sentence says? Read it

00:58:47.260 --> 00:58:48.620
<v Speaker 2>carefully, the hint.

00:58:51.820 --> 00:58:54.380
<v Speaker 0>The mutant's changed the music. You're hunting at

00:58:54.380 --> 00:58:55.660
<v Speaker 0>an admission controller.

00:58:55.660 --> 00:58:56.940
<v Speaker 0>I just don't know

00:58:58.115 --> 00:58:58.915
<v Speaker 1>Music.

00:58:59.395 --> 00:59:00.995
<v Speaker 0>How you're gonna end.

00:59:02.115 --> 00:59:03.475
<v Speaker 2>I see someone.

00:59:03.635 --> 00:59:04.755
<v Speaker 2>The mutants

00:59:04.755 --> 00:59:06.035
<v Speaker 2>change the music.

00:59:06.755 --> 00:59:08.675
<v Speaker 0>I wonder if you could just inject it

00:59:08.675 --> 00:59:09.075
<v Speaker 0>directly

00:59:10.510 --> 00:59:12.030
<v Speaker 0>into the EDC d.

00:59:17.070 --> 00:59:17.870
<v Speaker 2>Yeah. That that

00:59:20.030 --> 00:59:20.430
<v Speaker 0>And

00:59:21.070 --> 00:59:23.390
<v Speaker 2>My kidney function, I I did a bug.

00:59:23.390 --> 00:59:24.505
<v Speaker 2>So I

00:59:24.505 --> 00:59:26.505
<v Speaker 2>I I changed too much. I changed both

00:59:26.505 --> 00:59:29.145
<v Speaker 2>the image and the I changed the the

00:59:29.145 --> 00:59:31.065
<v Speaker 2>app and the database. I wanted only to

00:59:31.065 --> 00:59:32.585
<v Speaker 2>change the app. But, anyway

00:59:33.225 --> 00:59:33.865
<v Speaker 0>So,

00:59:34.265 --> 00:59:36.505
<v Speaker 0>I mean, that's not API server seems

00:59:37.780 --> 00:59:39.700
<v Speaker 0>All right. I was checking PS because I

00:59:39.700 --> 00:59:41.060
<v Speaker 0>was curious. In fact,

00:59:42.740 --> 00:59:44.260
<v Speaker 0>I said I would start doing this in

00:59:44.260 --> 00:59:46.740
<v Speaker 0>future. Was looking to see what random stuff

00:59:46.740 --> 00:59:47.859
<v Speaker 0>you've added to my system.

00:59:55.595 --> 00:59:56.395
<v Speaker 0>Nothing.

01:00:00.875 --> 01:00:01.675
<v Speaker 0>Nothing.

01:00:02.155 --> 01:00:03.595
<v Speaker 0>But I thought there was maybe a second

01:00:03.595 --> 01:00:05.835
<v Speaker 0>API server running on the machine, and we

01:00:05.835 --> 01:00:07.115
<v Speaker 0>were speaking to the wrong one.

01:00:09.460 --> 01:00:10.020
<v Speaker 2>Like,

01:00:10.340 --> 01:00:12.660
<v Speaker 2>like, API server in my client function in

01:00:12.660 --> 01:00:13.380
<v Speaker 2>the cloud?

01:00:15.460 --> 01:00:16.180
<v Speaker 2>No.

01:00:16.820 --> 01:00:17.860
<v Speaker 2>That's not it.

01:00:18.740 --> 01:00:20.340
<v Speaker 0>I mean, we could we could add a

01:00:20.340 --> 01:00:22.660
<v Speaker 0>blanket IP table rules to block all external

01:00:22.660 --> 01:00:25.195
<v Speaker 0>traffic on six four four three and see

01:00:25.195 --> 01:00:26.155
<v Speaker 0>if it helps.

01:00:26.395 --> 01:00:28.555
<v Speaker 0>Although, who knows what port he's running on?

01:00:31.195 --> 01:00:32.715
<v Speaker 2>I'm not I'm not that smart.

01:00:33.755 --> 01:00:35.595
<v Speaker 2>I don't know much about IP tables.

01:00:44.170 --> 01:00:46.490
<v Speaker 0>Okay. So this is our API server. We

01:00:46.490 --> 01:00:47.850
<v Speaker 0>got advertise,

01:00:47.850 --> 01:00:49.290
<v Speaker 0>alert privilege, authorization.

01:00:50.635 --> 01:00:53.275
<v Speaker 0>We got our node restriction admission controller, which

01:00:53.275 --> 01:00:54.155
<v Speaker 0>is all good.

01:00:55.115 --> 01:00:56.235
<v Speaker 0>We've got

01:00:57.035 --> 01:00:59.595
<v Speaker 0>There's

01:00:59.595 --> 01:01:01.435
<v Speaker 0>nothing wrong with this API server from what

01:01:01.435 --> 01:01:02.395
<v Speaker 0>I can see.

01:01:02.875 --> 01:01:05.675
<v Speaker 0>Yeah. This image appears to be

01:01:07.010 --> 01:01:07.890
<v Speaker 0>alright.

01:01:08.930 --> 01:01:10.609
<v Speaker 0>I mean, we could always describe it in

01:01:10.609 --> 01:01:12.210
<v Speaker 0>the pod, but I think I did that

01:01:12.210 --> 01:01:13.410
<v Speaker 0>and I think it was okay.

01:01:25.435 --> 01:01:26.235
<v Speaker 0>I'm

01:01:26.235 --> 01:01:27.115
<v Speaker 0>being really

01:01:27.835 --> 01:01:29.355
<v Speaker 0>silly, aren't I?

01:01:29.595 --> 01:01:30.715
<v Speaker 0>Hold on.

01:01:31.115 --> 01:01:31.835
<v Speaker 0>What?

01:01:33.995 --> 01:01:35.675
<v Speaker 0>What if he pulled the image and changed

01:01:35.675 --> 01:01:36.635
<v Speaker 0>the pill policy?

01:01:38.910 --> 01:01:40.670
<v Speaker 0>This this isn't necessarily

01:01:42.830 --> 01:01:43.950
<v Speaker 0>my API server.

01:01:53.365 --> 01:01:55.205
<v Speaker 0>Case9Case7,

01:01:55.765 --> 01:01:58.645
<v Speaker 0>emoji. Oh, you gotta put this namespace first.

01:02:04.569 --> 01:02:05.290
<v Speaker 0>Correct.

01:02:07.290 --> 01:02:09.050
<v Speaker 0>There's two APIs.

01:02:19.609 --> 01:02:21.515
<v Speaker 0>So It's gonna fix it. Right, Carlos? It's

01:02:21.515 --> 01:02:22.475
<v Speaker 0>gonna fix it.

01:02:25.595 --> 01:02:26.795
<v Speaker 2>What did you change?

01:02:27.195 --> 01:02:28.955
<v Speaker 0>I set the image pool policy on the

01:02:28.955 --> 01:02:29.994
<v Speaker 0>API server to always.

01:02:31.750 --> 01:02:33.750
<v Speaker 2>Because you want what I I think you

01:02:33.750 --> 01:02:35.589
<v Speaker 0>see the the machine with a fake image,

01:02:35.589 --> 01:02:36.869
<v Speaker 0>a fake API server.

01:02:37.589 --> 01:02:40.549
<v Speaker 2>API server is not in charge of changing

01:02:40.549 --> 01:02:41.270
<v Speaker 2>those.

01:02:41.430 --> 01:02:41.750
<v Speaker 2>Well,

01:02:42.825 --> 01:02:45.305
<v Speaker 2>I could do it. The controller manager. Okay.

01:02:45.305 --> 01:02:46.425
<v Speaker 0>So, yeah, you're telling me I just need

01:02:46.425 --> 01:02:48.425
<v Speaker 0>to update them all. Alright. Got you.

01:02:48.744 --> 01:02:50.105
<v Speaker 0>Don't trust anything.

01:02:51.464 --> 01:02:52.025
<v Speaker 1>No.

01:02:52.665 --> 01:02:53.065
<v Speaker 2>Oh,

01:02:55.410 --> 01:02:57.410
<v Speaker 2>I don't think I touched any of these

01:02:57.890 --> 01:02:58.930
<v Speaker 2>these folks.

01:02:59.170 --> 01:03:01.170
<v Speaker 0>Well, that makes me very disappointed.

01:03:03.730 --> 01:03:06.130
<v Speaker 2>No. Those those images are are legit.

01:03:09.974 --> 01:03:11.815
<v Speaker 2>And they're coming from the right place. Right?

01:03:11.815 --> 01:03:13.815
<v Speaker 2>So oh, but you think I put them

01:03:13.815 --> 01:03:16.135
<v Speaker 2>there and cache them? Uh-huh. Yeah. Otherwise

01:03:16.535 --> 01:03:18.055
<v Speaker 0>And you're you're telling me that's not what

01:03:18.055 --> 01:03:19.895
<v Speaker 0>you did? Nah. Too boring.

01:03:22.320 --> 01:03:24.160
<v Speaker 0>Alright. What happened are we on, Eric? We're

01:03:24.160 --> 01:03:26.160
<v Speaker 2>too we're too too clever. I'm not that

01:03:26.160 --> 01:03:27.920
<v Speaker 2>good. Six. Oh,

01:03:28.080 --> 01:03:29.920
<v Speaker 2>hints. I want to see the hints. It's

01:03:29.920 --> 01:03:30.640
<v Speaker 2>patient.

01:03:31.360 --> 01:03:31.920
<v Speaker 0>Yeah.

01:03:32.720 --> 01:03:33.760
<v Speaker 0>Oh, you mother.

01:03:40.135 --> 01:03:42.135
<v Speaker 0>That's twice I've been burned by that.

01:03:43.015 --> 01:03:43.655
<v Speaker 0>If it was.

01:03:54.150 --> 01:03:55.990
<v Speaker 2>Want to explain to people watching what you're

01:03:55.990 --> 01:03:56.550
<v Speaker 2>doing to you?

01:03:59.655 --> 01:04:02.615
<v Speaker 2>It's Eric driving? What's what's Eric No. That's

01:04:02.615 --> 01:04:05.495
<v Speaker 2>that's has. You should be fixing this, Eric.

01:04:11.095 --> 01:04:13.015
<v Speaker 2>So can you explain it for folks? I

01:04:12.540 --> 01:04:14.140
<v Speaker 2>think people are a little bit lost. Yeah.

01:04:14.140 --> 01:04:16.300
<v Speaker 0>Let me run through that. So if we

01:04:16.300 --> 01:04:17.420
<v Speaker 0>run alias

01:04:18.700 --> 01:04:20.540
<v Speaker 0>grab to cube control,

01:04:20.700 --> 01:04:23.420
<v Speaker 0>he's running a script called HVWC.

01:04:23.420 --> 01:04:25.500
<v Speaker 0>The script called HVWC

01:04:25.925 --> 01:04:28.885
<v Speaker 0>is grabbing for anything where the resource is

01:04:28.885 --> 01:04:31.765
<v Speaker 0>mutating and returning no resources found.

01:04:34.244 --> 01:04:38.565
<v Speaker 1>That's

01:04:38.565 --> 01:04:41.580
<v Speaker 1>almost as evil as Duffy's fake

01:04:42.779 --> 01:04:43.820
<v Speaker 1>SSH

01:04:43.900 --> 01:04:44.700
<v Speaker 1>container.

01:04:45.579 --> 01:04:47.579
<v Speaker 2>You want the you see the YAML the

01:04:47.579 --> 01:04:48.619
<v Speaker 2>YAML of it?

01:04:52.059 --> 01:04:52.700
<v Speaker 0>I want

01:04:53.295 --> 01:04:56.175
<v Speaker 0>what I want to do is fix Postgres

01:04:56.255 --> 01:04:57.695
<v Speaker 0>and see you then.

01:04:58.575 --> 01:04:59.295
<v Speaker 0>So

01:04:59.855 --> 01:05:02.974
<v Speaker 0>what I'm going to do is yeah. We'll

01:05:02.974 --> 01:05:03.694
<v Speaker 0>get the YAML.

01:05:06.540 --> 01:05:07.740
<v Speaker 2>It's for fun

01:05:09.180 --> 01:05:10.860
<v Speaker 2>because you can see the hack.

01:05:15.340 --> 01:05:16.860
<v Speaker 1>When we're done, remind me to tell you

01:05:16.860 --> 01:05:18.220
<v Speaker 1>what I didn't do in mine that I

01:05:18.220 --> 01:05:19.260
<v Speaker 1>could've that was related.

01:05:23.115 --> 01:05:24.315
<v Speaker 0>Okay.

01:05:25.755 --> 01:05:27.915
<v Speaker 0>So you've got this running on

01:05:28.395 --> 01:05:30.475
<v Speaker 0>app codeengine.appdomain.cloud.

01:05:30.475 --> 01:05:31.995
<v Speaker 0>Is that some IBM service?

01:05:32.315 --> 01:05:35.250
<v Speaker 2>Yes. K native as a service. Nice.

01:05:36.050 --> 01:05:37.810
<v Speaker 1>Just shoot

01:05:37.810 --> 01:05:38.290
<v Speaker 1>it.

01:05:43.890 --> 01:05:45.810
<v Speaker 0>Okay. So that's now gone,

01:05:46.690 --> 01:05:48.610
<v Speaker 0>but I'm gonna describe the pod.

01:05:50.265 --> 01:05:53.385
<v Speaker 2>If if you go to Kubernetes

01:05:53.385 --> 01:05:55.944
<v Speaker 2>seek seek app machinery, you will see some

01:05:55.944 --> 01:05:57.385
<v Speaker 2>chat in there. I was trying to hide

01:05:57.385 --> 01:05:59.465
<v Speaker 2>it in a different way, but I couldn't.

01:05:59.865 --> 01:06:02.345
<v Speaker 2>With a validation webhook, hide the mutation webhook,

01:06:02.345 --> 01:06:03.065
<v Speaker 2>but I could.

01:06:04.800 --> 01:06:05.600
<v Speaker 0>Okay.

01:06:05.600 --> 01:06:07.760
<v Speaker 2>So I did it this way with alias.

01:06:07.760 --> 01:06:08.400
<v Speaker 2>Right?

01:06:11.120 --> 01:06:12.320
<v Speaker 0>Where's my pod?

01:06:14.240 --> 01:06:16.560
<v Speaker 0>Did we lose our scheduler? No. Did we

01:06:16.560 --> 01:06:17.840
<v Speaker 0>lose our controller manager?

01:06:18.945 --> 01:06:20.625
<v Speaker 1>Check the system

01:06:20.785 --> 01:06:22.705
<v Speaker 1>Get parts again. I think it's just take

01:06:22.705 --> 01:06:23.505
<v Speaker 2>a second.

01:06:26.865 --> 01:06:28.545
<v Speaker 0>Yeah. I've not got controller manager.

01:06:33.350 --> 01:06:34.390
<v Speaker 2>What's the problem?

01:06:36.950 --> 01:06:38.390
<v Speaker 0>I don't know. It doesn't seem to like

01:06:38.390 --> 01:06:39.350
<v Speaker 0>that change.

01:06:43.350 --> 01:06:45.030
<v Speaker 0>Alright. It's back now. So we should get

01:06:45.030 --> 01:06:45.590
<v Speaker 0>our pod.

01:06:48.255 --> 01:06:49.695
<v Speaker 0>And I think the first thing we're gonna

01:06:49.695 --> 01:06:52.015
<v Speaker 0>do is edit deployment

01:06:52.015 --> 01:06:52.815
<v Speaker 0>clustered.

01:07:02.059 --> 01:07:04.380
<v Speaker 0>Queta I o slash

01:07:05.660 --> 01:07:06.940
<v Speaker 0>your username

01:07:06.940 --> 01:07:07.900
<v Speaker 0>clustered.

01:07:07.980 --> 01:07:09.260
<v Speaker 0>I mean, we all wanna see it. Oh,

01:07:09.260 --> 01:07:10.859
<v Speaker 1>you wanna see it? Oh, you want to

01:07:10.859 --> 01:07:12.815
<v Speaker 2>see it? Okay. Yeah. I think you you

01:07:12.815 --> 01:07:14.975
<v Speaker 2>have a, indentation problem.

01:07:17.055 --> 01:07:18.895
<v Speaker 2>So is the database running now?

01:07:19.215 --> 01:07:20.095
<v Speaker 0>Yes.

01:07:20.655 --> 01:07:21.135
<v Speaker 0>Okay.

01:07:30.880 --> 01:07:33.039
<v Speaker 0>Oh, no. We need to delete the database

01:07:33.039 --> 01:07:35.040
<v Speaker 0>because I removed all the probes.

01:07:36.079 --> 01:07:37.680
<v Speaker 0>So that's still your image.

01:07:40.735 --> 01:07:42.095
<v Speaker 0>Yeah. The chat or else then, the one

01:07:42.095 --> 01:07:44.735
<v Speaker 0>I see you dance. Okay. Oh, okay. Okay.

01:07:45.295 --> 01:07:46.815
<v Speaker 2>I don't dance that well.

01:07:48.335 --> 01:07:50.015
<v Speaker 1>So I was gonna do the same thing

01:07:50.015 --> 01:07:53.135
<v Speaker 1>and wrap IP tables to hide the drop,

01:07:53.820 --> 01:07:54.460
<v Speaker 1>But

01:07:54.700 --> 01:07:56.940
<v Speaker 1>Duffy and I were talking because he's my

01:07:56.940 --> 01:07:58.860
<v Speaker 1>network go to, and he's like, oh, that

01:07:58.860 --> 01:07:59.740
<v Speaker 1>would be mean.

01:08:05.660 --> 01:08:06.060
<v Speaker 2>Nice.

01:08:09.185 --> 01:08:10.065
<v Speaker 0>Well played.

01:08:10.465 --> 01:08:12.465
<v Speaker 0>Alright. Let's let's finish this.

01:08:15.745 --> 01:08:17.905
<v Speaker 0>I forgot what I'm doing. Alright.

01:08:18.960 --> 01:08:20.960
<v Speaker 2>Set to v two Yeah. We gotta change

01:08:20.960 --> 01:08:22.240
<v Speaker 1>it back to yours.

01:08:23.440 --> 01:08:25.760
<v Speaker 0>I'm assuming it's just gonna work. Right?

01:08:27.040 --> 01:08:29.040
<v Speaker 0>I would hope so. I I said that

01:08:29.040 --> 01:08:30.880
<v Speaker 2>I was mean by this time, so I

01:08:30.880 --> 01:08:32.240
<v Speaker 2>said, like, it's gonna be day.

01:08:33.125 --> 01:08:35.045
<v Speaker 2>There's some there's no more hints. Right? I

01:08:35.045 --> 01:08:37.365
<v Speaker 2>think you found the hints. You can check

01:08:37.365 --> 01:08:38.885
<v Speaker 2>the hints. There's something else.

01:08:41.525 --> 01:08:42.965
<v Speaker 2>And that should be

01:09:02.365 --> 01:09:03.805
<v Speaker 0>I guess it's cached.

01:09:08.205 --> 01:09:09.564
<v Speaker 2>Even though you have it set it up

01:09:09.564 --> 01:09:10.925
<v Speaker 2>to there you go.

01:09:11.564 --> 01:09:13.885
<v Speaker 2>Ask the dancer people like, not me.

01:09:15.479 --> 01:09:17.000
<v Speaker 1>Very nice, Carlos.

01:09:18.359 --> 01:09:20.840
<v Speaker 0>I can't believe we got burned by an

01:09:20.840 --> 01:09:21.639
<v Speaker 0>alias.

01:09:23.399 --> 01:09:25.160
<v Speaker 2>You don't run alias the first time you

01:09:25.160 --> 01:09:26.760
<v Speaker 2>went to set up Yubectl?

01:09:27.745 --> 01:09:29.185
<v Speaker 0>No. I'm too trusting,

01:09:31.825 --> 01:09:33.665
<v Speaker 0>which I should look at right now.

01:09:33.985 --> 01:09:35.825
<v Speaker 2>I want I want the chance, oh, they

01:09:35.825 --> 01:09:36.944
<v Speaker 2>might just run it.

01:09:37.665 --> 01:09:38.865
<v Speaker 2>So that's the reason

01:09:39.425 --> 01:09:41.905
<v Speaker 2>auto completion didn't work because I had kubectl

01:09:41.905 --> 01:09:42.545
<v Speaker 2>two and alias.

01:09:43.099 --> 01:09:45.179
<v Speaker 2>So you you folks set up auto completion

01:09:45.179 --> 01:09:47.020
<v Speaker 2>correctly, but it wasn't working because of the

01:09:47.020 --> 01:09:47.659
<v Speaker 2>alias.

01:09:50.939 --> 01:09:51.819
<v Speaker 0>Damn it.

01:09:52.219 --> 01:09:53.979
<v Speaker 0>Alright. Well played.

01:09:54.539 --> 01:09:55.899
<v Speaker 0>Two fun clusters.

01:09:56.619 --> 01:09:57.420
<v Speaker 0>We got there.

01:09:58.365 --> 01:10:00.205
<v Speaker 2>Cool. It was fun. I'm gonna let you

01:10:00.285 --> 01:10:00.925
<v Speaker 0>I'm

01:10:01.165 --> 01:10:03.405
<v Speaker 0>I'm I'm raging about that, I guess. I've

01:10:03.405 --> 01:10:04.765
<v Speaker 0>gotta say. Like, I'm gonna have to write

01:10:04.765 --> 01:10:05.885
<v Speaker 0>a new list of rules now.

01:10:10.370 --> 01:10:12.610
<v Speaker 0>Alright. It's the love for the episode in

01:10:12.610 --> 01:10:14.610
<v Speaker 0>the chat. This episode was awesome.

01:10:14.850 --> 01:10:16.530
<v Speaker 0>Yeah. Was good fun. It was nice to

01:10:16.530 --> 01:10:17.250
<v Speaker 0>do this.

01:10:18.450 --> 01:10:20.690
<v Speaker 0>Please update the official v two image with

01:10:20.690 --> 01:10:22.050
<v Speaker 0>the Carlos dance. No.

01:10:22.455 --> 01:10:23.175
<v Speaker 2>No.

01:10:23.495 --> 01:10:24.855
<v Speaker 0>I think we will need to find a

01:10:24.855 --> 01:10:27.095
<v Speaker 0>way for that to survive somehow. Like, that

01:10:27.095 --> 01:10:28.935
<v Speaker 0>may just become the star and image. We'll

01:10:28.935 --> 01:10:30.775
<v Speaker 0>see. I went yeah. I learned I learned

01:10:30.775 --> 01:10:32.535
<v Speaker 2>a little bit of grass. I went

01:10:32.695 --> 01:10:34.455
<v Speaker 2>figure out how to do an MPEG forward

01:10:34.455 --> 01:10:35.815
<v Speaker 2>to a webM. So

01:10:38.380 --> 01:10:41.420
<v Speaker 1>Very nice. Alright. Well, thank you both very

01:10:41.420 --> 01:10:43.180
<v Speaker 0>much for joining me today, for breaking those

01:10:43.180 --> 01:10:45.740
<v Speaker 0>clusters, for powering through and fixing this cluster,

01:10:45.740 --> 01:10:47.820
<v Speaker 0>and for running the book club on the

01:10:47.820 --> 01:10:50.140
<v Speaker 0>chat along with others, Walid and others as

01:10:50.140 --> 01:10:51.260
<v Speaker 0>well. So, you know Yep.

01:10:51.965 --> 01:10:53.324
<v Speaker 0>It's very great.

01:10:54.445 --> 01:10:55.965
<v Speaker 0>I'm gonna have a very strong drink after

01:10:55.965 --> 01:10:57.405
<v Speaker 0>that, Aries. But other than that, have a

01:10:57.405 --> 01:11:00.045
<v Speaker 0>wonderful day, everyone. Thank you, Carlos. Thank you,

01:11:00.045 --> 01:11:01.485
<v Speaker 0>Eric. Thank you, everyone on the chat. Thank

01:11:01.485 --> 01:11:03.485
<v Speaker 0>you, Teleport. Yep. Speak to soon. Thank you.

01:11:03.485 --> 01:11:04.925
<v Speaker 2>Bye. Thanks. Bye.
