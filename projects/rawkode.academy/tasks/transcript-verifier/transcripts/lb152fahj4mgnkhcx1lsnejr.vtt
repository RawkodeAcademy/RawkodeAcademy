WEBVTT

NOTE
Transcription provided by Deepgram
Request Id: 10126448-b1b5-47d8-b2c3-ca35633f78aa
Created: 2025-04-29T17:57:59.928Z
Duration: 7050.2812
Channels: 1

00:01:51.095 --> 00:01:55.255
<v Speaker 0>Hello, and welcome to today's episode of Clustered.

00:01:55.415 --> 00:01:58.215
<v Speaker 0>This is episode three of Clustered Teams, and

00:01:58.215 --> 00:02:01.175
<v Speaker 0>we have two wonderful teams joining us today.

00:02:01.335 --> 00:02:02.775
<v Speaker 0>We have team Skyscanner

00:02:02.775 --> 00:02:04.615
<v Speaker 0>and team DigitalOcean.

00:02:05.690 --> 00:02:07.690
<v Speaker 0>Now before we introduce them and get started

00:02:07.690 --> 00:02:10.170
<v Speaker 0>today, there's just a little bit of housekeeping.

00:02:10.729 --> 00:02:13.850
<v Speaker 0>Firstly, I wanna thank Teleport for sponsoring Cussert.

00:02:13.850 --> 00:02:15.610
<v Speaker 0>Teleport is a product that we have used

00:02:15.610 --> 00:02:18.010
<v Speaker 0>on this show since the very first episode

00:02:18.090 --> 00:02:20.525
<v Speaker 0>even before they sponsored us. I think it's

00:02:20.525 --> 00:02:22.285
<v Speaker 0>a fantastic product. You're gonna see it in

00:02:22.285 --> 00:02:24.445
<v Speaker 0>action today as we debug these two broken

00:02:24.445 --> 00:02:26.205
<v Speaker 0>clusters, and you should check it out for

00:02:26.205 --> 00:02:29.325
<v Speaker 0>yourself by checking out rawcode.liveteleport.

00:02:30.045 --> 00:02:32.685
<v Speaker 0>Also, you should subscribe to this channel. There's

00:02:32.685 --> 00:02:34.285
<v Speaker 0>lots more content

00:02:35.019 --> 00:02:37.340
<v Speaker 0>focused on cloud native Kubernetes and everything in

00:02:37.340 --> 00:02:37.900
<v Speaker 0>between.

00:02:38.140 --> 00:02:40.220
<v Speaker 0>It is a vast cloud native landscape, and

00:02:40.220 --> 00:02:41.900
<v Speaker 0>I hope that these videos will help you

00:02:41.900 --> 00:02:44.380
<v Speaker 0>navigate it and all learn together.

00:02:44.540 --> 00:02:46.700
<v Speaker 0>We also have a Discord server available at

00:02:46.700 --> 00:02:47.739
<v Speaker 0>Rawkode.chat,

00:02:47.739 --> 00:02:49.019
<v Speaker 0>so come on, say hello.

00:02:49.545 --> 00:02:52.025
<v Speaker 0>There's over 400 and something odd of us

00:02:52.025 --> 00:02:54.185
<v Speaker 0>in there now chatting, so I look forward

00:02:54.185 --> 00:02:55.065
<v Speaker 0>to meeting you.

00:02:55.784 --> 00:02:58.825
<v Speaker 0>Alright. Let's get started with today's first team.

00:02:59.224 --> 00:03:01.224
<v Speaker 0>I am joined by team Skyscanner.

00:03:01.224 --> 00:03:03.144
<v Speaker 0>Hello, team Skyscanner. How are you?

00:03:04.200 --> 00:03:06.040
<v Speaker 1>Hello. Good. Thanks. You?

00:03:07.320 --> 00:03:09.160
<v Speaker 0>I mean, I don't need to fix cluster,

00:03:09.160 --> 00:03:10.600
<v Speaker 0>so I'm feeling pretty great. How are you

00:03:10.600 --> 00:03:11.480
<v Speaker 0>feeling, Guy?

00:03:14.040 --> 00:03:14.920
<v Speaker 1>Moderately

00:03:14.920 --> 00:03:15.560
<v Speaker 1>terrified.

00:03:16.755 --> 00:03:18.675
<v Speaker 0>Well, you should be because I'm sure people

00:03:18.675 --> 00:03:21.235
<v Speaker 0>might remember your little voice and your smirky

00:03:21.235 --> 00:03:22.915
<v Speaker 0>attitude as you broke a cluster for me

00:03:22.915 --> 00:03:25.475
<v Speaker 0>previously with a Unicode character. Not that I'm

00:03:25.475 --> 00:03:27.635
<v Speaker 0>better, but, you know I I I feel

00:03:27.635 --> 00:03:29.475
<v Speaker 1>I was appropriately apologetic

00:03:29.475 --> 00:03:30.195
<v Speaker 1>about it.

00:03:31.090 --> 00:03:33.090
<v Speaker 0>No. It's an absolute pleasure to have you,

00:03:33.090 --> 00:03:34.769
<v Speaker 0>and I'm really excited to see you work

00:03:34.769 --> 00:03:36.690
<v Speaker 0>on this cluster together. Can we start with

00:03:36.690 --> 00:03:38.050
<v Speaker 0>our round of introductions,

00:03:38.050 --> 00:03:39.810
<v Speaker 0>please? We'll start with you, Guy.

00:03:41.569 --> 00:03:42.290
<v Speaker 1>Sure.

00:03:42.530 --> 00:03:43.810
<v Speaker 1>Yep. I'm

00:03:43.845 --> 00:03:46.565
<v Speaker 1>Guy Tempton. I am a software engineer at

00:03:46.565 --> 00:03:47.285
<v Speaker 1>Skyscanner,

00:03:47.445 --> 00:03:48.325
<v Speaker 1>where I'm,

00:03:48.725 --> 00:03:50.245
<v Speaker 1>partly responsible for

00:03:50.645 --> 00:03:51.285
<v Speaker 1>the,

00:03:51.525 --> 00:03:54.165
<v Speaker 1>shared container platforms that we run,

00:03:54.405 --> 00:03:55.445
<v Speaker 1>the website on.

00:03:55.765 --> 00:03:57.525
<v Speaker 1>Outside of that, I'm also,

00:03:57.845 --> 00:04:00.010
<v Speaker 1>one of the co chairs of SIG Auto

00:04:00.010 --> 00:04:01.450
<v Speaker 1>Scaling for Kubernetes.

00:04:01.450 --> 00:04:01.690
<v Speaker 1>So,

00:04:02.489 --> 00:04:04.250
<v Speaker 1>please feel free to come and harass me

00:04:04.250 --> 00:04:06.170
<v Speaker 1>if you think auto scaling in Kubernetes doesn't

00:04:06.170 --> 00:04:07.290
<v Speaker 1>work the way it should.

00:04:11.769 --> 00:04:12.409
<v Speaker 0>Okay. Matthew?

00:04:14.315 --> 00:04:15.115
<v Speaker 3>Okay.

00:04:15.755 --> 00:04:18.075
<v Speaker 3>Hi, everyone. My name is Mateo Rina.

00:04:18.394 --> 00:04:20.954
<v Speaker 3>I'm a software engineer at ScanScanner. Been here

00:04:20.954 --> 00:04:24.075
<v Speaker 3>for four years enough now, and I've been

00:04:24.075 --> 00:04:25.355
<v Speaker 3>working with Guy and Alex

00:04:26.520 --> 00:04:28.199
<v Speaker 3>for such a long time. I

00:04:30.520 --> 00:04:33.000
<v Speaker 3>work as well on the container platform

00:04:33.000 --> 00:04:35.639
<v Speaker 3>and recently focus on on deployment

00:04:35.879 --> 00:04:37.879
<v Speaker 3>where we are doing some open source work

00:04:37.879 --> 00:04:40.120
<v Speaker 3>around application set and to

00:04:40.384 --> 00:04:41.505
<v Speaker 3>to release

00:04:41.505 --> 00:04:43.985
<v Speaker 3>a progressive sync controller. So if you're interested,

00:04:43.985 --> 00:04:45.665
<v Speaker 3>please come come to me.

00:04:46.145 --> 00:04:48.785
<v Speaker 3>We're trying to to scale the tops for

00:04:48.785 --> 00:04:49.665
<v Speaker 3>our needs,

00:04:50.384 --> 00:04:51.905
<v Speaker 3>and I love to hear your opinion.

00:05:35.085 --> 00:05:37.725
<v Speaker 0>The good news is it loaded. The bad

00:05:37.725 --> 00:05:40.205
<v Speaker 0>news is I only see two machines.

00:05:40.525 --> 00:05:42.445
<v Speaker 0>I'm

00:05:42.445 --> 00:05:44.765
<v Speaker 0>gonna open a session on our control plane

00:05:44.765 --> 00:05:46.925
<v Speaker 0>node. Please, if you could join the session,

00:05:47.160 --> 00:05:48.520
<v Speaker 0>we'll keep an eye on the number in

00:05:48.520 --> 00:05:49.960
<v Speaker 0>the top left, but feel free to type

00:05:49.960 --> 00:05:51.480
<v Speaker 0>an echo hello to let us know that

00:05:51.480 --> 00:05:52.520
<v Speaker 0>you are in.

00:05:53.720 --> 00:05:55.720
<v Speaker 0>And we've got one, two,

00:05:57.720 --> 00:05:58.760
<v Speaker 0>one more to go.

00:05:59.560 --> 00:06:00.600
<v Speaker 0>Oh, there we go. Perfect.

00:06:05.055 --> 00:06:06.575
<v Speaker 4>Awesome. Supposed to be fine.

00:06:07.294 --> 00:06:09.615
<v Speaker 0>Alright. Well, this is a QBDM cluster, so

00:06:09.615 --> 00:06:11.535
<v Speaker 0>you will have to export your cube config.

00:06:11.535 --> 00:06:13.535
<v Speaker 0>And I suggest you check for a control

00:06:13.535 --> 00:06:15.215
<v Speaker 0>plan and take it away. Best of luck.

00:06:17.940 --> 00:06:19.780
<v Speaker 4>Okay. Do you wanna steer the first

00:06:20.340 --> 00:06:21.220
<v Speaker 4>obstacles?

00:06:21.220 --> 00:06:21.380
<v Speaker 2>Sure.

00:06:31.005 --> 00:06:32.845
<v Speaker 3>I found that in the comments someone says

00:06:33.085 --> 00:06:34.765
<v Speaker 3>someone broke telephone again,

00:06:34.925 --> 00:06:35.965
<v Speaker 3>we really

00:06:36.445 --> 00:06:38.605
<v Speaker 3>have a lot of the previous episodes.

00:06:39.405 --> 00:06:41.005
<v Speaker 1>There's What a surprise.

00:06:41.405 --> 00:06:44.445
<v Speaker 0>There's there's rule, people. I mean, come on.

00:06:44.445 --> 00:06:46.510
<v Speaker 0>It's not as hard. But yeah.

00:06:50.910 --> 00:06:53.230
<v Speaker 1>K. We've got a connection refused. Did we

00:06:53.230 --> 00:06:54.910
<v Speaker 1>specify the right host report?

00:06:56.110 --> 00:06:59.470
<v Speaker 3>I mean, just can

00:06:58.215 --> 00:06:59.415
<v Speaker 4>can you add the prompt?

00:07:00.615 --> 00:07:03.495
<v Speaker 4>That's that'd be really that'd be really cheeky,

00:07:03.495 --> 00:07:05.014
<v Speaker 4>but I think it should be fine. Maybe

00:07:05.014 --> 00:07:07.975
<v Speaker 3>it's just pointing to something something DigitalOcean,

00:07:07.975 --> 00:07:08.215
<v Speaker 3>though.

00:07:13.400 --> 00:07:14.200
<v Speaker 3>K.

00:07:14.920 --> 00:07:16.600
<v Speaker 4>I don't see a cluster.

00:07:17.320 --> 00:07:19.240
<v Speaker 4>This is Yeah. Context. Is it off? Or

00:07:19.240 --> 00:07:21.320
<v Speaker 4>is the Maybe maybe don't open it.

00:07:21.800 --> 00:07:23.320
<v Speaker 3>There is no case. Oh,

00:07:24.120 --> 00:07:24.600
<v Speaker 3>there you go.

00:07:26.865 --> 00:07:27.905
<v Speaker 4>Where's the scroll?

00:07:28.865 --> 00:07:29.505
<v Speaker 2>Yeah.

00:07:30.385 --> 00:07:32.385
<v Speaker 0>Yeah. As the scroll goes, just give the

00:07:32.385 --> 00:07:33.905
<v Speaker 0>window a little jiggle.

00:07:34.385 --> 00:07:36.065
<v Speaker 0>There we go. That's an x term JS

00:07:36.065 --> 00:07:36.785
<v Speaker 0>bug.

00:07:36.945 --> 00:07:38.785
<v Speaker 0>Hoping someone's gonna fix it one day.

00:07:41.560 --> 00:07:43.000
<v Speaker 3>Is that right URL

00:07:44.440 --> 00:07:47.240
<v Speaker 3>on the server? Yeah. Hopefully, the right IP

00:07:47.240 --> 00:07:50.200
<v Speaker 4>address. Should we check should we check if

00:07:50.200 --> 00:07:53.080
<v Speaker 1>we've actually got a kubelet running and containers?

00:07:54.305 --> 00:07:55.025
<v Speaker 1>Yeah.

00:07:57.585 --> 00:07:59.585
<v Speaker 4>In the run to this, I've had to

00:07:59.585 --> 00:08:00.145
<v Speaker 4>learn

00:08:00.545 --> 00:08:01.665
<v Speaker 4>container d.

00:08:02.385 --> 00:08:03.025
<v Speaker 1>We

00:08:03.345 --> 00:08:04.625
<v Speaker 1>do have a kubelet.

00:08:06.910 --> 00:08:08.190
<v Speaker 4>Is it happy with?

00:08:19.665 --> 00:08:21.025
<v Speaker 1>We're getting nodes.

00:08:22.785 --> 00:08:23.905
<v Speaker 2>Okay.

00:08:25.425 --> 00:08:26.465
<v Speaker 4>And

00:08:30.145 --> 00:08:32.544
<v Speaker 1>let's check for the manifests.

00:08:35.440 --> 00:08:37.679
<v Speaker 1>We do have a Kube API server in

00:08:37.679 --> 00:08:38.240
<v Speaker 1>there.

00:08:38.799 --> 00:08:40.640
<v Speaker 1>Let's get to our controller manager.

00:08:44.720 --> 00:08:47.264
<v Speaker 1>Alright. Here's here's the question. Can I remember

00:08:47.264 --> 00:08:50.065
<v Speaker 1>how to use container d runtime?

00:08:52.144 --> 00:08:55.105
<v Speaker 4>Minus n indicates the idle. Yeah.

00:08:55.904 --> 00:08:58.625
<v Speaker 4>And then c l Containers.

00:08:59.264 --> 00:09:00.225
<v Speaker 4>C for short.

00:09:00.800 --> 00:09:01.760
<v Speaker 4>Okay.

00:09:03.519 --> 00:09:05.920
<v Speaker 1>So we have a cube scheduler. We have

00:09:05.920 --> 00:09:08.240
<v Speaker 1>a cube controller manager, and we do have

00:09:08.240 --> 00:09:10.080
<v Speaker 1>a cube API server.

00:09:11.760 --> 00:09:12.480
<v Speaker 1>So

00:09:12.815 --> 00:09:14.335
<v Speaker 1>maybe we want to have a look at

00:09:14.335 --> 00:09:15.135
<v Speaker 1>what the

00:09:15.935 --> 00:09:18.735
<v Speaker 1>config of the API server is.

00:09:22.175 --> 00:09:23.375
<v Speaker 3>Sorry. Say,

00:09:24.255 --> 00:09:26.654
<v Speaker 3>we were happy with the API that we

00:09:26.654 --> 00:09:28.410
<v Speaker 3>have in the admin on call with with

00:09:28.410 --> 00:09:29.690
<v Speaker 3>the IP address.

00:09:30.410 --> 00:09:32.490
<v Speaker 5>That's know the universe of this now.

00:09:33.529 --> 00:09:35.370
<v Speaker 1>That is a good point.

00:09:40.329 --> 00:09:42.795
<v Speaker 3>Yeah. So there is a server

00:09:43.755 --> 00:09:46.235
<v Speaker 3>yes. So that URL is what it's supposed

00:09:46.235 --> 00:09:47.515
<v Speaker 3>to be. Shouldn't be

00:09:49.675 --> 00:09:50.395
<v Speaker 3>localhost.

00:09:58.020 --> 00:10:00.900
<v Speaker 3>If we only add the chance to access

00:10:00.900 --> 00:10:03.540
<v Speaker 3>another cluster and look at the keep it

00:10:03.540 --> 00:10:04.260
<v Speaker 3>all together.

00:10:08.340 --> 00:10:08.740
<v Speaker 1>Oh, yeah.

00:10:14.055 --> 00:10:15.735
<v Speaker 1>Guess I can't

00:10:15.735 --> 00:10:17.735
<v Speaker 1>remember. So right now you're trying to you're

00:10:17.735 --> 00:10:20.774
<v Speaker 0>you're speculating that potentially the modified IP address

00:10:20.855 --> 00:10:22.774
<v Speaker 0>in that file. Okay. So you're gonna wanna

00:10:22.774 --> 00:10:24.774
<v Speaker 0>check the IP a d d r on

00:10:24.774 --> 00:10:26.580
<v Speaker 0>the look back interface. That is where the

00:10:26.580 --> 00:10:28.900
<v Speaker 0>BGP advertised EIP is

00:10:29.380 --> 00:10:30.900
<v Speaker 0>or the control plane.

00:10:32.500 --> 00:10:33.860
<v Speaker 0>IP I should check it.

00:10:35.380 --> 00:10:36.180
<v Speaker 0>D d r.

00:10:38.020 --> 00:10:39.940
<v Speaker 0>Space a d d r. Yeah.

00:10:41.375 --> 00:10:43.295
<v Speaker 4>You must do IS config. This should get

00:10:43.295 --> 00:10:46.255
<v Speaker 4>you some It was being deprecated twenty five

00:10:46.255 --> 00:10:47.135
<v Speaker 3>years ago.

00:10:47.695 --> 00:10:48.735
<v Speaker 4>Still

00:10:49.375 --> 00:10:51.295
<v Speaker 4>works, though. So this is your

00:10:51.535 --> 00:10:56.335
<v Speaker 0>BGP advertised address here, 1477580Dot168.

00:10:56.960 --> 00:10:58.720
<v Speaker 0>That should be your control plan.

00:10:59.840 --> 00:11:01.440
<v Speaker 4>K. It's right in memory.

00:11:02.480 --> 00:11:04.080
<v Speaker 1>Yeah. I think that is.

00:11:07.760 --> 00:11:08.080
<v Speaker 3>Server?

00:11:14.214 --> 00:11:17.654
<v Speaker 1>147758168.

00:11:17.654 --> 00:11:18.615
<v Speaker 0>Looks good.

00:11:19.654 --> 00:11:20.134
<v Speaker 0>Okay.

00:11:23.870 --> 00:11:24.670
<v Speaker 1>K.

00:11:24.990 --> 00:11:26.350
<v Speaker 1>So that's working.

00:11:26.590 --> 00:11:30.110
<v Speaker 1>That that's not that's not wrong. Sorry.

00:11:31.070 --> 00:11:32.910
<v Speaker 0>The chat thinks it's DNS, but I think

00:11:32.910 --> 00:11:33.710
<v Speaker 0>they're trolling me. I

00:11:37.985 --> 00:11:40.385
<v Speaker 1>think they might be, and I totally

00:11:40.385 --> 00:11:41.425
<v Speaker 1>deserve it.

00:11:46.465 --> 00:11:49.265
<v Speaker 1>Okay. So what was the what what error

00:11:49.265 --> 00:11:50.385
<v Speaker 1>message were we getting again?

00:11:52.769 --> 00:11:54.050
<v Speaker 3>Collection refused.

00:11:56.610 --> 00:11:59.009
<v Speaker 3>It's trying to go somewhere, but either it's

00:11:59.009 --> 00:12:01.170
<v Speaker 3>not listening. So maybe they're buying the port

00:12:01.170 --> 00:12:02.529
<v Speaker 3>for the API server?

00:12:03.329 --> 00:12:06.769
<v Speaker 4>Yeah. It is the the the Kubernetes config,

00:12:06.769 --> 00:12:07.490
<v Speaker 4>which is

00:12:08.130 --> 00:12:10.185
<v Speaker 4>in a config app, which you can't get

00:12:12.185 --> 00:12:13.465
<v Speaker 4>or someone on disk.

00:12:15.065 --> 00:12:18.025
<v Speaker 1>We can see what the Kubernetes server is

00:12:18.025 --> 00:12:19.385
<v Speaker 1>being run with, though.

00:12:21.385 --> 00:12:22.665
<v Speaker 1>If I remember to Greta.

00:12:26.610 --> 00:12:27.250
<v Speaker 3>Now

00:12:30.770 --> 00:12:32.530
<v Speaker 3>what you do, you shouldn't see that as

00:12:32.530 --> 00:12:35.250
<v Speaker 3>a service because it's a static part. Right?

00:12:36.930 --> 00:12:37.570
<v Speaker 4>Can you hear them?

00:12:38.175 --> 00:12:39.615
<v Speaker 1>Yeah. Yeah. It should still be

00:12:42.735 --> 00:12:44.495
<v Speaker 4>Used to a PS UXF.

00:12:44.495 --> 00:12:46.015
<v Speaker 4>I don't know if it's just there.

00:12:48.975 --> 00:12:50.495
<v Speaker 4>This is what we get for not really

00:12:50.495 --> 00:12:51.455
<v Speaker 3>Kubernetes. Yeah.

00:12:55.370 --> 00:12:56.570
<v Speaker 3>K. I'm gonna go ahead and raise a

00:12:56.570 --> 00:12:58.810
<v Speaker 3>ticket with the AWS and see what happens.

00:12:59.050 --> 00:12:59.770
<v Speaker 0>These

00:13:00.730 --> 00:13:02.810
<v Speaker 0>are bare metal clusters. Come on.

00:13:04.810 --> 00:13:06.745
<v Speaker 0>I mean, I'm gonna throw something out there,

00:13:06.745 --> 00:13:08.425
<v Speaker 0>but, you know, you haven't attempted to look

00:13:08.425 --> 00:13:09.865
<v Speaker 0>at the API server logs.

00:13:11.465 --> 00:13:12.745
<v Speaker 1>That is that's a

00:13:16.425 --> 00:13:17.945
<v Speaker 1>Very good point. Do

00:13:18.985 --> 00:13:19.545
<v Speaker 0>you know where they are?

00:13:22.079 --> 00:13:25.199
<v Speaker 1>No. We we we use docker. Proper proper

00:13:25.199 --> 00:13:26.160
<v Speaker 1>runtime.

00:13:26.480 --> 00:13:28.000
<v Speaker 0>Varlog containers.

00:13:32.445 --> 00:13:33.325
<v Speaker 1>Okay.

00:13:33.405 --> 00:13:33.965
<v Speaker 1>So

00:13:34.285 --> 00:13:37.165
<v Speaker 1>we have could you really keep it keep

00:13:37.165 --> 00:13:38.365
<v Speaker 1>API server?

00:13:41.325 --> 00:13:43.245
<v Speaker 0>The command you're looking for is tail.

00:13:43.885 --> 00:13:45.725
<v Speaker 1>Yeah. I was I was gonna go with

00:13:45.725 --> 00:13:46.365
<v Speaker 1>less, but

00:13:57.260 --> 00:13:59.339
<v Speaker 1>failed to find any pen data in the

00:13:59.339 --> 00:14:00.779
<v Speaker 1>key the key data. Nice.

00:14:01.464 --> 00:14:02.665
<v Speaker 0>TLS.

00:14:05.385 --> 00:14:06.425
<v Speaker 4>Is

00:14:06.425 --> 00:14:07.545
<v Speaker 4>that all it is?

00:14:12.024 --> 00:14:13.625
<v Speaker 4>That probably should have won a cubic in.

00:14:15.120 --> 00:14:16.560
<v Speaker 1>So we do have

00:14:17.120 --> 00:14:18.720
<v Speaker 1>key search.

00:14:22.079 --> 00:14:24.240
<v Speaker 3>So in one of the previous episode, there

00:14:24.240 --> 00:14:26.560
<v Speaker 3>there was a summary generating all the certificates

00:14:26.560 --> 00:14:27.199
<v Speaker 3>with Keyblade.

00:14:28.365 --> 00:14:30.205
<v Speaker 3>Maybe we can do the same.

00:14:30.845 --> 00:14:32.045
<v Speaker 0>You can indeed.

00:14:33.885 --> 00:14:34.845
<v Speaker 4>QMIDI and search. Search.

00:14:35.725 --> 00:14:36.605
<v Speaker 3>QMIDI

00:14:37.325 --> 00:14:39.645
<v Speaker 3>something something. Yeah? And I'm pretty sure that

00:14:39.645 --> 00:14:42.285
<v Speaker 3>the help the help the page with with

00:14:42.285 --> 00:14:45.280
<v Speaker 3>now as well. Search? Medium search

00:14:45.280 --> 00:14:46.080
<v Speaker 4>renew.

00:14:46.800 --> 00:14:47.280
<v Speaker 4>And

00:14:49.440 --> 00:14:53.040
<v Speaker 3>maybe there is, like, a old or something.

00:14:53.280 --> 00:14:55.040
<v Speaker 1>Yeah. There there is a renew.

00:14:58.745 --> 00:15:00.025
<v Speaker 3>Wait for it. All? Look

00:15:00.745 --> 00:15:03.225
<v Speaker 4>at that. We've never used a tool and

00:15:03.225 --> 00:15:04.825
<v Speaker 4>just guess the CLI.

00:15:04.825 --> 00:15:06.345
<v Speaker 4>We need it to get CLI.

00:15:07.625 --> 00:15:08.745
<v Speaker 0>There you go.

00:15:09.305 --> 00:15:09.865
<v Speaker 4>Okay.

00:15:10.760 --> 00:15:13.800
<v Speaker 0>Freshly minted certificates ready for your service.

00:15:18.280 --> 00:15:19.880
<v Speaker 1>So restart

00:15:21.160 --> 00:15:23.320
<v Speaker 1>Kubelet. I can never remember. If we restart

00:15:23.320 --> 00:15:27.400
<v Speaker 1>Kubelet, that won't necessarily bring back up the

00:15:26.115 --> 00:15:27.555
<v Speaker 1>restart all the

00:15:28.035 --> 00:15:31.154
<v Speaker 1>the pods, will it? The static pods too.

00:15:31.154 --> 00:15:33.714
<v Speaker 1>It says It won't because the container d

00:15:33.714 --> 00:15:35.075
<v Speaker 0>runtime is still

00:15:35.075 --> 00:15:36.755
<v Speaker 0>running. If I even restart now, it wouldn't

00:15:36.755 --> 00:15:38.755
<v Speaker 0>restart it. But it is a crashing static

00:15:38.755 --> 00:15:40.435
<v Speaker 0>pod, it will restart manually.

00:15:44.120 --> 00:15:45.400
<v Speaker 4>I'll just have a look at logs again,

00:15:45.400 --> 00:15:48.040
<v Speaker 4>see if it I guess I'm doing unless

00:15:48.040 --> 00:15:49.080
<v Speaker 4>it's crashing. That

00:15:52.040 --> 00:15:53.960
<v Speaker 4>one isn't That was three minutes ago.

00:15:54.360 --> 00:15:55.400
<v Speaker 4>Yeah. But

00:15:58.825 --> 00:16:00.585
<v Speaker 1>have we got a new one yet?

00:16:03.465 --> 00:16:05.145
<v Speaker 4>Just minus l on it.

00:16:06.745 --> 00:16:09.945
<v Speaker 4>Yeah. Yeah. And capital t, I think, the

00:16:10.105 --> 00:16:10.425
<v Speaker 4>time.

00:16:14.010 --> 00:16:15.210
<v Speaker 1>Not that. No.

00:16:16.570 --> 00:16:17.610
<v Speaker 0>Letter t.

00:16:22.010 --> 00:16:22.730
<v Speaker 4>So

00:16:24.330 --> 00:16:26.890
<v Speaker 4>I think I got a Steam 42,

00:16:26.890 --> 00:16:28.410
<v Speaker 1>but nothing

00:16:30.625 --> 00:16:33.505
<v Speaker 1>okay. So it's not immediately restarted.

00:16:34.785 --> 00:16:37.905
<v Speaker 0>I mean, you can modify the static manifest

00:16:37.905 --> 00:16:40.065
<v Speaker 0>to encourage it to be restarted about the

00:16:40.065 --> 00:16:40.225
<v Speaker 0>car.

00:16:44.330 --> 00:16:46.010
<v Speaker 4>Yeah. Looking at the manifest of the

00:16:49.290 --> 00:16:50.490
<v Speaker 3>this is the manifest.

00:16:52.490 --> 00:16:52.810
<v Speaker 2>So

00:16:58.285 --> 00:17:01.805
<v Speaker 1>I mean, on the basis of modify something.

00:17:07.085 --> 00:17:09.005
<v Speaker 0>Something people don't take advantage of, and it

00:17:09.005 --> 00:17:11.085
<v Speaker 0>shows the

00:17:10.410 --> 00:17:13.050
<v Speaker 0>them remembering the cursor from the last edit.

00:17:16.090 --> 00:17:17.849
<v Speaker 1>That's that's a nice hint.

00:17:18.490 --> 00:17:21.369
<v Speaker 1>How how how far did I move it?

00:17:22.330 --> 00:17:24.250
<v Speaker 0>You weren't paying attention. I wasn't.

00:17:27.315 --> 00:17:28.915
<v Speaker 1>Feels like it might have been around the

00:17:28.915 --> 00:17:29.555
<v Speaker 1>port.

00:17:32.195 --> 00:17:32.755
<v Speaker 0>Yeah.

00:17:33.395 --> 00:17:35.235
<v Speaker 0>You should check for logs. That's there should

00:17:35.235 --> 00:17:37.780
<v Speaker 0>be Yeah. There should be something there. Yeah.

00:17:37.780 --> 00:17:39.380
<v Speaker 0>The Vim thing's always funny.

00:17:40.500 --> 00:17:41.220
<v Speaker 1>So

00:17:43.540 --> 00:17:45.940
<v Speaker 4>I can't remember what time. Here we go.

00:17:48.980 --> 00:17:51.540
<v Speaker 0>Chat is surprisingly quiet. They're normally in there

00:17:51.540 --> 00:17:52.580
<v Speaker 0>with all the advice.

00:18:01.445 --> 00:18:01.924
<v Speaker 4>This

00:18:02.245 --> 00:18:02.965
<v Speaker 4>wow. This,

00:18:04.404 --> 00:18:06.965
<v Speaker 4>the scrolling issue happens on every on every

00:18:06.965 --> 00:18:07.605
<v Speaker 4>command. Yeah.

00:18:09.920 --> 00:18:10.799
<v Speaker 4>It's

00:18:12.240 --> 00:18:13.120
<v Speaker 4>it's an idea.

00:18:14.560 --> 00:18:15.840
<v Speaker 0>Now if we could all just make our

00:18:15.840 --> 00:18:18.400
<v Speaker 0>window the same size, it would go away.

00:18:19.600 --> 00:18:21.040
<v Speaker 1>Yeah. That'll that'll happen.

00:18:23.625 --> 00:18:25.625
<v Speaker 1>Okay. So we're still getting errors.

00:18:26.025 --> 00:18:27.145
<v Speaker 4>And that's it.

00:18:30.505 --> 00:18:31.785
<v Speaker 4>Connection refused.

00:18:32.265 --> 00:18:32.905
<v Speaker 1>Yeah.

00:18:33.785 --> 00:18:34.425
<v Speaker 1>Interesting.

00:18:35.710 --> 00:18:37.230
<v Speaker 4>Might have to restart that as well, which

00:18:37.230 --> 00:18:38.990
<v Speaker 4>is or look at the last one.

00:18:39.630 --> 00:18:41.390
<v Speaker 1>Yeah. So we'll look at the manifest or

00:18:41.390 --> 00:18:41.950
<v Speaker 3>the logs.

00:18:48.725 --> 00:18:50.725
<v Speaker 4>Where is It's on some chat bar log

00:18:50.725 --> 00:18:52.005
<v Speaker 4>pods as well. We

00:18:58.245 --> 00:18:59.365
<v Speaker 1>can indeed.

00:18:59.525 --> 00:18:59.925
<v Speaker 1>Nice.

00:19:08.610 --> 00:19:09.729
<v Speaker 4>The set.

00:19:11.970 --> 00:19:13.809
<v Speaker 4>K. So it looks

00:19:13.809 --> 00:19:16.769
<v Speaker 1>happy enough. Yeah. I I think that maybe

00:19:16.769 --> 00:19:18.769
<v Speaker 0>a two d restarting after the search has

00:19:18.769 --> 00:19:19.250
<v Speaker 0>been renewed.

00:19:20.075 --> 00:19:20.715
<v Speaker 1>Yeah.

00:19:21.435 --> 00:19:22.075
<v Speaker 4>And

00:19:22.635 --> 00:19:24.475
<v Speaker 4>the port was the right one.

00:19:26.155 --> 00:19:28.795
<v Speaker 4>Two three seven nine and Yeah. There it

00:19:28.795 --> 00:19:30.475
<v Speaker 4>said, 2379.

00:19:30.635 --> 00:19:33.115
<v Speaker 1>I mean, that's well, that's that's also now

00:19:33.115 --> 00:19:35.275
<v Speaker 1>a minute ago. So actually

00:19:42.370 --> 00:19:43.409
<v Speaker 0>Ta da. There

00:19:43.809 --> 00:19:44.450
<v Speaker 0>we go.

00:19:45.330 --> 00:19:48.130
<v Speaker 0>You have a control plane. We have two

00:19:48.130 --> 00:19:49.250
<v Speaker 1>unready nodes.

00:19:52.075 --> 00:19:53.755
<v Speaker 4>Try something. Canines.

00:19:53.755 --> 00:19:54.474
<v Speaker 4>Goodness.

00:19:56.235 --> 00:19:59.595
<v Speaker 1>I I I why not? Again, some encouragement

00:19:59.595 --> 00:20:02.154
<v Speaker 0>from the Digital Ocean team. Shahar is saying

00:20:02.154 --> 00:20:04.960
<v Speaker 0>you're doing great, smiley face. There you go.

00:20:07.920 --> 00:20:09.360
<v Speaker 0>The rest of the chat are just laughing.

00:20:09.360 --> 00:20:09.759
<v Speaker 0>I

00:20:11.840 --> 00:20:13.440
<v Speaker 1>don't blame them. Hey, Khalid.

00:20:16.815 --> 00:20:18.414
<v Speaker 3>I think I think the problem is we

00:20:18.414 --> 00:20:20.495
<v Speaker 3>are teaming with Guy and everyone remembers him

00:20:20.495 --> 00:20:22.654
<v Speaker 3>from the previous episode. So this is why

00:20:22.654 --> 00:20:24.174
<v Speaker 3>the chat is quiet and no one is

00:20:24.174 --> 00:20:24.974
<v Speaker 3>cheering. Yeah.

00:20:25.375 --> 00:20:27.615
<v Speaker 0>There's a there's a comment from Waleed saying

00:20:27.615 --> 00:20:29.375
<v Speaker 0>this is team unique, Khalid. So there you

00:20:29.375 --> 00:20:29.455
<v Speaker 0>go.

00:20:30.450 --> 00:20:32.690
<v Speaker 3>We're we're like a yeah. We're like a

00:20:32.690 --> 00:20:33.489
<v Speaker 3>friendlier.

00:20:34.610 --> 00:20:36.210
<v Speaker 4>You you see Oh, who stuck k nines

00:20:36.210 --> 00:20:36.929
<v Speaker 0>on this?

00:20:37.890 --> 00:20:39.809
<v Speaker 4>Just you just saw me do it. I'm

00:20:39.809 --> 00:20:41.249
<v Speaker 0>sorry. I was looking at the chat.

00:20:41.809 --> 00:20:43.809
<v Speaker 0>Oh, we've we've not had anyone bust out

00:20:43.809 --> 00:20:45.010
<v Speaker 0>k nines yet. That's nice.

00:20:45.705 --> 00:20:47.304
<v Speaker 4>You start seeing things that are nice and

00:20:47.304 --> 00:20:49.144
<v Speaker 4>red like that thing which we started a

00:20:49.144 --> 00:20:52.344
<v Speaker 4>lot. Yeah. Oh, and cheeky CDM as well.

00:20:52.745 --> 00:20:55.225
<v Speaker 4>That's the the new command from previous logs.

00:21:00.410 --> 00:21:01.769
<v Speaker 4>This is complaining.

00:21:02.809 --> 00:21:04.970
<v Speaker 4>I'm talking to the API server, unable to

00:21:05.210 --> 00:21:07.850
<v Speaker 4>Yeah. Communicate. Oh, turn on wrapping.

00:21:11.290 --> 00:21:12.970
<v Speaker 4>1477580.

00:21:14.725 --> 00:21:15.524
<v Speaker 1>I mean

00:21:16.004 --> 00:21:17.604
<v Speaker 4>I don't know the notes.

00:21:18.004 --> 00:21:19.845
<v Speaker 1>I I quite like if they click time

00:21:19.845 --> 00:21:21.445
<v Speaker 1>stamp time stamps on those

00:21:25.284 --> 00:21:26.325
<v Speaker 4>What's

00:21:26.325 --> 00:21:26.964
<v Speaker 4>the

00:21:27.764 --> 00:21:28.644
<v Speaker 3>Better policy?

00:21:31.390 --> 00:21:32.830
<v Speaker 4>Why? Everything happens.

00:21:35.230 --> 00:21:36.110
<v Speaker 4>So

00:21:37.950 --> 00:21:40.909
<v Speaker 0>what's the symptom you're seeing just now? Your

00:21:41.390 --> 00:21:43.310
<v Speaker 0>Celine pod can't reach

00:21:43.515 --> 00:21:45.515
<v Speaker 0>the Kubernetes API server?

00:21:45.755 --> 00:21:47.915
<v Speaker 4>Yeah. Think so. Yeah. So a few things

00:21:47.915 --> 00:21:49.674
<v Speaker 4>are where things are happening as well, but

00:21:50.075 --> 00:21:53.595
<v Speaker 4>a few things fail to find out.

00:21:54.875 --> 00:21:57.035
<v Speaker 0>Alita's asking, what is that tool? That is

00:21:57.035 --> 00:21:57.915
<v Speaker 0>canines.

00:21:57.915 --> 00:21:58.875
<v Speaker 0>You should check it out.

00:22:00.110 --> 00:22:01.389
<v Speaker 4>And

00:22:03.070 --> 00:22:04.749
<v Speaker 4>yeah. So if you hit the pods

00:22:08.429 --> 00:22:10.350
<v Speaker 4>one that's having problem on worker two. So

00:22:10.350 --> 00:22:12.110
<v Speaker 4>worker two seems to be our our next

00:22:12.110 --> 00:22:12.429
<v Speaker 4>problem.

00:22:13.415 --> 00:22:15.655
<v Speaker 1>I I mean, I guess the the question

00:22:15.655 --> 00:22:17.335
<v Speaker 1>is, our our aim is to upgrade the

00:22:17.335 --> 00:22:19.095
<v Speaker 1>app. Do we try it and see what

00:22:19.095 --> 00:22:20.615
<v Speaker 1>breaks? So

00:22:21.015 --> 00:22:23.255
<v Speaker 3>the problem is the Postgres is a worker

00:22:23.255 --> 00:22:25.575
<v Speaker 3>two. So unless we move it, we probably

00:22:25.575 --> 00:22:26.695
<v Speaker 3>need to talk to worker

00:22:27.130 --> 00:22:28.970
<v Speaker 3>two because otherwise

00:22:30.090 --> 00:22:32.010
<v Speaker 3>It's different. What's that? You're just so sneaky

00:22:32.010 --> 00:22:33.850
<v Speaker 0>guy. Like, we're not gonna fix the broken

00:22:33.850 --> 00:22:35.450
<v Speaker 0>thing. We're just gonna make the thing work,

00:22:35.450 --> 00:22:37.929
<v Speaker 0>which is a good strategy. A good strategy.

00:22:38.090 --> 00:22:41.289
<v Speaker 0>Okay. Yeah. What what are we trying to

00:22:40.305 --> 00:22:42.065
<v Speaker 1>achieve? We're trying to give, you know, the

00:22:42.065 --> 00:22:44.465
<v Speaker 1>the viewers access to your lovely new version

00:22:44.465 --> 00:22:46.625
<v Speaker 1>of the website. Yeah. That's that's the main

00:22:46.625 --> 00:22:48.145
<v Speaker 1>thing. We can come back and fix things

00:22:48.145 --> 00:22:48.785
<v Speaker 1>after.

00:22:49.105 --> 00:22:50.545
<v Speaker 3>I think that's why. First.

00:22:52.065 --> 00:22:53.425
<v Speaker 4>I don't see any

00:22:54.350 --> 00:22:56.670
<v Speaker 4>Level set. No API server connection.

00:22:58.030 --> 00:22:58.670
<v Speaker 3>Where?

00:22:59.230 --> 00:23:01.470
<v Speaker 3>In the bottom? See the the red Ah.

00:23:01.550 --> 00:23:02.190
<v Speaker 4>Yeah.

00:23:02.510 --> 00:23:04.590
<v Speaker 3>Do do do we have, like, a do

00:23:04.590 --> 00:23:06.350
<v Speaker 3>we have, like, a a network a network

00:23:06.350 --> 00:23:08.350
<v Speaker 3>role that does

00:23:07.725 --> 00:23:10.524
<v Speaker 3>random dropping or stuff and stuff like that?

00:23:10.765 --> 00:23:12.445
<v Speaker 4>Yeah. So that's why I was seeing here

00:23:12.445 --> 00:23:13.565
<v Speaker 4>when I was trying to

00:23:15.965 --> 00:23:18.445
<v Speaker 3>So last night, I had I had my

00:23:18.445 --> 00:23:20.284
<v Speaker 3>first look as a serial documentation,

00:23:20.445 --> 00:23:23.005
<v Speaker 3>and and they have something called network policy.

00:23:23.860 --> 00:23:25.700
<v Speaker 3>Yeah. Like You want to send that out?

00:23:27.139 --> 00:23:28.820
<v Speaker 4>But now it looks like we've had to

00:23:28.820 --> 00:23:30.179
<v Speaker 4>to go on, which means

00:23:38.375 --> 00:23:40.695
<v Speaker 3>That was a nice shout, though. Yeah. I

00:23:40.695 --> 00:23:42.695
<v Speaker 4>mean, that's what I would do.

00:23:46.295 --> 00:23:49.255
<v Speaker 0>We got a comment from someone called Spedge

00:23:49.255 --> 00:23:51.095
<v Speaker 0>who says he's very proud of you, guy.

00:23:53.830 --> 00:23:56.230
<v Speaker 1>Pointing hair manager likes likes the

00:23:56.470 --> 00:23:58.710
<v Speaker 1>being able to cite Skyscanner's

00:23:59.750 --> 00:24:02.150
<v Speaker 1>principles. Yeah. Let's pretend Skyscanner.com

00:24:02.150 --> 00:24:03.430
<v Speaker 0>is done. Come on, guy. Let's get this

00:24:03.430 --> 00:24:03.830
<v Speaker 0>thing fixed.

00:24:05.385 --> 00:24:06.505
<v Speaker 4>Get it fixed.

00:24:07.385 --> 00:24:09.145
<v Speaker 0>A comment from Noel saying, just schedule the

00:24:09.145 --> 00:24:10.985
<v Speaker 0>workload on the control plane nodes. Go for

00:24:10.985 --> 00:24:11.865
<v Speaker 0>it. Yeah.

00:24:12.105 --> 00:24:14.745
<v Speaker 2>Yeah. Yeah. So, Michelle, should

00:24:15.785 --> 00:24:17.545
<v Speaker 4>we look at the logs again? The the

00:24:17.545 --> 00:24:20.970
<v Speaker 4>tailing of the API server. Yeah. Yeah. Because

00:24:20.970 --> 00:24:23.610
<v Speaker 3>if the end of the certificate expired again,

00:24:23.610 --> 00:24:25.289
<v Speaker 3>then maybe that is

00:24:28.010 --> 00:24:28.970
<v Speaker 1>Context

00:24:28.970 --> 00:24:30.170
<v Speaker 1>context deadline.

00:24:32.055 --> 00:24:34.295
<v Speaker 3>This is a time out. You just have

00:24:34.295 --> 00:24:35.735
<v Speaker 0>twenty minutes remaining.

00:24:36.535 --> 00:24:39.335
<v Speaker 4>That's fine. So that's it, Jean, that, like,

00:24:39.335 --> 00:24:40.855
<v Speaker 4>had a wee problem.

00:24:44.455 --> 00:24:45.495
<v Speaker 4>I'm gonna take over.

00:24:52.870 --> 00:24:54.549
<v Speaker 4>Received terminate signal.

00:24:55.590 --> 00:24:56.469
<v Speaker 3>From who?

00:24:56.710 --> 00:24:57.429
<v Speaker 4>From

00:24:58.549 --> 00:24:58.870
<v Speaker 4>who?

00:25:00.085 --> 00:25:00.565
<v Speaker 4>At,

00:25:01.125 --> 00:25:03.445
<v Speaker 4>yeah, five minutes ago, which is roughly when

00:25:03.445 --> 00:25:04.404
<v Speaker 4>we started seeing

00:25:04.565 --> 00:25:06.485
<v Speaker 4>weird things happen, and it started back up

00:25:06.485 --> 00:25:06.804
<v Speaker 4>again.

00:25:15.299 --> 00:25:16.739
<v Speaker 4>Tests for Rats again.

00:25:17.059 --> 00:25:17.779
<v Speaker 4>Mhmm.

00:25:19.700 --> 00:25:21.140
<v Speaker 4>Anything up there?

00:25:26.595 --> 00:25:28.674
<v Speaker 4>Oh, looks like it's got two members.

00:25:29.395 --> 00:25:30.835
<v Speaker 4>I need to make my

00:25:32.755 --> 00:25:34.914
<v Speaker 4>screen the exact same size as David.

00:25:41.659 --> 00:25:43.179
<v Speaker 4>Listen URLs.

00:25:44.779 --> 00:25:46.539
<v Speaker 4>It's got two IP addresses, but it's one

00:25:46.539 --> 00:25:47.499
<v Speaker 4>of them's public.

00:25:48.220 --> 00:25:50.299
<v Speaker 0>I'm gonna start using the command line,

00:25:50.539 --> 00:25:51.659
<v Speaker 0>teleport client, I think.

00:26:04.264 --> 00:26:06.344
<v Speaker 4>Anything obvious? The license.

00:26:08.184 --> 00:26:10.024
<v Speaker 1>Does it come here? Anything obvious?

00:26:12.480 --> 00:26:13.120
<v Speaker 1>No.

00:26:19.280 --> 00:26:21.040
<v Speaker 4>Key points to members local on private.

00:26:24.715 --> 00:26:26.794
<v Speaker 4>It's a hundred oh, the and is it

00:26:26.955 --> 00:26:27.835
<v Speaker 4>you killed?

00:26:29.674 --> 00:26:31.114
<v Speaker 3>Oh, do you see that?

00:26:31.915 --> 00:26:33.674
<v Speaker 4>Someone in chat said it's a hundred

00:26:34.635 --> 00:26:35.835
<v Speaker 4>megabytes of RAM.

00:26:36.620 --> 00:26:38.620
<v Speaker 0>I think it's the hundred milli cores on

00:26:38.620 --> 00:26:39.660
<v Speaker 0>the CPU.

00:26:39.820 --> 00:26:42.299
<v Speaker 0>I know. Know. I know.

00:26:45.740 --> 00:26:47.900
<v Speaker 0>Haven't profiled the SCD myself, so I'm not

00:26:47.900 --> 00:26:49.660
<v Speaker 0>sure if that is a good or a

00:26:49.660 --> 00:26:50.220
<v Speaker 0>bad value.

00:26:53.595 --> 00:26:55.115
<v Speaker 0>But I think it should be alright for

00:26:55.115 --> 00:26:56.634
<v Speaker 0>it to be, to be fair.

00:26:59.995 --> 00:27:00.875
<v Speaker 4>Maybe not.

00:27:03.940 --> 00:27:04.980
<v Speaker 4>How

00:27:05.700 --> 00:27:06.260
<v Speaker 4>how does

00:27:07.700 --> 00:27:08.419
<v Speaker 4>I

00:27:09.860 --> 00:27:11.059
<v Speaker 4>see things.

00:27:11.940 --> 00:27:12.820
<v Speaker 1>So we've got

00:27:22.955 --> 00:27:25.434
<v Speaker 4>Did it say, like, I don't want anything

00:27:25.515 --> 00:27:26.235
<v Speaker 4>about it?

00:27:26.555 --> 00:27:28.715
<v Speaker 4>No. It's just in the container.

00:27:35.320 --> 00:27:36.760
<v Speaker 0>This is to make sure I'm on the

00:27:36.760 --> 00:27:38.840
<v Speaker 0>right page. Do we have a working API

00:27:38.840 --> 00:27:39.880
<v Speaker 0>server at the moment?

00:27:45.425 --> 00:27:47.585
<v Speaker 1>Kind of Intermittently.

00:27:48.385 --> 00:27:50.225
<v Speaker 4>Yeah. Let's go and look at it as

00:27:50.225 --> 00:27:51.184
<v Speaker 4>a part then.

00:27:52.065 --> 00:27:52.385
<v Speaker 4>It's

00:27:52.865 --> 00:27:54.544
<v Speaker 3>If you don't see

00:27:59.049 --> 00:28:00.330
<v Speaker 4>we should see it. Does it run as

00:28:00.330 --> 00:28:01.690
<v Speaker 4>a static product, did it? Or does it

00:28:01.690 --> 00:28:02.249
<v Speaker 4>run?

00:28:02.970 --> 00:28:05.130
<v Speaker 0>It should be running as a static project.

00:28:05.130 --> 00:28:05.529
<v Speaker 0>Yeah.

00:28:07.929 --> 00:28:09.770
<v Speaker 0>And it should be visible in the cube

00:28:09.770 --> 00:28:10.730
<v Speaker 0>system namespace.

00:28:11.495 --> 00:28:12.215
<v Speaker 1>Yeah.

00:28:13.015 --> 00:28:14.775
<v Speaker 1>Okay. Okay. Should

00:28:15.495 --> 00:28:17.335
<v Speaker 1>we have a look at the cubelet logs

00:28:17.335 --> 00:28:19.255
<v Speaker 1>to see why it's not?

00:28:25.015 --> 00:28:26.320
<v Speaker 1>Yeah. There we go. Failed to create a

00:28:26.320 --> 00:28:27.519
<v Speaker 1>mirror pod for

00:28:29.520 --> 00:28:31.679
<v Speaker 1>no priority. No. Let's

00:28:32.880 --> 00:28:34.159
<v Speaker 4>I'm going sideways.

00:28:36.080 --> 00:28:37.440
<v Speaker 4>Go max prox.

00:28:38.804 --> 00:28:39.765
<v Speaker 4>Okay.

00:28:39.765 --> 00:28:41.044
<v Speaker 4>Content exceeded

00:28:41.445 --> 00:28:43.364
<v Speaker 4>for API server.

00:28:44.885 --> 00:28:46.644
<v Speaker 4>Connection refused

00:28:47.365 --> 00:28:48.485
<v Speaker 4>to the API server.

00:28:56.230 --> 00:28:58.549
<v Speaker 4>You you were using So is there yeah.

00:28:58.950 --> 00:28:59.350
<v Speaker 1>Is that

00:29:00.070 --> 00:29:01.589
<v Speaker 1>have they got an admission

00:29:02.309 --> 00:29:03.349
<v Speaker 1>webhook then?

00:29:04.870 --> 00:29:05.909
<v Speaker 0>Looks like it.

00:29:06.470 --> 00:29:08.149
<v Speaker 3>There is there is in the logs as

00:29:08.149 --> 00:29:08.309
<v Speaker 3>well.

00:29:13.965 --> 00:29:15.004
<v Speaker 4>So many people.

00:29:15.245 --> 00:29:17.485
<v Speaker 1>If if we can catch it whilst it's

00:29:17.485 --> 00:29:18.124
<v Speaker 1>up.

00:29:19.965 --> 00:29:22.845
<v Speaker 4>The admission rather yeah. Give it to TL.

00:29:25.040 --> 00:29:26.480
<v Speaker 4>I

00:29:33.760 --> 00:29:35.679
<v Speaker 1>mean, should should we set up the auto

00:29:35.679 --> 00:29:37.360
<v Speaker 1>complete whilst we're doing this as well? Because

00:29:38.425 --> 00:29:40.184
<v Speaker 1>I

00:29:42.265 --> 00:29:44.505
<v Speaker 1>did not trust myself to go, yeah, I've

00:29:44.505 --> 00:29:46.105
<v Speaker 1>typed that correctly so I could trust what

00:29:46.105 --> 00:29:47.385
<v Speaker 1>I've I've got back.

00:30:19.600 --> 00:30:21.039
<v Speaker 1>Yeah. Nice.

00:30:21.040 --> 00:30:23.680
<v Speaker 1>Yeah. That's a. And

00:30:23.680 --> 00:30:25.840
<v Speaker 0>you missed the API server window.

00:30:27.920 --> 00:30:28.320
<v Speaker 4>Yeah.

00:30:31.455 --> 00:30:33.374
<v Speaker 4>What's the difference here? Even

00:30:34.015 --> 00:30:36.095
<v Speaker 4>that? You just have fifteen minutes of fun

00:30:36.095 --> 00:30:36.734
<v Speaker 0>left.

00:30:40.815 --> 00:30:42.734
<v Speaker 3>So did we check if for the

00:30:43.054 --> 00:30:45.695
<v Speaker 3>if the what priority is in the manifest?

00:30:48.800 --> 00:30:49.200
<v Speaker 5>No.

00:30:59.134 --> 00:31:00.334
<v Speaker 4>You have to come.

00:31:09.294 --> 00:31:12.095
<v Speaker 1>I I I think Mateo has been confused

00:31:12.095 --> 00:31:13.990
<v Speaker 1>by that. Do you want to take over,

00:31:13.990 --> 00:31:15.110
<v Speaker 1>Mateo? Yeah.

00:31:16.230 --> 00:31:17.350
<v Speaker 3>Now I got you.

00:31:19.190 --> 00:31:20.630
<v Speaker 4>I was gonna sit down and wait.

00:31:21.110 --> 00:31:21.669
<v Speaker 4>Yeah.

00:31:22.870 --> 00:31:25.510
<v Speaker 3>It was it was about something something that

00:31:25.510 --> 00:31:27.190
<v Speaker 3>they were drinking. I was like, sure.

00:31:29.445 --> 00:31:31.044
<v Speaker 4>Is that what goes as well, brother?

00:31:32.165 --> 00:31:34.804
<v Speaker 3>Clarity class system not critical. Yeah. So

00:31:36.485 --> 00:31:39.045
<v Speaker 3>I was relaxed in the chair, so what

00:31:39.045 --> 00:31:39.605
<v Speaker 3>were we doing?

00:31:41.750 --> 00:31:43.029
<v Speaker 3>See

00:31:43.029 --> 00:31:44.469
<v Speaker 3>the visual webhooks.

00:31:44.630 --> 00:31:47.190
<v Speaker 0>Yeah. Billy from the Digital Ocean team has

00:31:47.190 --> 00:31:49.190
<v Speaker 0>said you're doing great. If you want a

00:31:49.190 --> 00:31:49.830
<v Speaker 0>hint,

00:31:50.230 --> 00:31:51.109
<v Speaker 0>just see.

00:31:51.990 --> 00:31:53.110
<v Speaker 3>Maybe

00:31:53.110 --> 00:31:53.909
<v Speaker 3>not yet.

00:31:54.630 --> 00:31:56.950
<v Speaker 1>Yeah. Let's let's see if we can

00:31:58.385 --> 00:32:01.025
<v Speaker 4>Have a look at the validating 1.2? Web

00:32:01.265 --> 00:32:02.225
<v Speaker 4>validating.

00:32:03.585 --> 00:32:04.144
<v Speaker 4>Yeah.

00:32:06.305 --> 00:32:07.825
<v Speaker 0>You're

00:32:07.825 --> 00:32:09.025
<v Speaker 0>gonna have to fix that

00:32:09.580 --> 00:32:11.740
<v Speaker 0>I said the API server. You you can't

00:32:11.740 --> 00:32:12.940
<v Speaker 0>debug without this.

00:32:13.740 --> 00:32:14.940
<v Speaker 0>Yep. Yeah.

00:32:15.340 --> 00:32:17.340
<v Speaker 0>So is it the API server that's restarting,

00:32:17.340 --> 00:32:18.780
<v Speaker 0>or is it at to do this restarting?

00:32:18.780 --> 00:32:20.540
<v Speaker 0>What times do we have if you run

00:32:20.540 --> 00:32:21.420
<v Speaker 0>a PSE UX?

00:32:25.685 --> 00:32:28.085
<v Speaker 3>What did you do for f?

00:32:29.365 --> 00:32:30.085
<v Speaker 4>Just

00:32:30.325 --> 00:32:30.565
<v Speaker 4>yeah.

00:32:41.270 --> 00:32:42.309
<v Speaker 4>It has

00:32:42.470 --> 00:32:43.030
<v Speaker 4>all of the

00:32:46.549 --> 00:32:48.230
<v Speaker 4>okay. Yeah. This whole process is a bit

00:32:48.230 --> 00:32:49.270
<v Speaker 4>scroll up. Oh, wait.

00:32:49.925 --> 00:32:51.445
<v Speaker 4>Just watched I may wanna just grab for

00:32:51.445 --> 00:32:53.524
<v Speaker 0>API server and and etcd.

00:32:53.605 --> 00:32:55.445
<v Speaker 0>In fact, there's the API server there.

00:32:59.765 --> 00:33:01.205
<v Speaker 1>So that's literally

00:33:01.205 --> 00:33:02.485
<v Speaker 1>just restarted.

00:33:02.804 --> 00:33:05.160
<v Speaker 0>Yep. And what about ETD? When did that

00:33:05.160 --> 00:33:06.200
<v Speaker 0>actually start?

00:33:10.040 --> 00:33:12.840
<v Speaker 0>Okay. It's not running. So Yeah. What

00:33:13.640 --> 00:33:15.960
<v Speaker 4>did you say in Cubelet, Guy? The I

00:33:15.960 --> 00:33:16.519
<v Speaker 1>missed it.

00:33:17.240 --> 00:33:18.905
<v Speaker 1>It was I was trying to post to

00:33:18.905 --> 00:33:21.465
<v Speaker 1>an API, and it was getting refused.

00:33:24.745 --> 00:33:25.625
<v Speaker 3>Was it paused?

00:33:29.480 --> 00:33:31.720
<v Speaker 0>So the API server is probably reboot because

00:33:31.720 --> 00:33:33.720
<v Speaker 0>the SCD is slapping. You're gonna wanna work

00:33:33.720 --> 00:33:34.920
<v Speaker 0>at SCD.

00:33:35.720 --> 00:33:37.080
<v Speaker 1>So if you have a look at the

00:33:37.080 --> 00:33:40.200
<v Speaker 1>the keyboard logs again, Matilde. It's just Yeah.

00:33:41.080 --> 00:33:42.280
<v Speaker 4>And then with controller.

00:33:52.215 --> 00:33:53.174
<v Speaker 1>So

00:33:53.255 --> 00:33:55.015
<v Speaker 1>if you have a look at,

00:33:56.055 --> 00:33:57.015
<v Speaker 1>there was

00:33:57.280 --> 00:33:59.600
<v Speaker 1>yeah. There's error syncing pods.

00:34:00.320 --> 00:34:02.480
<v Speaker 1>Error syncing pod failed to start container for

00:34:02.480 --> 00:34:05.200
<v Speaker 1>ICD with partial back off. Alright. There you

00:34:05.200 --> 00:34:06.320
<v Speaker 0>go. It's crashing.

00:34:07.600 --> 00:34:09.280
<v Speaker 0>We need to get into the STD logs,

00:34:09.215 --> 00:34:11.054
<v Speaker 1>I think. Yeah. Go have a look at

00:34:11.054 --> 00:34:12.895
<v Speaker 4>the logs. We we looked at them through

00:34:12.895 --> 00:34:14.655
<v Speaker 4>parts last time, but we can

00:34:22.670 --> 00:34:24.190
<v Speaker 4>This just gets a shutdown.

00:34:24.750 --> 00:34:25.470
<v Speaker 1>Yeah.

00:34:26.270 --> 00:34:29.070
<v Speaker 3>Do we have something sending this signal to

00:34:29.070 --> 00:34:29.950
<v Speaker 3>CD?

00:34:30.590 --> 00:34:34.030
<v Speaker 0>So this is gonna be probes. That's

00:34:34.030 --> 00:34:34.590
<v Speaker 0>my hunch.

00:34:36.065 --> 00:34:38.545
<v Speaker 1>Yes. It's it's getting a nice terminated signal.

00:34:38.545 --> 00:34:41.105
<v Speaker 0>So We should see that in the Qubelet

00:34:41.105 --> 00:34:41.824
<v Speaker 1>box.

00:34:44.385 --> 00:34:48.160
<v Speaker 4>Because the Qubelet controls it. So just grab

00:34:48.160 --> 00:34:49.920
<v Speaker 4>this for searches with.

00:34:58.560 --> 00:35:00.720
<v Speaker 4>Connection refused. Error syncing.

00:35:02.065 --> 00:35:03.345
<v Speaker 4>Question back.

00:35:06.945 --> 00:35:08.145
<v Speaker 0>Unable to write event.

00:35:19.760 --> 00:35:21.359
<v Speaker 4>You were hot earlier. Now we're cold.

00:35:30.835 --> 00:35:32.835
<v Speaker 3>Label to write the end. Does it mean

00:35:32.835 --> 00:35:35.235
<v Speaker 3>that there are there is no space?

00:35:36.115 --> 00:35:38.595
<v Speaker 0>Okay. So we have ten minutes left. So

00:35:38.595 --> 00:35:40.755
<v Speaker 0>I'm gonna throw something out there, and we

00:35:40.755 --> 00:35:42.035
<v Speaker 0>can ask for a hint if he's one.

00:35:42.180 --> 00:35:43.859
<v Speaker 0>But I would remove all the probes from

00:35:43.859 --> 00:35:46.660
<v Speaker 0>the static manifest and the resource limits. Like,

00:35:46.660 --> 00:35:48.500
<v Speaker 0>let's not give it any reason to shut

00:35:48.500 --> 00:35:49.540
<v Speaker 0>this part down.

00:35:50.980 --> 00:35:52.180
<v Speaker 0>Some of the cover?

00:35:55.380 --> 00:35:57.715
<v Speaker 1>Some I see. Manifest.

00:35:57.715 --> 00:35:59.635
<v Speaker 4>I'm just I think this point just

00:36:01.395 --> 00:36:03.234
<v Speaker 3>That that is that is a subtle way

00:36:03.234 --> 00:36:05.075
<v Speaker 3>to say that I was typing too slow.

00:36:05.075 --> 00:36:06.275
<v Speaker 1>Yeah.

00:36:07.315 --> 00:36:09.075
<v Speaker 1>I mean, not so subtle, but

00:36:16.650 --> 00:36:18.730
<v Speaker 3>Yeah. Remove the limits.

00:36:20.490 --> 00:36:21.130
<v Speaker 1>Yeah.

00:36:22.410 --> 00:36:24.170
<v Speaker 1>And remove the liveness.

00:36:24.490 --> 00:36:26.250
<v Speaker 1>Yeah. Just delete the whole file.

00:36:29.595 --> 00:36:32.155
<v Speaker 1>It's nothing important in there. Right? I mean,

00:36:32.155 --> 00:36:34.235
<v Speaker 0>those are just requests. So but you can

00:36:34.235 --> 00:36:35.275
<v Speaker 0>remove them anyway.

00:36:37.275 --> 00:36:39.515
<v Speaker 4>Start a probe. I'd remove remove the start

00:36:39.515 --> 00:36:41.440
<v Speaker 1>a probe as well. Sublime is all

00:36:42.720 --> 00:36:44.640
<v Speaker 4>And if anything past commit is on 16,

00:36:44.640 --> 00:36:45.440
<v Speaker 4>thank you very much.

00:36:48.480 --> 00:36:50.400
<v Speaker 4>And should we save this? Cool.

00:36:52.000 --> 00:36:55.045
<v Speaker 0>Coming from Rawkode's in Rawkode's smash. Yeah. I'm

00:36:55.045 --> 00:36:57.205
<v Speaker 0>not as subtle or elegant with some of

00:36:57.205 --> 00:36:58.325
<v Speaker 0>my effects. That is

00:37:02.725 --> 00:37:04.165
<v Speaker 0>you've gotta rule out

00:37:04.485 --> 00:37:06.085
<v Speaker 0>anything that you think could be getting in

00:37:06.085 --> 00:37:07.285
<v Speaker 0>the way again as effects. Right? You mean

00:37:07.285 --> 00:37:08.725
<v Speaker 0>you can add back probes later. You can

00:37:08.725 --> 00:37:11.790
<v Speaker 0>add back resource limits later. Yeah. Really, you

00:37:11.790 --> 00:37:13.070
<v Speaker 0>just need a working entity.

00:37:16.270 --> 00:37:17.470
<v Speaker 4>You wanna check those?

00:37:20.670 --> 00:37:22.590
<v Speaker 0>Let's see those entity logs.

00:37:23.710 --> 00:37:24.110
<v Speaker 4>Okay.

00:37:25.605 --> 00:37:27.605
<v Speaker 0>It won't be two twenty anymore, though.

00:37:34.325 --> 00:37:35.845
<v Speaker 4>Won't even do this thing anymore.

00:37:39.180 --> 00:37:41.099
<v Speaker 0>Probably just because the pod ID has changed.

00:37:41.099 --> 00:37:43.020
<v Speaker 0>Use firewall containers. That way you don't have

00:37:43.020 --> 00:37:44.220
<v Speaker 0>to worry about the

00:37:45.260 --> 00:37:46.060
<v Speaker 0>directory changing.

00:37:55.855 --> 00:37:57.775
<v Speaker 0>Okay. That is a healthy entity

00:37:57.775 --> 00:37:58.815
<v Speaker 5>Yeah. For for now.

00:38:05.950 --> 00:38:06.590
<v Speaker 0>They

00:38:08.110 --> 00:38:10.430
<v Speaker 0>are namespaced as well, remember.

00:38:15.550 --> 00:38:18.350
<v Speaker 0>Dash dash all namespaces like an absolute monster.

00:38:21.565 --> 00:38:24.204
<v Speaker 1>We've taken that. That's

00:38:24.204 --> 00:38:26.445
<v Speaker 4>working on the I think it failed.

00:38:26.605 --> 00:38:27.645
<v Speaker 4>It's still there.

00:38:29.565 --> 00:38:30.445
<v Speaker 5>Ta da.

00:38:30.765 --> 00:38:32.525
<v Speaker 1>That looks suspicious.

00:38:33.460 --> 00:38:34.980
<v Speaker 0>Now you gotta look at it or delete

00:38:34.980 --> 00:38:35.860
<v Speaker 0>it? Curious.

00:38:36.020 --> 00:38:37.140
<v Speaker 0>You gotta look.

00:38:41.220 --> 00:38:42.660
<v Speaker 0>I got my boss.

00:38:42.820 --> 00:38:44.020
<v Speaker 0>Nice. They did.

00:38:45.220 --> 00:38:46.660
<v Speaker 4>I create pods

00:38:47.835 --> 00:38:49.755
<v Speaker 4>star. It went to a

00:38:50.315 --> 00:38:51.115
<v Speaker 4>object

00:38:51.115 --> 00:38:52.235
<v Speaker 4>selector

00:38:52.875 --> 00:38:53.995
<v Speaker 4>just for

00:38:55.195 --> 00:38:55.515
<v Speaker 4>this.

00:39:03.770 --> 00:39:06.570
<v Speaker 0>Alright. Remember your mission. You got seven minutes.

00:39:08.730 --> 00:39:11.050
<v Speaker 4>K. So if the question's looking slightly healthier,

00:39:14.775 --> 00:39:16.455
<v Speaker 4>I'm not overly happy

00:39:16.455 --> 00:39:18.375
<v Speaker 4>with that. But No.

00:39:19.734 --> 00:39:21.575
<v Speaker 4>Let's think first is to

00:39:24.295 --> 00:39:24.615
<v Speaker 2>this.

00:39:30.960 --> 00:39:31.920
<v Speaker 4>Anything

00:39:31.920 --> 00:39:32.640
<v Speaker 4>else?

00:39:33.359 --> 00:39:35.760
<v Speaker 4>And it already failed, but we'll try that

00:39:35.760 --> 00:39:36.400
<v Speaker 4>first.

00:39:37.760 --> 00:39:39.839
<v Speaker 4>Nothing within container creating.

00:39:40.994 --> 00:39:43.154
<v Speaker 0>Mhmm. It's pulling the image. Yeah. There you

00:39:43.154 --> 00:39:43.635
<v Speaker 0>go.

00:39:46.194 --> 00:39:47.714
<v Speaker 0>But can't does it work?

00:39:47.954 --> 00:39:49.395
<v Speaker 0>Would you like me to try?

00:39:50.994 --> 00:39:52.515
<v Speaker 1>Give it a shot. Yeah.

00:39:52.595 --> 00:39:55.790
<v Speaker 3>Why not? So it's exposed via teleport, and

00:39:55.790 --> 00:39:57.550
<v Speaker 0>we can click custard.

00:40:02.910 --> 00:40:05.630
<v Speaker 0>That's the successful one. Mission successful.

00:40:06.030 --> 00:40:08.110
<v Speaker 0>No. I think you still got a particularly

00:40:08.815 --> 00:40:10.175
<v Speaker 0>broken cluster,

00:40:10.175 --> 00:40:10.815
<v Speaker 0>but

00:40:12.975 --> 00:40:15.775
<v Speaker 0>you did manage to deploy an update to

00:40:15.775 --> 00:40:17.775
<v Speaker 0>your application and browse to it. So well

00:40:17.775 --> 00:40:19.295
<v Speaker 0>done, team Skyscanner.

00:40:20.735 --> 00:40:22.175
<v Speaker 0>It's eventually consistent.

00:40:24.339 --> 00:40:26.180
<v Speaker 0>How was that? You enjoy that?

00:40:27.060 --> 00:40:29.060
<v Speaker 4>Yeah. It's good for me. There's some tricky

00:40:29.060 --> 00:40:29.940
<v Speaker 4>ones in there.

00:40:30.339 --> 00:40:32.740
<v Speaker 1>I I think as always, the most

00:40:33.380 --> 00:40:35.619
<v Speaker 1>irritating ones are the intermittent ones where you

00:40:35.619 --> 00:40:37.460
<v Speaker 1>go, okay. Go on to the oh god.

00:40:37.460 --> 00:40:38.820
<v Speaker 1>No. No. Still broken.

00:40:39.845 --> 00:40:41.845
<v Speaker 0>Alright. So now you know what you've fixed

00:40:41.845 --> 00:40:43.924
<v Speaker 0>and you know what you've broken. Who who's

00:40:43.924 --> 00:40:44.725
<v Speaker 0>meaner?

00:40:47.525 --> 00:40:50.565
<v Speaker 1>I think we we might be meaner. Alright.

00:40:51.365 --> 00:40:52.405
<v Speaker 0>We're dying. So

00:40:53.670 --> 00:40:56.310
<v Speaker 0>Well, you don't keep my reputation up.

00:40:56.950 --> 00:40:57.910
<v Speaker 0>I

00:40:58.069 --> 00:41:00.790
<v Speaker 0>don't think it's up, but whatever, Guy. No.

00:41:02.230 --> 00:41:03.750
<v Speaker 0>It was a pleasure. Thank you, Guy. Thank

00:41:03.750 --> 00:41:05.829
<v Speaker 0>you, Matthew. Thank you, Alex. I hope you

00:41:05.829 --> 00:41:07.765
<v Speaker 0>enjoyed that. Please feel free to watch from

00:41:07.765 --> 00:41:10.165
<v Speaker 0>YouTube, be in the chat if you're available.

00:41:10.165 --> 00:41:11.925
<v Speaker 0>I'm gonna invite Digital Ocean to come and

00:41:11.925 --> 00:41:13.845
<v Speaker 0>join the session, and I will jump back

00:41:13.845 --> 00:41:15.365
<v Speaker 0>over to here for just a moment. So

00:41:15.365 --> 00:41:16.565
<v Speaker 0>thank you. I'll speak to you soon.

00:41:19.619 --> 00:41:22.500
<v Speaker 0>Alrighty. So while we wait for Digital Ocean,

00:41:22.500 --> 00:41:24.579
<v Speaker 0>I would remind you all to like, subscribe,

00:41:24.579 --> 00:41:27.540
<v Speaker 0>and click that bell, and another awesome thank

00:41:27.540 --> 00:41:30.099
<v Speaker 0>you to Teleport for sponsoring Clustard.

00:41:30.099 --> 00:41:31.940
<v Speaker 0>They made this show possible with their support.

00:41:32.235 --> 00:41:34.155
<v Speaker 0>We use the product. We love the product.

00:41:34.155 --> 00:41:35.595
<v Speaker 0>You should check it out too.

00:41:35.835 --> 00:41:39.195
<v Speaker 0>Run Teleport on your infrastructure to commoditize access

00:41:39.275 --> 00:41:40.875
<v Speaker 0>through secure protocols,

00:41:40.955 --> 00:41:43.515
<v Speaker 0>remote pairing. Right? That's pretty cool.

00:41:43.755 --> 00:41:44.795
<v Speaker 0>And application

00:41:44.795 --> 00:41:47.355
<v Speaker 0>proxy in as well. Okay. We've got,

00:41:48.530 --> 00:41:51.410
<v Speaker 0>I've still got to kick them out. Skyscanner

00:41:51.410 --> 00:41:52.450
<v Speaker 0>just hanging around.

00:41:53.010 --> 00:41:54.850
<v Speaker 0>Definitely outstaying their welcome.

00:41:59.810 --> 00:42:00.849
<v Speaker 0>Welcome, Shahar.

00:42:03.895 --> 00:42:06.375
<v Speaker 4>Oh, it's got that's your team coming in

00:42:06.375 --> 00:42:07.815
<v Speaker 0>there. There we go.

00:42:09.974 --> 00:42:11.095
<v Speaker 0>Welcome, Billy,

00:42:12.215 --> 00:42:12.855
<v Speaker 0>Jeremy,

00:42:13.220 --> 00:42:14.420
<v Speaker 0>and one more.

00:42:17.779 --> 00:42:19.700
<v Speaker 0>So this then affects everything. Right?

00:42:20.339 --> 00:42:22.500
<v Speaker 2>So the the they they kinda fix it,

00:42:22.500 --> 00:42:24.500
<v Speaker 2>but they worked around the STD problem.

00:42:24.740 --> 00:42:26.579
<v Speaker 2>Right? So, like, it I did the same

00:42:26.579 --> 00:42:28.500
<v Speaker 2>STD thing I did last time where I

00:42:28.095 --> 00:42:29.935
<v Speaker 2>just changed the the liveness probe to be

00:42:29.935 --> 00:42:32.015
<v Speaker 2>health c instead of health so it would

00:42:32.015 --> 00:42:34.015
<v Speaker 2>crash every two and a half minutes and

00:42:34.015 --> 00:42:36.175
<v Speaker 2>then be down for a while. And I

00:42:36.175 --> 00:42:39.055
<v Speaker 0>noticed it because your Vim cursor started there.

00:42:39.055 --> 00:42:40.974
<v Speaker 0>I even gave them the hint, but they

00:42:40.974 --> 00:42:43.135
<v Speaker 0>they they didn't they didn't take it. Yep.

00:42:46.230 --> 00:42:47.190
<v Speaker 2>Alright.

00:42:47.990 --> 00:42:49.590
<v Speaker 2>Wait. There there was there the the validate

00:42:49.590 --> 00:42:51.990
<v Speaker 2>emission or the the mutating emission webhook would

00:42:51.990 --> 00:42:53.510
<v Speaker 2>have all

00:42:53.670 --> 00:42:55.510
<v Speaker 2>all it did was it changed the v

00:42:55.510 --> 00:42:57.715
<v Speaker 2>two tag to v one. So they would

00:42:57.715 --> 00:42:59.555
<v Speaker 2>have changed it in the deployment and then

00:42:59.555 --> 00:43:01.075
<v Speaker 2>the pod still would have been running v

00:43:01.075 --> 00:43:02.915
<v Speaker 2>one even though the deployment had been changed.

00:43:03.235 --> 00:43:05.955
<v Speaker 0>Sneaky. I like that. Definitely cool.

00:43:06.994 --> 00:43:08.915
<v Speaker 0>You could do some serious amount of damage

00:43:08.915 --> 00:43:11.170
<v Speaker 0>with those mutating and webhooks. Right? And you

00:43:11.170 --> 00:43:13.250
<v Speaker 0>have no visibility into what's happening, which is

00:43:13.410 --> 00:43:15.330
<v Speaker 0>which makes it even painful to debug.

00:43:15.810 --> 00:43:17.570
<v Speaker 2>Yeah. I have another idea for doing the

00:43:17.570 --> 00:43:19.250
<v Speaker 2>same kind of thing, but without without without

00:43:19.250 --> 00:43:20.930
<v Speaker 2>without a mutating webhook.

00:43:21.810 --> 00:43:23.410
<v Speaker 0>You keep that to yourself for now if

00:43:23.410 --> 00:43:23.970
<v Speaker 0>we can bring that one.

00:43:26.305 --> 00:43:28.625
<v Speaker 0>We're still missing one person.

00:43:29.105 --> 00:43:30.385
<v Speaker 2>Colin. Colin.

00:43:33.745 --> 00:43:36.065
<v Speaker 0>Alright. Let's get you hooked up with teleport.

00:43:36.065 --> 00:43:37.665
<v Speaker 0>Oh, no. We haven't done introductions. I'm so

00:43:37.665 --> 00:43:38.225
<v Speaker 0>rude. Apologies.

00:43:39.840 --> 00:43:41.280
<v Speaker 0>Let's start with a a quick round of

00:43:41.280 --> 00:43:43.680
<v Speaker 0>introductions, and hopefully, Colin will join us, but

00:43:43.680 --> 00:43:45.200
<v Speaker 0>we'll let him see oh, there we go.

00:43:45.200 --> 00:43:45.760
<v Speaker 0>Perfect.

00:43:48.400 --> 00:43:49.600
<v Speaker 0>Welcome back. Alright. So

00:43:50.480 --> 00:43:52.320
<v Speaker 0>Alright. Can we do introductions?

00:43:52.560 --> 00:43:53.600
<v Speaker 0>We just

00:43:53.835 --> 00:43:54.795
<v Speaker 0>take it away.

00:43:55.275 --> 00:43:56.555
<v Speaker 0>Shahar, do you wanna go first since you're

00:43:56.555 --> 00:43:58.315
<v Speaker 0>top right, then just loop around.

00:43:58.875 --> 00:43:59.435
<v Speaker 6>Yeah.

00:43:59.835 --> 00:44:02.234
<v Speaker 6>Hi. I'm Shahar. I'm a software engineer at

00:44:02.234 --> 00:44:04.795
<v Speaker 6>DigitalOcean working on the app platform.

00:44:06.075 --> 00:44:07.435
<v Speaker 6>And, yeah, excited to be here.

00:44:08.760 --> 00:44:10.040
<v Speaker 6>Billy, you wanna go next?

00:44:10.520 --> 00:44:13.080
<v Speaker 2>Sure. I'm Billy Kleeck. I'm a staff engineer

00:44:13.080 --> 00:44:14.120
<v Speaker 2>at DigitalOcean.

00:44:14.680 --> 00:44:16.920
<v Speaker 2>I've been doing Kubernetes stuff for almost four

00:44:16.920 --> 00:44:17.480
<v Speaker 2>years,

00:44:17.880 --> 00:44:20.600
<v Speaker 2>running internal platforms at deal that that host

00:44:20.600 --> 00:44:22.600
<v Speaker 2>the vast majority of our internal services.

00:44:24.085 --> 00:44:26.245
<v Speaker 2>Jeremy, you're you're you're next on my screen.

00:44:27.205 --> 00:44:29.205
<v Speaker 5>Hi, everyone. My name is Jeremy Morris. I'm

00:44:29.205 --> 00:44:30.245
<v Speaker 5>a software engineer.

00:44:30.565 --> 00:44:32.565
<v Speaker 5>I primarily work on DOKS.

00:44:32.565 --> 00:44:34.565
<v Speaker 5>That's DigitalOcean's managed Kubernetes product.

00:44:38.759 --> 00:44:40.440
<v Speaker 5>Hello. Hi. My name is Colin. I I

00:44:40.440 --> 00:44:42.599
<v Speaker 2>work with Jeremy on the containers

00:44:42.599 --> 00:44:43.880
<v Speaker 2>team, primarily

00:44:43.880 --> 00:44:46.039
<v Speaker 2>focused on the the registry product right now,

00:44:46.039 --> 00:44:47.720
<v Speaker 2>hoping to get into Kubernetes more later.

00:44:49.415 --> 00:44:51.655
<v Speaker 0>Awesome. Thank you all, and thank you for

00:44:51.655 --> 00:44:54.295
<v Speaker 0>joining us. That was a sneaky cluster. It's

00:44:54.295 --> 00:44:56.455
<v Speaker 0>now your turn to see what SkyClanner have

00:44:56.455 --> 00:44:57.895
<v Speaker 0>prepared for you.

00:44:58.295 --> 00:45:00.455
<v Speaker 0>So I'm gonna pop open my screen share.

00:45:01.490 --> 00:45:03.410
<v Speaker 0>I will open a session on the control

00:45:03.410 --> 00:45:04.450
<v Speaker 0>plane note

00:45:04.609 --> 00:45:05.970
<v Speaker 0>and if you can just let me know

00:45:05.970 --> 00:45:08.289
<v Speaker 0>when you're in there and ready and feel

00:45:08.289 --> 00:45:09.730
<v Speaker 0>free just to check for a control plane

00:45:09.730 --> 00:45:10.930
<v Speaker 0>when we get a after we've got a

00:45:10.930 --> 00:45:12.050
<v Speaker 0>few echo hellos.

00:45:14.930 --> 00:45:16.775
<v Speaker 0>Oh, we're missing a face. Let me get

00:45:16.775 --> 00:45:17.735
<v Speaker 0>that working.

00:45:19.575 --> 00:45:20.535
<v Speaker 0>There we go.

00:45:21.655 --> 00:45:23.655
<v Speaker 0>Okay. I see active sessions?

00:45:25.015 --> 00:45:27.015
<v Speaker 0>And you should be able to see, yep,

00:45:27.015 --> 00:45:27.975
<v Speaker 0>an active sessions.

00:45:28.930 --> 00:45:29.810
<v Speaker 6>Oh, no.

00:45:30.290 --> 00:45:31.730
<v Speaker 6>I mean, fresh.

00:45:36.530 --> 00:45:38.850
<v Speaker 2>I'm definitely a little nervous after after they

00:45:38.850 --> 00:45:40.610
<v Speaker 2>said that they're they think they're meaner than

00:45:40.610 --> 00:45:42.770
<v Speaker 2>us. I'm looking through some some of Guy's

00:45:42.770 --> 00:45:44.210
<v Speaker 2>previous breaks, so we'll see.

00:45:44.905 --> 00:45:46.745
<v Speaker 0>Yeah. I did swear I'd never have him

00:45:46.745 --> 00:45:49.545
<v Speaker 0>back on the the show. But Yep. That's

00:45:49.545 --> 00:45:50.985
<v Speaker 2>that's probably for the best.

00:45:52.905 --> 00:45:55.625
<v Speaker 0>Anyone that brings Unicode to clusterfight isn't good

00:45:55.625 --> 00:45:56.185
<v Speaker 0>in my book.

00:45:59.820 --> 00:46:01.740
<v Speaker 0>Alright. How are we getting on there?

00:46:03.180 --> 00:46:05.180
<v Speaker 0>We're still waiting. I might just tag along

00:46:05.180 --> 00:46:07.500
<v Speaker 6>then. I'm trying to, like Just to make

00:46:07.500 --> 00:46:09.900
<v Speaker 0>sure you're on Skyscanner.cluster.live

00:46:09.900 --> 00:46:11.900
<v Speaker 0>and not digitalocean.cluster.live.

00:46:11.900 --> 00:46:12.380
<v Speaker 0>Right?

00:46:12.780 --> 00:46:13.340
<v Speaker 1>Yes.

00:46:14.915 --> 00:46:16.515
<v Speaker 0>And you went you went to active set

00:46:16.595 --> 00:46:18.595
<v Speaker 2>you went to activity in active sessions

00:46:18.835 --> 00:46:20.915
<v Speaker 2>and joined the active session?

00:46:22.115 --> 00:46:23.875
<v Speaker 6>I I'm not able to

00:46:24.755 --> 00:46:27.235
<v Speaker 6>oh, I might not have oh, my bad.

00:46:27.235 --> 00:46:28.275
<v Speaker 6>I have not

00:46:29.040 --> 00:46:31.280
<v Speaker 6>set up correctly. That's on me.

00:46:31.920 --> 00:46:32.480
<v Speaker 0>Alright.

00:46:32.800 --> 00:46:34.640
<v Speaker 0>Sorry. Whenever you're ready.

00:46:34.960 --> 00:46:37.040
<v Speaker 0>If someone wants to take over and check

00:46:37.040 --> 00:46:38.560
<v Speaker 0>for a control play, we'll get this thing

00:46:38.560 --> 00:46:41.200
<v Speaker 0>underway. Best of luck, team Digital Ocean.

00:46:42.185 --> 00:46:44.185
<v Speaker 2>Alright, Jeremy. Are you you gonna drive?

00:46:45.305 --> 00:46:46.505
<v Speaker 5>Yeah. I'll start driving.

00:46:46.825 --> 00:46:49.225
<v Speaker 2>Alright. Let's get a let's first things set

00:46:49.225 --> 00:46:51.305
<v Speaker 2>up get set up config and and our

00:46:51.305 --> 00:46:53.225
<v Speaker 2>alias. I love that that alias is the

00:46:53.225 --> 00:46:55.225
<v Speaker 0>first thing even before the cube config. That

00:46:55.305 --> 00:46:56.265
<v Speaker 0>that's my kinda party.

00:46:57.200 --> 00:46:57.920
<v Speaker 2>Yep.

00:46:58.640 --> 00:47:00.799
<v Speaker 2>And then, tipped a bit for the auto

00:47:00.799 --> 00:47:01.839
<v Speaker 2>completion as well.

00:47:03.359 --> 00:47:04.960
<v Speaker 5>I don't remember that.

00:47:05.759 --> 00:47:07.759
<v Speaker 5>Do you wanna type that in? Yep. This

00:47:07.759 --> 00:47:08.880
<v Speaker 5>is still a lot. We can run this

00:47:08.880 --> 00:47:09.520
<v Speaker 5>command.

00:47:10.640 --> 00:47:11.759
<v Speaker 2>Yeah. I'll cut it.

00:47:14.765 --> 00:47:15.724
<v Speaker 2>There we go.

00:47:26.700 --> 00:47:28.700
<v Speaker 2>There we go. Cool. K. And

00:47:30.619 --> 00:47:31.420
<v Speaker 5>so

00:47:31.740 --> 00:47:33.500
<v Speaker 5>maybe look at the note or something.

00:47:35.980 --> 00:47:36.780
<v Speaker 2>Okay.

00:47:36.780 --> 00:47:37.580
<v Speaker 2>Wonderful.

00:47:37.740 --> 00:47:38.460
<v Speaker 2>Okay.

00:47:38.780 --> 00:47:40.515
<v Speaker 2>There we go. So,

00:47:40.835 --> 00:47:42.515
<v Speaker 2>couple of things. Let's let's go check those

00:47:42.515 --> 00:47:43.235
<v Speaker 2>manifests.

00:47:43.474 --> 00:47:46.755
<v Speaker 2>First thing, Etsy Etsy Kubernetes manifest and just

00:47:46.674 --> 00:47:48.355
<v Speaker 2>let's see what the timestamps are.

00:47:49.954 --> 00:47:52.275
<v Speaker 0>What I love is that is an actual

00:47:52.275 --> 00:47:54.434
<v Speaker 0>response from the API server. That is not

00:47:55.280 --> 00:47:58.400
<v Speaker 0>that that is a working ish API server.

00:47:58.800 --> 00:48:00.640
<v Speaker 2>Oh, yeah. That's right. Yeah.

00:48:01.119 --> 00:48:02.960
<v Speaker 5>How do I get the oh, there yeah.

00:48:02.960 --> 00:48:04.080
<v Speaker 5>It's just time stamps.

00:48:04.480 --> 00:48:06.400
<v Speaker 2>Currently unable to handle the request.

00:48:06.905 --> 00:48:08.905
<v Speaker 2>Did you do export? You did.

00:48:10.505 --> 00:48:13.065
<v Speaker 2>Oh, boy. Okay. This is this is fun.

00:48:16.425 --> 00:48:17.305
<v Speaker 2>So

00:48:17.305 --> 00:48:19.865
<v Speaker 2>does does anything work? Can you do

00:48:20.105 --> 00:48:20.984
<v Speaker 2>k get pods?

00:48:26.320 --> 00:48:27.120
<v Speaker 5>K.

00:48:28.080 --> 00:48:30.560
<v Speaker 2>Okay. Let's check let's check let's check the

00:48:30.560 --> 00:48:31.200
<v Speaker 2>logs

00:48:31.440 --> 00:48:32.560
<v Speaker 2>for Kubelet.

00:48:35.994 --> 00:48:37.435
<v Speaker 5>How how do I click that?

00:48:37.755 --> 00:48:40.715
<v Speaker 2>Sweet journal CTL slash u kubelet

00:48:42.715 --> 00:48:43.915
<v Speaker 2>dash f.

00:48:44.875 --> 00:48:46.555
<v Speaker 2>Just follow follow them for a bit.

00:48:50.280 --> 00:48:52.760
<v Speaker 2>No. It'd be dash u kubla first.

00:48:53.480 --> 00:48:54.120
<v Speaker 2>Yeah.

00:48:56.040 --> 00:48:56.840
<v Speaker 5>K.

00:48:57.080 --> 00:48:57.960
<v Speaker 5>Second event.

00:49:04.295 --> 00:49:05.015
<v Speaker 2>K.

00:49:05.415 --> 00:49:07.494
<v Speaker 2>Let's let's let's check to see if,

00:49:08.375 --> 00:49:09.735
<v Speaker 2>etcd is running.

00:49:14.454 --> 00:49:17.210
<v Speaker 5>We so component status is is not something

00:49:17.210 --> 00:49:18.730
<v Speaker 5>we can do for,

00:49:19.770 --> 00:49:21.450
<v Speaker 5>the controller and

00:49:22.730 --> 00:49:24.650
<v Speaker 5>but I I think it does social ID.

00:49:24.650 --> 00:49:26.010
<v Speaker 5>Right? Or is that not even used to

00:49:26.010 --> 00:49:27.865
<v Speaker 5>use at all at this point? I don't

00:49:27.865 --> 00:49:28.825
<v Speaker 2>I don't think we're gonna be able to

00:49:28.825 --> 00:49:29.145
<v Speaker 2>use,

00:49:29.785 --> 00:49:31.625
<v Speaker 2>cuckuddle at all for a little bit.

00:49:32.265 --> 00:49:34.425
<v Speaker 2>So let's let's just check to see whether

00:49:34.425 --> 00:49:36.265
<v Speaker 2>SED is running with PSAX

00:49:36.265 --> 00:49:37.145
<v Speaker 2>grab for SED.

00:49:48.290 --> 00:49:49.090
<v Speaker 0>Minutes.

00:49:50.370 --> 00:49:51.170
<v Speaker 2>K.

00:49:52.130 --> 00:49:53.410
<v Speaker 2>Alright. So

00:49:55.655 --> 00:49:57.815
<v Speaker 2>and can we check logs for

00:49:58.055 --> 00:49:58.935
<v Speaker 2>a etcd?

00:50:03.974 --> 00:50:04.775
<v Speaker 5>Etcd

00:50:04.775 --> 00:50:05.734
<v Speaker 5>or something like that?

00:50:07.230 --> 00:50:08.430
<v Speaker 2>I think we're gonna have to look at

00:50:08.430 --> 00:50:11.150
<v Speaker 2>the varlog containers to see them because

00:50:11.550 --> 00:50:13.390
<v Speaker 2>gets that TD is being run system d

00:50:13.390 --> 00:50:14.670
<v Speaker 2>as running as a static pod.

00:50:26.525 --> 00:50:28.125
<v Speaker 2>Yeah. So check check those

00:50:28.365 --> 00:50:29.645
<v Speaker 2>STD logs.

00:50:29.645 --> 00:50:30.205
<v Speaker 5>Yeah.

00:50:30.765 --> 00:50:31.565
<v Speaker 5>Checks

00:50:31.565 --> 00:50:32.125
<v Speaker 5>okay.

00:50:32.845 --> 00:50:33.565
<v Speaker 2>Okay.

00:50:34.605 --> 00:50:35.645
<v Speaker 2>That's interesting.

00:50:37.500 --> 00:50:39.180
<v Speaker 2>Okay. So we so we can we can

00:50:39.340 --> 00:50:40.860
<v Speaker 2>it looks like we can connect to Kube

00:50:40.860 --> 00:50:42.300
<v Speaker 2>Kube API server,

00:50:42.540 --> 00:50:44.540
<v Speaker 2>but it can't by the way.

00:50:44.940 --> 00:50:46.620
<v Speaker 5>I'm not sure what's up with that. But

00:50:46.780 --> 00:50:48.780
<v Speaker 0>Yeah. So there is a a small bug

00:50:48.780 --> 00:50:51.260
<v Speaker 0>in Xterm JS. If you can't scroll, you

00:50:51.260 --> 00:50:51.740
<v Speaker 0>just, like,

00:50:52.464 --> 00:50:54.704
<v Speaker 0>resize the window a millimeter. It just kinda

00:50:54.704 --> 00:50:55.665
<v Speaker 0>fixes it.

00:50:57.105 --> 00:50:58.785
<v Speaker 0>I know it's it it does get a

00:50:58.785 --> 00:51:00.305
<v Speaker 0>little bit frustrating, especially

00:51:01.505 --> 00:51:03.025
<v Speaker 0>as it breaks on my side and then

00:51:03.025 --> 00:51:04.625
<v Speaker 0>I do it. But eventually, we'll get something

00:51:04.625 --> 00:51:05.105
<v Speaker 0>that works.

00:51:06.400 --> 00:51:08.800
<v Speaker 5>I'll just resize it as needed.

00:51:08.960 --> 00:51:09.760
<v Speaker 0>Awesome.

00:51:11.120 --> 00:51:12.880
<v Speaker 5>Alright. So what should we do next?

00:51:13.360 --> 00:51:15.360
<v Speaker 2>Let let's just do a k get notes

00:51:15.360 --> 00:51:16.880
<v Speaker 2>again just to make sure that they didn't

00:51:16.880 --> 00:51:19.440
<v Speaker 2>do something like what we did where SEB

00:51:19.440 --> 00:51:20.400
<v Speaker 2>is crashing.

00:51:21.355 --> 00:51:22.315
<v Speaker 2>No. Okay.

00:51:23.995 --> 00:51:26.555
<v Speaker 2>Server is currently unable to handle the request.

00:51:26.795 --> 00:51:28.715
<v Speaker 2>Let's let's check QA API server logs.

00:51:48.895 --> 00:51:50.655
<v Speaker 5>That was the handle of the crash.

00:51:53.135 --> 00:51:54.895
<v Speaker 5>Failed the bot. Failed the list.

00:51:57.454 --> 00:52:00.015
<v Speaker 2>What's that top one? Failed

00:52:00.415 --> 00:52:01.935
<v Speaker 2>failing or missing response from?

00:52:03.350 --> 00:52:05.670
<v Speaker 2>Should that be six okay. Let's go check

00:52:07.670 --> 00:52:09.110
<v Speaker 2>that's interesting.

00:52:11.670 --> 00:52:13.590
<v Speaker 2>Oh, we can't check that. So is there,

00:52:13.590 --> 00:52:16.470
<v Speaker 6>like, a cluster role that that's for this?

00:52:17.845 --> 00:52:18.405
<v Speaker 2>Yeah.

00:52:18.885 --> 00:52:20.245
<v Speaker 2>Yep. So but

00:52:20.965 --> 00:52:22.165
<v Speaker 2>I don't I don't know how we would

00:52:22.165 --> 00:52:23.205
<v Speaker 2>check it without

00:52:24.245 --> 00:52:25.445
<v Speaker 2>without Kubernetes,

00:52:25.445 --> 00:52:26.725
<v Speaker 2>without without being able to

00:52:27.365 --> 00:52:29.045
<v Speaker 2>so but but let's try. Like, may maybe

00:52:29.045 --> 00:52:30.885
<v Speaker 2>maybe maybe you can see its own cluster

00:52:30.885 --> 00:52:32.005
<v Speaker 2>roles. So just do

00:52:32.700 --> 00:52:35.340
<v Speaker 2>k get cluster roles. Let's see what's there.

00:52:36.300 --> 00:52:37.740
<v Speaker 2>See if it'll tell us anything.

00:52:38.060 --> 00:52:39.340
<v Speaker 2>No. Nothing.

00:52:39.740 --> 00:52:41.180
<v Speaker 2>And do we do we do we have

00:52:41.180 --> 00:52:42.380
<v Speaker 2>a do we have a log that will

00:52:42.380 --> 00:52:44.220
<v Speaker 2>tell us about this in Kube API server?

00:52:44.220 --> 00:52:45.820
<v Speaker 2>So this this values pay that we just

00:52:45.820 --> 00:52:45.980
<v Speaker 2>did.

00:52:47.255 --> 00:52:49.415
<v Speaker 2>See the logs again. So we maybe it'll

00:52:49.415 --> 00:52:50.775
<v Speaker 2>give us some hint about what we just

00:52:50.775 --> 00:52:51.175
<v Speaker 2>failed.

00:53:00.390 --> 00:53:02.150
<v Speaker 6>That doesn't look recent.

00:53:06.150 --> 00:53:06.950
<v Speaker 2>It doesn't?

00:53:07.270 --> 00:53:08.470
<v Speaker 2>What time is it?

00:53:09.270 --> 00:53:10.790
<v Speaker 2>Yeah. It's not too bad. Jeremy,

00:53:12.230 --> 00:53:13.430
<v Speaker 2>was was that was that the end of

00:53:13.430 --> 00:53:15.190
<v Speaker 2>it, or was that

00:53:15.855 --> 00:53:17.935
<v Speaker 5>the This You did 10 end of it.

00:53:17.935 --> 00:53:18.335
<v Speaker 5>Yeah.

00:53:19.375 --> 00:53:20.495
<v Speaker 5>Yeah. Yep.

00:53:20.735 --> 00:53:23.135
<v Speaker 0>Good catch. I didn't notice that timestamp, but

00:53:23.135 --> 00:53:24.495
<v Speaker 0>that is indeed a loop. And

00:53:25.295 --> 00:53:26.975
<v Speaker 6>there's two of these these pods,

00:53:28.290 --> 00:53:29.570
<v Speaker 6>though, and we're

00:53:30.050 --> 00:53:30.690
<v Speaker 0>Yep.

00:53:31.010 --> 00:53:32.850
<v Speaker 0>Yeah. Could be like an underdog.

00:53:34.290 --> 00:53:35.090
<v Speaker 2>Agreed.

00:53:37.250 --> 00:53:38.690
<v Speaker 2>So wanna take a look at the other

00:53:38.690 --> 00:53:39.650
<v Speaker 2>one, Jeremy?

00:53:40.305 --> 00:53:41.025
<v Speaker 5>Yep.

00:53:45.105 --> 00:53:45.905
<v Speaker 2>So

00:53:46.145 --> 00:53:47.425
<v Speaker 6>not 40

00:53:49.665 --> 00:53:50.145
<v Speaker 1>Yeah.

00:53:50.944 --> 00:53:51.744
<v Speaker 0>That's the one.

00:53:52.520 --> 00:53:54.120
<v Speaker 2>There we go. Okay.

00:53:54.599 --> 00:53:55.400
<v Speaker 2>Alright.

00:53:55.800 --> 00:53:56.440
<v Speaker 2>So

00:53:56.920 --> 00:53:59.319
<v Speaker 2>data watch server is currently unable to repush

00:53:59.319 --> 00:54:00.840
<v Speaker 2>request in ESpace.

00:54:01.480 --> 00:54:03.319
<v Speaker 2>I will sync it right. Okay.

00:54:06.115 --> 00:54:07.715
<v Speaker 2>Let's go take a look at the the

00:54:07.715 --> 00:54:08.995
<v Speaker 2>QAPI server

00:54:09.235 --> 00:54:10.275
<v Speaker 2>manifest.

00:54:10.595 --> 00:54:12.035
<v Speaker 0>I think that's a good idea.

00:54:13.875 --> 00:54:15.955
<v Speaker 2>The the reason I'm doing that is is

00:54:15.955 --> 00:54:17.555
<v Speaker 2>up it says that the server is currently

00:54:17.555 --> 00:54:19.075
<v Speaker 2>unable to connect to

00:54:19.850 --> 00:54:22.010
<v Speaker 2>a it's currently unable to service the request.

00:54:22.330 --> 00:54:23.930
<v Speaker 2>So I'm wondering if

00:54:24.250 --> 00:54:26.170
<v Speaker 2>these IP addresses are

00:54:26.410 --> 00:54:27.130
<v Speaker 2>correct.

00:54:27.610 --> 00:54:29.450
<v Speaker 2>And I know that from looking at so

00:54:29.450 --> 00:54:30.490
<v Speaker 2>because I I did a little bit of

00:54:30.490 --> 00:54:32.650
<v Speaker 2>reconnaissance on since Guy had done this before

00:54:32.650 --> 00:54:33.850
<v Speaker 2>to go see what kinds of things he

00:54:33.850 --> 00:54:34.570
<v Speaker 2>had broken before.

00:54:35.605 --> 00:54:37.365
<v Speaker 2>Because I know I repeated some things, I

00:54:37.365 --> 00:54:38.485
<v Speaker 2>thought he might as well.

00:54:38.885 --> 00:54:40.645
<v Speaker 2>So secure port looks right.

00:54:41.605 --> 00:54:43.365
<v Speaker 2>We should probably check these

00:54:43.525 --> 00:54:45.365
<v Speaker 2>these IP ranges for

00:54:46.005 --> 00:54:48.005
<v Speaker 2>the services and for

00:54:48.245 --> 00:54:51.605
<v Speaker 2>what we're listening on. So I don't

00:54:50.910 --> 00:54:51.630
<v Speaker 2>think

00:54:55.550 --> 00:54:56.829
<v Speaker 2>I wanna take a look at the flags

00:54:56.829 --> 00:54:57.869
<v Speaker 2>here in just a minute too.

00:55:03.535 --> 00:55:06.575
<v Speaker 5>We resize the window again. Hold on. K.

00:55:08.335 --> 00:55:09.375
<v Speaker 0>There we go.

00:55:10.975 --> 00:55:12.255
<v Speaker 2>Alright. Let's

00:55:12.255 --> 00:55:14.735
<v Speaker 2>let's go up to the top here and

00:55:14.735 --> 00:55:16.175
<v Speaker 2>take a look at the flags that QAPI

00:55:16.175 --> 00:55:17.055
<v Speaker 2>server is running with.

00:55:24.700 --> 00:55:27.100
<v Speaker 5>Gonna go to the top again. Oh, okay.

00:55:27.100 --> 00:55:28.620
<v Speaker 5>Let's go down. Yeah.

00:55:29.420 --> 00:55:31.660
<v Speaker 2>So is that IP address for the advertised

00:55:31.660 --> 00:55:32.620
<v Speaker 2>address? Is that right?

00:55:37.375 --> 00:55:38.975
<v Speaker 0>I think so. How how do we check

00:55:38.975 --> 00:55:39.535
<v Speaker 5>that?

00:55:42.735 --> 00:55:44.015
<v Speaker 2>I think we'd have to take take a

00:55:44.015 --> 00:55:46.335
<v Speaker 2>look at the the IP addresses the the

00:55:46.335 --> 00:55:47.535
<v Speaker 2>virtual IPs that we have.

00:55:49.660 --> 00:55:52.140
<v Speaker 5>Is that the IP adder command?

00:55:53.100 --> 00:55:55.900
<v Speaker 5>Yep. That'd be something else. IP IP adder

00:55:55.900 --> 00:55:56.460
<v Speaker 2>l?

00:55:57.180 --> 00:55:58.380
<v Speaker 2>There we go.

00:55:59.100 --> 00:55:59.500
<v Speaker 2>Okay.

00:56:17.595 --> 00:56:18.635
<v Speaker 0>I think that's the same.

00:56:20.410 --> 00:56:22.010
<v Speaker 2>108046143.

00:56:22.010 --> 00:56:23.530
<v Speaker 2>I think that's right. Can can you can

00:56:23.530 --> 00:56:24.650
<v Speaker 2>you just double check

00:56:24.810 --> 00:56:29.290
<v Speaker 2>the the flags again? 108046143.

00:56:29.290 --> 00:56:30.170
<v Speaker 2>10 80.

00:56:30.570 --> 00:56:30.890
<v Speaker 2>Yep.

00:56:33.965 --> 00:56:35.405
<v Speaker 2>And is let's

00:56:36.045 --> 00:56:37.245
<v Speaker 2>because team

00:56:37.245 --> 00:56:38.125
<v Speaker 2>Unicode,

00:56:38.205 --> 00:56:39.485
<v Speaker 2>let's make sure that I oh, let's just

00:56:39.485 --> 00:56:41.005
<v Speaker 2>type that I IP address in.

00:56:43.720 --> 00:56:45.080
<v Speaker 0>I like it. What am I doing with

00:56:45.080 --> 00:56:45.640
<v Speaker 5>this?

00:56:46.360 --> 00:56:48.760
<v Speaker 2>We're just gonna retype. So it's 10 so

00:56:48.760 --> 00:56:49.960
<v Speaker 2>I just would go go to the equal

00:56:49.960 --> 00:56:51.880
<v Speaker 2>sign and just do an insert and put

00:56:51.880 --> 00:56:54.040
<v Speaker 2>that same IP address in, delete delete what

00:56:54.040 --> 00:56:54.840
<v Speaker 2>they had.

00:56:55.480 --> 00:56:57.640
<v Speaker 5>Oh, so just delete this and retype it?

00:56:57.960 --> 00:56:58.440
<v Speaker 2>Yes.

00:57:01.955 --> 00:57:03.155
<v Speaker 5>K. So it's

00:57:03.555 --> 00:57:04.995
<v Speaker 5>1080.

00:57:06.515 --> 00:57:09.155
<v Speaker 5>I don't remember it. 40 no. I think

00:57:09.155 --> 00:57:11.155
<v Speaker 5>it was 46143.

00:57:12.000 --> 00:57:13.200
<v Speaker 5>Jesus. Okay.

00:57:13.680 --> 00:57:15.040
<v Speaker 0>I mean, you could just do a slash

00:57:15.040 --> 00:57:16.960
<v Speaker 0>and search for that address and make sure

00:57:16.960 --> 00:57:18.320
<v Speaker 0>it matches as well.

00:57:19.840 --> 00:57:21.520
<v Speaker 0>But if you hit escape and then forward

00:57:21.520 --> 00:57:24.720
<v Speaker 0>slash and then search for 108046143.

00:57:25.555 --> 00:57:26.995
<v Speaker 2>And

00:57:29.635 --> 00:57:30.995
<v Speaker 0>then you can use n to make sure

00:57:30.995 --> 00:57:32.675
<v Speaker 0>it matches the one at the top, but

00:57:32.675 --> 00:57:33.715
<v Speaker 0>I think it will.

00:57:36.435 --> 00:57:37.315
<v Speaker 0>Press

00:57:37.315 --> 00:57:38.675
<v Speaker 0>enter and then press n.

00:57:41.600 --> 00:57:43.440
<v Speaker 0>And it's matching it to them all, so

00:57:43.440 --> 00:57:45.520
<v Speaker 0>I think you're good. Yep. I think so

00:57:45.520 --> 00:57:46.160
<v Speaker 2>too.

00:57:47.200 --> 00:57:49.120
<v Speaker 2>But but there if there if there's my

00:57:49.120 --> 00:57:50.640
<v Speaker 2>my concern, David, is that there's there might

00:57:50.640 --> 00:57:52.480
<v Speaker 2>be a character here that looks like a

00:57:52.480 --> 00:57:53.120
<v Speaker 2>valid character.

00:57:54.315 --> 00:57:55.755
<v Speaker 2>But but I think I think you're right.

00:57:55.755 --> 00:57:57.755
<v Speaker 2>Since he searched them, we we it it

00:57:57.755 --> 00:57:59.675
<v Speaker 2>wouldn't have Guy has been in the chat

00:57:59.675 --> 00:58:02.075
<v Speaker 0>to confirm there is no Unicode list.

00:58:03.675 --> 00:58:04.635
<v Speaker 1>Thanks, Guy.

00:58:07.595 --> 00:58:07.994
<v Speaker 2>K.

00:58:09.119 --> 00:58:11.680
<v Speaker 5>Shouldn't we look at the maybe it's obvious.

00:58:11.680 --> 00:58:12.960
<v Speaker 5>I'm not sure. But should we have looked

00:58:12.960 --> 00:58:14.480
<v Speaker 5>at the config for

00:58:15.440 --> 00:58:16.160
<v Speaker 5>Sure.

00:58:16.720 --> 00:58:17.359
<v Speaker 5>Config?

00:58:17.599 --> 00:58:19.440
<v Speaker 5>Maybe that was messed up. Maybe not.

00:58:20.400 --> 00:58:22.720
<v Speaker 2>Yes. Well, potentially.

00:58:22.720 --> 00:58:24.115
<v Speaker 2>Yeah. It's it would it would have to

00:58:24.115 --> 00:58:25.475
<v Speaker 2>be connecting to a different

00:58:25.715 --> 00:58:27.315
<v Speaker 2>server. Right? Because because we know we know

00:58:27.315 --> 00:58:30.755
<v Speaker 2>that we're getting request to our our instance

00:58:30.755 --> 00:58:32.675
<v Speaker 2>of API server from the logs and from

00:58:32.675 --> 00:58:34.035
<v Speaker 2>the failures that we're seeing,

00:58:34.275 --> 00:58:34.755
<v Speaker 2>don't we?

00:58:40.650 --> 00:58:42.570
<v Speaker 5>Is anything, like, off to anyone?

00:58:46.810 --> 00:58:48.890
<v Speaker 2>Turn on the what's the hang on a

00:58:48.890 --> 00:58:50.410
<v Speaker 2>second. I wanna take a look at

00:58:51.050 --> 00:58:51.930
<v Speaker 2>Teleport real quick.

00:58:55.445 --> 00:58:57.125
<v Speaker 6>The error that we were getting wasn't able

00:58:57.125 --> 00:58:58.485
<v Speaker 6>to get some endpoint.

00:59:04.725 --> 00:59:07.045
<v Speaker 2>So Yeah. So and and and because I

00:59:07.045 --> 00:59:07.925
<v Speaker 2>did recon.

00:59:08.245 --> 00:59:11.125
<v Speaker 2>Another thing that Guy had done previously

00:59:11.920 --> 00:59:14.320
<v Speaker 2>was to shut like, mess with Kube controller

00:59:14.320 --> 00:59:15.120
<v Speaker 2>manager

00:59:15.120 --> 00:59:16.560
<v Speaker 2>to shut down a controller.

00:59:16.800 --> 00:59:17.440
<v Speaker 2>I

00:59:17.600 --> 00:59:19.280
<v Speaker 2>don't know if Kube API server has anything

00:59:19.280 --> 00:59:21.360
<v Speaker 2>like that, but it or or

00:59:22.480 --> 00:59:24.135
<v Speaker 2>if that if that could affect this, but

00:59:24.135 --> 00:59:25.975
<v Speaker 2>it potentially could. I think I'd still like

00:59:25.975 --> 00:59:26.855
<v Speaker 2>to go back and look at the Kube

00:59:26.855 --> 00:59:28.215
<v Speaker 2>API server config some more.

00:59:39.500 --> 00:59:41.099
<v Speaker 6>So it's failing to watch all of these

00:59:41.099 --> 00:59:41.660
<v Speaker 6>resources.

00:59:59.825 --> 01:00:01.505
<v Speaker 5>Or if it makes sense to

01:00:03.585 --> 01:00:04.625
<v Speaker 1>look at

01:00:05.345 --> 01:00:07.105
<v Speaker 5>do do we already look at the containers?

01:00:07.105 --> 01:00:08.465
<v Speaker 5>Maybe we should look at that.

01:00:09.549 --> 01:00:10.270
<v Speaker 0>Sure.

01:00:16.029 --> 01:00:17.950
<v Speaker 2>K. Real before you do that, we we

01:00:17.950 --> 01:00:20.510
<v Speaker 2>do l s minus l on these manifests

01:00:20.510 --> 01:00:21.069
<v Speaker 2>again.

01:00:29.095 --> 01:00:31.015
<v Speaker 0>IT Sploit is asking if the IP is

01:00:31.015 --> 01:00:33.335
<v Speaker 0>correct. Yeah. I think we've confirmed that.

01:00:33.575 --> 01:00:35.415
<v Speaker 0>So Yeah. Not it.

01:00:36.215 --> 01:00:37.815
<v Speaker 0>Can is asking how can I get this

01:00:37.815 --> 01:00:38.535
<v Speaker 0>terminal?

01:00:38.775 --> 01:00:42.450
<v Speaker 0>It's teleport. Go check it out. Rawkode.live/Teleport.

01:00:44.130 --> 01:00:47.250
<v Speaker 0>Naveen noticed an IP mismatch in your admin.com.

01:00:47.490 --> 01:00:48.930
<v Speaker 0>That's expected here.

01:00:49.170 --> 01:00:51.490
<v Speaker 0>The BGP advertisement address of the control plane

01:00:51.490 --> 01:00:53.250
<v Speaker 0>is different from the node itself.

01:00:58.345 --> 01:00:59.465
<v Speaker 5>Just a

01:00:59.865 --> 01:01:02.585
<v Speaker 5>quick question to if we can do this,

01:01:03.145 --> 01:01:04.265
<v Speaker 5>does that mean

01:01:04.825 --> 01:01:07.625
<v Speaker 5>that we might have access to other commands?

01:01:07.625 --> 01:01:07.785
<v Speaker 5>Or

01:01:09.400 --> 01:01:11.320
<v Speaker 2>Potentially. Yeah. So so what what this this

01:01:11.320 --> 01:01:12.840
<v Speaker 2>means, like, it is talking to the server.

01:01:12.840 --> 01:01:15.240
<v Speaker 2>Right? So we can talk to the server,

01:01:15.240 --> 01:01:17.000
<v Speaker 2>which means the server's up and it's running.

01:01:17.080 --> 01:01:18.440
<v Speaker 2>That makes it seem like it's permissions, but

01:01:18.440 --> 01:01:19.800
<v Speaker 2>I don't know of a way

01:01:20.120 --> 01:01:22.040
<v Speaker 2>to deal to to mess with the permissions

01:01:22.040 --> 01:01:24.120
<v Speaker 2>in a way that we could like, with

01:01:24.015 --> 01:01:26.335
<v Speaker 2>anything like that. But it could certainly be

01:01:26.335 --> 01:01:29.535
<v Speaker 2>a flag on Kube API server or something.

01:01:30.255 --> 01:01:31.055
<v Speaker 6>Oh, wow.

01:01:31.775 --> 01:01:33.535
<v Speaker 6>I'm I'm not sure that it's permissions. I

01:01:33.535 --> 01:01:36.335
<v Speaker 6>think a permission error would say something in

01:01:36.335 --> 01:01:38.815
<v Speaker 6>in those logs that would be very specifically,

01:01:38.815 --> 01:01:41.530
<v Speaker 6>like, cannot get resource because of, like, x

01:01:41.530 --> 01:01:43.530
<v Speaker 6>y z, where it's saying, like, failed to

01:01:43.530 --> 01:01:44.090
<v Speaker 6>watch,

01:01:45.210 --> 01:01:47.130
<v Speaker 6>unable to handle the request, which makes it

01:01:47.130 --> 01:01:49.050
<v Speaker 6>seem that the resources that it's trying to

01:01:49.050 --> 01:01:49.930
<v Speaker 6>watch might

01:01:50.090 --> 01:01:51.690
<v Speaker 6>might not be responding,

01:01:51.690 --> 01:01:53.450
<v Speaker 6>or they might not be listening on the

01:01:53.450 --> 01:01:54.650
<v Speaker 6>port that we're watching them on,

01:01:55.345 --> 01:01:57.425
<v Speaker 6>or they might not be up. So you

01:01:57.425 --> 01:01:58.785
<v Speaker 2>will see a lot of those fail to

01:01:58.785 --> 01:02:01.505
<v Speaker 2>watch errors and logs kind of all the

01:02:01.505 --> 01:02:03.825
<v Speaker 2>time anyway for reasons, but but you're right

01:02:03.825 --> 01:02:05.585
<v Speaker 2>about I think you're right about the

01:02:07.140 --> 01:02:09.299
<v Speaker 2>the Can I throw something out there? Or

01:02:09.299 --> 01:02:10.819
<v Speaker 2>can't hit the new point. What's that? Can

01:02:10.819 --> 01:02:12.020
<v Speaker 0>I throw something out there?

01:02:12.339 --> 01:02:13.220
<v Speaker 2>Yeah.

01:02:13.940 --> 01:02:16.260
<v Speaker 0>So I think we're maybe missing the most

01:02:16.260 --> 01:02:18.260
<v Speaker 0>important error message in the logs by using

01:02:18.260 --> 01:02:20.740
<v Speaker 0>tail as kinda my hunch. And I think

01:02:20.835 --> 01:02:22.835
<v Speaker 2>Okay. It's a d is a problem. If

01:02:22.835 --> 01:02:25.075
<v Speaker 0>you remember that first PSU that it's a

01:02:25.075 --> 01:02:26.995
<v Speaker 0>d had only been running for three minutes.

01:02:27.875 --> 01:02:28.595
<v Speaker 0>Oh,

01:02:28.835 --> 01:02:29.395
<v Speaker 0>okay.

01:02:29.875 --> 01:02:32.035
<v Speaker 0>And it seems to me that kubectl version

01:02:32.035 --> 01:02:33.875
<v Speaker 0>is a sub command that doesn't speak to

01:02:33.875 --> 01:02:35.890
<v Speaker 0>it's a d and it's working. So

01:02:36.290 --> 01:02:36.930
<v Speaker 5>Mhmm.

01:02:38.130 --> 01:02:38.690
<v Speaker 2>Sure.

01:02:39.970 --> 01:02:42.210
<v Speaker 2>Where is that? Where is the etcds?

01:02:42.530 --> 01:02:44.450
<v Speaker 2>That one. And how long has this one

01:02:44.450 --> 01:02:46.610
<v Speaker 2>been running? Can we see notes?

01:02:48.825 --> 01:02:50.505
<v Speaker 2>A CUI API server and ITV have been

01:02:50.505 --> 01:02:52.185
<v Speaker 2>up for the same amount of time, it

01:02:52.185 --> 01:02:52.905
<v Speaker 2>looks like.

01:02:56.825 --> 01:02:58.185
<v Speaker 0>Yeah. You might be right, actually.

01:03:15.440 --> 01:03:17.280
<v Speaker 0>Let's see the API server logs again.

01:03:18.525 --> 01:03:20.204
<v Speaker 5>I said maybe this is a shotgun approach,

01:03:20.204 --> 01:03:21.964
<v Speaker 5>but should we look at, like I just

01:03:21.964 --> 01:03:23.885
<v Speaker 5>try to spot check the manifest files?

01:03:24.285 --> 01:03:26.045
<v Speaker 5>So we only look at the API server.

01:03:26.045 --> 01:03:26.605
<v Speaker 5>Right?

01:03:27.005 --> 01:03:28.684
<v Speaker 2>I think that makes sense, but but because

01:03:28.684 --> 01:03:30.125
<v Speaker 2>we know that we because we know we

01:03:30.125 --> 01:03:31.890
<v Speaker 2>can talk to QA API server, I wonder

01:03:31.890 --> 01:03:33.089
<v Speaker 2>if there's some other things we could do.

01:03:33.089 --> 01:03:35.730
<v Speaker 2>Like, let let's try a a cluster info,

01:03:35.730 --> 01:03:36.770
<v Speaker 2>which I know is is

01:03:37.170 --> 01:03:39.490
<v Speaker 2>cluster info and component statuses, which is deprecated,

01:03:39.490 --> 01:03:42.290
<v Speaker 2>that would be useful, then also get events.

01:03:42.849 --> 01:03:44.049
<v Speaker 2>See if either one of those Oh, okay.

01:03:45.225 --> 01:03:46.745
<v Speaker 5>Cluster info dump. But is there a way

01:03:46.745 --> 01:03:48.665
<v Speaker 5>to, like, filter that so we don't cover

01:03:48.665 --> 01:03:50.185
<v Speaker 5>the screen? I think just bot. You don't

01:03:50.185 --> 01:03:51.785
<v Speaker 2>even need a dump. Just do cluster info

01:03:51.785 --> 01:03:53.465
<v Speaker 2>by itself. It should be done for now.

01:03:53.465 --> 01:03:53.785
<v Speaker 5>Okay.

01:03:57.680 --> 01:03:58.320
<v Speaker 2>Oh,

01:03:58.480 --> 01:04:00.560
<v Speaker 2>yeah. So so I guess we do that.

01:04:01.920 --> 01:04:03.599
<v Speaker 2>Yeah. But it's it's it's telling the same

01:04:03.599 --> 01:04:05.359
<v Speaker 2>thing. It can't handle the request. Okay. Let's

01:04:05.359 --> 01:04:06.160
<v Speaker 2>try the get events.

01:04:10.365 --> 01:04:11.805
<v Speaker 5>I I tried that in the beginning. We

01:04:11.805 --> 01:04:13.325
<v Speaker 5>can't do that. K.

01:04:20.045 --> 01:04:22.525
<v Speaker 2>Server's currently unable to handle the request.

01:04:22.845 --> 01:04:24.445
<v Speaker 2>K. Let's check the TD logs.

01:04:34.069 --> 01:04:35.829
<v Speaker 2>STD calls are the worst.

01:04:37.029 --> 01:04:37.589
<v Speaker 0>True that.

01:04:39.625 --> 01:04:41.305
<v Speaker 2>Because no no no one deals with it

01:04:41.305 --> 01:04:42.425
<v Speaker 2>all the time. So

01:04:43.944 --> 01:04:46.585
<v Speaker 2>okay. So compaction is happening. It seems to

01:04:46.585 --> 01:04:47.705
<v Speaker 2>be healthy.

01:04:48.345 --> 01:04:49.465
<v Speaker 2>Are we actually

01:04:49.704 --> 01:04:52.060
<v Speaker 2>listening on the is that TD listening on

01:04:52.060 --> 01:04:53.819
<v Speaker 2>the same port that CUI PI Server is

01:04:53.819 --> 01:04:55.900
<v Speaker 2>connecting to? And what what what would that

01:04:55.900 --> 01:04:58.620
<v Speaker 2>error look like if if if it couldn't

01:05:00.300 --> 01:05:01.819
<v Speaker 2>if CUI PI Server couldn't talk to that

01:05:01.819 --> 01:05:02.060
<v Speaker 2>TD?

01:05:04.795 --> 01:05:06.155
<v Speaker 6>I think it would make sense if the

01:05:06.155 --> 01:05:08.475
<v Speaker 6>error would be something like what we're seeing

01:05:08.475 --> 01:05:11.035
<v Speaker 6>where it's not able to process the requests

01:05:11.035 --> 01:05:12.475
<v Speaker 6>for, like, watching stuff.

01:05:13.595 --> 01:05:15.355
<v Speaker 2>Yeah. Let let let's check those ports and

01:05:15.355 --> 01:05:16.715
<v Speaker 2>IP addresses for

01:05:16.920 --> 01:05:18.680
<v Speaker 2>the HDD is listening on, make sure that

01:05:18.680 --> 01:05:20.600
<v Speaker 2>the writer can leak guys over config.

01:05:21.079 --> 01:05:22.680
<v Speaker 0>Do you real quick. Do any of you

01:05:22.680 --> 01:05:24.200
<v Speaker 5>guys know the

01:05:24.599 --> 01:05:26.520
<v Speaker 5>the reason for the discrepancy? Like, I see

01:05:26.520 --> 01:05:29.400
<v Speaker 5>the store index and finished scheduled compaction.

01:05:29.720 --> 01:05:31.955
<v Speaker 5>It just happens sometimes, I guess. Maybe because

01:05:31.955 --> 01:05:33.555
<v Speaker 5>I'm only tailing the logs.

01:05:34.275 --> 01:05:35.955
<v Speaker 2>Yeah. It's because because you're just because you're

01:05:35.955 --> 01:05:38.195
<v Speaker 2>telling, but, like, that store index and compaction,

01:05:38.195 --> 01:05:40.915
<v Speaker 2>that that happens periodically with FTD as expected.

01:05:41.840 --> 01:05:43.440
<v Speaker 5>They know that was, like, triggered by, like,

01:05:43.440 --> 01:05:44.880
<v Speaker 5>some action that

01:05:45.200 --> 01:05:47.120
<v Speaker 5>is causing our issues. So what should I

01:05:47.120 --> 01:05:48.000
<v Speaker 5>check out next?

01:05:49.680 --> 01:05:51.760
<v Speaker 2>Let's let's check go see what HTV is

01:05:51.760 --> 01:05:53.760
<v Speaker 2>listening on. So let's go check its manifest.

01:05:54.414 --> 01:05:56.095
<v Speaker 2>We're going we're gonna look at a couple

01:05:56.095 --> 01:05:57.935
<v Speaker 2>of things. We're take a look at those

01:05:58.815 --> 01:06:00.974
<v Speaker 2>the the startup probes, libraries probe, the health

01:06:00.974 --> 01:06:01.695
<v Speaker 2>probe.

01:06:02.095 --> 01:06:03.694
<v Speaker 2>Probably also wanna take a look at it

01:06:03.694 --> 01:06:05.535
<v Speaker 2>and then see what HTV is actually listening

01:06:05.535 --> 01:06:07.710
<v Speaker 2>on, and then compare what the entity is

01:06:07.710 --> 01:06:10.350
<v Speaker 2>listening on to what Kubernetes servers configured do.

01:06:11.310 --> 01:06:14.030
<v Speaker 0>Okay. So it's at a 146143

01:06:14.030 --> 01:06:15.470
<v Speaker 5>IP address. That's

01:06:16.430 --> 01:06:17.630
<v Speaker 5>IP address looks fine.

01:06:21.855 --> 01:06:23.935
<v Speaker 2>K. Login's probe is health, not health c,

01:06:23.935 --> 01:06:25.135
<v Speaker 2>so we know that's right.

01:06:26.015 --> 01:06:27.055
<v Speaker 5>Yeah.

01:06:28.255 --> 01:06:30.175
<v Speaker 2>And it is that the right port? Is

01:06:30.175 --> 01:06:31.535
<v Speaker 2>it twenty twenty three eighty one?

01:06:32.559 --> 01:06:35.280
<v Speaker 2>I believe that's right for TD by default

01:06:35.280 --> 01:06:36.400
<v Speaker 2>because it's 2379,

01:06:36.400 --> 01:06:38.000
<v Speaker 2>20 3 80, and 2381.

01:06:38.880 --> 01:06:41.040
<v Speaker 2>Right? I believe you're right. Yes. Can we

01:06:41.280 --> 01:06:42.800
<v Speaker 2>can we can we curl

01:06:42.880 --> 01:06:43.920
<v Speaker 2>that that endpoint?

01:06:46.425 --> 01:06:47.705
<v Speaker 5>2381?

01:06:48.825 --> 01:06:49.865
<v Speaker 2>Yep.

01:06:52.185 --> 01:06:53.305
<v Speaker 2>Slash curl.

01:06:55.865 --> 01:06:58.265
<v Speaker 5>So the flags you wanna use, if any?

01:07:00.105 --> 01:07:00.425
<v Speaker 2>No.

01:07:01.660 --> 01:07:03.820
<v Speaker 2>No. I don't think so. There you go.

01:07:03.820 --> 01:07:04.620
<v Speaker 2>2381

01:07:04.620 --> 01:07:05.580
<v Speaker 2>slash health.

01:07:07.740 --> 01:07:08.540
<v Speaker 2>Mhmm.

01:07:09.260 --> 01:07:10.300
<v Speaker 2>Great.

01:07:10.300 --> 01:07:11.020
<v Speaker 2>Okay.

01:07:11.100 --> 01:07:12.380
<v Speaker 2>Let's go back to that manifest.

01:07:22.175 --> 01:07:24.255
<v Speaker 2>Alright. So it well, how's how's the readiness

01:07:24.255 --> 01:07:24.815
<v Speaker 2>probe look?

01:07:32.230 --> 01:07:33.590
<v Speaker 4>There

01:07:34.230 --> 01:07:36.070
<v Speaker 2>is no readiness probe. There's liveness in the

01:07:36.070 --> 01:07:37.430
<v Speaker 2>start up. Can can you scroll down so

01:07:37.430 --> 01:07:38.790
<v Speaker 2>we can look at the start up too?

01:07:42.505 --> 01:07:43.945
<v Speaker 5>Start up probe. K.

01:07:44.905 --> 01:07:46.345
<v Speaker 2>K. I just wanna make sure it wasn't

01:07:46.345 --> 01:07:47.865
<v Speaker 2>the start up probe wasn't set to, like,

01:07:47.865 --> 01:07:48.665
<v Speaker 2>something, like,

01:07:49.305 --> 01:07:51.225
<v Speaker 2>way in the future, so it wouldn't like,

01:07:51.225 --> 01:07:52.599
<v Speaker 2>a super long delay or something, so it

01:07:52.599 --> 01:07:53.560
<v Speaker 2>wasn't responding.

01:07:54.839 --> 01:07:55.480
<v Speaker 2>Okay.

01:07:56.280 --> 01:07:58.599
<v Speaker 2>Well How do we so so, like, the

01:07:58.599 --> 01:08:01.640
<v Speaker 6>things that it's saying it can't get, are

01:08:01.640 --> 01:08:02.200
<v Speaker 6>they

01:08:02.440 --> 01:08:03.640
<v Speaker 6>up? Like,

01:08:03.880 --> 01:08:04.680
<v Speaker 6>if we

01:08:06.204 --> 01:08:07.645
<v Speaker 6>what are the logs again? It was it

01:08:07.645 --> 01:08:08.445
<v Speaker 6>was like

01:08:13.645 --> 01:08:15.484
<v Speaker 2>So, like, it it's it's saying it can't

01:08:15.484 --> 01:08:16.284
<v Speaker 2>it can't

01:08:17.245 --> 01:08:19.164
<v Speaker 6>it's Can't watch these okay.

01:08:19.645 --> 01:08:21.085
<v Speaker 6>So it it would be at CD.

01:08:23.500 --> 01:08:25.580
<v Speaker 2>Potentially. It it could this

01:08:27.340 --> 01:08:29.180
<v Speaker 2>is a tricky one. I I still think

01:08:29.180 --> 01:08:31.100
<v Speaker 0>we're we're not seeing enough of those

01:08:31.340 --> 01:08:32.220
<v Speaker 0>log.

01:08:33.660 --> 01:08:33.979
<v Speaker 5>Yeah.

01:08:35.555 --> 01:08:37.555
<v Speaker 5>He's still, like But I I'm I'm stumped.

01:08:37.555 --> 01:08:38.675
<v Speaker 0>I've gotta say, I have no idea. I've

01:08:38.675 --> 01:08:40.435
<v Speaker 0>not seen this before. Really?

01:08:44.915 --> 01:08:46.595
<v Speaker 5>I'm gonna reset my screen again.

01:08:53.700 --> 01:08:55.620
<v Speaker 2>K. Just give me so let's just take

01:08:55.620 --> 01:08:57.060
<v Speaker 2>a minute. Let just kinda read through these,

01:08:57.060 --> 01:08:57.460
<v Speaker 2>see what we

01:08:58.340 --> 01:08:59.380
<v Speaker 2>see what's useful here.

01:09:02.194 --> 01:09:05.234
<v Speaker 2>Server's currently unable to handle the request.

01:09:09.154 --> 01:09:11.554
<v Speaker 2>I wonder I wonder if it's so so

01:09:11.554 --> 01:09:12.514
<v Speaker 2>this could be a couple of things. Right?

01:09:12.514 --> 01:09:15.395
<v Speaker 2>It it could be search account credentials for

01:09:15.619 --> 01:09:17.219
<v Speaker 2>a Kube API server

01:09:17.699 --> 01:09:18.579
<v Speaker 2>or

01:09:20.420 --> 01:09:22.019
<v Speaker 2>yep. Tilt retrieve.

01:09:22.739 --> 01:09:24.579
<v Speaker 2>It's code. Service available.

01:09:30.664 --> 01:09:32.344
<v Speaker 5>So how do we confirm whether or not

01:09:32.344 --> 01:09:34.024
<v Speaker 5>it's service account credentials or not?

01:09:36.744 --> 01:09:38.425
<v Speaker 2>How we how we confirm what?

01:09:38.904 --> 01:09:40.824
<v Speaker 5>You said it might be service account credentials?

01:09:42.060 --> 01:09:44.300
<v Speaker 2>Yeah. Potentially. So I think we'd wanna go

01:09:44.300 --> 01:09:46.700
<v Speaker 2>with a couple of things. We'd wanna take

01:09:46.700 --> 01:09:47.739
<v Speaker 2>a look at the

01:09:48.780 --> 01:09:51.260
<v Speaker 2>Kube API server manifest again, but we'd also

01:09:51.260 --> 01:09:52.700
<v Speaker 2>want let's let's take a look at the

01:09:52.700 --> 01:09:55.020
<v Speaker 2>let's it's in Kubernetes PKI

01:09:55.020 --> 01:09:55.820
<v Speaker 2>directory

01:09:56.185 --> 01:09:57.705
<v Speaker 2>and see if anything there in there has

01:09:57.705 --> 01:09:58.505
<v Speaker 2>been changed.

01:09:58.745 --> 01:10:00.105
<v Speaker 2>So I'll ask myself.

01:10:06.985 --> 01:10:10.105
<v Speaker 0>The Skyscanner team have said, remember there are

01:10:10.105 --> 01:10:12.780
<v Speaker 0>hints under slash root if needed. And another

01:10:12.780 --> 01:10:15.739
<v Speaker 0>comment from a Skyscan Skyscanner member saying, when

01:10:15.739 --> 01:10:17.500
<v Speaker 0>we broke this, we did panic that we

01:10:17.500 --> 01:10:18.539
<v Speaker 0>couldn't fix it.

01:10:21.820 --> 01:10:22.860
<v Speaker 0>Good job. Well played.

01:10:23.855 --> 01:10:25.614
<v Speaker 6>Okay. New solution will want to check out

01:10:25.614 --> 01:10:27.215
<v Speaker 5>the API server.

01:10:28.815 --> 01:10:30.335
<v Speaker 2>Hold on a second. What was that? What

01:10:30.335 --> 01:10:31.775
<v Speaker 2>what was your question, Jeremy?

01:10:32.255 --> 01:10:34.414
<v Speaker 5>This is what we want to check the

01:10:34.735 --> 01:10:36.335
<v Speaker 5>timestamps and permissions on.

01:10:36.735 --> 01:10:38.815
<v Speaker 2>Yeah. Can you also check that SCD directory?

01:10:45.350 --> 01:10:45.830
<v Speaker 2>K.

01:11:00.685 --> 01:11:02.365
<v Speaker 2>So I think that's interesting. Like, they were

01:11:02.365 --> 01:11:03.805
<v Speaker 2>a little panicked that they that they wouldn't

01:11:03.805 --> 01:11:05.405
<v Speaker 2>be able to fix it. I'm trying to

01:11:05.405 --> 01:11:06.605
<v Speaker 2>think of things that you could do that

01:11:06.605 --> 01:11:07.405
<v Speaker 2>you wouldn't be able like,

01:11:08.380 --> 01:11:10.140
<v Speaker 2>did did you guys mean, like, you didn't

01:11:10.140 --> 01:11:11.740
<v Speaker 2>know if it was possible, or you didn't

01:11:11.740 --> 01:11:13.340
<v Speaker 2>know if you would be capable of doing

01:11:13.340 --> 01:11:15.260
<v Speaker 2>it if if you had the same problem?

01:11:16.460 --> 01:11:18.540
<v Speaker 2>Because those are very different things. Yeah. Let

01:11:18.540 --> 01:11:19.820
<v Speaker 0>us know team SkyScanner.

01:11:20.125 --> 01:11:22.445
<v Speaker 0>And I do believe based on conversations we

01:11:22.445 --> 01:11:25.085
<v Speaker 0>had earlier that they attempted to fix and

01:11:25.085 --> 01:11:26.925
<v Speaker 0>that did work. But it's fixable,

01:11:27.885 --> 01:11:29.324
<v Speaker 0>but I I think they were panicked. As

01:11:29.324 --> 01:11:31.324
<v Speaker 0>far as I know, I could be mistaken.

01:11:32.525 --> 01:11:33.804
<v Speaker 0>Do you wanna take a look at the

01:11:33.804 --> 01:11:34.045
<v Speaker 6>hint?

01:11:36.400 --> 01:11:37.200
<v Speaker 2>I

01:11:37.200 --> 01:11:38.560
<v Speaker 2>was so proud of them for not taking

01:11:38.560 --> 01:11:39.680
<v Speaker 2>the hint right away. I don't wanna take

01:11:39.680 --> 01:11:41.680
<v Speaker 2>it right away either. I wanna keep looking.

01:11:41.680 --> 01:11:42.239
<v Speaker 2>Okay.

01:11:42.640 --> 01:11:45.840
<v Speaker 0>You've got time. You've got twenty minutes. Yeah.

01:11:46.560 --> 01:11:46.880
<v Speaker 2>Yeah.

01:11:47.935 --> 01:11:50.095
<v Speaker 2>Okay. So all these that they edited one

01:11:50.095 --> 01:11:50.735
<v Speaker 5>of these, like

01:11:51.695 --> 01:11:53.855
<v Speaker 5>should we just do, I just renew the

01:11:53.855 --> 01:11:55.055
<v Speaker 5>service or something like that?

01:11:55.935 --> 01:11:58.415
<v Speaker 2>Sure. Instead of just checking up individually and

01:11:58.495 --> 01:11:59.775
<v Speaker 5>because I know there's a change that we

01:11:59.775 --> 01:12:01.135
<v Speaker 5>did, and then they just wiped it out

01:12:01.135 --> 01:12:01.695
<v Speaker 5>with that. So

01:12:02.350 --> 01:12:04.110
<v Speaker 2>Yeah. So I I I so that's that's

01:12:04.110 --> 01:12:05.630
<v Speaker 2>certainly true, Jerry, but I will point out

01:12:05.630 --> 01:12:07.469
<v Speaker 2>that, like, all these time stamps

01:12:08.030 --> 01:12:08.670
<v Speaker 2>are

01:12:08.910 --> 01:12:11.150
<v Speaker 2>around the same time, and they're not all

01:12:11.150 --> 01:12:12.750
<v Speaker 2>exactly the same. They're, like, within a second

01:12:12.750 --> 01:12:14.510
<v Speaker 2>or so of each other or a minute,

01:12:14.510 --> 01:12:14.989
<v Speaker 2>which

01:12:15.364 --> 01:12:17.125
<v Speaker 2>I think probably means that it was that

01:12:17.125 --> 01:12:18.244
<v Speaker 2>they haven't been touched.

01:12:18.804 --> 01:12:20.565
<v Speaker 0>I don't trust them. I I think they've

01:12:20.565 --> 01:12:22.245
<v Speaker 0>changed something to reset a time stamp on

01:12:22.245 --> 01:12:24.485
<v Speaker 0>it. Okay. Can't you do touch star, right,

01:12:24.485 --> 01:12:26.405
<v Speaker 5>to reset the time stamp? So so,

01:12:26.725 --> 01:12:28.804
<v Speaker 2>David, are we allowed to check the bash

01:12:28.804 --> 01:12:29.125
<v Speaker 2>history?

01:12:30.010 --> 01:12:32.170
<v Speaker 0>Yeah. I don't think they'll have left, you're

01:12:32.170 --> 01:12:34.010
<v Speaker 0>more than welcome to check the bash history.

01:12:34.250 --> 01:12:35.370
<v Speaker 2>Let's check it.

01:12:35.930 --> 01:12:37.690
<v Speaker 2>Just run history, Jeremy.

01:12:40.250 --> 01:12:42.410
<v Speaker 2>Where is this? Does this how yeah. I

01:12:42.410 --> 01:12:44.010
<v Speaker 2>don't think you go. Echo Jeremy at the

01:12:44.010 --> 01:12:45.774
<v Speaker 5>top, so not useful. Yep.

01:12:46.094 --> 01:12:48.895
<v Speaker 2>But good job. Nice try. We we come

01:12:49.135 --> 01:12:50.655
<v Speaker 2>we covered our tracks too, but you just

01:12:50.655 --> 01:12:51.614
<v Speaker 2>never know. Right?

01:12:54.574 --> 01:12:56.094
<v Speaker 2>Is that one cert file supposed to be

01:12:56.094 --> 01:12:57.215
<v Speaker 2>five bytes only?

01:12:58.469 --> 01:13:00.949
<v Speaker 0>The s a dot s s cert? Yeah.

01:13:01.829 --> 01:13:03.909
<v Speaker 6>Are are we able to connect to the

01:13:03.909 --> 01:13:05.110
<v Speaker 6>other nodes?

01:13:05.110 --> 01:13:07.030
<v Speaker 6>Like, does the API server

01:13:07.349 --> 01:13:08.550
<v Speaker 6>see the worker nodes?

01:13:10.795 --> 01:13:12.875
<v Speaker 2>We don't know. Right? Because we could do

01:13:12.955 --> 01:13:14.555
<v Speaker 2>we did k get nodes, and we don't

01:13:14.555 --> 01:13:16.395
<v Speaker 2>we don't get anything. Yeah. Yeah. That's a

01:13:16.395 --> 01:13:17.114
<v Speaker 6>good point.

01:13:19.675 --> 01:13:21.594
<v Speaker 2>And we and we know Kubla is running.

01:13:21.595 --> 01:13:21.915
<v Speaker 2>Right?

01:13:24.700 --> 01:13:27.580
<v Speaker 5>Anyone have any prior CTL commands?

01:13:29.260 --> 01:13:30.139
<v Speaker 2>What's that?

01:13:30.540 --> 01:13:32.460
<v Speaker 0>SkyScout or team are saying nice try on

01:13:32.460 --> 01:13:32.940
<v Speaker 0>the history.

01:13:38.795 --> 01:13:40.555
<v Speaker 2>People forget to cover their tracks.

01:13:43.435 --> 01:13:44.075
<v Speaker 2>I

01:13:44.235 --> 01:13:45.435
<v Speaker 2>would still like to go take a look

01:13:45.435 --> 01:13:47.995
<v Speaker 2>at the Kubernetes server manifest again

01:13:48.155 --> 01:13:51.595
<v Speaker 2>and come and check those IP addresses for

01:13:50.700 --> 01:13:53.260
<v Speaker 2>XD and whatnot. This feels like it's permissions

01:13:53.260 --> 01:13:54.300
<v Speaker 2>related, though.

01:13:54.860 --> 01:13:55.980
<v Speaker 2>But I don't know

01:13:56.700 --> 01:13:58.060
<v Speaker 2>I don't know off top of my head

01:13:58.060 --> 01:13:59.740
<v Speaker 2>what would cause that. So

01:14:00.380 --> 01:14:02.140
<v Speaker 2>there's a couple things. Can I do a

01:14:02.140 --> 01:14:04.835
<v Speaker 5>l s dash a l on the manifest?

01:14:04.835 --> 01:14:05.955
<v Speaker 5>I'm not sure if that

01:14:06.515 --> 01:14:08.115
<v Speaker 5>makes sense to do that. Yeah.

01:14:08.675 --> 01:14:09.795
<v Speaker 2>Very good.

01:14:10.275 --> 01:14:12.195
<v Speaker 2>We've done that a couple of times already.

01:14:14.275 --> 01:14:16.675
<v Speaker 2>Yeah. That's those are the same ish.

01:14:20.870 --> 01:14:23.190
<v Speaker 5>Back in this file now. If if you

01:14:23.190 --> 01:14:25.190
<v Speaker 6>try to just, like, l s in the

01:14:25.190 --> 01:14:25.990
<v Speaker 6>varlogs

01:14:25.990 --> 01:14:26.550
<v Speaker 6>containers

01:14:26.870 --> 01:14:29.830
<v Speaker 6>like, what containers are are running right now?

01:14:32.645 --> 01:14:33.525
<v Speaker 5>Like here?

01:14:33.765 --> 01:14:35.445
<v Speaker 6>Yeah. Just wondering.

01:14:42.805 --> 01:14:43.525
<v Speaker 2>Okay.

01:14:46.325 --> 01:14:48.660
<v Speaker 3>Cool. So we have controller manager. We have

01:14:48.660 --> 01:14:50.980
<v Speaker 2>scheduler. We have we know we have FTD

01:14:50.980 --> 01:14:52.100
<v Speaker 2>in Cilium

01:14:52.500 --> 01:14:55.380
<v Speaker 2>of CUE API server and CUE BIP.

01:14:56.180 --> 01:14:57.140
<v Speaker 2>Can we check CUE BIP?

01:15:01.545 --> 01:15:03.864
<v Speaker 2>I don't think that'll make any difference.

01:15:04.105 --> 01:15:06.905
<v Speaker 2>Sorry. Jeremy, I actually meant the manifest.

01:15:07.785 --> 01:15:09.385
<v Speaker 2>Let me see what the manifest is. Oh,

01:15:09.385 --> 01:15:10.344
<v Speaker 5>the manifest. Okay.

01:15:10.985 --> 01:15:11.225
<v Speaker 5>Yeah.

01:15:24.485 --> 01:15:26.405
<v Speaker 0>I have say that the fact that we

01:15:26.405 --> 01:15:28.965
<v Speaker 0>are on Teleport via a browser means is

01:15:28.965 --> 01:15:30.084
<v Speaker 0>probably okay.

01:15:30.804 --> 01:15:31.604
<v Speaker 2>Okay.

01:15:32.485 --> 01:15:35.445
<v Speaker 0>If we I stupidly use the BGP advertised

01:15:35.445 --> 01:15:37.204
<v Speaker 0>address for Teleport, which I really need to

01:15:37.204 --> 01:15:37.525
<v Speaker 0>fix.

01:15:39.520 --> 01:15:42.320
<v Speaker 5>But everybody's mentioned that, like, almost every clustered

01:15:42.320 --> 01:15:44.000
<v Speaker 5>episode. I know. And then I'm like, I'll

01:15:44.000 --> 01:15:45.280
<v Speaker 0>fix it. I'll fix it. I never fix

01:15:45.280 --> 01:15:46.160
<v Speaker 0>it. Can

01:15:48.080 --> 01:15:49.760
<v Speaker 0>I make another suggestion? Just because this one

01:15:49.760 --> 01:15:51.680
<v Speaker 0>is is Yeah. Has piqued my curiosity to

01:15:51.680 --> 01:15:54.054
<v Speaker 0>no ends, but I'm gonna suggest you kill

01:15:54.054 --> 01:15:56.135
<v Speaker 0>the API server on purpose and catch the

01:15:56.135 --> 01:15:58.215
<v Speaker 0>logs from start up. There there has to

01:15:58.215 --> 01:15:59.255
<v Speaker 0>be a clue in there.

01:15:59.895 --> 01:16:02.215
<v Speaker 0>Yeah. It just feels like like that. There's

01:16:02.215 --> 01:16:03.974
<v Speaker 0>there's something we're missing there, and I can't

01:16:04.054 --> 01:16:05.414
<v Speaker 0>Yeah. That's a good idea.

01:16:06.215 --> 01:16:07.815
<v Speaker 2>Is there supposed to be missing value there

01:16:07.815 --> 01:16:08.534
<v Speaker 2>for the one key?

01:16:09.940 --> 01:16:10.580
<v Speaker 5>The?

01:16:12.980 --> 01:16:14.580
<v Speaker 5>Oh, yeah. Yeah. It looks like there's a

01:16:14.580 --> 01:16:15.860
<v Speaker 2>missing missing,

01:16:16.100 --> 01:16:17.860
<v Speaker 2>value field for

01:16:18.180 --> 01:16:18.580
<v Speaker 5>Yep.

01:16:20.180 --> 01:16:22.905
<v Speaker 5>Yep. Yeah. That that's okay. The password is

01:16:22.905 --> 01:16:24.905
<v Speaker 0>null, so it's it's acceptable.

01:16:25.385 --> 01:16:26.505
<v Speaker 1>Okay. Okay.

01:16:28.265 --> 01:16:30.345
<v Speaker 2>Yeah. I I agree with David. Let's let's

01:16:30.345 --> 01:16:34.185
<v Speaker 2>let's tail those logs. And and can we

01:16:34.585 --> 01:16:37.030
<v Speaker 2>is it possible for us to easily

01:16:37.110 --> 01:16:38.630
<v Speaker 2>can can we connect with another session to

01:16:38.630 --> 01:16:40.150
<v Speaker 0>to Feel free just to, yeah, open one

01:16:40.150 --> 01:16:41.510
<v Speaker 0>on your own site to kill the API

01:16:41.510 --> 01:16:43.350
<v Speaker 0>server and leave the logs on the displayed

01:16:43.350 --> 01:16:45.670
<v Speaker 0>one. That's that's all good. Okay. I'll do

01:16:45.670 --> 01:16:47.110
<v Speaker 2>that. Jeremy, do want me to kill the

01:16:47.110 --> 01:16:49.909
<v Speaker 2>logs? Kill the TV API server logs? Yeah.

01:16:50.305 --> 01:16:52.385
<v Speaker 0>You'll need to wait for the new pod

01:16:52.385 --> 01:16:54.705
<v Speaker 0>ID to come in. So but you you

01:16:54.705 --> 01:16:56.784
<v Speaker 0>should be able to get it pretty fast.

01:16:59.985 --> 01:17:01.425
<v Speaker 2>Give me one second to get this set

01:17:01.425 --> 01:17:01.585
<v Speaker 2>up.

01:17:12.990 --> 01:17:14.830
<v Speaker 2>I was gonna do get notes.

01:17:15.550 --> 01:17:16.830
<v Speaker 2>K. Done it.

01:17:19.245 --> 01:17:20.525
<v Speaker 5>And so Let's take a look at this.

01:17:20.685 --> 01:17:21.565
<v Speaker 5>One am I doing?

01:17:22.605 --> 01:17:23.405
<v Speaker 5>I

01:17:23.885 --> 01:17:26.525
<v Speaker 0>expected a new one, to be fair. Yeah.

01:17:26.525 --> 01:17:27.245
<v Speaker 5>Me too.

01:17:29.245 --> 01:17:31.005
<v Speaker 0>Did we kill the API server?

01:17:33.520 --> 01:17:35.440
<v Speaker 0>Okay. And I should kill minus nine on

01:17:35.440 --> 01:17:36.239
<v Speaker 0>the process.

01:17:42.320 --> 01:17:44.400
<v Speaker 2>Yeah. So so, Jerry, what what Dave is

01:17:44.400 --> 01:17:45.920
<v Speaker 2>asking asking us to do is kill

01:17:46.145 --> 01:17:48.705
<v Speaker 2>kill the Kubernetes server, the process, so so

01:17:48.705 --> 01:17:50.225
<v Speaker 2>it'll get re so it'll get restarted so

01:17:50.225 --> 01:17:51.745
<v Speaker 2>we have fresh logs. Then I'll run a

01:17:51.745 --> 01:17:53.985
<v Speaker 2>command so we can maybe

01:17:54.145 --> 01:17:56.465
<v Speaker 2>spot where the problem where the problem is.

01:18:00.040 --> 01:18:01.880
<v Speaker 5>Just, like, try to give you a a

01:18:01.880 --> 01:18:04.040
<v Speaker 5>catch up or something like that. Or Yeah.

01:18:04.040 --> 01:18:05.880
<v Speaker 0>API s should be enough.

01:18:10.120 --> 01:18:11.480
<v Speaker 2>And so now we're gonna

01:18:11.800 --> 01:18:13.080
<v Speaker 2>kill nineteen eighty five.

01:18:13.725 --> 01:18:15.485
<v Speaker 5>That's the that's the one we wanna do?

01:18:18.765 --> 01:18:19.405
<v Speaker 2>Yep.

01:18:20.045 --> 01:18:21.405
<v Speaker 2>Nope. Not that one.

01:18:22.925 --> 01:18:25.885
<v Speaker 2>No. No. +1 984 was. But Glad there's

01:18:25.885 --> 01:18:26.925
<v Speaker 0>no teleport. Down.

01:18:32.230 --> 01:18:35.110
<v Speaker 2>Measure twice, cut once. Oh, you got something

01:18:35.110 --> 01:18:37.510
<v Speaker 5>different? PFF. There we go. Okay. Alright. So

01:18:37.510 --> 01:18:39.510
<v Speaker 2>are you tailing these logs now? I'm run

01:18:39.510 --> 01:18:40.789
<v Speaker 2>a get those command.

01:18:41.350 --> 01:18:42.949
<v Speaker 0>Yeah. Tail dash f on that. Just do

01:18:42.949 --> 01:18:43.270
<v Speaker 5>tail

01:18:43.910 --> 01:18:45.925
<v Speaker 5>yeah. Okay. Just get done here.

01:18:48.805 --> 01:18:49.605
<v Speaker 2>You ready?

01:18:50.245 --> 01:18:50.965
<v Speaker 5>Yep.

01:18:51.364 --> 01:18:53.844
<v Speaker 5>A dash f on that. Sorry. I get

01:18:54.405 --> 01:18:55.445
<v Speaker 2>we got a response.

01:18:58.660 --> 01:18:59.940
<v Speaker 2>So that worked.

01:19:00.660 --> 01:19:01.380
<v Speaker 2>Jeremy,

01:19:01.620 --> 01:19:04.020
<v Speaker 2>stop this. Yeah. And just do, hey. Get

01:19:04.020 --> 01:19:04.659
<v Speaker 2>notes.

01:19:05.220 --> 01:19:07.940
<v Speaker 2>Please. What if it was process 1984 was

01:19:07.940 --> 01:19:08.340
<v Speaker 2>the problem?

01:19:11.125 --> 01:19:13.685
<v Speaker 2>Okay. Okay. Good luck in everyone. I I

01:19:13.685 --> 01:19:14.804
<v Speaker 5>did the quick fix.

01:19:15.365 --> 01:19:16.245
<v Speaker 2>Maybe.

01:19:16.245 --> 01:19:16.885
<v Speaker 2>Yeah.

01:19:17.125 --> 01:19:19.205
<v Speaker 0>Who was expecting that? I wasn't.

01:19:19.845 --> 01:19:21.685
<v Speaker 2>So I will say I I wondered about

01:19:21.685 --> 01:19:23.045
<v Speaker 2>this kind of thing when because we did

01:19:23.045 --> 01:19:24.245
<v Speaker 2>we did something similar with our with our

01:19:24.245 --> 01:19:27.250
<v Speaker 2>webhook where, like, you can change a manifest

01:19:27.250 --> 01:19:28.210
<v Speaker 2>in some way

01:19:29.250 --> 01:19:30.610
<v Speaker 2>to to get it to spin up a

01:19:30.610 --> 01:19:33.090
<v Speaker 2>bad process and then change the manifest back

01:19:33.250 --> 01:19:34.850
<v Speaker 2>so it doesn't look like it's out of

01:19:34.850 --> 01:19:36.290
<v Speaker 2>sync, but it actually is.

01:19:37.410 --> 01:19:38.850
<v Speaker 2>Okay. So now

01:19:39.090 --> 01:19:40.449
<v Speaker 2>component statuses,

01:19:40.610 --> 01:19:41.410
<v Speaker 2>cluster info

01:19:43.735 --> 01:19:46.054
<v Speaker 5>I don't really care if a statuses. Right?

01:19:47.655 --> 01:19:49.815
<v Speaker 2>I would like to see it. Just curious.

01:19:49.815 --> 01:19:50.454
<v Speaker 2>Okay.

01:19:51.895 --> 01:19:54.135
<v Speaker 0>Sky scanner are clapping Good.

01:19:54.375 --> 01:19:55.895
<v Speaker 0>And seeing I don't saw anything.

01:19:56.500 --> 01:19:58.580
<v Speaker 5>Just scheduling control manager, we can ignore that.

01:19:58.580 --> 01:20:00.099
<v Speaker 5>It always looks like that. So

01:20:00.900 --> 01:20:02.420
<v Speaker 5>I tell you, this this takes me back

01:20:02.420 --> 01:20:04.019
<v Speaker 2>to my Windows days. Like, oh, it's broken.

01:20:04.179 --> 01:20:05.300
<v Speaker 2>Just restart it.

01:20:08.260 --> 01:20:10.739
<v Speaker 5>Turn it off and on and on That's

01:20:10.739 --> 01:20:11.300
<v Speaker 5>right. Yep.

01:20:13.175 --> 01:20:14.775
<v Speaker 2>Okay. So let's

01:20:15.495 --> 01:20:17.095
<v Speaker 2>so we we we talked through, like, some

01:20:17.095 --> 01:20:18.935
<v Speaker 2>things to do kinda from the get go.

01:20:18.935 --> 01:20:20.615
<v Speaker 2>Can we so we can see let's check

01:20:20.615 --> 01:20:23.735
<v Speaker 2>the meeting webhook configurations, routing, or the configurations.

01:20:27.190 --> 01:20:28.389
<v Speaker 5>I can type it.

01:20:30.389 --> 01:20:33.110
<v Speaker 5>All these shortcuts, and they don't have shortcuts

01:20:33.110 --> 01:20:35.349
<v Speaker 5>in it. I don't understand. You you can

01:20:35.349 --> 01:20:37.510
<v Speaker 2>hit your auto completion that you that we

01:20:37.510 --> 01:20:38.389
<v Speaker 2>created.

01:20:38.389 --> 01:20:39.349
<v Speaker 0>Oh, it's validating.

01:20:40.655 --> 01:20:42.735
<v Speaker 5>Oh, nope. And it seems to do that.

01:20:46.015 --> 01:20:46.815
<v Speaker 6>Hey.

01:20:46.815 --> 01:20:49.535
<v Speaker 6>Okay. Alright. Let's delete it. Uh-huh. Delete it.

01:20:49.855 --> 01:20:50.655
<v Speaker 2>Uh-huh.

01:20:51.055 --> 01:20:52.575
<v Speaker 2>I don't I don't even care what it

01:20:52.575 --> 01:20:54.895
<v Speaker 2>was. Just delete it. Well What's up? That's

01:20:54.895 --> 01:20:56.815
<v Speaker 2>what I hope they didn't do the kind

01:20:56.070 --> 01:20:57.909
<v Speaker 2>of thing that we did too or that

01:20:57.909 --> 01:20:59.989
<v Speaker 2>we that we talked about doing, Shahar. So

01:20:59.989 --> 01:21:01.270
<v Speaker 2>one thing we talked about doing is putting

01:21:01.270 --> 01:21:03.669
<v Speaker 2>a valid webhook in that would replace

01:21:04.469 --> 01:21:06.309
<v Speaker 2>the valid webhook configuration.

01:21:06.790 --> 01:21:08.389
<v Speaker 2>So I just have one in that would,

01:21:08.389 --> 01:21:10.310
<v Speaker 2>like, replace reschedule a replacement.

01:21:11.304 --> 01:21:13.544
<v Speaker 2>Oh, I need this part right here. Yes.

01:21:13.625 --> 01:21:15.145
<v Speaker 5>I know this. That's a great idea for

01:21:15.145 --> 01:21:16.425
<v Speaker 0>future episodes,

01:21:16.425 --> 01:21:18.905
<v Speaker 0>actually. Like, have a a broken cluster with

01:21:18.905 --> 01:21:21.545
<v Speaker 0>a mutating weapon that fixes new commands. How

01:21:21.545 --> 01:21:22.184
<v Speaker 5>do you delete this?

01:21:23.000 --> 01:21:25.719
<v Speaker 5>Well, let's go do so just just do

01:21:25.719 --> 01:21:28.999
<v Speaker 2>k delete validating webhook configurations dash dash all.

01:21:30.520 --> 01:21:31.880
<v Speaker 5>Oh, okay. That's easy.

01:21:35.864 --> 01:21:37.224
<v Speaker 2>Cool. There you go. Can I get it

01:21:37.224 --> 01:21:37.784
<v Speaker 1>again?

01:21:38.505 --> 01:21:40.104
<v Speaker 1>Yep. Cool. Okay.

01:21:40.585 --> 01:21:42.264
<v Speaker 2>Cool. So now let's

01:21:43.465 --> 01:21:45.704
<v Speaker 5>To the fix? Well, let's update? Let let

01:21:47.144 --> 01:21:49.630
<v Speaker 2>I was gonna say let's let's try to

01:21:50.750 --> 01:21:51.950
<v Speaker 2>we've got a v two and see what

01:21:51.950 --> 01:21:54.349
<v Speaker 2>happens. Yep. I did that deployment.

01:21:57.230 --> 01:22:00.110
<v Speaker 2>I suspect we are not done, but Mhmm.

01:22:00.510 --> 01:22:02.975
<v Speaker 2>Better now. It's Hey. You don't need to

01:22:02.975 --> 01:22:04.255
<v Speaker 0>update it. That's it.

01:22:08.495 --> 01:22:10.735
<v Speaker 2>Did we know if it was actually working,

01:22:10.895 --> 01:22:12.895
<v Speaker 2>though? Like, did anybody check the web page?

01:22:14.250 --> 01:22:15.849
<v Speaker 2>I don't care if it was working.

01:22:16.170 --> 01:22:18.570
<v Speaker 2>Yeah. It's like always a good thing too.

01:22:18.570 --> 01:22:20.409
<v Speaker 2>Well, because I tried checking it, and then

01:22:20.409 --> 01:22:21.849
<v Speaker 2>I'm not sure if I'm using the right

01:22:21.849 --> 01:22:23.769
<v Speaker 2>URL, but it's the internal server.

01:22:26.730 --> 01:22:27.130
<v Speaker 2>And I can

01:22:28.125 --> 01:22:31.565
<v Speaker 0>I can click on applications here, click clustered?

01:22:33.405 --> 01:22:34.685
<v Speaker 5>Let's see if he typed in the right.

01:22:34.685 --> 01:22:37.325
<v Speaker 5>Work. Right? Yeah. I'll do those. Wonderful. It's

01:22:37.405 --> 01:22:38.125
<v Speaker 2>Okay. So let's

01:22:38.845 --> 01:22:40.125
<v Speaker 2>so now so now we may be dealing

01:22:40.125 --> 01:22:41.645
<v Speaker 2>with an application error. Let's go see make

01:22:41.645 --> 01:22:43.409
<v Speaker 2>sure our postcard pod is running.

01:22:43.650 --> 01:22:45.650
<v Speaker 2>So I'm gonna check the services and the

01:22:45.650 --> 01:22:47.570
<v Speaker 2>pods that are running in the default namespace.

01:22:49.250 --> 01:22:50.850
<v Speaker 2>I guess what we're looking for is we

01:22:50.850 --> 01:22:53.730
<v Speaker 2>we it's there's no space between the comma

01:22:53.730 --> 01:22:54.450
<v Speaker 2>and pods.

01:22:55.595 --> 01:22:56.715
<v Speaker 2>Because what we wanna see is we wanna

01:22:56.715 --> 01:22:58.795
<v Speaker 2>see if if it's application is all of

01:22:58.795 --> 01:23:00.235
<v Speaker 2>its components are up and going.

01:23:00.875 --> 01:23:02.235
<v Speaker 2>So it looks like

01:23:02.635 --> 01:23:03.675
<v Speaker 2>they are.

01:23:04.635 --> 01:23:07.195
<v Speaker 2>Let's check the clustered.

01:23:07.355 --> 01:23:08.955
<v Speaker 2>So, David, one thing I didn't notice I

01:23:08.955 --> 01:23:10.620
<v Speaker 2>was looking for earlier is is the the

01:23:10.620 --> 01:23:13.659
<v Speaker 2>IP address that cluster connects to for Postgres,

01:23:13.659 --> 01:23:15.739
<v Speaker 2>is that hard coded in a container?

01:23:17.420 --> 01:23:18.380
<v Speaker 0>Yes.

01:23:18.380 --> 01:23:19.979
<v Speaker 0>We'll use Postgres

01:23:20.699 --> 01:23:22.940
<v Speaker 0>as the DNS name to reach the database.

01:23:23.905 --> 01:23:25.905
<v Speaker 2>Cool. Then let's and and with that in

01:23:25.905 --> 01:23:27.585
<v Speaker 2>mind, Jeremy, I think we should check core

01:23:27.585 --> 01:23:30.305
<v Speaker 2>DNS to see what the core file says.

01:23:30.625 --> 01:23:31.265
<v Speaker 2>So

01:23:31.585 --> 01:23:34.065
<v Speaker 2>we should be able to get get pods

01:23:34.065 --> 01:23:36.385
<v Speaker 2>or get config maps in the Kube system

01:23:36.385 --> 01:23:36.865
<v Speaker 2>namespace.

01:23:44.120 --> 01:23:46.280
<v Speaker 2>I wanna see that. So I I don't

01:23:46.280 --> 01:23:47.480
<v Speaker 2>think they're gonna mess with it. It doesn't

01:23:47.480 --> 01:23:48.520
<v Speaker 2>look like, but I would like to see

01:23:48.520 --> 01:23:50.120
<v Speaker 2>that core DNS config map.

01:23:51.605 --> 01:23:53.925
<v Speaker 0>That's what Guy changed last time for the

01:23:53.925 --> 01:23:54.485
<v Speaker 0>record.

01:23:56.565 --> 01:23:57.925
<v Speaker 5>I don't think that's would be

01:23:58.965 --> 01:23:59.765
<v Speaker 2>So

01:24:00.085 --> 01:24:02.085
<v Speaker 2>no. To get oh, yeah. I'm off. Because

01:24:02.085 --> 01:24:03.285
<v Speaker 2>we wanna see the I wanna see the

01:24:03.285 --> 01:24:03.685
<v Speaker 2>whole thing.

01:24:16.435 --> 01:24:18.034
<v Speaker 2>Okay. Hang on a second.

01:24:22.195 --> 01:24:24.594
<v Speaker 2>I don't know what that lame duck health

01:24:24.594 --> 01:24:25.315
<v Speaker 2>is.

01:24:26.594 --> 01:24:27.554
<v Speaker 2>Do you know off top of your head,

01:24:27.554 --> 01:24:28.675
<v Speaker 2>David? Is that legit?

01:24:29.440 --> 01:24:31.199
<v Speaker 0>No.

01:24:31.199 --> 01:24:32.639
<v Speaker 0>And I should know better by now because

01:24:32.639 --> 01:24:34.480
<v Speaker 0>I've had to debug Kubernetes many times in

01:24:34.480 --> 01:24:35.679
<v Speaker 0>this show, but I

01:24:36.079 --> 01:24:38.079
<v Speaker 0>don't. I will point out though that we

01:24:38.079 --> 01:24:41.040
<v Speaker 0>got internal server error on the application and

01:24:41.040 --> 01:24:43.785
<v Speaker 0>not the DNS error, which would be displayed

01:24:43.785 --> 01:24:46.985
<v Speaker 0>to us with angry man from movie.

01:24:48.105 --> 01:24:49.865
<v Speaker 2>If so if we if we had

01:24:50.505 --> 01:24:53.625
<v Speaker 2>if there were DNS problems, you're the clustered

01:24:53.625 --> 01:24:56.119
<v Speaker 2>application would still say It would tell us

01:24:56.119 --> 01:24:58.040
<v Speaker 0>that it failed to reach the postgres. But,

01:24:58.040 --> 01:24:59.400
<v Speaker 0>I mean, I left a shell in the

01:24:59.400 --> 01:25:01.000
<v Speaker 0>clustered pod. You could go ahead and run

01:25:01.000 --> 01:25:02.679
<v Speaker 0>a curl if you want to see the

01:25:02.679 --> 01:25:03.559
<v Speaker 0>resolution.

01:25:04.840 --> 01:25:06.119
<v Speaker 0>You should be able to run bash in

01:25:06.119 --> 01:25:07.400
<v Speaker 0>the clustered pod if you wanna confirm.

01:25:08.365 --> 01:25:10.205
<v Speaker 2>Yeah. Let's let's The chat is telling us

01:25:10.205 --> 01:25:13.165
<v Speaker 0>that lame duck is acceptable and fine. Thanks,

01:25:13.165 --> 01:25:14.205
<v Speaker 0>Noel. Cool.

01:25:14.365 --> 01:25:15.165
<v Speaker 2>Thank you.

01:25:20.685 --> 01:25:22.045
<v Speaker 2>My deal with the cuddle.

01:25:22.810 --> 01:25:25.530
<v Speaker 2>One sec in. So cuckuddle exec.

01:25:25.610 --> 01:25:28.010
<v Speaker 0>Alright. Just under ten minutes per minute. It's

01:25:28.010 --> 01:25:28.250
<v Speaker 5>getting

01:25:35.770 --> 01:25:36.570
<v Speaker 5>I'm gonna do that.

01:25:41.485 --> 01:25:42.445
<v Speaker 5>Gonna copy it.

01:25:53.600 --> 01:25:55.440
<v Speaker 2>Yeah. One thing that I I found myself

01:25:55.440 --> 01:25:56.800
<v Speaker 2>trying to do last night was I I

01:25:56.800 --> 01:25:58.080
<v Speaker 2>work I do all my work in TMUX,

01:25:58.080 --> 01:25:59.280
<v Speaker 2>so when you're messing with things trying to

01:25:59.280 --> 01:26:00.320
<v Speaker 2>break it up, I'm trying to do the

01:26:00.320 --> 01:26:03.600
<v Speaker 0>TMUX. What is Short prefixes to like, or

01:26:03.600 --> 01:26:05.360
<v Speaker 5>something like that? Yeah. Batch is available.

01:26:06.245 --> 01:26:06.885
<v Speaker 0>Yep.

01:26:11.125 --> 01:26:12.485
<v Speaker 5>So what do wanna do now? You are

01:26:12.485 --> 01:26:15.364
<v Speaker 0>in the plug. Yeah. Yeah. Curl

01:26:15.445 --> 01:26:17.685
<v Speaker 5>from here. What are we curling again?

01:26:17.845 --> 01:26:18.965
<v Speaker 0>Just Postgres.

01:26:19.125 --> 01:26:20.245
<v Speaker 0>You just wanna see it resolved.

01:26:21.500 --> 01:26:23.020
<v Speaker 2>Yeah. I I kinda wanna see if if

01:26:23.100 --> 01:26:25.179
<v Speaker 2>what dig Postgres resolves to.

01:26:25.820 --> 01:26:28.380
<v Speaker 2>I know I read dig post search Postgres.

01:26:28.620 --> 01:26:30.460
<v Speaker 0>You're gonna have to remember if it's DNS

01:26:30.460 --> 01:26:33.179
<v Speaker 0>utils, DNS dash utils, Bange utils.

01:26:33.980 --> 01:26:34.380
<v Speaker 2>Yeah.

01:26:35.275 --> 01:26:37.835
<v Speaker 2>Okay. So it's it's DNS utils.

01:26:38.555 --> 01:26:40.155
<v Speaker 2>I'm getting this utils. You

01:26:42.875 --> 01:26:43.835
<v Speaker 5>wanna type it?

01:26:44.715 --> 01:26:45.115
<v Speaker 5>Sure.

01:26:51.650 --> 01:26:53.250
<v Speaker 0>We've got some support in the chat from

01:26:53.250 --> 01:26:55.570
<v Speaker 0>Rawkode saying go team dough.

01:26:57.330 --> 01:27:00.290
<v Speaker 3>Mhmm. Oh, got install install. Yeah.

01:27:01.650 --> 01:27:03.570
<v Speaker 0>I think it's dash utils.

01:27:04.210 --> 01:27:05.994
<v Speaker 2>Is it like that?

01:27:06.555 --> 01:27:07.594
<v Speaker 0>I think so.

01:27:10.715 --> 01:27:12.475
<v Speaker 0>Yeah. I have to do this every time.

01:27:12.475 --> 01:27:15.035
<v Speaker 0>I should really remember it by now. I

01:27:15.035 --> 01:27:17.290
<v Speaker 5>would've just googled this by now. It's all

01:27:17.290 --> 01:27:17.770
<v Speaker 5>good.

01:27:18.730 --> 01:27:20.490
<v Speaker 0>I like to get it wrong 14 times

01:27:20.490 --> 01:27:21.690
<v Speaker 0>and then Google it. So

01:27:22.330 --> 01:27:23.290
<v Speaker 2>That's right.

01:27:28.170 --> 01:27:28.970
<v Speaker 0>There we are.

01:27:30.465 --> 01:27:31.985
<v Speaker 2>You always gotta do that update.

01:27:42.065 --> 01:27:43.105
<v Speaker 2>It Postgres?

01:27:43.105 --> 01:27:44.945
<v Speaker 0>Is that the name of that? Postgres. Service?

01:27:44.945 --> 01:27:45.345
<v Speaker 2>Yep.

01:27:46.670 --> 01:27:47.950
<v Speaker 2>Okay. So

01:27:48.510 --> 01:27:50.030
<v Speaker 2>so it can resolve that.

01:27:51.710 --> 01:27:53.310
<v Speaker 2>Let's You have a I'm gonna get that

01:27:53.310 --> 01:27:53.870
<v Speaker 2>out here.

01:27:54.510 --> 01:27:55.790
<v Speaker 2>I I wanna see I wanna see the

01:27:55.790 --> 01:27:56.190
<v Speaker 2>logs.

01:27:57.555 --> 01:27:59.075
<v Speaker 2>Like, of the actual application?

01:27:59.955 --> 01:28:00.595
<v Speaker 2>Yeah.

01:28:02.275 --> 01:28:03.795
<v Speaker 2>Because that might just tell us what the

01:28:03.795 --> 01:28:04.595
<v Speaker 0>error is.

01:28:05.395 --> 01:28:07.635
<v Speaker 5>Oh, yeah. We didn't run the logs command.

01:28:08.195 --> 01:28:10.115
<v Speaker 0>Yeah. There's not a lot logging in the

01:28:10.115 --> 01:28:12.675
<v Speaker 0>application, to be fair, but we can see.

01:28:12.675 --> 01:28:12.995
<v Speaker 0>Yeah.

01:28:13.570 --> 01:28:15.329
<v Speaker 2>Well, thanks, David.

01:28:19.890 --> 01:28:21.969
<v Speaker 2>Alright. So we're back in the container now.

01:28:22.130 --> 01:28:24.210
<v Speaker 2>Jeremy, I'll let you start driving again.

01:28:24.610 --> 01:28:25.249
<v Speaker 4>Alright.

01:28:25.810 --> 01:28:27.250
<v Speaker 2>Alright. So

01:28:28.565 --> 01:28:29.925
<v Speaker 2>what could this so

01:28:32.565 --> 01:28:34.565
<v Speaker 2>we know so we're pretty sure this that

01:28:34.565 --> 01:28:35.765
<v Speaker 2>they haven't messed with

01:28:36.085 --> 01:28:37.685
<v Speaker 2>the deployment itself.

01:28:38.965 --> 01:28:40.965
<v Speaker 2>They might have. Right? So let let's let's

01:28:40.965 --> 01:28:41.125
<v Speaker 2>go.

01:28:41.950 --> 01:28:44.270
<v Speaker 2>What's what's running here? PSAX.

01:28:50.110 --> 01:28:50.750
<v Speaker 2>Okay.

01:28:51.870 --> 01:28:53.550
<v Speaker 2>HTTP makes sense.

01:28:54.990 --> 01:28:56.190
<v Speaker 2>Let's exit out of this.

01:28:56.915 --> 01:29:00.115
<v Speaker 0>That is not my binary for the record.

01:29:01.315 --> 01:29:03.955
<v Speaker 2>Okay. Good to know. Let's go let's

01:29:04.275 --> 01:29:05.795
<v Speaker 2>let's go take a look at the deployment

01:29:05.795 --> 01:29:06.115
<v Speaker 2>again.

01:29:12.090 --> 01:29:14.890
<v Speaker 0>Sky scanner. Oh, guy particularly says, you are

01:29:14.890 --> 01:29:17.130
<v Speaker 0>doing a great job in getting close.

01:29:18.250 --> 01:29:20.490
<v Speaker 0>And Alex confirms he read the Rust code.

01:29:20.490 --> 01:29:22.330
<v Speaker 0>There is zero logging in my application.

01:29:24.045 --> 01:29:24.764
<v Speaker 0>Oops.

01:29:29.165 --> 01:29:31.405
<v Speaker 2>Alright. Let's so I want I wanna check

01:29:31.405 --> 01:29:33.885
<v Speaker 2>command line arguments and image name and and

01:29:33.885 --> 01:29:34.685
<v Speaker 2>things like that up here.

01:29:35.420 --> 01:29:37.260
<v Speaker 0>Matthew says it's written in Rust that doesn't

01:29:37.260 --> 01:29:39.260
<v Speaker 0>need logs. I'll translate roughly what he was

01:29:39.260 --> 01:29:41.580
<v Speaker 0>saying there. He's right. Memory safety, it can't

01:29:41.580 --> 01:29:42.140
<v Speaker 0>crash.

01:29:43.100 --> 01:29:45.420
<v Speaker 2>Yeah. So so you so if it can't

01:29:45.420 --> 01:29:46.460
<v Speaker 2>crash, you don't need to know what's going

01:29:46.460 --> 01:29:47.420
<v Speaker 2>on. Right? Exactly. Right.

01:29:48.985 --> 01:29:50.265
<v Speaker 2>Jeremy, can you go can you go to

01:29:50.265 --> 01:29:51.305
<v Speaker 2>the top here? Let's go take a look

01:29:51.305 --> 01:29:53.225
<v Speaker 2>at the image and the container arguments and

01:29:53.225 --> 01:29:53.784
<v Speaker 2>things.

01:29:58.425 --> 01:29:59.784
<v Speaker 5>On inside of this Here

01:30:00.665 --> 01:30:02.344
<v Speaker 2>we go. What what like,

01:30:02.665 --> 01:30:03.864
<v Speaker 5>inside this call or something else?

01:30:04.560 --> 01:30:06.400
<v Speaker 5>No. Scrolled up. I want yeah.

01:30:06.960 --> 01:30:08.640
<v Speaker 2>For the deployment. There we go. There we

01:30:08.640 --> 01:30:11.600
<v Speaker 2>go. Oh, there's a lag. I don't I

01:30:11.600 --> 01:30:12.239
<v Speaker 5>don't know.

01:30:13.680 --> 01:30:15.760
<v Speaker 5>Oh, yeah. It's lagging. It's crazy, I guess.

01:30:16.485 --> 01:30:18.245
<v Speaker 5>Alright. Jeremy,

01:30:18.965 --> 01:30:20.245
<v Speaker 2>you you gotta slow down so we can

01:30:20.325 --> 01:30:22.485
<v Speaker 5>I'm not I'm not clicking anything. It's just

01:30:22.645 --> 01:30:24.324
<v Speaker 0>Oh, sorry. That was me that was scrolling.

01:30:25.365 --> 01:30:27.445
<v Speaker 2>No, David. If you could please sabotage us,

01:30:27.445 --> 01:30:28.165
<v Speaker 2>we'd appreciate it.

01:30:31.620 --> 01:30:32.740
<v Speaker 2>Okay. So

01:30:43.575 --> 01:30:46.375
<v Speaker 2>There is? So I'm seeing ghcr.i0

01:30:46.375 --> 01:30:48.375
<v Speaker 2>Rawkode clustered v two.

01:30:48.775 --> 01:30:51.094
<v Speaker 2>Is that the right image name? That is

01:30:51.495 --> 01:30:53.575
<v Speaker 0>well, it's it's the right value for the

01:30:53.575 --> 01:30:55.014
<v Speaker 0>image in the YAML. Yes.

01:30:56.375 --> 01:30:58.935
<v Speaker 2>Okay. And image pull policy is always.

01:30:59.870 --> 01:31:02.670
<v Speaker 2>Let's go check let's go check the service.

01:31:04.990 --> 01:31:07.310
<v Speaker 5>Juan, is it possible that I somehow ex

01:31:07.390 --> 01:31:09.870
<v Speaker 5>like, left? Oh, now it's updating.

01:31:09.950 --> 01:31:11.870
<v Speaker 5>I don't know what's going on. Alright. What

01:31:11.870 --> 01:31:12.670
<v Speaker 5>are we checking now?

01:31:14.905 --> 01:31:17.304
<v Speaker 2>Let's let's let's check the clusters.

01:31:18.344 --> 01:31:20.025
<v Speaker 2>Let's check the clustered service

01:31:20.344 --> 01:31:22.264
<v Speaker 2>and the Postgres service as well. But I

01:31:22.264 --> 01:31:24.185
<v Speaker 2>think that David gave us a really good

01:31:24.185 --> 01:31:26.264
<v Speaker 2>hint with that's not the HBD.

01:31:26.264 --> 01:31:28.060
<v Speaker 2>That's Apache. That's not his binary. Binary.

01:31:29.740 --> 01:31:30.460
<v Speaker 4>Okay.

01:31:40.460 --> 01:31:41.900
<v Speaker 5>I guess I can't do it like that.

01:31:46.705 --> 01:31:49.025
<v Speaker 2>If you so you can do so if

01:31:49.025 --> 01:31:50.305
<v Speaker 2>you want if you want to determine, you

01:31:50.305 --> 01:31:51.025
<v Speaker 2>specify

01:31:51.905 --> 01:31:54.305
<v Speaker 2>multiple services with a space between them. So

01:31:54.305 --> 01:31:56.785
<v Speaker 2>resource types are comma separated. Resources are space

01:31:56.785 --> 01:31:57.265
<v Speaker 2>separated.

01:31:59.060 --> 01:32:00.420
<v Speaker 5>So 10.

01:32:01.940 --> 01:32:04.820
<v Speaker 5>Uh-huh. 1011112197.

01:32:06.500 --> 01:32:07.619
<v Speaker 2>External driven.

01:32:09.620 --> 01:32:10.580
<v Speaker 2>Node port,

01:32:10.660 --> 01:32:13.060
<v Speaker 2>308080.

01:32:15.855 --> 01:32:16.655
<v Speaker 2>And

01:32:18.494 --> 01:32:20.814
<v Speaker 2>that was that's for what? That's

01:32:21.215 --> 01:32:22.974
<v Speaker 5>This is clustered. What's clustered.

01:32:23.614 --> 01:32:25.935
<v Speaker 1>Is it possible that the the service is,

01:32:25.935 --> 01:32:26.974
<v Speaker 6>like, only exposing,

01:32:28.280 --> 01:32:30.680
<v Speaker 6>you know, that, like, broken maybe, like, Apache

01:32:30.680 --> 01:32:33.639
<v Speaker 6>server instead of, like, the regular application?

01:32:34.600 --> 01:32:37.239
<v Speaker 2>It certainly is, but but what I'm confused

01:32:37.239 --> 01:32:39.480
<v Speaker 2>about is if that's not David's binary

01:32:39.720 --> 01:32:41.640
<v Speaker 2>Mhmm. Then how is that what how is

01:32:41.640 --> 01:32:43.495
<v Speaker 2>that the thing that's running if we're if

01:32:43.495 --> 01:32:45.575
<v Speaker 2>it's actually using his image? So there's an

01:32:45.575 --> 01:32:47.415
<v Speaker 2>image pull policy of always.

01:32:48.215 --> 01:32:49.095
<v Speaker 2>Presumably,

01:32:49.415 --> 01:32:52.615
<v Speaker 2>they didn't somehow get access to the Rawkode

01:32:52.615 --> 01:32:53.975
<v Speaker 2>Docker registry,

01:32:54.295 --> 01:32:57.655
<v Speaker 2>right, or Docker repository and and replace it

01:32:57.060 --> 01:32:58.660
<v Speaker 2>replace it. So how how is it running

01:32:58.660 --> 01:33:00.340
<v Speaker 2>the wrong thing? So we go take a

01:33:00.340 --> 01:33:01.380
<v Speaker 2>look at the look. Can we go take

01:33:01.380 --> 01:33:03.060
<v Speaker 2>a look at the deployment again and check

01:33:03.060 --> 01:33:04.179
<v Speaker 2>those arguments?

01:33:07.300 --> 01:33:08.820
<v Speaker 2>Because the last time we were doing that,

01:33:10.135 --> 01:33:11.655
<v Speaker 2>we got scrolled away from it, and I

01:33:11.655 --> 01:33:12.775
<v Speaker 2>think I got distracted.

01:33:15.815 --> 01:33:17.175
<v Speaker 2>Alright. So we wanna go take a look

01:33:17.175 --> 01:33:18.614
<v Speaker 2>at those arguments, Jeremy,

01:33:18.935 --> 01:33:19.895
<v Speaker 2>the image

01:33:21.095 --> 01:33:23.255
<v Speaker 2>up in the pod spec or the deployment

01:33:23.940 --> 01:33:24.900
<v Speaker 2>pod template.

01:33:25.140 --> 01:33:26.660
<v Speaker 0>Yeah. I can scroll it. Yep.

01:33:27.300 --> 01:33:29.220
<v Speaker 2>There we go. Alright. I'll just hang out

01:33:29.220 --> 01:33:30.260
<v Speaker 2>here for just a minute.

01:33:31.220 --> 01:33:33.940
<v Speaker 2>Alright. So clustered GHCR.io,

01:33:34.020 --> 01:33:34.900
<v Speaker 2>Rawkode,

01:33:34.900 --> 01:33:36.420
<v Speaker 2>clustered v two.

01:33:36.980 --> 01:33:40.034
<v Speaker 2>That all looks right. So what's responsible for

01:33:40.034 --> 01:33:41.155
<v Speaker 0>pulling that image?

01:33:43.074 --> 01:33:45.394
<v Speaker 2>So the image pull policy, but it it's

01:33:45.394 --> 01:33:46.354
<v Speaker 2>set to always.

01:33:46.994 --> 01:33:48.755
<v Speaker 0>I don't What what actually pulls the image

01:33:48.755 --> 01:33:49.714
<v Speaker 0>to the machine?

01:33:51.875 --> 01:33:53.370
<v Speaker 0>It's not the Kubit. Container.

01:33:53.930 --> 01:33:55.450
<v Speaker 2>Yeah. Container d?

01:33:55.930 --> 01:33:56.650
<v Speaker 2>Oh,

01:33:57.210 --> 01:33:57.850
<v Speaker 2>okay.

01:33:58.570 --> 01:33:59.370
<v Speaker 2>So

01:34:01.290 --> 01:34:03.610
<v Speaker 2>I don't I don't know how I I

01:34:03.610 --> 01:34:06.090
<v Speaker 2>don't know a lot about container d and

01:34:06.090 --> 01:34:06.730
<v Speaker 2>where

01:34:07.050 --> 01:34:08.090
<v Speaker 2>things start to

01:34:08.465 --> 01:34:10.864
<v Speaker 2>how you can configure everything. Yes. So you

01:34:10.864 --> 01:34:12.304
<v Speaker 5>can need the help. You can do a

01:34:12.304 --> 01:34:14.385
<v Speaker 0>cryo control images to list the images, and

01:34:14.385 --> 01:34:16.945
<v Speaker 0>there's also a super cool command called oh,

01:34:16.945 --> 01:34:19.105
<v Speaker 0>you'll need the dash dash runtime endpoint, and

01:34:19.105 --> 01:34:20.784
<v Speaker 0>let me take that in for you just

01:34:20.784 --> 01:34:21.585
<v Speaker 0>in the interest of time.

01:34:23.830 --> 01:34:24.630
<v Speaker 1>Thank you.

01:34:30.150 --> 01:34:31.430
<v Speaker 5>Oh, so this is how you avoid the

01:34:31.430 --> 01:34:33.270
<v Speaker 5>socket issues that you were having, David?

01:34:33.750 --> 01:34:34.870
<v Speaker 0>For container d. Yes.

01:34:35.435 --> 01:34:37.195
<v Speaker 0>Yeah. And the other thing I would suggest

01:34:37.195 --> 01:34:40.395
<v Speaker 0>is container d space config space dump will

01:34:40.395 --> 01:34:42.074
<v Speaker 0>list the container d configuration.

01:34:43.114 --> 01:34:43.835
<v Speaker 0>However,

01:34:44.075 --> 01:34:46.075
<v Speaker 0>my advice might be getting you colder as

01:34:46.075 --> 01:34:47.595
<v Speaker 0>Guy has just said in the chat.

01:34:48.720 --> 01:34:49.680
<v Speaker 0>But

01:34:49.680 --> 01:34:51.440
<v Speaker 0>I don't know if that's my advice or

01:34:51.440 --> 01:34:53.119
<v Speaker 0>what we were doing beforehand.

01:34:54.560 --> 01:34:55.760
<v Speaker 0>But I would still take a look at

01:34:55.760 --> 01:34:58.239
<v Speaker 0>container deconfig dump before moving on.

01:34:58.720 --> 01:34:59.440
<v Speaker 2>Yeah.

01:34:59.600 --> 01:35:00.160
<v Speaker 2>I agree.

01:35:01.955 --> 01:35:02.915
<v Speaker 5>Alright. So

01:35:04.275 --> 01:35:06.035
<v Speaker 0>Although my image isn't listed there, by the

01:35:06.035 --> 01:35:06.514
<v Speaker 0>way.

01:35:07.235 --> 01:35:09.475
<v Speaker 0>Yeah. No. We're since it's on our worker

01:35:09.475 --> 01:35:10.594
<v Speaker 0>machine. Sorry.

01:35:12.835 --> 01:35:15.074
<v Speaker 0>Where where's this where's this pod scheduled?

01:35:15.315 --> 01:35:15.715
<v Speaker 0>Yeah.

01:35:20.690 --> 01:35:22.449
<v Speaker 5>I'll get or something.

01:35:23.170 --> 01:35:24.210
<v Speaker 0>Let's see. Or

01:35:26.210 --> 01:35:27.489
<v Speaker 2>Dash o y. Yep.

01:35:28.885 --> 01:35:30.325
<v Speaker 5>And then we can select the list scheduled

01:35:30.325 --> 01:35:33.285
<v Speaker 2>on. Cord cord hey, Jeremy. Cord in the

01:35:33.285 --> 01:35:35.605
<v Speaker 2>other two nodes. Delete the pod.

01:35:37.445 --> 01:35:39.285
<v Speaker 5>Okay. So I like that.

01:35:40.485 --> 01:35:42.565
<v Speaker 5>Which, what what's the cord in command? Is

01:35:42.565 --> 01:35:45.019
<v Speaker 5>it, like, core k cord and then the

01:35:45.340 --> 01:35:47.340
<v Speaker 5>node? And then the then the node name

01:35:47.340 --> 01:35:47.899
<v Speaker 2>show.

01:35:48.300 --> 01:35:50.139
<v Speaker 2>Which one do you wanna do? Worker one

01:35:50.139 --> 01:35:52.059
<v Speaker 5>or work with two or something? Or I

01:35:52.059 --> 01:35:53.579
<v Speaker 2>want I want cord in both of them.

01:35:53.659 --> 01:35:57.020
<v Speaker 0>Skyscanner dash worker one and Skyscanner dash worker

01:35:56.355 --> 01:35:57.315
<v Speaker 0>dash two.

01:36:00.435 --> 01:36:01.715
<v Speaker 5>Okay. So

01:36:08.595 --> 01:36:12.035
<v Speaker 5>Is Skyscanner worker dash here? Yep. Mhmm. No.

01:36:12.180 --> 01:36:14.020
<v Speaker 2>Space. This is their resources.

01:36:14.180 --> 01:36:16.500
<v Speaker 2>So resources are space separated.

01:36:17.780 --> 01:36:19.700
<v Speaker 2>Resource types are comma separated.

01:36:22.580 --> 01:36:24.180
<v Speaker 2>Remove the comma after the one.

01:36:25.700 --> 01:36:26.100
<v Speaker 2>Okay.

01:36:29.114 --> 01:36:30.155
<v Speaker 5>And then

01:36:30.315 --> 01:36:31.114
<v Speaker 5>something.

01:36:33.914 --> 01:36:36.315
<v Speaker 0>You'll need to remove the tint from the

01:36:36.315 --> 01:36:37.755
<v Speaker 0>node control plane node.

01:36:41.650 --> 01:36:43.489
<v Speaker 5>What is that? Like, get taints or something?

01:36:43.489 --> 01:36:46.129
<v Speaker 5>Or You can just do edit node

01:36:46.769 --> 01:36:48.929
<v Speaker 0>and just delete the actual yeah. No. We

01:36:48.929 --> 01:36:50.289
<v Speaker 0>don't need to do it the nice way.

01:36:50.289 --> 01:36:51.889
<v Speaker 0>We could do it through a taint with

01:36:51.889 --> 01:36:54.210
<v Speaker 0>a dash syntax, but it's not important.

01:36:55.315 --> 01:36:56.675
<v Speaker 0>And control plane.

01:36:58.675 --> 01:37:00.755
<v Speaker 6>This is the worker node. Yeah. We we

01:37:00.755 --> 01:37:02.114
<v Speaker 0>want to remove the taint from the control

01:37:02.114 --> 01:37:02.594
<v Speaker 0>plane.

01:37:05.875 --> 01:37:07.715
<v Speaker 0>Those guys gonna dash control. Yeah.

01:37:08.880 --> 01:37:10.400
<v Speaker 0>And just search for taint.

01:37:10.560 --> 01:37:12.800
<v Speaker 0>In fact, there's there. Top of the spec.

01:37:13.360 --> 01:37:16.239
<v Speaker 1>Just No. All the way. Three lanes. You're

01:37:16.239 --> 01:37:18.800
<v Speaker 2>right there. Under spec, tanks, the no schedule.

01:37:18.800 --> 01:37:19.840
<v Speaker 2>Just remember Oh, yeah. That.

01:37:24.775 --> 01:37:25.255
<v Speaker 2>That's

01:37:27.094 --> 01:37:27.735
<v Speaker 5>Yep.

01:37:28.855 --> 01:37:30.775
<v Speaker 5>K. And what's the next thing you wanna

01:37:30.775 --> 01:37:33.494
<v Speaker 2>do? Delete how you want it. Delete that

01:37:33.494 --> 01:37:34.534
<v Speaker 2>pod. Yep.

01:37:38.010 --> 01:37:40.090
<v Speaker 5>Is that the the clustered one? Or

01:37:40.969 --> 01:37:44.809
<v Speaker 5>Yes. No. It's okay. Yes. The clustered one.

01:37:53.435 --> 01:37:55.514
<v Speaker 0>Bye bye, broken clustered pod.

01:37:56.315 --> 01:37:57.275
<v Speaker 0>I

01:37:58.635 --> 01:38:00.395
<v Speaker 2>figure I figure if if if this fixes

01:38:00.395 --> 01:38:02.235
<v Speaker 2>it, that's the working around the poll is

01:38:02.235 --> 01:38:04.740
<v Speaker 2>as legitimate as Remember a lot. I just

01:38:04.740 --> 01:38:07.060
<v Speaker 2>broke from my TD. Right? Right.

01:38:08.020 --> 01:38:10.659
<v Speaker 6>Just schedule our workloads on the control plane.

01:38:11.140 --> 01:38:12.260
<v Speaker 4>That's funny.

01:38:12.820 --> 01:38:14.900
<v Speaker 2>Like, managers are happy.

01:38:17.140 --> 01:38:18.500
<v Speaker 2>Just get pods. Oh, no.

01:38:19.405 --> 01:38:21.725
<v Speaker 6>I still Jeremy, just getting an internal service

01:38:21.725 --> 01:38:22.844
<v Speaker 2>here. Get pods.

01:38:23.804 --> 01:38:26.764
<v Speaker 2>Okay. It's still responding to internal server error.

01:38:28.605 --> 01:38:30.205
<v Speaker 2>Yeah. It's going to because it's it's Well,

01:38:30.205 --> 01:38:31.245
<v Speaker 5>it has to get ready first.

01:38:35.860 --> 01:38:37.380
<v Speaker 2>Well, I was thinking if the pod if

01:38:37.380 --> 01:38:38.980
<v Speaker 2>the application itself is an option, you would

01:38:38.980 --> 01:38:41.219
<v Speaker 2>get a different error besides internal server error.

01:38:43.699 --> 01:38:46.340
<v Speaker 2>Yeah. That's that's very possible. So we so

01:38:46.340 --> 01:38:47.300
<v Speaker 2>what we're gonna wanna do is go take

01:38:47.300 --> 01:38:49.505
<v Speaker 2>a look at that cluster

01:38:49.505 --> 01:38:51.265
<v Speaker 2>d service again.

01:38:52.465 --> 01:38:53.745
<v Speaker 2>Clustered service.

01:39:04.980 --> 01:39:06.739
<v Speaker 0>Alright. I might have made a boo boo.

01:39:06.739 --> 01:39:08.979
<v Speaker 0>I think I did call that binary HTTP.

01:39:10.980 --> 01:39:13.380
<v Speaker 2>Woah. Alright. I just checked the Docker file

01:39:13.380 --> 01:39:14.739
<v Speaker 0>and now I feel awful.

01:39:14.900 --> 01:39:15.940
<v Speaker 0>So It's okay.

01:39:16.554 --> 01:39:18.474
<v Speaker 5>That's alright. Oh, it's ready now. Okay.

01:39:18.954 --> 01:39:20.474
<v Speaker 0>Let's Let's let's hit it. Let's see what

01:39:20.474 --> 01:39:21.034
<v Speaker 2>happens.

01:39:21.755 --> 01:39:24.315
<v Speaker 6>It's still internal service error? Yeah. That's what

01:39:24.315 --> 01:39:25.835
<v Speaker 2>I was saying. Like, the application doesn't need

01:39:25.835 --> 01:39:27.355
<v Speaker 2>to be up to get internal server error.

01:39:27.355 --> 01:39:29.195
<v Speaker 2>It's probably happening before it hits the application.

01:39:30.170 --> 01:39:32.489
<v Speaker 0>Try 30,000.

01:39:36.969 --> 01:39:41.050
<v Speaker 0>30 thousand. I'm

01:39:41.050 --> 01:39:42.730
<v Speaker 5>sorry. What is it? 30,000.

01:39:46.305 --> 01:39:47.905
<v Speaker 0>Oh, So there should be a 30,000. A

01:39:47.905 --> 01:39:49.344
<v Speaker 0>node port service

01:39:49.745 --> 01:39:50.704
<v Speaker 0>with that.

01:39:53.025 --> 01:39:55.025
<v Speaker 2>So so we need to go check the

01:39:55.025 --> 01:39:56.784
<v Speaker 2>service again, Jeremy.

01:39:56.945 --> 01:39:59.105
<v Speaker 2>Cluster is the name of the service we

01:39:59.105 --> 01:40:01.824
<v Speaker 2>wanna check. And not wide. We wanna check

01:40:03.870 --> 01:40:05.230
<v Speaker 1>I think you pulled up.

01:40:08.030 --> 01:40:08.670
<v Speaker 0>Yeah.

01:40:10.430 --> 01:40:11.630
<v Speaker 2>Okay. So

01:40:12.830 --> 01:40:14.430
<v Speaker 2>ports, no ports 3,000.

01:40:15.325 --> 01:40:18.205
<v Speaker 2>Port eighty eighty. Target ports, eighty eighty.

01:40:18.925 --> 01:40:20.045
<v Speaker 0>No endpoints.

01:40:24.285 --> 01:40:24.925
<v Speaker 2>K.

01:40:25.405 --> 01:40:27.325
<v Speaker 2>Ta da. Let's go check.

01:40:29.040 --> 01:40:31.760
<v Speaker 2>Do do do do get inputs just to

01:40:31.760 --> 01:40:33.199
<v Speaker 2>make sure. Very

01:40:33.760 --> 01:40:35.520
<v Speaker 2>clearly, it seems like that's the case. But

01:40:35.760 --> 01:40:36.400
<v Speaker 2>and

01:40:37.360 --> 01:40:39.520
<v Speaker 2>show can you show the clustered one with

01:40:39.520 --> 01:40:39.920
<v Speaker 2>the YAML?

01:41:01.330 --> 01:41:03.250
<v Speaker 0>Alright. I'll give these another five minutes because

01:41:03.250 --> 01:41:04.450
<v Speaker 0>of my horrible detour.

01:41:07.005 --> 01:41:09.165
<v Speaker 2>So I'm wondering if this is networking. Is

01:41:09.165 --> 01:41:10.125
<v Speaker 2>this Cilium?

01:41:13.245 --> 01:41:15.485
<v Speaker 6>Are there any network policies defined right now?

01:41:18.690 --> 01:41:21.410
<v Speaker 5>Good question. There's a command for that.

01:41:22.290 --> 01:41:24.290
<v Speaker 1>I just remember calling it or something. Yeah.

01:41:24.290 --> 01:41:26.610
<v Speaker 6>Can you, like, auto complete with network? Oh,

01:41:26.770 --> 01:41:28.450
<v Speaker 1>the something happened? Yeah.

01:41:31.655 --> 01:41:32.614
<v Speaker 6>All of them?

01:41:34.775 --> 01:41:37.014
<v Speaker 6>Okay. So they There's also Selium

01:41:37.015 --> 01:41:37.975
<v Speaker 0>versions.

01:41:37.975 --> 01:41:39.175
<v Speaker 0>So if you can use the all we'll

01:41:39.175 --> 01:41:40.535
<v Speaker 0>complete Selium as well.

01:41:45.360 --> 01:41:48.000
<v Speaker 2>I'd also like to after this, also like

01:41:48.000 --> 01:41:50.480
<v Speaker 2>to do the the COOP system the pods

01:41:50.480 --> 01:41:52.480
<v Speaker 2>in the COOP system namespace again. Let's see

01:41:52.480 --> 01:41:53.680
<v Speaker 2>how long this pod's been running.

01:41:58.414 --> 01:42:00.094
<v Speaker 5>Oh, it all restarts.

01:42:00.974 --> 01:42:01.934
<v Speaker 5>Oh, no.

01:42:02.414 --> 01:42:04.494
<v Speaker 5>Is that good or bad? Do dash do

01:42:04.494 --> 01:42:06.014
<v Speaker 2>dash o wide on that widget.

01:42:08.974 --> 01:42:11.695
<v Speaker 6>So it looks like the Cilium pods themselves

01:42:12.200 --> 01:42:15.640
<v Speaker 6>were set up Right. Couple hours ago. Yeah.

01:42:15.640 --> 01:42:17.080
<v Speaker 2>That's why I wanna do dash o wide.

01:42:17.080 --> 01:42:18.440
<v Speaker 2>I wanna see where those are running. The

01:42:18.440 --> 01:42:20.280
<v Speaker 0>guy says you're getting warmer

01:42:20.360 --> 01:42:22.040
<v Speaker 0>and remember their sense.

01:42:24.920 --> 01:42:25.160
<v Speaker 4>One.

01:42:27.454 --> 01:42:27.775
<v Speaker 6>Not

01:42:28.335 --> 01:42:30.014
<v Speaker 6>so this is the operator. Right?

01:42:32.094 --> 01:42:34.255
<v Speaker 2>So if Jeremy, if if you'll just do

01:42:34.255 --> 01:42:36.014
<v Speaker 2>just do that same command but with dash

01:42:36.014 --> 01:42:36.974
<v Speaker 2>o wide

01:42:37.695 --> 01:42:39.855
<v Speaker 2>so we because I wanna see what nodes,

01:42:39.855 --> 01:42:40.655
<v Speaker 2>the Cilium.

01:42:42.159 --> 01:42:43.119
<v Speaker 5>Rawkode two?

01:42:43.360 --> 01:42:46.400
<v Speaker 2>No. No. That coop get get pods dash

01:42:46.400 --> 01:42:48.719
<v Speaker 2>in coop system dash o wide. I just

01:42:48.719 --> 01:42:51.199
<v Speaker 2>wanna see what nodes the Cilium pods are

01:42:51.199 --> 01:42:54.800
<v Speaker 2>working on. Oh, okay. Because because Cilium

01:42:55.679 --> 01:42:57.679
<v Speaker 2>start with restarted not

01:42:57.679 --> 01:42:58.685
<v Speaker 2>too long ago. Restarted not too long ago.

01:42:58.685 --> 01:42:59.164
<v Speaker 2>Mhmm.

01:43:05.965 --> 01:43:08.364
<v Speaker 2>Let's go let's go check let's

01:43:08.364 --> 01:43:10.364
<v Speaker 2>go check the Cilium configuration for that daemon

01:43:10.364 --> 01:43:10.685
<v Speaker 2>set.

01:43:12.760 --> 01:43:13.800
<v Speaker 6>Yeah. So

01:43:20.600 --> 01:43:23.080
<v Speaker 5>You wanna do, like, get a YAML? Or

01:43:23.960 --> 01:43:24.280
<v Speaker 5>Yeah.

01:43:31.114 --> 01:43:32.315
<v Speaker 2>Kube system.

01:43:32.875 --> 01:43:34.074
<v Speaker 2>Yeah. You're gonna have to dash in the

01:43:34.074 --> 01:43:34.635
<v Speaker 2>Kube system.

01:43:39.739 --> 01:43:40.619
<v Speaker 2>Okay.

01:43:40.860 --> 01:43:41.900
<v Speaker 2>And

01:43:42.940 --> 01:43:44.619
<v Speaker 2>we're gonna need to see this whole thing.

01:43:44.699 --> 01:43:46.219
<v Speaker 2>So let's go let's start from the top.

01:43:53.165 --> 01:43:55.245
<v Speaker 4>Oh, wow. Okay. So this was reapplied,

01:43:55.405 --> 01:43:56.525
<v Speaker 6>at least once.

01:43:57.965 --> 01:43:59.244
<v Speaker 6>Generation seven.

01:44:04.285 --> 01:44:05.005
<v Speaker 5>Keep going down?

01:44:05.890 --> 01:44:06.610
<v Speaker 2>Yep.

01:44:07.250 --> 01:44:08.690
<v Speaker 2>That's what what I'd probably do is I

01:44:08.690 --> 01:44:10.530
<v Speaker 2>just scroll down the page and and let's

01:44:10.530 --> 01:44:12.369
<v Speaker 2>stop right there and take a look. So

01:44:13.970 --> 01:44:15.090
<v Speaker 2>we have a so we're gonna need to

01:44:15.090 --> 01:44:16.930
<v Speaker 2>take a look at that Sicilian config map.

01:44:23.915 --> 01:44:26.395
<v Speaker 5>So you want to Yeah. Yeah. Look at

01:44:26.395 --> 01:44:26.955
<v Speaker 1>that?

01:44:28.155 --> 01:44:30.955
<v Speaker 2>Not yet. Both config maps. Okay. Going. Yeah.

01:44:30.955 --> 01:44:32.235
<v Speaker 2>Actually, I kinda get get get in our

01:44:32.235 --> 01:44:33.275
<v Speaker 2>heads, like, the things we need to go

01:44:33.275 --> 01:44:35.130
<v Speaker 2>look at. So, obviously, we wanna check widens

01:44:35.130 --> 01:44:36.090
<v Speaker 2>probes and

01:44:36.410 --> 01:44:37.930
<v Speaker 2>readiness probes. I

01:44:38.810 --> 01:44:40.890
<v Speaker 2>don't think that's gonna be an issue.

01:44:43.210 --> 01:44:43.690
<v Speaker 2>K.

01:44:53.685 --> 01:44:55.045
<v Speaker 2>This is the kind of thing it's gonna

01:44:55.045 --> 01:44:57.125
<v Speaker 2>be hard to spot if it's in here.

01:44:58.340 --> 01:44:59.699
<v Speaker 2>What's that? Hold on.

01:45:00.179 --> 01:45:01.059
<v Speaker 2>I don't

01:45:02.820 --> 01:45:04.739
<v Speaker 2>where were you? I think go

01:45:04.980 --> 01:45:07.699
<v Speaker 2>down. No. Right there. That volume out that

01:45:07.699 --> 01:45:10.179
<v Speaker 2>mount path host host PID,

01:45:10.420 --> 01:45:12.340
<v Speaker 2>is that one n s? Is that right?

01:45:15.915 --> 01:45:16.954
<v Speaker 6>I don't know.

01:45:17.435 --> 01:45:18.314
<v Speaker 4>Where?

01:45:19.114 --> 01:45:20.155
<v Speaker 4>Right here.

01:45:20.715 --> 01:45:22.394
<v Speaker 2>Under volume mounts, mount path.

01:45:23.514 --> 01:45:25.514
<v Speaker 5>I just highlighted it. I'm waiting for it

01:45:25.514 --> 01:45:27.594
<v Speaker 5>to show up on okay. There it is.

01:45:29.370 --> 01:45:30.090
<v Speaker 4>Yeah.

01:45:32.969 --> 01:45:35.850
<v Speaker 0>So slash host has mounted into these pods,

01:45:35.850 --> 01:45:37.530
<v Speaker 0>but I don't know. I don't think that

01:45:37.530 --> 01:45:39.929
<v Speaker 0>the host pad one MSS. I don't maybe

01:45:40.330 --> 01:45:41.449
<v Speaker 0>we should take a look at the mode

01:45:41.449 --> 01:45:41.929
<v Speaker 0>definition.

01:45:43.865 --> 01:45:44.905
<v Speaker 2>I like it.

01:45:48.345 --> 01:45:49.705
<v Speaker 2>We enter volumes.

01:45:50.105 --> 01:45:51.145
<v Speaker 0>Oh, yeah. There we go.

01:45:58.600 --> 01:45:59.719
<v Speaker 4>Do you see it?

01:46:00.840 --> 01:46:01.800
<v Speaker 4>Not yet.

01:46:05.160 --> 01:46:06.360
<v Speaker 5>Volume outs or volumes?

01:46:09.425 --> 01:46:11.585
<v Speaker 2>So go go back into volume outs so

01:46:11.585 --> 01:46:12.705
<v Speaker 2>we can Oh, there it is. What we're

01:46:12.705 --> 01:46:13.905
<v Speaker 6>looking. It's the third one.

01:46:14.945 --> 01:46:15.905
<v Speaker 2>What's that?

01:46:17.505 --> 01:46:18.385
<v Speaker 0>Oh, yeah.

01:46:18.705 --> 01:46:21.265
<v Speaker 6>It's right there. Yeah. So so, certainly, host

01:46:21.265 --> 01:46:22.225
<v Speaker 2>proc NS

01:46:23.650 --> 01:46:25.570
<v Speaker 2>is is legit. Right? So then it's just

01:46:25.570 --> 01:46:28.369
<v Speaker 2>mounting it into host PID one NS.

01:46:28.770 --> 01:46:30.850
<v Speaker 2>So I suspect it's right. Can we can

01:46:30.850 --> 01:46:33.329
<v Speaker 2>we search this for host PID one NS?

01:46:34.370 --> 01:46:35.650
<v Speaker 2>You might you might need to do an

01:46:35.650 --> 01:46:38.050
<v Speaker 2>edit just so you can search in VIM.

01:46:41.625 --> 01:46:43.225
<v Speaker 0>I mean, the pod is running.

01:46:47.145 --> 01:46:48.824
<v Speaker 0>If the mounts were in correct,

01:46:49.225 --> 01:46:50.905
<v Speaker 0>we'd probably get an error when the container

01:46:50.905 --> 01:46:51.785
<v Speaker 0>was starting.

01:46:52.585 --> 01:46:53.225
<v Speaker 5>Yeah.

01:46:53.705 --> 01:46:54.505
<v Speaker 5>Is this too many?

01:46:56.580 --> 01:46:58.100
<v Speaker 0>The host pet one

01:46:58.100 --> 01:46:59.060
<v Speaker 0>n s.

01:47:00.020 --> 01:47:01.219
<v Speaker 2>Oh, okay.

01:47:02.660 --> 01:47:03.780
<v Speaker 5>Host pet

01:47:05.140 --> 01:47:07.700
<v Speaker 5>one One n s. N s. Yes.

01:47:08.660 --> 01:47:09.060
<v Speaker 2>K.

01:47:10.045 --> 01:47:12.044
<v Speaker 5>That's not Okay. Go on. Oh,

01:47:14.605 --> 01:47:16.764
<v Speaker 2>hit in to go to the next one.

01:47:18.284 --> 01:47:19.565
<v Speaker 0>Alright. Should we take a look at a

01:47:19.565 --> 01:47:21.724
<v Speaker 0>couple of the hints and get this? Yeah.

01:47:21.724 --> 01:47:23.965
<v Speaker 5>Yeah. Yep. I think it's probably time.

01:47:26.110 --> 01:47:27.869
<v Speaker 2>What do guys think? You wanna hint?

01:47:28.750 --> 01:47:29.709
<v Speaker 6>Think so.

01:47:30.590 --> 01:47:31.149
<v Speaker 5>Sure.

01:47:31.469 --> 01:47:33.949
<v Speaker 5>I wonder if DNS policy is something too.

01:47:36.030 --> 01:47:38.255
<v Speaker 5>So where's the hint? In the root? Slash

01:47:38.255 --> 01:47:39.375
<v Speaker 2>root. Yep.

01:47:44.735 --> 01:47:46.495
<v Speaker 2>Let's do hinge one, I suppose.

01:47:53.429 --> 01:47:55.510
<v Speaker 2>Oh, thanks for the red herrings. I think

01:47:55.510 --> 01:47:57.749
<v Speaker 0>that sometimes you need to call IT.

01:47:57.829 --> 01:47:59.510
<v Speaker 0>What is the So turn something off and

01:47:59.510 --> 01:48:00.389
<v Speaker 6>back on.

01:48:01.989 --> 01:48:04.230
<v Speaker 6>That was that was what? The cubelet with

01:48:04.230 --> 01:48:05.510
<v Speaker 6>the API server that we did?

01:48:06.605 --> 01:48:07.644
<v Speaker 2>Yep. Okay.

01:48:12.205 --> 01:48:13.804
<v Speaker 0>Oh, there's a link. Alright.

01:48:16.125 --> 01:48:17.005
<v Speaker 6>Did it recrawl?

01:48:18.409 --> 01:48:20.489
<v Speaker 5>Think he's Oh, nothing. That's

01:48:20.489 --> 01:48:22.889
<v Speaker 0>just just the API server hunt.

01:48:23.530 --> 01:48:23.849
<v Speaker 0>Yep.

01:48:30.545 --> 01:48:32.785
<v Speaker 0>Yeah. I think you've worked that out. We

01:48:32.785 --> 01:48:34.304
<v Speaker 0>know it's networking. Yep.

01:48:43.980 --> 01:48:46.460
<v Speaker 2>Wonderful. Okay. So I don't I'm I am

01:48:46.460 --> 01:48:48.539
<v Speaker 2>not a Cilium expert. I've I've haven't done

01:48:48.539 --> 01:48:49.419
<v Speaker 2>much with it.

01:48:50.460 --> 01:48:52.780
<v Speaker 2>So Chirp. The component they're talking about

01:48:53.340 --> 01:48:54.699
<v Speaker 0>do you want me to say something, or

01:48:54.699 --> 01:48:57.945
<v Speaker 0>is Shahar a Cilium ninja here? Like I

01:48:57.945 --> 01:49:00.584
<v Speaker 6>I do not know what it would be.

01:49:01.385 --> 01:49:02.664
<v Speaker 6>Oh, so

01:49:04.185 --> 01:49:06.344
<v Speaker 6>well, so Cilium can can be set up

01:49:06.344 --> 01:49:08.264
<v Speaker 6>to to replace, like,

01:49:09.145 --> 01:49:10.585
<v Speaker 6>all of the

01:49:11.000 --> 01:49:12.440
<v Speaker 6>the the networking,

01:49:13.000 --> 01:49:15.159
<v Speaker 6>I guess I guess, DNS, couldn't it?

01:49:16.280 --> 01:49:18.520
<v Speaker 0>So I think you're talking about Kube

01:49:18.520 --> 01:49:19.159
<v Speaker 0>proxy.

01:49:20.120 --> 01:49:23.125
<v Speaker 6>Kube proxy. That's right. Say, let's let's check

01:49:23.125 --> 01:49:25.925
<v Speaker 2>the config. The config maps for Celia.

01:49:26.005 --> 01:49:26.724
<v Speaker 2>Yeah.

01:49:28.565 --> 01:49:30.324
<v Speaker 2>It's gonna be in the Kube system namespace,

01:49:30.324 --> 01:49:30.885
<v Speaker 2>Jeremy.

01:49:33.205 --> 01:49:34.804
<v Speaker 5>There we go. There you go. And so

01:49:34.804 --> 01:49:36.244
<v Speaker 6>this should just be a flag that allowed

01:49:36.244 --> 01:49:36.804
<v Speaker 5>me to do that?

01:49:40.800 --> 01:49:41.840
<v Speaker 2>Stop.

01:49:42.400 --> 01:49:44.239
<v Speaker 2>What's cube monkey config map?

01:49:45.440 --> 01:49:47.360
<v Speaker 0>There is the cube monkey pod running as

01:49:47.360 --> 01:49:48.719
<v Speaker 0>well. I wasn't sure if you noticed the

01:49:48.719 --> 01:49:48.960
<v Speaker 0>earlier.

01:49:50.364 --> 01:49:52.125
<v Speaker 5>Okay. I'm assuming that's not a

01:49:53.804 --> 01:49:55.565
<v Speaker 2>Yeah. So that's probably the one I think.

01:49:55.485 --> 01:49:57.085
<v Speaker 2>Think we're gonna need to so I think

01:49:57.085 --> 01:49:58.364
<v Speaker 2>we're gonna need to a look at Cilium

01:49:58.364 --> 01:50:00.685
<v Speaker 2>config to figure out what what's happening there

01:50:00.685 --> 01:50:02.205
<v Speaker 2>because we're probably gonna have to put Cilium

01:50:02.364 --> 01:50:03.405
<v Speaker 2>fix Cilium config,

01:50:04.830 --> 01:50:06.910
<v Speaker 2>and then we might have to delete KubeMonkey

01:50:06.910 --> 01:50:09.150
<v Speaker 2>config mapping. We need to play the.

01:50:12.990 --> 01:50:13.949
<v Speaker 2>Alright.

01:50:14.270 --> 01:50:16.430
<v Speaker 2>Look look for KubeMonkey in here, would you?

01:50:17.470 --> 01:50:19.790
<v Speaker 0>I would do an edit on this just

01:50:19.005 --> 01:50:21.885
<v Speaker 0>so that we don't have to scroll. Yep.

01:50:24.844 --> 01:50:25.644
<v Speaker 4>And then

01:50:32.925 --> 01:50:34.364
<v Speaker 6>about cube proxy replace?

01:50:37.380 --> 01:50:39.380
<v Speaker 2>It was set to disabled.

01:50:40.500 --> 01:50:41.140
<v Speaker 0>Okay.

01:50:42.900 --> 01:50:44.580
<v Speaker 0>Did we have a Kube proxy running in

01:50:44.580 --> 01:50:45.700
<v Speaker 0>the Kube system namespace?

01:50:47.475 --> 01:50:49.155
<v Speaker 2>I don't think it's a question.

01:50:57.955 --> 01:50:58.675
<v Speaker 5>What

01:50:59.074 --> 01:51:00.594
<v Speaker 5>am I taking again? Is it

01:51:00.915 --> 01:51:03.340
<v Speaker 2>pods pods and KubeSystem. Okay. Now

01:51:08.380 --> 01:51:09.739
<v Speaker 5>we have KubeMonkey.

01:51:09.900 --> 01:51:10.460
<v Speaker 5>Oh.

01:51:11.900 --> 01:51:12.780
<v Speaker 2>We we just

01:51:13.260 --> 01:51:15.574
<v Speaker 2>so let's that so that KubeMonkey is a

01:51:15.574 --> 01:51:17.574
<v Speaker 2>deployment. Let's just delete it in its config

01:51:17.574 --> 01:51:19.975
<v Speaker 2>map because it shouldn't be running. I don't

01:51:19.975 --> 01:51:21.815
<v Speaker 2>know what it is, but that seems very

01:51:21.815 --> 01:51:23.014
<v Speaker 2>highly suspicious.

01:51:23.895 --> 01:51:26.055
<v Speaker 5>Or actually, don't let's not delete no. Let's

01:51:26.055 --> 01:51:28.780
<v Speaker 2>not delete the pod. Let's edit the deployment

01:51:28.780 --> 01:51:30.780
<v Speaker 2>scale to zero. That way we don't if

01:51:30.780 --> 01:51:32.460
<v Speaker 2>if it is necessary for something, we don't

01:51:32.460 --> 01:51:33.260
<v Speaker 2>lose it.

01:51:35.820 --> 01:51:38.060
<v Speaker 2>So just do two. So this is least

01:51:38.060 --> 01:51:38.860
<v Speaker 2>you can do.

01:51:39.260 --> 01:51:40.140
<v Speaker 2>Yep. That'll work.

01:51:49.824 --> 01:51:51.025
<v Speaker 5>And what are we editing?

01:51:52.080 --> 01:51:54.640
<v Speaker 2>Replicas. So you said the scale? Oh, zero.

01:51:54.640 --> 01:51:56.720
<v Speaker 5>Got it. Scale it down. Yeah. Scale is

01:51:56.720 --> 01:51:59.199
<v Speaker 2>DOCC. Replicas is the the

01:51:59.520 --> 01:52:01.760
<v Speaker 2>Kubernetes name for that.

01:52:03.920 --> 01:52:05.360
<v Speaker 5>And then we'll do this guy.

01:52:05.680 --> 01:52:06.960
<v Speaker 5>Something should have happened. Right?

01:52:09.095 --> 01:52:09.815
<v Speaker 0>Yeah.

01:52:11.255 --> 01:52:12.935
<v Speaker 0>So you're probably going to want to turn

01:52:12.935 --> 01:52:15.095
<v Speaker 0>on the cube proxy replacement

01:52:15.815 --> 01:52:17.895
<v Speaker 0>because we have no cube proxy, so there's

01:52:17.895 --> 01:52:18.935
<v Speaker 0>no custom networking.

01:52:19.815 --> 01:52:20.215
<v Speaker 0>Right.

01:52:22.639 --> 01:52:25.599
<v Speaker 2>So should that be enabled then? There are

01:52:25.599 --> 01:52:28.400
<v Speaker 0>two potential values. There's probe and there's strict.

01:52:28.400 --> 01:52:29.760
<v Speaker 0>I would go with probe.

01:52:33.679 --> 01:52:34.960
<v Speaker 2>What what do those do, David?

01:52:36.025 --> 01:52:37.705
<v Speaker 0>Probe allows us to do checks to see

01:52:37.705 --> 01:52:39.305
<v Speaker 0>if it should be taken over, and I

01:52:39.305 --> 01:52:40.985
<v Speaker 0>think strength enforces

01:52:40.985 --> 01:52:43.065
<v Speaker 0>it to run and do e b p

01:52:43.065 --> 01:52:43.945
<v Speaker 0>f routing.

01:52:44.585 --> 01:52:46.345
<v Speaker 0>I can't remember exactly, but I think that's

01:52:46.345 --> 01:52:46.585
<v Speaker 0>correct.

01:52:48.310 --> 01:52:49.590
<v Speaker 2>We we we

01:52:50.230 --> 01:52:51.590
<v Speaker 2>the cluster that I work on mostly use

01:52:51.590 --> 01:52:53.750
<v Speaker 2>Cooper routers, so I haven't done much of

01:52:53.750 --> 01:52:54.390
<v Speaker 2>Cillium.

01:52:54.630 --> 01:52:56.310
<v Speaker 0>You'll need to do a rollout of the

01:52:56.310 --> 01:52:57.110
<v Speaker 0>Cillium

01:52:57.110 --> 01:52:58.070
<v Speaker 0>pods.

01:52:58.870 --> 01:53:01.355
<v Speaker 0>But there was a keen eye comment from

01:53:01.355 --> 01:53:03.835
<v Speaker 0>Noel in the chat suggesting that they noticed

01:53:03.835 --> 01:53:06.955
<v Speaker 0>this Celium deployment was actually mounting the monkey

01:53:06.955 --> 01:53:09.195
<v Speaker 0>config map. So you may wanna Oh. Check

01:53:09.195 --> 01:53:10.235
<v Speaker 4>that too. Okay.

01:53:10.555 --> 01:53:12.235
<v Speaker 6>Go to Celium deployment and

01:53:12.650 --> 01:53:14.409
<v Speaker 6>let's edit that out. And the cube system

01:53:14.409 --> 01:53:14.969
<v Speaker 0>namespace.

01:53:26.915 --> 01:53:27.715
<v Speaker 6>The

01:53:27.875 --> 01:53:29.474
<v Speaker 6>Cilium deployment. Yeah?

01:53:29.955 --> 01:53:32.114
<v Speaker 2>The I think it'd be the Cilium operator.

01:53:32.675 --> 01:53:34.515
<v Speaker 2>Nope. So we were looking at the Cilium

01:53:34.515 --> 01:53:37.155
<v Speaker 2>daemon set, and we searched for monkey who

01:53:37.155 --> 01:53:37.795
<v Speaker 2>didn't see it.

01:53:39.860 --> 01:53:41.219
<v Speaker 0>Yeah. So I would just

01:53:41.539 --> 01:53:43.539
<v Speaker 0>edit the demon set,

01:53:44.099 --> 01:53:46.260
<v Speaker 0>change any value, or do a a rollout

01:53:46.260 --> 01:53:47.780
<v Speaker 0>because you need you need it to pick

01:53:47.780 --> 01:53:48.099
<v Speaker 0>up that.

01:53:51.935 --> 01:53:53.375
<v Speaker 5>The silly one right here?

01:53:53.855 --> 01:53:54.574
<v Speaker 5>Yeah.

01:54:04.335 --> 01:54:07.055
<v Speaker 2>Alright. So search for monkey again, would you?

01:54:09.510 --> 01:54:11.510
<v Speaker 0>Noel has retracted his statement.

01:54:16.150 --> 01:54:17.910
<v Speaker 2>Guy. Well, there might not be a monkey,

01:54:17.910 --> 01:54:20.070
<v Speaker 0>but just make an artificial change to to

01:54:20.070 --> 01:54:22.230
<v Speaker 0>rotate those pods over and see if we

01:54:22.230 --> 01:54:23.185
<v Speaker 0>get. The

01:54:23.425 --> 01:54:26.385
<v Speaker 0>if we can't call 30 our networking isn't

01:54:26.385 --> 01:54:26.945
<v Speaker 0>working.

01:54:27.665 --> 01:54:30.304
<v Speaker 5>So an artificial change, what what would that

01:54:30.304 --> 01:54:30.864
<v Speaker 5>be?

01:54:31.585 --> 01:54:32.945
<v Speaker 0>Just add a new label. Yep.

01:54:34.225 --> 01:54:35.745
<v Speaker 5>What? Add a new label.

01:54:37.240 --> 01:54:39.800
<v Speaker 2>So under the template There we go. Yep.

01:54:39.800 --> 01:54:41.720
<v Speaker 2>Nope. No. No. No. Not that. That's not

01:54:41.720 --> 01:54:43.160
<v Speaker 2>gonna do it. You have to go down

01:54:43.160 --> 01:54:45.400
<v Speaker 2>to the spec templates

01:54:46.120 --> 01:54:48.760
<v Speaker 2>labels. Just add a label underneath. See where

01:54:48.760 --> 01:54:50.120
<v Speaker 2>it says labels? Just a few lines down

01:54:50.120 --> 01:54:52.200
<v Speaker 2>from where from there. It says k h

01:54:52.200 --> 01:54:54.575
<v Speaker 2>a. Just add an additional label.

01:54:56.575 --> 01:54:57.375
<v Speaker 2>Right.

01:54:58.255 --> 01:54:58.975
<v Speaker 2>Yeah.

01:54:59.295 --> 01:54:59.935
<v Speaker 2>It's called

01:55:01.055 --> 01:55:01.935
<v Speaker 2>there you go.

01:55:02.335 --> 01:55:03.855
<v Speaker 5>I can just put a null or something.

01:55:03.855 --> 01:55:06.510
<v Speaker 5>It doesn't matter. Yeah. Empty string will work.

01:55:12.030 --> 01:55:14.270
<v Speaker 0>And we should see those pods moving.

01:55:18.344 --> 01:55:19.144
<v Speaker 0>Yep. I

01:55:19.864 --> 01:55:21.625
<v Speaker 0>mean, we could also have done a control

01:55:21.625 --> 01:55:24.744
<v Speaker 0>rollout restart demons at the end, but who's

01:55:24.744 --> 01:55:25.784
<v Speaker 0>got time for that?

01:55:26.344 --> 01:55:28.184
<v Speaker 0>I'm more of a delete pods dash dash

01:55:28.184 --> 01:55:29.465
<v Speaker 0>all kind of person.

01:55:30.425 --> 01:55:30.664
<v Speaker 0>Too.

01:55:35.040 --> 01:55:37.280
<v Speaker 0>Yeah. You could probably try local host and

01:55:37.280 --> 01:55:37.840
<v Speaker 0>see

01:55:38.640 --> 01:55:39.520
<v Speaker 0>if that's working.

01:55:45.895 --> 01:55:47.735
<v Speaker 5>Yep.

01:55:49.655 --> 01:55:52.295
<v Speaker 5>Oh, look at that. That's bear.

01:55:52.775 --> 01:55:53.415
<v Speaker 0>Right?

01:55:53.975 --> 01:55:56.455
<v Speaker 0>There we go. Oh, yeah. It's up.

01:55:57.510 --> 01:55:58.070
<v Speaker 0>Cool.

01:55:58.469 --> 01:56:00.469
<v Speaker 6>Go to the go to the cluster. Oh,

01:56:00.469 --> 01:56:02.949
<v Speaker 5>Stay the skirt. Oh, that's good. Very nice.

01:56:04.150 --> 01:56:05.989
<v Speaker 5>Finally. We got to use the hints. I'm

01:56:05.989 --> 01:56:06.469
<v Speaker 5>glad.

01:56:06.869 --> 01:56:08.309
<v Speaker 5>It's all good. Actually, I don't think you

01:56:08.469 --> 01:56:09.829
<v Speaker 0>I mean, we read the hints, but I

01:56:09.829 --> 01:56:11.525
<v Speaker 0>think you were already there. Like, you were

01:56:11.525 --> 01:56:12.965
<v Speaker 0>you were ahead of the hints. Like, none

01:56:12.965 --> 01:56:14.804
<v Speaker 0>of the hints were surprising to you. Right?

01:56:15.045 --> 01:56:17.044
<v Speaker 0>So Right. Yeah. Yeah. Yeah.

01:56:17.925 --> 01:56:20.564
<v Speaker 2>Yeah. This is fun. Two

01:56:20.804 --> 01:56:23.685
<v Speaker 0>tough clusters. Thanks. Damn. Thank you, Skye. I

01:56:23.685 --> 01:56:25.445
<v Speaker 5>think breaking is a little a little easier,

01:56:25.445 --> 01:56:25.685
<v Speaker 5>but

01:56:28.989 --> 01:56:31.469
<v Speaker 0>Alright. Well, thank you so much for joining

01:56:31.469 --> 01:56:33.550
<v Speaker 0>me. It was great watching you as well.

01:56:33.550 --> 01:56:34.989
<v Speaker 5>Thanks for having us. I'm glad we we

01:56:34.989 --> 01:56:36.910
<v Speaker 0>stuck with that. We were so close for

01:56:36.910 --> 01:56:38.830
<v Speaker 0>for a while there. I'm really, really sorry

01:56:38.830 --> 01:56:41.070
<v Speaker 0>for leading you down the HTTP binary.

01:56:41.355 --> 01:56:43.915
<v Speaker 0>I'm gonna kick myself for that. That makes

01:56:43.915 --> 01:56:45.435
<v Speaker 2>it more realistic. That's how it works in

01:56:45.435 --> 01:56:46.875
<v Speaker 2>production for real.

01:56:47.114 --> 01:56:48.315
<v Speaker 2>I think it was great.

01:56:48.795 --> 01:56:51.755
<v Speaker 0>Alright. Well, thank you again. Have a wonderful

01:56:51.755 --> 01:56:54.155
<v Speaker 0>evening. Enjoy your weekend. Thank you to all

01:56:54.155 --> 01:56:55.195
<v Speaker 0>of our viewers for watching.

01:56:55.760 --> 01:56:58.240
<v Speaker 0>Thank you to Teleport for sponsoring. We will

01:56:58.240 --> 01:57:00.480
<v Speaker 0>be back next week. Thanks all.

01:57:01.040 --> 01:57:02.320
<v Speaker 5>Bye, everyone. Bye all.
