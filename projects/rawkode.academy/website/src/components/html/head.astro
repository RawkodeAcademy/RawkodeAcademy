---
import { Font } from "astro:assets";
import type { OpenGraphProps } from "@/types/opengraph";
import PostHog from "../posthog/index.astro";
import Opengraph from "./opengraph.astro";
import SearchActionJsonLd from "./search-action-jsonld.astro";
import OrganizationJsonLd from "./organization-jsonld.astro";

interface Props extends OpenGraphProps {}
---

<style is:global>
	@reference "@/styles/global.css";



	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply font-display;
	}

	body {
		font-family: var(--font-body);
	}

	pre,
	code,
	kbd,
	samp,
	tt {
		@apply font-mono;
	}
</style>

<head>
	<Font cssVariable="--font-quicksand" preload />
	<Font cssVariable="--font-poppins" preload />
	<Font cssVariable="--font-monaspace-neon" />
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
	<link rel="manifest" href="/site.webmanifest" />
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
	<meta name="msapplication-TileColor" content="#da532c" />
	<meta name="theme-color" content="#5F5ED7" />
	<meta
		name="description"
		content={Astro.props.description ||
			"The Rawkode Academy provides educational, entertaining, and cutting-edge learning paths for you, or your developers, to keep up with the fast-paced, ever-evolving, and extremely volatile Cloud Native landscape."}
	/>

	<title>{Astro.props.title}</title>

	<!-- Canonical URL -->
	<link rel="canonical" href={new URL(Astro.url.pathname, Astro.site).href} />

	<Opengraph {...Astro.props} />
	<SearchActionJsonLd />
	<OrganizationJsonLd />

	<!-- Resource hints for performance -->
	<link rel="preconnect" href="https://content.rawkode.academy" />
	<link rel="preconnect" href="https://avatars.githubusercontent.com" />
    <link rel="preconnect" href="https://unpkg.com" />
	<link rel="dns-prefetch" href="https://chat.rawkode.academy" />
	<link rel="dns-prefetch" href="https://zitadel.rawkode.academy" />

	<!-- Preload critical fonts -->

	<slot name="extra-head" />

	<link rel="sitemap" href="/sitemap-index.xml" />

    <PostHog />
</head>
