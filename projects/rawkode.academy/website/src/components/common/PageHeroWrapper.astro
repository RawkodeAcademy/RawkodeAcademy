---
import PageHeroVue from "./PageHero.vue";

interface Stat {
	icon?: unknown;
	label: string;
}

export interface Props {
	title: string;
	subtitle?: string;
	badge?: string;
	stats?: Stat[];
}

const { title, subtitle, badge, stats } = Astro.props;

// Create props object with only defined values
interface VueProps {
	title: string;
	subtitle?: string;
	badge?: string;
	stats?: Stat[];
}

const vueProps: VueProps = { title };
if (subtitle !== undefined) vueProps.subtitle = subtitle;
if (badge !== undefined) vueProps.badge = badge;
if (stats !== undefined) vueProps.stats = stats;
---

<PageHeroVue client:load {...vueProps}>
  <Fragment slot="breadcrumb">
    <slot name="breadcrumb" />
  </Fragment>
  <Fragment slot="actions">
    <slot name="actions" />
  </Fragment>
  <slot />
</PageHeroVue>