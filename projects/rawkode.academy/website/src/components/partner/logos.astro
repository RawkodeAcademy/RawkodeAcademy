---
interface Logo {
	image: typeof import("*?raw");
	fillLight: string;
	fillDark: string;
}

interface Partner {
	name: string;
	url: string;
	since: string;
	logo: Logo;
	level: "Malt" | "Blend" | "Dram" | "Nip";
	description?: string;
	industry?: string;
}

type Partners = Partner[];

const currentPartners: Partners = [
	{
		name: "Heroku",
		level: "Malt",
		since: "2025",
		logo: {
			image: await import("./logos/heroku.svg?raw"),
			fillLight: "#5A1BA9",
			fillDark: "#D7BFF2",
		},
		url: "https://heroku.com",
		description:
			"Pioneering platform-as-a-service provider enabling developers to build, run, and operate applications entirely in the cloud.",
		industry: "Cloud Platform",
	},
	{
		name: "Spectro Cloud",
		level: "Malt",
		since: "2025",
		logo: {
			image: await import("./logos/spectrocloud.svg?raw"),
			fillLight: "#012121",
			fillDark: "#f7f1ed",
		},
		url: "https://spectrocloud.com",
		description:
			"Kubernetes management platform that simplifies the deployment, management, and operations of Kubernetes clusters.",
		industry: "Kubernetes",
	},
	{
		name: "WunderGraph",
		level: "Malt",
		since: "2025",
		logo: {
			image: await import("./logos/wundergraph.svg?raw"),
			fillLight: "#000000",
			fillDark: "#FFFFFF",
		},
		url: "https://wundergraph.com",
		description:
			"The API Gateway that understands GraphQL, REST and more. Build, publish and maintain APIs with a unified workflow.",
		industry: "API Development",
	},
	{
		name: "Zitadel",
		level: "Blend",
		since: "2025",
		logo: {
			image: await import("./logos/zitadel.svg?raw"),
			fillLight: "#101010",
			fillDark: "white",
		},
		url: "https://zitadel.com",
		description:
			"Cloud-native identity and access management platform providing authentication, authorization, and user management.",
		industry: "Identity & Security",
	},
	{
		name: "Guidepad",
		level: "Dram",
		since: "2024",
		logo: {
			image: await import("./logos/guidepad.svg?raw"),
			fillLight: "black",
			fillDark: "white",
		},
		url: "https://guidepad.io",
		description:
			"The Development Framework for managing complexity and expanding capabilities.",
		industry: "Developer Experience",
	},
];

const previousPartners: Partners = [
	{
		name: "Microsoft Azure",
		level: "Nip",
		since: "2024",
		logo: {
			image: await import("./logos/microsoft.svg?raw"),
			fillLight: "#706d6e",
			fillDark: "#706d6e",
		},
		url: "https://azure.com",
		description:
			"Cloud computing service for building, testing, deploying, and managing applications through Microsoft-managed data centers.",
		industry: "Cloud Services",
	},
	{
		name: "Fermyon",
		level: "Nip",
		since: "2024",
		logo: {
			image: await import("./logos/fermyon.svg?raw"),
			fillLight: "#0d203f",
			fillDark: "#34E8BD",
		},
		url: "https://www.fermyon.com/?utm_source=rawkode&utm_medium=logo&utm_campaign=acad-sponsor",
		description:
			"Pioneering serverless WebAssembly platform enabling developers to build microservices with unprecedented efficiency.",
		industry: "WebAssembly",
	},
	{
		name: "ControlPlane",
		level: "Dram",
		since: "2024",
		logo: {
			image: await import("./logos/controlplane.svg?raw"),
			fillLight: "black",
			fillDark: "white",
		},
		url: "https://controlplane.io",
		description:
			"Security engineering specialists helping organizations build and operate secure cloud native infrastructure.",
		industry: "Cloud Security",
	},
	{
		name: "ngrok",
		level: "Blend",
		since: "2024",
		logo: {
			image: await import("./logos/ngrok.svg?raw"),
			fillLight: "#10239E",
			fillDark: "white",
		},
		url: "https://ngrok.com",
		description:
			"Secure tunneling solution that enables developers to expose local servers to the internet and build secure webhook consumers.",
		industry: "Developer Tools",
	},
];
---

<div class="mb-8">
	<p class="text-center text-lg text-gray-600 dark:text-gray-300 mb-8">
		We're proud to collaborate with industry leaders who share our commitment to developer excellence.
		Our partnerships drive innovation and create valuable opportunities for the developer community.
	</p>
</div>


<style is:global>
    .partner-logo svg {
        max-width: 100%;
        max-height: 100%;
        width: auto;
        height: auto;
        display: block;
        margin: 0 auto;
        object-fit: contain;
    }

	.partner-card {
		position: relative;
		overflow: hidden;
		--partner-text-light: var(--partner-fill-light, #5f5ed7);
		--partner-text-dark: var(--partner-fill-dark, #666cff);
	}

		.partner-card::before {
			content: "";
			position: absolute;
			inset: -1px;
			background:
				radial-gradient(circle at 10% 10%, color-mix(in srgb, var(--partner-fill-light, #5f5ed7) 55%, transparent) 0%, transparent 55%),
				linear-gradient(140deg, color-mix(in srgb, var(--partner-fill-light, #5f5ed7) 35%, transparent) 0%, transparent 70%);
			opacity: 0.4;
			pointer-events: none;
			z-index: 0;
	}

	.dark .partner-card::before {
		background: radial-gradient(circle at 15% 15%, color-mix(in srgb, var(--partner-fill-dark, #666cff) 60%, transparent) 0%, transparent 55%),
			linear-gradient(140deg, color-mix(in srgb, var(--partner-fill-dark, #666cff) 45%, transparent) 0%, transparent 70%);
		opacity: 0.6;
	}

	.partner-card > * {
		position: relative;
		z-index: 1;
	}

	.partner-cta {
		box-shadow: 0 20px 45px rgba(0, 0, 0, 0.22);
		background-image: linear-gradient(135deg, var(--cta-start, var(--partner-fill-light, #5f5ed7)), var(--cta-end, var(--partner-fill-dark, #8181ff)));
	}

		.dark .partner-cta {
			box-shadow: 0 25px 65px rgba(0, 0, 0, 0.55);
		}

	.partner-text {
		color: var(--partner-text-light);
	}

	.dark .partner-text {
		color: var(--partner-text-dark);
	}

	.partner-text-muted {
		color: color-mix(in srgb, var(--partner-text-light), white 45%);
	}

	.dark .partner-text-muted {
		color: color-mix(in srgb, var(--partner-text-dark), black 35%);
	}

	.partner-chip {
		border-color: color-mix(in srgb, var(--partner-text-light), white 30%);
	}

	.dark .partner-chip {
		border-color: color-mix(in srgb, var(--partner-text-dark), black 40%);
	}
</style>

<!-- Current Partners -->
<div class="mb-16">
	<h3 class="text-2xl font-bold text-center mb-8 text-gray-900 dark:text-white">Current Partners</h3>
	<div class="grid grid-cols-1 text-center gap-8 md:grid-cols-2 xl:grid-cols-3">
		{
			currentPartners.map(async (partner) => (
					<div
						class="partner-card glass-card rounded-3xl p-6 transition-all duration-300 hover:-translate-y-1 hover:border-primary/40"
						style={`--partner-fill-light: ${partner.logo.fillLight}; --partner-fill-dark: ${partner.logo.fillDark}; --partner-text-light: ${partner.logo.fillLight}; --partner-text-dark: ${partner.logo.fillDark};`}
					>
						<div class="flex flex-col h-full relative z-10">
							<div class="grow">
								<div
									class="partner-logo flex justify-center items-center w-full h-24 mx-auto mb-4 transition-transform duration-300 group-hover:scale-105"
									style={`fill: light-dark(${partner.logo.fillLight}, ${partner.logo.fillDark});`}
								>
									<div class="w-48 h-24 flex items-center justify-center">
										<Fragment set:html={partner.logo.image.default} />
									</div>
								</div>

							<div class="flex items-center justify-center mt-3 mb-4">
								<span class="glass-chip partner-chip text-xs tracking-wide uppercase">
									Since {partner.since}
								</span>
							</div>

							{partner.industry && (
								<div class="mb-3">
									<span class="text-sm font-semibold partner-text">
										{partner.industry}
									</span>
								</div>
							)}

							{partner.description && (
								<p class="text-sm partner-text-muted mb-4">
									{partner.description}
								</p>
							)}
						</div>
							<div class="mt-auto">
								<a
									href={partner.url}
									title={`Visit ${partner.name} website`}
									target="_blank"
									class="partner-cta inline-flex items-center justify-center px-4 py-2 text-sm font-semibold text-white rounded-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary/60 focus-visible:ring-offset-white dark:focus-visible:ring-offset-transparent transition-all duration-200 gap-2 hover:-translate-y-0.5"
									style={`--cta-start: ${partner.logo.fillLight}; --cta-end: ${partner.logo.fillDark}; --partner-fill-light: ${partner.logo.fillLight}; --partner-fill-dark: ${partner.logo.fillDark};`}
									role="button"
								>
								<svg aria-hidden="true" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
									<path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
									<path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
								</svg>
								Visit {partner.name}
							</a>
						</div>
					</div>
				</div>
			))
		}
	</div>
</div>

<!-- Previous Partners -->
<div class="mt-16 pt-16 border-t border-gray-200 dark:border-gray-700">
	<h3 class="text-2xl font-bold text-center mb-4 text-gray-900 dark:text-white">Previous Partners</h3>
	<p class="text-center text-gray-600 dark:text-gray-400 mb-12 max-w-2xl mx-auto">
		We're grateful for the partnerships that have shaped our journey and contributed to the developer community.
	</p>
	
	<!-- Brand Wall Grid -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto">
        {
            previousPartners.map(async (partner) => (
                <div class="group relative flex flex-col items-center gap-2">
                    <!-- Logo -->
                    <div
                        class="partner-logo flex justify-center items-center w-full h-16 mb-3 opacity-60 group-hover:opacity-75 transition-all duration-300"
                        style={`fill: light-dark(${partner.logo.fillLight}, ${partner.logo.fillDark});`}
                        title={partner.name}
                    >
                        <div class="w-32 flex items-center justify-center">
                            <Fragment set:html={partner.logo.image.default} />
                        </div>
                    </div>
				</div>
			))
		}
	</div>
</div>
