---
interface Logo {
	image: typeof import("*?raw");
	fillLight: string;
	fillDark: string;
}

interface Partner {
	name: string;
	url: string;
	since: string;
	logo: Logo;
	level: "Malt" | "Blend" | "Dram" | "Nip";
	description?: string;
	industry?: string;
}

type Partners = Partner[];

const currentPartners: Partners = [
	{
		name: "Heroku",
		level: "Malt",
		since: "2025",
		logo: {
			image: await import("./logos/heroku.svg?raw"),
			fillLight: "#5A1BA9",
			fillDark: "#D7BFF2",
		},
		url: "https://heroku.com",
		description:
			"Pioneering platform-as-a-service provider enabling developers to build, run, and operate applications entirely in the cloud.",
		industry: "Cloud Platform",
	},
	{
		name: "Spectro Cloud",
		level: "Malt",
		since: "2025",
		logo: {
			image: await import("./logos/spectrocloud.svg?raw"),
			fillLight: "#012121",
			fillDark: "#f7f1ed",
		},
		url: "https://spectrocloud.com",
		description:
			"Kubernetes management platform that simplifies the deployment, management, and operations of Kubernetes clusters.",
		industry: "Kubernetes",
	},
	{
		name: "WunderGraph",
		level: "Malt",
		since: "2025",
		logo: {
			image: await import("./logos/wundergraph.svg?raw"),
			fillLight: "#000000",
			fillDark: "#FFFFFF",
		},
		url: "https://wundergraph.com",
		description:
			"The API Gateway that understands GraphQL, REST and more. Build, publish and maintain APIs with a unified workflow.",
		industry: "API Development",
	},
	{
		name: "Zitadel",
		level: "Blend",
		since: "2025",
		logo: {
			image: await import("./logos/zitadel.svg?raw"),
			fillLight: "#101010",
			fillDark: "white",
		},
		url: "https://zitadel.com",
		description:
			"Cloud-native identity and access management platform providing authentication, authorization, and user management.",
		industry: "Identity & Security",
	},
	{
		name: "Guidepad",
		level: "Dram",
		since: "2024",
		logo: {
			image: await import("./logos/guidepad.svg?raw"),
			fillLight: "black",
			fillDark: "white",
		},
		url: "https://guidepad.io",
		description:
			"The Development Framework for managing complexity and expanding capabilities.",
		industry: "Developer Experience",
	},
];

const previousPartners: Partners = [
	{
		name: "Microsoft Azure",
		level: "Nip",
		since: "2024",
		logo: {
			image: await import("./logos/microsoft.svg?raw"),
			fillLight: "#706d6e",
			fillDark: "#706d6e",
		},
		url: "https://azure.com",
		description:
			"Cloud computing service for building, testing, deploying, and managing applications through Microsoft-managed data centers.",
		industry: "Cloud Services",
	},
	{
		name: "Fermyon",
		level: "Nip",
		since: "2024",
		logo: {
			image: await import("./logos/fermyon.svg?raw"),
			fillLight: "#0d203f",
			fillDark: "#34E8BD",
		},
		url: "https://www.fermyon.com/?utm_source=rawkode&utm_medium=logo&utm_campaign=acad-sponsor",
		description:
			"Pioneering serverless WebAssembly platform enabling developers to build microservices with unprecedented efficiency.",
		industry: "WebAssembly",
	},
	{
		name: "ControlPlane",
		level: "Dram",
		since: "2024",
		logo: {
			image: await import("./logos/controlplane.svg?raw"),
			fillLight: "black",
			fillDark: "white",
		},
		url: "https://controlplane.io",
		description:
			"Security engineering specialists helping organizations build and operate secure cloud native infrastructure.",
		industry: "Cloud Security",
	},
	{
		name: "ngrok",
		level: "Blend",
		since: "2024",
		logo: {
			image: await import("./logos/ngrok.svg?raw"),
			fillLight: "#10239E",
			fillDark: "white",
		},
		url: "https://ngrok.com",
		description:
			"Secure tunneling solution that enables developers to expose local servers to the internet and build secure webhook consumers.",
		industry: "Developer Tools",
	},
];
---

<div class="mb-8">
	<p class="text-center text-lg text-gray-600 dark:text-gray-300 mb-8">
		We're proud to collaborate with industry leaders who share our commitment to developer excellence.
		Our partnerships drive innovation and create valuable opportunities for the developer community.
	</p>
</div>

<!-- Current Partners -->
<div class="mb-16">
	<h3 class="text-2xl font-bold text-center mb-8 text-gray-900 dark:text-white">Current Partners</h3>
	<div class="grid grid-cols-1 text-center gap-8 md:grid-cols-2 xl:grid-cols-3">
		{
			currentPartners.map(async (partner) => (
				<div class="group relative p-6 rounded-lg transition-all duration-300 hover:shadow-xl dark:hover:shadow-gray-800 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 hover:border-primary/30 dark:hover:border-primary/30">
					<div class="flex flex-col h-full">
						<div class="grow">
							<div
								class="flex justify-center items-center w-full h-24 mx-auto mb-4 transition-transform duration-300 group-hover:scale-105"
								style=`fill: light-dark(${partner.logo.fillLight}, ${partner.logo.fillDark});`
							>
								<div class="w-48 flex items-center justify-center">
									<Fragment set:html={partner.logo.image.default} />
								</div>
							</div>

							<div class="flex items-center justify-center gap-2 mt-3 mb-4">
								<span class={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${
									partner.level === "Malt"
										? "bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"
										: partner.level === "Blend"
										? "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"
										: partner.level === "Dram"
										? "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"
										: "bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"
								}`}>
									{partner.level} Partner
								</span>
								<span class="text-sm text-gray-500 dark:text-gray-400">
									Since {partner.since}
								</span>
							</div>

							{partner.industry && (
								<div class="mb-3">
									<span class="text-sm font-semibold text-gray-700 dark:text-gray-300">
										{partner.industry}
									</span>
								</div>
							)}

							{partner.description && (
								<p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
									{partner.description}
								</p>
							)}
						</div>
						<div class="mt-auto">
							<a
								href={partner.url}
								title={`Visit ${partner.name} website`}
								target="_blank"
								class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg focus:outline-none hover:bg-gray-50 hover:text-primary focus:z-10 focus:ring-2 focus:ring-primary/30 dark:focus:ring-primary/30 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white transition-colors duration-200"
								role="button"
							>
								<svg
									aria-hidden="true"
									class="w-4 h-4 mr-2"
									xmlns="http://www.w3.org/2000/svg"
									viewBox="0 0 20 20"
									fill="currentColor"
								>
									<path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
									<path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
								</svg>
								Visit {partner.name}
							</a>
						</div>
					</div>
				</div>
			))
		}
	</div>
</div>

<!-- Previous Partners -->
<div>
	<h3 class="text-2xl font-bold text-center mb-8 text-gray-900 dark:text-white">Previous Partners</h3>
	<p class="text-center text-gray-600 dark:text-gray-400 mb-8">
		We're grateful for the partnerships that have shaped our journey and contributed to the developer community.
	</p>
	<div class="grid grid-cols-1 text-center gap-8 md:grid-cols-2 xl:grid-cols-3">
		{
			previousPartners.map(async (partner) => (
				<div class="group relative p-6 rounded-lg transition-all duration-300 hover:shadow-lg dark:hover:shadow-gray-700 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600">
					<div class="flex flex-col h-full">
						<div class="grow">
							<div
								class="flex justify-center items-center w-full h-24 mx-auto mb-4 opacity-75 transition-transform duration-300 group-hover:scale-105"
								style=`fill: light-dark(${partner.logo.fillLight}, ${partner.logo.fillDark});`
							>
								<div class="w-48 flex items-center justify-center">
									<Fragment set:html={partner.logo.image.default} />
								</div>
							</div>

							<div class="flex items-center justify-center gap-2 mt-3 mb-4">
								<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300">
									Former {partner.level} Partner
								</span>
								<span class="text-sm text-gray-500 dark:text-gray-500">
									{partner.since}
								</span>
							</div>

							{partner.industry && (
								<div class="mb-3">
									<span class="text-sm font-semibold text-gray-600 dark:text-gray-400">
										{partner.industry}
									</span>
								</div>
							)}

							{partner.description && (
								<p class="text-sm text-gray-500 dark:text-gray-500 mb-4">
									{partner.description}
								</p>
							)}
						</div>
						<div class="mt-auto">
							<a
								href={partner.url}
								title={`Visit ${partner.name} website`}
								target="_blank"
								class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none hover:bg-gray-100 hover:text-gray-900 focus:z-10 focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:text-white transition-colors duration-200"
								role="button"
							>
								<svg
									aria-hidden="true"
									class="w-4 h-4 mr-2"
									xmlns="http://www.w3.org/2000/svg"
									viewBox="0 0 20 20"
									fill="currentColor"
								>
									<path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
									<path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
								</svg>
								Visit {partner.name}
							</a>
						</div>
					</div>
				</div>
			))
		}
	</div>
</div>