---
import Page from "@/wrappers/page.astro";
import VideoFeed from "../components/video/video-feed.astro";
import VideoMetadata from "../components/html/video-metadata.astro";

const latestVideosQuery = `
  query GetLatestVideos($limit: Int!) {
    getLatestVideos(limit: $limit) {
      title
      thumbnailUrl
      duration
      slug
      publishedAt
      streamUrl
    }
  }
`;

// Placeholder for the random videos query - user will provide this
const randomVideosQuery = `
  query GetRandomVideos($limit: Int!) {
    getRandomVideos(limit: $limit) {
      title
      thumbnailUrl
      duration
      slug
      publishedAt
      streamUrl
    }
  }
`;
---

<Page title="Videos">
  <VideoMetadata
    slot="extra-head"
    title="Rawkode Academy Videos"
    description="Explore our collection of educational videos about cloud native technologies, development practices, and more."
    isVideoList={true}
  />
  <div class="bg-gray-50 dark:bg-gray-800">
    <VideoFeed
      title="Latest Videos"
      description="Stay up to date with our newest content"
      operation="getLatestVideos"
      query={latestVideosQuery}
      limit={12}
    />
  </div>
  <div class="bg-white dark:bg-gray-900">
    <VideoFeed
      title="Random Videos"
      description="Discover something new from our collection"
      operation="getRandomVideos"
      query={randomVideosQuery}
      limit={12}
    />
  </div>
</Page>
