---
import Page from "@/wrappers/page.astro";
import PageHero from "@/components/common/PageHero.vue";
import Button from "@/components/common/Button.vue";
import monogramSvgRaw from "@/components/branding/logos/monogram.svg?raw";
import monogramSvgFile from "@/components/branding/logos/monogram.svg?url";
import wordmarkSvgRaw from "@/components/branding/logos/wordmark.svg?raw";
import wordmarkSvgFile from "@/components/branding/logos/wordmark.svg?url";
import iconSvgRaw from "@/components/branding/logos/logo.svg?raw";
import iconSvgFile from "@/components/branding/logos/logo.svg?url";

export const prerender = true;

const colorThemes = [
  {
    name: "Rawkode Green Theme",
    badge: "Default",
    description: "Everyday Rawkode Academy brand moments — content, docs, livestreams, and merch.",
    gradient: "from-[#04B59C]/60 via-transparent to-[#85FF95]/50",
    colors: [
      { label: "Teal", hex: "#04B59C", usage: "Primary actions & hero gradients" },
      { label: "Green", hex: "#85FF95", usage: "Glow accents & CTA outlines" },
      { label: "Black", hex: "#23282D", usage: "Typography & surfaces" },
    ],
  },
  {
    name: "Rawkode Blue Theme",
    badge: "System",
    description: "Use when we co-brand with developer tooling or infra partners who lean blue.",
    gradient: "from-[#5F5ED7]/60 via-transparent to-[#00CEFF]/50",
    colors: [
      { label: "Purple", hex: "#5F5ED7", usage: "Primary headlines & hero sweeps" },
      { label: "Blue", hex: "#00CEFF", usage: "Buttons, inputs, status" },
      { label: "Black", hex: "#23282D", usage: "Depth, borders, typography" },
    ],
  },
];

const brandGradients = [
  {
    id: "academy",
    name: "Rawkode Academy Gradient",
    angleLabel: "45°",
    angleDeg: 45,
    description: "Academy visuals run from teal into green (page 8), mirrored across hero cards and merch.",
    stops: [
      { label: "Teal", hex: "#04B59C", offset: "0%" },
      { label: "Green", hex: "#85FF95", offset: "100%" },
    ],
    usage: "Use when the Academy is the lead brand story: curriculum launches, learning hub surfaces, etc.",
    background: "linear-gradient(45deg, #04B59C 0%, #85FF95 100%)",
  },
  {
    id: "core",
    name: "Rawkode Core Gradient",
    angleLabel: "45°",
    angleDeg: 45,
    description: "Primary Rawkode lockups transition from purple into blue as documented in the PDF (page 5).",
    stops: [
      { label: "Purple", hex: "#5F5ED7", offset: "0%" },
      { label: "Blue", hex: "#00CEFF", offset: "100%" },
    ],
    usage: "Keep for Rawkode logos, backdrops, and partner lockups tied to the core company brand.",
    background: "linear-gradient(45deg, #5F5ED7 0%, #00CEFF 100%)",
  },
];

const logoAssets = [
  {
    slug: "monogram",
    name: "Monogram",
    description:
      "Use for avatars, favicons, stickers, or anywhere the brand needs to fit in a square. Keep plenty of breathing room so the M shape stays crisp.",
    previewWrapper: "w-40 h-40 md:w-48 md:h-48 shrink-0",
    assetClass: "brand-logo--padded",
    asset: monogramSvgRaw,
    downloadUrl: monogramSvgFile,
    downloadName: "Rawkode-Academy-Monogram.svg",
    useCases: ["Avatars & profile badges", "Social icons", "Overlays on content"],
  },
  {
    slug: "icon",
    name: "Icon",
    description:
      "Square logo built for UI chrome, app tiles, or partner lockups that need a bold geometric mark.",
    previewWrapper: "w-40 h-40 md:w-48 md:h-48 shrink-0",
    assetClass: "",
    asset: iconSvgRaw,
    downloadUrl: iconSvgFile,
    downloadName: "Rawkode-Academy-Icon.svg",
    useCases: ["Product UI", "Square partner placements", "Small merch runs"],
  },
  {
    slug: "wordmark",
    name: "Wordmark",
    description:
      "Full logotype for hero sections, brochures, and anywhere legibility is critical. Only scale proportionally; never stretch.",
    previewWrapper: "w-full h-24 md:h-28",
    assetClass: "brand-logo--wide",
    cardClass: "md:min-w-[320px]",
    asset: wordmarkSvgRaw,
    downloadUrl: wordmarkSvgFile,
    downloadName: "Rawkode-Academy-Wordmark.svg",
    useCases: ["Headers & banners", "Email signatures", "Printed materials"],
  },
];

const encodeSvgForCss = (svg: string) =>
  svg
    .replace(/[\n\r]+/g, " ")
    .replace(/\s{2,}/g, " ")
    .replace(/"/g, "'")
    .replace(/%/g, "%25")
    .replace(/#/g, "%23")
    .replace(/{/g, "%7B")
    .replace(/}/g, "%7D")
    .replace(/</g, "%3C")
    .replace(/>/g, "%3E");

const logoPreviewAssets = logoAssets.map((logo) => ({
  ...logo,
  maskUrl: `url("data:image/svg+xml,${encodeSvgForCss(logo.asset)}")`,
}));

const logoDownloadJson = JSON.stringify(
  logoPreviewAssets.map((logo) => ({
    slug: logo.slug,
    svg: logo.asset,
    downloadName: logo.downloadName ?? `${logo.name}.svg`,
  })),
).replace(/</g, "\\u003C");

const gradientDownloadJson = JSON.stringify(
  brandGradients.map((gradient) => ({
    id: gradient.id,
    name: gradient.name,
    angle: gradient.angleDeg,
    stops: gradient.stops.map((stop) => ({ offset: stop.offset ?? "", color: stop.hex })),
  })),
).replace(/</g, "\\u003C");

const defaultGradientId = brandGradients[0]?.id ?? null;
const defaultLogoGradient = brandGradients[0]?.background ?? "linear-gradient(45deg, #5F5ED7 0%, #00CEFF 100%)";
---

<Page title="Branding | Rawkode Academy" description="Official Rawkode Academy brand assets — logos, colors, and usage guidelines for partners.">
  <PageHero title="Branding Guidelines" subtitle="Our brand assets, color system, and recommended usage for partners" badge="Partner Resources">
    <Fragment slot="actions">
      <Button variant="primary" href="#assets">View Assets</Button>
    </Fragment>
  </PageHero>

  <section id="assets" class="relative py-20 overflow-hidden" style="background: var(--app-backdrop);">
    <div class="pointer-events-none absolute inset-0">
      <div class="absolute inset-0 bg-[rgba(255,255,255,0.82)] dark:bg-[rgba(2,8,23,0.9)] backdrop-blur-xl"></div>
      <div class="absolute -left-20 top-0 w-[32rem] h-[32rem] blur-[140px]" style="background: rgba(var(--brand-primary), 0.22);"></div>
      <div class="absolute right-[-8rem] bottom-[-6rem] w-[34rem] h-[34rem] blur-[140px]" style="background: rgba(var(--brand-secondary), 0.2);"></div>
    </div>
    <div class="relative max-w-6xl mx-auto px-4">
      <div class="max-w-3xl">
        <h2 class="text-3xl font-semibold text-gray-900 dark:text-white mb-4">Logo assets</h2>
        <p class="mb-8 text-gray-600 dark:text-white/70">Our master artwork ships in black so you can tint it for any surface. Inline the SVGs and apply <code class="bg-black/30 px-1 rounded text-white">currentColor</code> to match blue or green palettes without exporting variants.</p>
      </div>

      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
        <div class="space-y-1">
          <p class="text-sm font-semibold uppercase tracking-[0.2em] text-gray-500 dark:text-white/60">Preview treatments</p>
          <p class="text-sm text-gray-600 dark:text-white/70 max-w-xl">Toggle between the solid fill and official gradients to see how the lockups glow when you tint them.</p>
        </div>
        <div class="flex flex-wrap gap-3" data-logo-preview-controls>
          <button type="button" class="logo-preview-toggle" data-preview-mode="solid" aria-pressed="true">Solid Fill</button>
          {brandGradients.map((gradient) => (
            <button
              type="button"
              class="logo-preview-toggle"
              data-preview-mode="gradient"
              data-gradient-id={gradient.id}
              data-gradient-style={gradient.background}
              aria-pressed="false"
            >
              Gradient · {gradient.name}
            </button>
          ))}
        </div>
      </div>

      <div
        class="grid md:grid-cols-3 gap-8 mb-14"
        data-logo-preview
        data-preview-mode="solid"
        data-active-gradient-id={defaultGradientId ?? ""}
        style={`--logo-preview-gradient:${defaultLogoGradient};`}
      >
        {logoPreviewAssets.map((logo) => (
          <article class={`relative overflow-hidden rounded-2xl border border-gray-200/70 dark:border-white/15 bg-white/90 dark:bg-white/5 backdrop-blur-2xl p-7 flex flex-col gap-6 shadow-[0_18px_55px_rgba(15,23,42,0.25)] ${logo.cardClass ?? ""}`}>
            <div class="absolute inset-0 bg-gradient-to-br from-white/60 via-transparent to-[#6B46FF]/10 dark:from-white/10 pointer-events-none"></div>
            <div class="relative flex flex-col gap-6 items-center text-center">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">{logo.name}</h3>
              <div class="flex flex-col items-center gap-5 w-full">
                <div class={`p-4 rounded-2xl bg-white border border-gray-100 dark:bg-white/5 dark:border-white/20 flex items-center justify-center overflow-hidden ${logo.previewWrapper} mx-auto`}>
                  <div class={`brand-logo ${logo.assetClass ?? ""}`} style={`--logo-mask:${logo.maskUrl};`} set:html={logo.asset}></div>
                </div>
                <p class="text-sm text-gray-600 dark:text-white/70 max-w-sm leading-relaxed mx-auto pb-1">{logo.description}</p>
                <button type="button" class="logo-download-link" data-logo-download data-logo-slug={logo.slug}>
                  Download SVG
                </button>
              </div>
              <ul class="text-xs uppercase tracking-wide text-gray-500 dark:text-white/60 space-y-2 w-full text-center md:text-left pt-2">
                {logo.useCases.map((useCase) => (
                  <li class="flex items-center gap-2 justify-center md:justify-start">
                    <span class="inline-flex w-2.5 h-2.5 rounded-full bg-gray-900 dark:bg-white/70"></span>
                    {useCase}
                  </li>
                ))}
              </ul>
            </div>
          </article>
        ))}
      </div>

      <div class="space-y-4 mb-14">
        <div class="flex flex-col gap-2">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Official gradients</h3>
          <p class="text-gray-600 dark:text-white/70">The PDF mandates two gradients: purple→blue for Rawkode and teal→green for Rawkode Academy, both running on a 45° angle from top-left to bottom-right. Use these for hero panels, gradient logos, and any glowing dividers.</p>
        </div>
        <div class="grid md:grid-cols-2 gap-6">
          {brandGradients.map((gradient) => (
            <article class="rounded-2xl overflow-hidden border border-gray-200/60 dark:border-white/15 shadow-[0_20px_60px_rgba(15,23,42,0.2)]">
              <div class="p-6 text-white" style={`background:${gradient.background}`}>
                <div class="flex items-center justify-between gap-4 flex-wrap">
                  <div>
                    <p class="text-xs tracking-[0.2em] uppercase text-white/80">{gradient.angleLabel} sweep</p>
                    <h4 class="text-2xl font-semibold">{gradient.name}</h4>
                  </div>
                  <div class="flex gap-3">
                    {gradient.stops.map((stop) => (
                      <div class="px-3 py-2 rounded-full bg-white/20 text-sm font-semibold">{stop.hex}</div>
                    ))}
                  </div>
                </div>
                <p class="text-sm text-white/80 mt-4 max-w-2xl">{gradient.description}</p>
              </div>
              <div class="bg-white/90 dark:bg-gray-900/70 p-4">
                <p class="text-sm text-gray-700 dark:text-white/70">{gradient.usage}</p>
              </div>
            </article>
          ))}
        </div>
      </div>

      <div class="space-y-4">
        <div class="flex flex-col gap-2">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Core color palettes</h3>
          <p class="text-gray-600 dark:text-white/70">Rawkode runs two first-class themes. Use the Green theme by default and switch to the Blue theme when a partner already leans blue. Partners must stick to one of these two treatments — no custom palettes.</p>
        </div>
        <div class="grid md:grid-cols-2 gap-6">
          {colorThemes.map((theme) => (
            <article class="relative rounded-2xl overflow-hidden border border-gray-200/70 dark:border-white/10 bg-white/90 dark:bg-white/10 backdrop-blur-2xl p-6 shadow-[0_20px_60px_rgba(4,181,156,0.2)]">
              <div class={`absolute inset-0 bg-gradient-to-br ${theme.gradient} opacity-70 pointer-events-none`}></div>
              <div class="relative flex flex-col gap-5">
                <div>
                  <p class="text-xs tracking-[0.2em] uppercase text-gray-500 dark:text-white/70">{theme.badge}</p>
                  <h4 class="text-2xl font-semibold text-gray-900 dark:text-white">{theme.name}</h4>
                  <p class="text-sm text-gray-600 dark:text-white/70 mt-1">{theme.description}</p>
                </div>
                <div class="grid gap-4 sm:grid-cols-3">
                  {theme.colors.map((color) => (
                    <div class="rounded-xl border border-gray-200 dark:border-white/20 bg-white dark:bg-white/10 overflow-hidden">
                      <div class="h-16" style={`background:${color.hex}`}></div>
                      <div class="p-3">
                        <div class="text-sm font-semibold text-gray-900 dark:text-white">{color.label}</div>
                        <div class="text-xs text-gray-600 dark:text-white/70">{color.hex}</div>
                        <p class="text-xs text-gray-500 dark:text-white/60 mt-1">{color.usage}</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>

      <h3 class="text-lg font-semibold mb-3 text-gray-900 dark:text-white">How to theme our black SVGs</h3>
      <p class="mb-6 text-gray-600 dark:text-white/70">We keep only the black source file in the repo and theme it with CSS. Inline SVGs work best; when using an <code>&lt;img/&gt;</code>, use <code>filter</code> or CSS masking if needed. Prefer the following approach for inline SVGs:</p>

      <pre class="bg-gray-100 dark:bg-gray-900 p-4 rounded-md overflow-x-auto"><code>{`/* Define colors as variables */
:root {
  --brand-primary: #6B46FF;
  --brand-on-surface: #23282D; /* base black */
}

/* Inline svg -- set svg children to currentColor */
.brand-logo svg * {
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* Usage: tint the svg by setting color */
.brand-logo--primary { color: var(--brand-primary); }
.brand-logo--dark { color: var(--brand-on-surface); }`}</code></pre>

      <h3 class="text-lg font-semibold mt-10 text-gray-900 dark:text-white">Clearspace and sizing — rules</h3>
      <ul class="list-disc pl-6 text-gray-600 dark:text-white/70">
        <li>Always maintain a minimum clearspace equal to the height of the monogram on all sides.</li>
        <li>Do not place the wordmark on low-contrast or busy patterns.</li>
        <li>For co-branding, use the black monogram with a white stroke on dark backgrounds or the black mark on light backgrounds.</li>
      </ul>

    </div>
  </section>
</Page>

<script type="module" define:vars={{ logoDownloadJson, gradientDownloadJson, defaultGradientId }}>
  const previewRoot = document.querySelector("[data-logo-preview]");
  const previewControls = document.querySelector("[data-logo-preview-controls]");

  const logoDownloadEntries = JSON.parse(logoDownloadJson);
  const gradientDownloadEntries = JSON.parse(gradientDownloadJson);

  const logoDownloadData = new Map(
    Array.isArray(logoDownloadEntries) ? logoDownloadEntries.map((entry) => [entry.slug, entry]) : [],
  );
  const gradientDownloadData = new Map(
    Array.isArray(gradientDownloadEntries) ? gradientDownloadEntries.map((entry) => [entry.id, entry]) : [],
  );
  const gradientIdFromAstro = defaultGradientId;

  if (previewRoot && gradientIdFromAstro && !previewRoot.dataset.activeGradientId && gradientDownloadData.size) {
    previewRoot.dataset.activeGradientId = gradientIdFromAstro;
  }

  const setPressedState = (activeButton) => {
    document.querySelectorAll("[data-logo-preview-controls] .logo-preview-toggle").forEach((btn) => {
      btn.setAttribute("aria-pressed", btn === activeButton ? "true" : "false");
    });
  };

  const applyPreviewMode = (button) => {
    if (!previewRoot) {
      return;
    }

    const mode = button?.dataset.previewMode ?? "solid";
    previewRoot.dataset.previewMode = mode;

    if (mode === "gradient") {
      const gradientId = button?.dataset.gradientId || previewRoot.dataset.activeGradientId || gradientIdFromAstro;
      if (gradientId) {
        previewRoot.dataset.activeGradientId = gradientId;
      }
      const style = button?.dataset.gradientStyle;
      if (style) {
        previewRoot.style.setProperty("--logo-preview-gradient", style);
      }
    }

    if (button) {
      setPressedState(button);
    }
  };

  const resolveButtonFromEvent = (event, selector) => {
    const target = event.target;
    if (!(target instanceof Element)) {
      return null;
    }
    return target.closest(selector);
  };

  if (previewControls) {
    previewControls.addEventListener("click", (event) => {
      const button = resolveButtonFromEvent(event, ".logo-preview-toggle");
      if (!button) return;
      event.preventDefault();
      applyPreviewMode(button);
    });
  }

  const insertBeforeClose = (svg, markup) => {
    const closeIndex = svg.lastIndexOf("</svg>");
    if (closeIndex === -1) return svg;
    return `${svg.slice(0, closeIndex)}${markup}${svg.slice(closeIndex)}`;
  };

  const createStyleMarkup = (content) => `<style>${content}</style>`;

  const paintableSelector = ":is(path, circle, rect, polygon, polyline, line, ellipse, g, text, use)";

  const applySolidFill = (svg, color) => {
    const style = `${paintableSelector} { fill: ${color} !important; stroke: ${color} !important; }`;
    return insertBeforeClose(svg, createStyleMarkup(style));
  };

  const applyGradientFill = (svg, gradient) => {
    const gradientId = `grad-${Math.random().toString(36).slice(2, 9)}`;
    const stopsMarkup = gradient.stops
      .map((stop) => `<stop offset="${stop.offset || "0%"}" stop-color="${stop.color}" />`)
      .join("");
    const gradientMarkup = `<defs><linearGradient id="${gradientId}" gradientUnits="objectBoundingBox" gradientTransform="rotate(${gradient.angle}, 0.5, 0.5)">${stopsMarkup}</linearGradient></defs>`;
    const style = `${paintableSelector} { fill: url(#${gradientId}) !important; stroke: url(#${gradientId}) !important; }`;
    return insertBeforeClose(insertBeforeClose(svg, gradientMarkup), createStyleMarkup(style));
  };

  const normalizeColorValue = (value) => {
    if (!value) return "#000000";
    const trimmed = value.trim();
    if (trimmed.startsWith("#")) return trimmed;
    const rgbMatch = trimmed.match(/(\d+(\.\d+)?)/g);
    if (rgbMatch && rgbMatch.length >= 3) {
      const [r, g, b] = rgbMatch;
      const toHex = (component) =>
        Math.max(0, Math.min(255, Math.round(parseFloat(component))))
          .toString(16)
          .padStart(2, "0");
      return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
    }
    return trimmed;
  };

  const buildFilename = (baseName, suffix) => {
    if (!suffix) return baseName;
    const cleanSuffix = suffix.toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/^-|-$/g, "");
    if (!cleanSuffix) return baseName;
    const lastDot = baseName.lastIndexOf(".");
    if (lastDot === -1) {
      return `${baseName}--${cleanSuffix}`;
    }
    const name = baseName.slice(0, lastDot);
    const ext = baseName.slice(lastDot);
    return `${name}--${cleanSuffix}${ext}`;
  };

  const triggerDownload = (svgContent, filename) => {
    const blob = new Blob([svgContent], { type: "image/svg+xml" });
    const url = URL.createObjectURL(blob);
    const link = document.createElement("a");
    link.href = url;
    link.download = filename;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    setTimeout(() => URL.revokeObjectURL(url), 500);
  };

  const resolveSolidColor = () => {
    if (!previewRoot) return "#000000";
    const color = getComputedStyle(previewRoot).getPropertyValue("--brand-logo-surface");
    return normalizeColorValue(color || "#000000");
  };

  document.addEventListener("click", (event) => {
    const button = resolveButtonFromEvent(event, "[data-logo-download]");
    if (!button || !previewRoot) {
      return;
    }

    const slug = button.dataset.logoSlug;
    const logo = slug ? logoDownloadData.get(slug) : null;
    if (!logo) return;

    const mode = previewRoot.dataset.previewMode ?? "solid";
    let svgContent = logo.svg;
    let filenameSuffix = "";

    if (mode === "gradient") {
      const gradientId = previewRoot.dataset.activeGradientId ?? gradientIdFromAstro;
      const gradient = gradientId ? gradientDownloadData.get(gradientId) : null;
      if (!gradient) return;
      svgContent = applyGradientFill(logo.svg, gradient);
      filenameSuffix = gradient.name;
    } else {
      const color = resolveSolidColor();
      svgContent = applySolidFill(logo.svg, color);
      filenameSuffix = color;
    }

    triggerDownload(svgContent, buildFilename(logo.downloadName, filenameSuffix));
  });

  // Ensure our default button state reflects initial data attributes
  if (previewRoot) {
    const activeButton =
      document.querySelector('[data-logo-preview-controls] .logo-preview-toggle[aria-pressed="true"]') ??
      document.querySelector('[data-logo-preview-controls] .logo-preview-toggle');
    if (activeButton) {
      applyPreviewMode(activeButton);
    }
  }
</script>

<style is:global>
  .logo-preview-toggle {
    border: 1px solid rgba(15, 23, 42, 0.15);
    background: rgba(255, 255, 255, 0.85);
    color: #0f172a;
    font-size: 0.85rem;
    font-weight: 600;
    padding: 0.65rem 1.15rem;
    border-radius: 999px;
    transition: all 0.2s ease;
  }

  .logo-preview-toggle[aria-pressed="true"] {
    background: rgba(15, 23, 42, 0.9);
    color: white;
    border-color: rgba(15, 23, 42, 0.9);
    box-shadow: 0 10px 25px rgba(15, 23, 42, 0.25);
  }

  html.dark .logo-preview-toggle {
    background: rgba(15, 23, 42, 0.6);
    color: white;
    border-color: rgba(255, 255, 255, 0.3);
  }

  html.dark .logo-preview-toggle[aria-pressed="true"] {
    background: rgba(133, 255, 149, 0.2);
    border-color: rgba(133, 255, 149, 0.4);
    color: white;
  }

  .logo-download-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.35rem;
    padding: 0.45rem 1.3rem;
    border-radius: 999px;
    font-size: 0.82rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    border: 1px solid rgba(15, 23, 42, 0.15);
    background: linear-gradient(120deg, rgba(var(--brand-primary), 0.12), rgba(var(--brand-secondary), 0.12));
    color: #0f172a;
    text-decoration: none;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  }

  .logo-download-link:hover {
    transform: translateY(-1px);
    box-shadow: 0 12px 30px rgba(15, 23, 42, 0.15);
    border-color: rgba(15, 23, 42, 0.3);
  }

  html.dark .logo-download-link {
    border-color: rgba(255, 255, 255, 0.25);
    background: linear-gradient(120deg, rgba(var(--brand-primary), 0.3), rgba(var(--brand-secondary), 0.25));
    color: white;
  }

  html.dark .logo-download-link:hover {
    box-shadow: 0 12px 30px rgba(4, 13, 33, 0.4);
    border-color: rgba(255, 255, 255, 0.4);
  }

  :root {
    --brand-logo-surface: rgb(var(--brand-accent));
  }

  html.dark {
    --brand-logo-surface: #f8fafc;
  }

  /* Make brand svgs themeable */
  .brand-logo svg * {
    fill: currentColor !important;
    stroke: currentColor !important;
  }

  .brand-logo {
    --logo-padding: 0px;
    color: var(--brand-logo-surface);
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    position: relative;
    isolation: isolate;
    padding: var(--logo-padding);
  }

  .brand-logo--padded {
    --logo-padding: clamp(0.75rem, 2vw, 1.5rem);
  }

  .brand-logo::after {
    content: "";
    position: absolute;
    inset: var(--logo-padding);
    border-radius: inherit;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease;
    z-index: 1;
  }

  .brand-logo svg {
    display: block;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    position: relative;
    z-index: 2;
    transition: opacity 0.2s ease;
  }

  .brand-logo--wide svg {
    width: 100%;
    height: auto;
  }

  [data-preview-mode="gradient"] .brand-logo {
    color: transparent;
  }

  [data-preview-mode="gradient"] .brand-logo svg {
    opacity: 0;
  }

  [data-preview-mode="gradient"] .brand-logo::after {
    opacity: 1;
    background: var(--logo-preview-gradient, linear-gradient(45deg, #5F5ED7 0%, #00CEFF 100%));
    mask-image: var(--logo-mask);
    -webkit-mask-image: var(--logo-mask);
    mask-repeat: no-repeat;
    -webkit-mask-repeat: no-repeat;
    mask-position: center;
    -webkit-mask-position: center;
    mask-size: contain;
    -webkit-mask-size: contain;
  }



</style>
