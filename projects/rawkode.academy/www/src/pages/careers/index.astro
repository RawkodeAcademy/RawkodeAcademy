---
import JobPost from "@components/career/JobPost.astro";
import PageHeader from "@components/PageHeader.astro";
import Base from "@layouts/Base.astro";
import { getSinglePage } from "@lib/contentParser.astro";
import Cta from "@partials/Cta.astro";
import { getEntryBySlug } from "astro:content";

const careers_index: any = await getEntryBySlug("careers", "-index");
const careers = await getSinglePage("careers");
const { Content } = await careers_index.render();
---

<Base title={careers_index.data.title}>
  <PageHeader title={careers_index.data.title} />
  <Content />
  <JobPost careers={careers} careers_index={careers_index} />
  <Cta />
</Base>
